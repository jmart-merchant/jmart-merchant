"use strict";(self.webpackChunkjysan=self.webpackChunkjysan||[]).push([[238],{84532:(te,q,a)=>{a.r(q),a.d(q,{AuthModule:()=>Kt});var A=a(69808),u=a(59516),l=a(93075),L=a(46805),lt=a(91995),m=a(70655),f=a(42654),b=a(24850),d=a(1790),t=a(5e3),R=a(50384),G=a(47083),ht=a(66013),Y=a(16831),c=a(90377),B=a(26484),Q=a(26164),h=a(89854),V=a(9661),K=a(63590),X=a(12320),ut=a(22068),I=a(85814);const dt=["phoneInput"],pt=["passwordInput"],mt=["registerButton"];let $=(()=>{class o{constructor(e,i,n,r,_){this.maskedService=e,this.route=i,this.companyService=n,this.translateService=r,this.dictionariesService=_,this.isSubmitted=!1,this.isPhoneSubmitted=!1,this.PHONE=localStorage.getItem("phone")?localStorage.getItem("phone"):"",this.PASSWORD="",this.passwordRegExp=/[^ ]/,this.passwordPasteRegExp=/[ ]/,this.countryCode={code:this.PHONE||"+7",country:this.translateService.instant(`COUNTRIES.${c.UF.KAZAKHSTAN}`),id:c.UF.KAZAKHSTAN,countryCode:c.ss.KAZAKHSTAN},this.submitted=new t.vpe,this.subscription=new f.w,this.isFromAtf=!1;const g=this.route.queryParams.subscribe(p=>{this.queryParams=p,this.isFromAtf=this.companyService.isFromAtf(p)});this.loginForm=new l.cw({prefix:new l.NI(this.countryCode.code,l.kI.required),phone:new l.NI(this.PHONE,l.kI.required),password:new l.NI(this.PASSWORD,l.kI.required)});const T=this.loginForm.valueChanges.subscribe(()=>{this.isSubmitted=!1,this.isPhoneSubmitted=!1});this.subscription.add(g),this.subscription.add(T)}ngOnInit(){this.fetchCountryCodes()}fetchCountryCodes(){return(0,m.mG)(this,void 0,void 0,function*(){try{yield this.dictionariesService.fetchCountryCodesDictionary().then(e=>{this.countryCodes=e.map(i=>({id:i.id,code:i.value.description,country:i.value.name,countryCode:i.value.code}))})}catch(e){}})}triggerErrorAnimation(){this.passwordInput.triggerHelperAnimation()}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.loginForm.controls.phone.valid?this.passwordInput.focus():this.phoneInput.focus()}ngOnChanges(e){var i;(null===(i=e.passwordError)||void 0===i?void 0:i.currentValue)&&(this.passwordError=e.passwordError.currentValue)}onTabPress(e){e.preventDefault(),this.isPhoneSubmitted=!0,this.f.phone.valid&&this.passwordInput.focus()}onSubmit(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.loginForm.invalid)return void(this.loginForm.controls.phone.errors?this.loginError="ERRORS.NOT_ENOUGH_SYMBOLS":this.loginForm.controls.password.errors&&(this.passwordError="ERRORS.ENTER_PASSWORD"));const e=this.maskedService.getUnmaskedPhone(this.f.phone.value);this.submitted.emit({phone:e,password:this.f.password.value,countryCode:this.countryCode})})}get f(){return this.loginForm.controls}onCountrySelected(e){this.countryCode=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(B.O),t.Y36(u.gz),t.Y36(Q.J),t.Y36(h.sK),t.Y36(V.$d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-login-phone"]],viewQuery:function(e,i){if(1&e&&(t.Gf(dt,5),t.Gf(pt,5),t.Gf(mt,5)),2&e){let n;t.iGM(n=t.CRH())&&(i.phoneInput=n.first),t.iGM(n=t.CRH())&&(i.passwordInput=n.first),t.iGM(n=t.CRH())&&(i.registerButton=n.first)}},inputs:{isLoading:"isLoading",phone:"phone",passwordError:"passwordError",loginError:"loginError",prefix:"prefix"},outputs:{submitted:"submitted"},features:[t.TTD],decls:21,vars:22,consts:[["translate","",1,"light","mb-3","mt-0"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"phone-input"],["formControlName","prefix",3,"countryCode","countryCodes","countrySelected","keydown.Tab"],["phonePrefixInput",""],[3,"formControl","hasError","errorText","countryCode","countryCodes","countrySelected","keydown.Tab"],["phoneInput",""],[3,"regexStr","pasteRegexStr","hasCapsLockCheck","hasCyrillicCheck","isAuth","formControl","hasError","errorText"],["passwordInput",""],[1,"auth-submit"],[1,"auth-submit__button"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","routerLink","/auth/register","queryParamsHandling","merge",1,"btn","btn-static","btn-link",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"article")(1,"h3",0),t._uU(2,"AUTH.LOGIN_TITLE"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(7,"div",2)(8,"j-phone-prefix-input",3,4),t.NdJ("countrySelected",function(r){return i.onCountrySelected(r)})("keydown.Tab",function(r){return i.onTabPress(r)}),t.qZA(),t.TgZ(10,"j-phone-input",5,6),t.NdJ("countrySelected",function(r){return i.onCountrySelected(r)})("keydown.Tab",function(r){return i.onTabPress(r)}),t.qZA()(),t._UZ(12,"j-password-input",7,8),t.TgZ(14,"div",9)(15,"div",10)(16,"button",11),t._uU(17,"AUTH.LOGIN"),t.qZA()(),t.TgZ(18,"div",10)(19,"button",12),t._uU(20,"AUTH.REGISTER"),t.qZA()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,20,i.isFromAtf?"AUTH.LOGIN_SUBTITLE_ATF":"AUTH.LOGIN_SUBTITLE")),t.xp6(2),t.Q6J("formGroup",i.loginForm),t.xp6(2),t.Q6J("countryCode",i.countryCode)("countryCodes",i.countryCodes),t.xp6(2),t.Q6J("formControl",i.f.phone)("hasError",i.loginError||i.f.phone.errors&&(i.isSubmitted||i.isPhoneSubmitted))("errorText",i.loginError)("countryCode",i.countryCode)("countryCodes",i.countryCodes),t.xp6(2),t.Q6J("regexStr",i.passwordRegExp)("pasteRegexStr",i.passwordPasteRegExp)("hasCapsLockCheck",!0)("hasCyrillicCheck",!0)("isAuth",!i.isLoading)("formControl",i.f.password)("hasError",i.passwordError||i.isSubmitted&&i.f.password.errors)("errorText",i.passwordError),t.xp6(4),t.Q6J("jLoading",i.isLoading)("disabled",i.isLoading),t.xp6(3),t.Q6J("disabled",i.isLoading))},directives:[h.Pi,l._Y,l.JL,l.sg,K.k,l.JJ,l.u,X.T,l.oH,ut.Ct,I.T,u.rH],pipes:[h.X$],styles:[".phone-input[_ngcontent-%COMP%]{display:flex;flex-direction:row}j-phone-input[_ngcontent-%COMP%]{width:-webkit-fill-available;width:-moz-available;width:stretch}"]}),o})();var z=a(82524),Z=a(99255),k=a(7667),S=a(37074),W=a(28957),gt=a(51492),O=a(33999);function Tt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",4),t.NdJ("click",function(n){return t.CHM(e),t.oxw().navigateToPhone(n)}),t._UZ(1,"j-icon",5),t.TgZ(2,"strong",6),t._uU(3,"SHARED.BACK"),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("isStroke",!0))}function _t(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-sms",7),t.NdJ("loaded",function(){return t.CHM(e),t.oxw().onSmsLoaded()})("otpAuthRequested",function(n){return t.CHM(e),t.oxw().changeCodeRequestMethod(n)})("submitted",function(n){return t.CHM(e),t.oxw().onSubmit(n)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("phone",e.phone)("countryCode",e.countryCode)("headers",e.headerParams)("isAuthAction",!0)}}function ft(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-otp",8),t.NdJ("loaded",function(){return t.CHM(e),t.oxw().onSmsLoaded()})("smsAuthRequested",function(n){return t.CHM(e),t.oxw().changeCodeRequestMethod(n)})("submitted",function(n){return t.CHM(e),t.oxw().onSubmit(n)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("phone",e.phone)("isAuthAction",!0)}}function vt(o,s){1&o&&(t.TgZ(0,"div",9),t._UZ(1,"j-animated-loading"),t.qZA())}let tt=(()=>{class o{constructor(){this.isReady=!1,this.preferredSignatureType=localStorage.getItem("preferredSignatureType"),this.tokenType=Z.K,this.submitted=new t.vpe,this.closed=new t.vpe,this.headerParams={smsHeader:z.H$.AUTHORIZATION},this.preferredSignatureType=localStorage.getItem("preferredSignatureType")||k.a$.SMS}onSmsLoaded(){this.isReady=!0}onSubmit(e){this.submitted.emit(e)}navigateToPhone(e=null){null==e||e.preventDefault(),this.closed.emit()}changeCodeRequestMethod(e){localStorage.setItem("preferredSignatureType",e===Z.K.OTP?k.a$.OTP:k.a$.SMS),this.preferredSignatureType=e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-login-sms"]],inputs:{isLoading:"isLoading",phone:"phone",countryCode:"countryCode"},outputs:{submitted:"submitted",closed:"closed"},decls:4,vars:4,consts:[["href","#","class","j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted",4,"ngIf"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted"],[1,"spinner-wrap"]],template:function(e,i){1&e&&(t.YNc(0,Tt,4,1,"a",0),t.YNc(1,_t,1,4,"j-sms",1),t.YNc(2,ft,1,2,"j-otp",2),t.YNc(3,vt,2,0,"div",3)),2&e&&(t.Q6J("ngIf",i.isReady),t.xp6(1),t.Q6J("ngIf","SMS"===i.preferredSignatureType),t.xp6(1),t.Q6J("ngIf","OTP"===i.preferredSignatureType),t.xp6(1),t.Q6J("ngIf",!i.isReady&&i.preferredSignatureType!==i.tokenType.OTP))},directives:[A.O5,S.o,h.Pi,W.T,gt._,O.V],styles:[".spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),o})();var Ct=a(66526);const St=["loginPhone"];function Et(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-login-sms",13),t.NdJ("closed",function(){return t.CHM(e),t.oxw().onSmsClose()})("submitted",function(n){return t.CHM(e),t.oxw().onSmsSubmit(n)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("phone",e.phone)("countryCode",e.countryCode)("isLoading",e.isLoading)}}function bt(o,s){1&o&&(t.TgZ(0,"div",14),t._UZ(1,"j-animated-loading"),t.qZA())}var y=(()=>{return(o=y||(y={})).PHONE="phone",o.SMS="sms",o.LOADING="loading",y;var o})();let et=(()=>{class o{constructor(e,i,n,r,_){this.auth=e,this.tokenService=i,this.route=n,this.router=r,this.notifierService=_,this.isLoading=!1,this.steps=y,this.currentStep=this.steps.PHONE,this.phoneError="",this.subscription=new f.w,this.subscription.add(this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(g=>{g.phone&&(this.phone=g.phone),g.error&&(this.phoneError=g.error)}))}ngOnDestroy(){this.subscription.unsubscribe()}onSmsClose(){this.navigateToPhone(),this.phoneError=""}onPhoneSubmit(e){this.loginForm=e,this.phone="+"+this.loginForm.phone,this.countryCode=this.loginForm.countryCode;try{const i=this.tokenService.getDeviceToken(this.loginForm.password);localStorage.setItem("countryCode",JSON.stringify(this.countryCode)),localStorage.setItem("phone",this.loginForm.phone),i?this.login():this.navigateToSms()}catch(i){this.navigateToSms()}}onSmsSubmit(e){return(0,m.mG)(this,void 0,void 0,function*(){this.auth.setSmsToken(e),this.currentStep=this.steps.LOADING;try{const i=yield this.auth.requestDevice(this.phone,e.type);this.tokenService.setDeviceToken(i.signature,this.loginForm.password),this.login()}catch(i){switch(this.navigateToPhone(),i.code){case d.Sg.DEVICE_TOKEN_INVALID:case d.Sg.RESOURCE_NOT_FOUND:case d.Sg.AUTHORIZATION_ERROR:case d.Sg.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case d.Sg.USER_BLOCKED:case d.Sg.RESOURCE_BLOCKED:this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;default:this.phoneError=i.description}}})}login(){return(0,m.mG)(this,void 0,void 0,function*(){this.isLoading=!0,this.phoneError="";try{yield this.auth.login("+"+this.loginForm.phone,this.loginForm.password),this.router.navigateByUrl("/"),this.notifierService.hideAll()}catch(e){if(this.navigateToPhone(),e.status)switch(e.code){case d.Sg.RESOURCE_NOT_FOUND:case d.Sg.AUTHORIZATION_ERROR:case d.Sg.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case d.Sg.RESOURCE_BLOCKED:this.tokenService.clearDeviceToken(),this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;case d.Sg.DEVICE_NOT_AUTHORIZED:case d.Sg.DEVICE_TOKEN_INVALID:case d.Sg.TOKEN_EXPIRED:this.navigateToSms();break;default:this.phoneError=e.description}else this.phoneError="ERRORS.API_UNAVAILABLE";this.loginPhone.triggerErrorAnimation(),this.isLoading=!1}})}navigateToSms(){this.currentStep=y.SMS}navigateToPhone(){this.currentStep=y.PHONE}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.e),t.Y36(G.B),t.Y36(u.gz),t.Y36(u.F0),t.Y36(ht.lG))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-login"]],viewQuery:function(e,i){if(1&e&&t.Gf(St,5),2&e){let n;t.iGM(n=t.CRH())&&(i.loginPhone=n.first)}},decls:13,vars:7,consts:[[1,"auth-wrap"],[1,"d-sm-none",3,"isUserShown"],[1,"login-wrap"],[1,"login"],[1,"mb-7","d-none","d-sm-flex","justify-content-between"],["src","/assets/img/logo.svg","alt","Jusan bank"],["src","/assets/img/v2/atf.svg","alt","ATF Business"],[1,"login-steps"],[3,"hidden","phone","isLoading","passwordError","submitted"],["loginPhone",""],[3,"phone","countryCode","isLoading","closed","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],["langClassName","d-block","copyrightClassName",""],[3,"phone","countryCode","isLoading","closed","submitted"],[1,"spinner-wrap"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0),t._UZ(1,"j-aside",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5)(6,"img",6),t.qZA(),t.TgZ(7,"section",7)(8,"j-login-phone",8,9),t.NdJ("submitted",function(r){return i.onPhoneSubmit(r)}),t.qZA(),t.YNc(10,Et,1,3,"j-login-sms",10),t.YNc(11,bt,2,0,"div",11),t.qZA()()(),t._UZ(12,"j-footer",12),t.qZA()),2&e&&(t.xp6(1),t.Q6J("isUserShown",!1),t.xp6(7),t.Q6J("hidden",i.currentStep!=i.steps.PHONE)("phone",i.phone)("isLoading",i.isLoading)("passwordError",i.phoneError),t.xp6(2),t.Q6J("ngIf",i.currentStep==i.steps.SMS),t.xp6(1),t.Q6J("ngIf",i.currentStep==i.steps.LOADING))},directives:[Y.l,$,A.O5,tt,O.V,Ct.c],styles:[".login[_ngcontent-%COMP%]{background:#f6f7f8;width:100%;padding:1rem}@media (min-width: 670px){.login[_ngcontent-%COMP%]{border-radius:2.5rem;padding:3.5rem}}.login-wrap[_ngcontent-%COMP%]{max-width:546px;margin:auto;width:100%;padding-top:1.5rem;padding-bottom:1.5rem}@media (min-width: 1920px){.login-wrap[_ngcontent-%COMP%]{max-width:600px}}.spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),o})();var Rt=a(99430),yt=a(91888),At=a(194);let U=(()=>{class o{constructor(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register"]],decls:8,vars:2,consts:[[3,"isUserShown"],[3,"isCentered"],[1,"row"],[1,"col-sm-10","col-md-7","offset-sm-1","col-lg-5","offset-lg-1","col-xl-4","offset-xl-1"],[1,"auth-form"]],template:function(e,i){1&e&&(t.TgZ(0,"j-layout-home")(1,"j-aside",0),t._UZ(2,"j-nav-auth"),t.qZA(),t.TgZ(3,"j-main",1)(4,"div",2)(5,"div",3)(6,"div",4),t._UZ(7,"router-outlet"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("isUserShown",!1),t.xp6(2),t.Q6J("isCentered",!0))},directives:[Rt.Y,Y.l,yt.X,At.C,u.lC],styles:[""]}),o})();var v=a(40703);let it=(()=>{class o{constructor(e){this.modal=e}dismissModal(){this.modal.dismiss()}closeModal(){this.modal.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-can-register"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.dismissModal()}),t._UZ(2,"img",2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"h3",4),t._uU(6,"AUTH.CAN_REGISTER.TITLE"),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"AUTH.CAN_REGISTER.DESCRIPTION"),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return i.closeModal()}),t._uU(11,"AUTH.REGISTER"),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return i.dismissModal()}),t._uU(13,"SHARED.CANCEL"),t.qZA()()),2&e&&(t.xp6(2),t.s9C("alt",t.lcZ(3,1,"SHARED.CLOSE")))},directives:[h.Pi],pipes:[h.X$],styles:[""]}),o})(),ot=(()=>{class o{constructor(e){this.modal=e}dismissModal(){this.modal.dismiss()}closeModal(e){this.modal.close(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-can-restore"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.dismissModal()}),t._UZ(2,"img",2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"h3",4),t._uU(6,"AUTH.CAN_RESTORE.TITLE"),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"AUTH.CAN_RESTORE.DESCRIPTION"),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return i.closeModal("login")}),t._uU(11,"AUTH.LOGIN"),t.qZA()()),2&e&&(t.xp6(2),t.s9C("alt",t.lcZ(3,1,"SHARED.CLOSE")))},directives:[h.Pi],pipes:[h.X$],styles:[""]}),o})();var C=a(77501);function It(o){const s=12==o.value.length;if(s)return null;let e={};return s||(e.length=!0),{iin:e}}var Nt=a(80850);const Lt=["iinInput"];let Ot=(()=>{class o{constructor(e){this.authService=e,this.IIN="",this.submitted=new t.vpe,this.subs=new f.w,this.openIinForm=new l.cw({iin:new l.NI(this.IIN,[l.kI.required,It])});const i=this.openIinForm.valueChanges.subscribe(n=>{this.isSubmitted=!1,this.errorText=""});this.subs.add(i)}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.iinInput.focus()}onSubmit(){return(0,m.mG)(this,void 0,void 0,function*(){this.isSubmitted=!0,this.openIinForm.valid?(this.isLoading=!0,this.submitted.emit({iin:this.iin})):this.validateIin(this.f.iin.errors)})}get f(){return this.openIinForm.controls}get iin(){return this.f.iin.value}validateIin(e){!e||!e.iin||(e.iin.length?this.errorText="ERRORS.IIN_LENGTH":e.iin.date&&(this.errorText="ERRORS.IIN_DATE"))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-auth-iin"]],viewQuery:function(e,i){if(1&e&&t.Gf(Lt,5),2&e){let n;t.iGM(n=t.CRH())&&(i.iinInput=n.first)}},outputs:{submitted:"submitted"},decls:9,vars:6,consts:[[3,"formGroup"],[1,"form-group"],[3,"formControl","hasError","errorText"],["iinInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"],["translate","","href","#","routerLink","/auth/login",1,"btn","btn-static","btn-link"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1),t._UZ(2,"j-iin-input",2,3),t.qZA(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return i.onSubmit()}),t._uU(6,"SHARED.CONTINUE"),t.qZA(),t.TgZ(7,"a",6),t._uU(8,"AUTH.LOGIN"),t.qZA()()()),2&e&&(t.Q6J("formGroup",i.openIinForm),t.xp6(2),t.Q6J("formControl",i.f.iin)("hasError",i.f.iin.errors&&i.isSubmitted)("errorText",i.errorText),t.xp6(3),t.Q6J("jLoading",i.isLoading)("disabled",i.isLoading))},directives:[l._Y,l.JL,l.sg,Nt.c,l.JJ,l.oH,h.Pi,I.T,u.yS],styles:[""]}),o})();const nt={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let st=(()=>{class o{constructor(e,i,n,r,_){this.router=e,this.route=i,this.navService=n,this.modalService=r,this.companyService=_,this.subs=new f.w,this.isFromAtf=!1,this.navService.triggerActiveItem(i.snapshot.url[0].path),this.navService.triggerRegisterError("iin",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const g=this.route.data.subscribe(p=>{this.title=p.title,this.authType=p.action}),T=this.route.queryParams.subscribe(p=>{this.isFromAtf=this.companyService.isFromAtf(p)});this.subs.add(g),this.subs.add(T)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(e){this.navigateToPhone(e.iin)}handleCheckIin(e,i){return(0,m.mG)(this,void 0,void 0,function*(){switch(e){case c.Ue.BLOCKED:this.navigateToUserBlocked();break;case c.Ue.DOES_NOT_EXIST:this.navigateToNoAccount();break;case c.Ue.INCORRECT_DATA:case c.Ue.INVALID_DATA:this.navigateToNoEmail();break;case c.Ue.ALREADY_REGISTERED:this.handleAlreadyRegistered(i);break;case c.Ue.CAN_REGISTER:this.handleCanRegister(i)}})}handleAlreadyRegistered(e){switch(this.authType){case c.$o.RESTORE:this.navigateToPhone(e);break;case c.$o.REGISTER:this.showCanRestoreModal(e)}}showCanRegisterModal(e){return(0,m.mG)(this,void 0,void 0,function*(){const i=this.modalService.open(it,nt);try{yield i.result,this.navigateToRegisterPhone(e)}catch(n){}})}showCanRestoreModal(e){return(0,m.mG)(this,void 0,void 0,function*(){const i=this.modalService.open(ot,nt);try{const n=yield i.result;"restore"==n?this.navigateToRestorePhone(e):"login"==n&&this.navigateToLogin()}catch(n){}})}handleCanRegister(e){switch(this.authType){case c.$o.REGISTER:this.navigateToPhone(e);break;case c.$o.RESTORE:this.showCanRegisterModal(e)}}navigateToPhone(e,i=""){this.router.navigate([`${i}phone`],{relativeTo:this.route.parent,state:{iin:e}})}navigateToRegisterPhone(e){this.navigateToPhone(e,"../register/")}navigateToRestorePhone(e){this.navigateToPhone(e,"../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(C.t),t.Y36(v.FF),t.Y36(Q.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-iin"]],decls:7,vars:4,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"submitted"]],template:function(e,i){1&e&&(t.TgZ(0,"article")(1,"h3",0),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"j-auth-iin",1),t.NdJ("submitted",function(r){return i.onSubmit(r)}),t.qZA()),2&e&&(t.xp6(2),t.Oqu(i.title),t.xp6(2),t.Oqu(t.lcZ(5,2,i.isFromAtf?"AUTH.REGISTER_SUBTITLE_ATF":"AUTH.REGISTER_SUBTITLE")))},directives:[h.Pi,Ot],pipes:[h.X$],styles:[""]}),o})(),Zt=(()=>{class o{constructor(e){this.modal=e}closeModal(){this.modal.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-invalid-phone"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.closeModal()}),t._UZ(2,"img",2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"h3",4),t._uU(6,"AUTH.INVALID_PHONE.TITLE"),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"AUTH.INVALID_PHONE.DESCRIPTION"),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return i.closeModal()}),t._uU(11,"SHARED.OK"),t.qZA()()),2&e&&(t.xp6(2),t.s9C("alt",t.lcZ(3,1,"SHARED.CLOSE")))},directives:[h.Pi],pipes:[h.X$],styles:[""]}),o})();const kt=["phoneInput"];let P=(()=>{class o{constructor(e,i,n,r,_,g,T,p,Xt){this.router=e,this.route=i,this.maskedService=n,this.maskPipe=r,this.navService=_,this.authService=g,this.modalService=T,this.translateService=p,this.dictionariesService=Xt,this.PHONE="",this.hasNoAccount=!1,this.countryCode={code:"+7",country:this.translateService.instant(`COUNTRIES.${c.UF.KAZAKHSTAN}`),id:c.UF.KAZAKHSTAN,countryCode:c.ss.KAZAKHSTAN},this.subs=new f.w,this.navService.triggerActiveItem(i.snapshot.url[0].path),this.registerPhoneForm=new l.cw({phone:new l.NI(this.PHONE,l.kI.required)}),this.navService.triggerRegisterError("phone",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const $t=this.registerPhoneForm.valueChanges.subscribe(()=>{this.isSubmitted=!1}),zt=this.route.data.subscribe(E=>{this.title=E.title,this.authType=E.action}),Wt=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(E=>{E.iin?this.iin=E.iin:this.navigateToIin(),E.countryCode&&(this.countryCode=E.countryCode,E.phone&&this.f.phone.setValue(E.phone))});this.subs.add($t),this.subs.add(zt),this.subs.add(Wt)}ngOnInit(){this.fetchCountryCodes()}ngOnDestroy(){this.subs.unsubscribe()}onEnter(){this.phoneInput.blur(),this.onSubmit()}focus(){this.phoneInput.focus()}navigateFromModal(e){this.router.navigate([`/auth/${e}/sms`],{state:{phone:this.phone,iin:this.iin}})}fetchCountryCodes(){return(0,m.mG)(this,void 0,void 0,function*(){try{yield this.dictionariesService.fetchCountryCodesDictionary().then(e=>{this.countryCodes=e.map(i=>({id:i.id,code:i.value.description,country:i.value.name,countryCode:i.value.code}))})}catch(e){}})}onSubmit(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.registerPhoneForm.valid){this.isLoading=!0;try{this.phone="+"+this.maskedService.getUnmaskedPhone(this.f.phone.value),yield this.authService.checkPhone(this.phone),this.navigateToSms()}catch(e){e.code===d.Sg.INVALID_PHONE_FORMAT?yield this.showInvalidPhoneFormatModal():this.errorText=e.description}finally{this.isLoading=!1}}else this.errorText="ERRORS.NOT_ENOUGH_SYMBOLS"})}get f(){return this.registerPhoneForm.controls}showInvalidPhoneFormatModal(){return(0,m.mG)(this,void 0,void 0,function*(){const e=this.modalService.open(Zt,{centered:!0});try{yield e.result}catch(i){}finally{this.phoneInput.focus()}})}navigateToSms(){this.router.navigate(["sms"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin,countryCode:this.countryCode}})}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent})}onCountrySelected(e){this.countryCode=e}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(B.O),t.Y36(L.Iq),t.Y36(C.t),t.Y36(R.e),t.Y36(v.FF),t.Y36(h.sK),t.Y36(V.$d))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-phone"]],viewQuery:function(e,i){if(1&e&&t.Gf(kt,5),2&e){let n;t.iGM(n=t.CRH())&&(i.phoneInput=n.first)}},hostBindings:function(e,i){1&e&&t.NdJ("keyup.enter",function(){return i.onEnter()})},decls:18,vars:13,consts:[["routerLink","../iin",1,"auth-backlink","j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"formGroup"],[1,"phone-block"],[3,"countryCodes","countryCode","countrySelected"],["phonePrefixInput",""],[3,"autofocus","formControl","hasError","errorText","countryCodes","countryCode","countrySelected"],["phoneInput",""],[1,"auth-submit"],["translate","","type","button",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.IIN"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6),t.qZA(),t.TgZ(7,"p",2),t._uU(8,"AUTH.PHONE.DESCRIPTION"),t.qZA()(),t.TgZ(9,"form",4)(10,"div",5)(11,"j-phone-prefix-input",6,7),t.NdJ("countrySelected",function(r){return i.onCountrySelected(r)}),t.qZA(),t.TgZ(13,"j-phone-input",8,9),t.NdJ("countrySelected",function(r){return i.onCountrySelected(r)}),t.qZA()(),t.TgZ(15,"div",10)(16,"button",11),t.NdJ("click",function(){return i.onSubmit()}),t._uU(17,"SHARED.CONTINUE"),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("isStroke",!0),t.xp6(5),t.Oqu(i.title),t.xp6(3),t.Q6J("formGroup",i.registerPhoneForm),t.xp6(2),t.Q6J("countryCodes",i.countryCodes)("countryCode",i.countryCode),t.xp6(2),t.Q6J("autofocus",!0)("formControl",i.f.phone)("hasError",i.f.phone.errors&&i.isSubmitted)("errorText",i.errorText)("countryCodes",i.countryCodes)("countryCode",i.countryCode),t.xp6(3),t.Q6J("jLoading",i.isLoading)("disabled",i.isLoading))},directives:[u.yS,S.o,h.Pi,l._Y,l.JL,l.sg,K.k,X.T,l.JJ,l.oH,I.T],styles:[".phone-block[_ngcontent-%COMP%]{display:flex}"]}),o})();function Ut(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(n){return t.CHM(e),t.oxw().navigateToPhone(n)}),t._UZ(1,"j-icon",4),t.TgZ(2,"span",5),t._uU(3,"SHARED.PHONE"),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("isStroke",!0))}function Pt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-sms",6),t.NdJ("submitted",function(n){return t.CHM(e),t.oxw().onSmsSubmit(n)})("failed",function(){return t.CHM(e),t.oxw().onSmsFail()})("loaded",function(){return t.CHM(e),t.oxw().onFormLoaded()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("phone",e.phone)("countryCode",e.countryCode)("params",e.params)("headers",e.headerParams)}}function wt(o,s){1&o&&t._UZ(0,"j-animated-loading")}const rt={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let w=(()=>{class o{constructor(e,i,n,r,_){this.authService=e,this.route=i,this.router=n,this.modalService=r,this.navService=_,this.isFormLoaded=!1,this.subs=new f.w,this.navService.triggerActiveItem(i.snapshot.url[0].path),this.subs.add(this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(T=>{this.phone=T.phone,this.countryCode=T.countryCode,this.iin=T.iin,this.params={actionIds:[this.iin]}}));const g=this.route.data.subscribe(T=>{this.authType=T.action,this.headerParams={smsHeader:z.H$[this.authType.toUpperCase()]}});this.subs.add(g)}ngOnDestroy(){this.subs.unsubscribe()}onSmsFail(){this.navigateToPhone()}onFormLoaded(){this.isFormLoaded=!0}onSmsSubmit(e){return(0,m.mG)(this,void 0,void 0,function*(){this.authService.setSmsToken(e),this.checkIinAndPhone()})}navigateToPhone(e=null){null==e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}checkIinAndPhone(){return(0,m.mG)(this,void 0,void 0,function*(){try{const e=yield this.authService.checkIinAndPhone(this.iin,this.phone);this.handleIinAndPhoneCheck(e.status)}catch(e){this.navigateToError(e)}})}handleIinAndPhoneCheck(e){switch(e){case c.tB.BLOCKED:this.navigateToUserBlocked();break;case c.tB.DOES_NOT_EXIST:this.navigateToNoAccount();break;case c.tB.INVALID_DATA:case c.tB.INCORRECT_DATA:this.navigateToNoEmail();break;case c.tB.DATA_MISMATCH:this.navigateToPhoneNotMatch();break;case c.tB.ALREADY_REGISTERED:this.handleAlreadyRegistered();break;case c.tB.CAN_REGISTER:this.handleCanRegister()}}navigateToError(e){this.router.navigate(["error"],{relativeTo:this.route.parent,state:{error:e,iin:this.iin}})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}navigateToEmail(e=""){this.router.navigate([`${e}email`],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}handleAlreadyRegistered(){switch(this.authType){case c.$o.RESTORE:this.navigateToEmail();break;case c.$o.REGISTER:this.showCanRestoreModal()}}showCanRegisterModal(){return(0,m.mG)(this,void 0,void 0,function*(){const e=this.modalService.open(it,rt);try{yield e.result,this.navigateToRegisterEmail()}catch(i){this.navigateToPhone()}})}showCanRestoreModal(){return(0,m.mG)(this,void 0,void 0,function*(){const e=this.modalService.open(ot,rt);try{const i=yield e.result;"restore"===i?this.navigateToRestoreEmail():"login"===i&&this.navigateToLogin()}catch(i){this.navigateToPhone()}})}handleCanRegister(){switch(this.authType){case c.$o.REGISTER:this.navigateToEmail();break;case c.$o.RESTORE:this.showCanRegisterModal()}}navigateToRegisterEmail(){this.navigateToEmail("../register/")}navigateToRestoreEmail(){this.navigateToEmail("../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.e),t.Y36(u.gz),t.Y36(u.F0),t.Y36(v.FF),t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-sms"]],decls:3,vars:3,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","params","headers","submitted","failed","loaded",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","params","headers","submitted","failed","loaded"]],template:function(e,i){1&e&&(t.YNc(0,Ut,4,1,"a",0),t.YNc(1,Pt,1,4,"j-sms",1),t.YNc(2,wt,1,0,"j-animated-loading",2)),2&e&&(t.Q6J("ngIf",i.isFormLoaded),t.xp6(1),t.Q6J("ngIf",i.params),t.xp6(1),t.Q6J("ngIf",!i.isFormLoaded))},directives:[A.O5,S.o,h.Pi,W.T,O.V],styles:[""]}),o})();let Ht=(()=>{class o{constructor(e){this.modal=e}dismissModal(){this.modal.dismiss()}closeModal(e){this.modal.close(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-contact-modal"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"],["translate","","type","button",1,"btn","btn-link","d-none","d-sm-block",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.dismissModal()}),t._UZ(2,"img",2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"h3",4),t._uU(6,"AUTH.CONTACT.TITLE"),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"AUTH.CONTACT.DESCRIPTION "),t.qZA()(),t.TgZ(9,"div",6)(10,"a",7),t._uU(11,"AUTH.CONTACT.LINK"),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return i.dismissModal()}),t._uU(13,"SHARED.CANCEL"),t.qZA()()),2&e&&(t.xp6(2),t.s9C("alt",t.lcZ(3,1,"SHARED.CLOSE")))},directives:[h.Pi],pipes:[h.X$],styles:[""]}),o})(),at=(()=>{class o{constructor(e){this.modal=e}closeModal(){this.modal.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.Kz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-expired"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.closeModal()}),t._UZ(2,"img",2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",3)(5,"h3",4),t._uU(6,"AUTH.EXPIRED.TITLE"),t.qZA(),t.TgZ(7,"p",5),t._uU(8,"AUTH.EXPIRED.DESCRIPTION"),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return i.closeModal()}),t._uU(11,"SHARED.CLOSE"),t.qZA()()),2&e&&(t.xp6(2),t.s9C("alt",t.lcZ(3,1,"SHARED.CLOSE")))},directives:[h.Pi],pipes:[h.X$],styles:[""]}),o})();var N=a(35797),Mt=a(56418),jt=a(12681);const Ft=["codeInput"];function Jt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(n){return t.CHM(e),t.oxw().navigateToPhone(n)}),t._UZ(1,"j-icon",15),t.TgZ(2,"span",16),t._uU(3,"SHARED.PHONE"),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("isStroke",!0))}function xt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-sms-error",17),t.NdJ("codeRequested",function(){return t.CHM(e),t.oxw().requestEmail()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("errorType",e.errorTypes.FORBIDDEN)("isLoading",e.isLoading)("destinationValue",e.email)("timerValue",e.timerValue)("isTimerRunning",e.isTimerRunning)}}function qt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-sms-error",17),t.NdJ("codeRequested",function(){return t.CHM(e),t.oxw().requestEmail()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("errorType",e.errorTypes.FORBIDDEN)("isLoading",e.isLoading)("destinationValue",e.email)("timerValue",e.blockedTimerValue)("isTimerRunning",e.isBlockedTimerRunning)}}function Gt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"j-sms-error",18),t.NdJ("codeRequested",function(){return t.CHM(e),t.oxw().requestEmail()}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("errorType",e.errorTypes.UNKNOWN)("isLoading",e.isLoading)("destinationValue",e.email)("isTimerRunning",e.isBlockedTimerRunning)("timerValue",e.blockedTimerValue)}}function Yt(o,s){1&o&&t._UZ(0,"j-animated-loading")}let D=(()=>{class o{constructor(e,i,n,r,_){this.route=e,this.auth=i,this.router=n,this.modalService=r,this.navService=_,this.smsCodeLength=N.Gz,this.timerMaxValue=N.DK,this.expireTimerMaxValue=300,this.errorTypes=N.w1,this.isReady=!1,this.currentTab=N.p4.FORM,this.authTabs=N.p4,this.subs=new f.w,this.navService.triggerActiveItem(e.snapshot.url[0].path),this.emailCodeForm=new l.cw({emailCode:new l.NI("",l.kI.required)});const g=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(p=>{this.phone=p.phone,this.iin=p.iin,this.requestEmail()}),T=this.emailCodeForm.valueChanges.subscribe(p=>{this.isSubmitted=!1,p.emailCode&&p.emailCode.length===this.smsCodeLength&&this.onSubmit()});this.subs.add(g),this.subs.add(T)}ngOnDestroy(){this.subs.unsubscribe()}openContactModal(){this.modalService.open(Ht,{centered:!0})}setTab(e){this.currentTab=e}get f(){return this.emailCodeForm.controls}requestEmail(){return(0,m.mG)(this,void 0,void 0,function*(){this.f.emailCode.setValue(""),this.errorText="",this.hasError=!1;try{const e=yield this.auth.requestEmail(this.phone,this.iin);this.setTab(this.authTabs.FORM),this.email=e.email.replace(/\*/gm,"\u2022"),this.codeInput.focus()}catch(e){switch(e.code){case d.Sg.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case d.Sg.RESOURCE_BLOCKED:e.data&&e.data.millisecondsLeft&&this.startBlockedTimer(e.data.millisecondsLeft),this.setTab(this.authTabs.FORBIDDEN_BLOCKED);break;default:this.setTab(this.authTabs.ERRORED)}}finally{this.isReady=!0}})}navigateToPhone(e=null){null==e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone}})}onSubmit(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.emailCodeForm.valid){this.isLoading=!0;const e=this.f.emailCode.value;try{yield this.auth.submitEmail(e,this.phone,this.iin),this.router.navigate(["password"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}catch(i){switch(this.hasError=!0,i.code){case d.Sg.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case d.Sg.RESOURCE_BLOCKED:case d.Sg.INVALID_CODE:let n;if(i.data&&i.data.triesLeft)switch(n=i.data.triesLeft,this.errorParams={triesLeft:n},this.errorText="ERRORS.INVALID_CODE.",n%20){case 1:this.errorText+="ONE";break;case 2:case 3:case 4:this.errorText+="FEW";break;default:this.errorText+="OTHER"}else this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case d.Sg.FORBIDDEN:this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case d.Sg.PHONE_TOKEN_EXPIRED:case d.Sg.TOKEN_EXPIRED:const r=this.modalService.open(at,{centered:!0});try{yield r.result}catch(_){}finally{this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin}})}break;default:this.errorText=i.description}this.codeInput.triggerHelperAnimation()}finally{this.isLoading=!1}}})}startTimer(e=this.timerMaxValue){this.isTimerRunning=!0,this.timerValue=e,this.timer=setInterval(()=>{this.timerValue--,0===this.timerValue&&this.stopTimer()},1e3)}stopTimer(){clearInterval(this.timer),this.isTimerRunning=!1}startBlockedTimer(e){this.blockedTimerValue=Math.ceil(e/1e3),this.isBlockedTimerRunning=!0,this.blockedTimer=setInterval(()=>{this.blockedTimerValue--,0===this.blockedTimerValue&&this.stopBlockedTimer()},1e3)}stopBlockedTimer(){clearInterval(this.blockedTimer),this.isBlockedTimerRunning=!1,this.blockedTimerValue=null}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gz),t.Y36(R.e),t.Y36(u.F0),t.Y36(v.FF),t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-email"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ft,5),2&e){let n;t.iGM(n=t.CRH())&&(i.codeInput=n.first)}},decls:21,vars:16,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"hidden"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"text-nowrap"],[1,"my-4",3,"formGroup","ngSubmit"],[1,"my-4",3,"autofocus","hasError","errorText","errorTranslateParams","formControl"],["codeInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested",4,"ngIf"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested"]],template:function(e,i){1&e&&(t.YNc(0,Jt,4,1,"a",0),t.TgZ(1,"div",1)(2,"h3",2),t._uU(3,"AUTH.EMAIL.TITLE"),t.qZA(),t.TgZ(4,"div",1)(5,"p",3),t._uU(6," AUTH.EMAIL.DESCRIPTION "),t.TgZ(7,"strong",4),t._uU(8),t.qZA()(),t.TgZ(9,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t._UZ(10,"j-sms-input",6,7),t.TgZ(12,"div",8)(13,"button",9),t._uU(14,"SHARED.CONTINUE"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return i.openContactModal()}),t._uU(16,"AUTH.EMAIL.NO_CODE_RECEIVED"),t.qZA()()()(),t.YNc(17,xt,1,5,"j-sms-error",11),t.YNc(18,qt,1,5,"j-sms-error",11),t.YNc(19,Gt,1,5,"j-sms-error",12),t.qZA(),t.YNc(20,Yt,1,0,"j-animated-loading",13)),2&e&&(t.Q6J("ngIf",i.isReady),t.xp6(1),t.Q6J("hidden",!i.isReady),t.xp6(3),t.Q6J("hidden",i.currentTab!=i.authTabs.FORM),t.xp6(4),t.Oqu(i.email),t.xp6(1),t.Q6J("formGroup",i.emailCodeForm),t.xp6(1),t.Q6J("autofocus",!0)("hasError",i.hasError)("errorText",i.errorText)("errorTranslateParams",i.errorParams)("formControl",i.f.emailCode),t.xp6(3),t.Q6J("jLoading",i.isLoading)("disabled",i.isLoading),t.xp6(4),t.Q6J("ngIf",i.currentTab==i.authTabs.FORBIDDEN),t.xp6(1),t.Q6J("ngIf",i.currentTab==i.authTabs.FORBIDDEN_BLOCKED),t.xp6(1),t.Q6J("ngIf",i.currentTab==i.authTabs.ERRORED),t.xp6(1),t.Q6J("ngIf",!i.isReady))},directives:[A.O5,S.o,h.Pi,l._Y,l.JL,l.sg,Mt.f,l.JJ,l.oH,I.T,jt.n,O.V],styles:[""]}),o})();var Bt=a(16497);let H=(()=>{class o{constructor(e,i,n,r,_){this.auth=e,this.router=i,this.route=n,this.modalService=r,this.navService=_,this.isLoading=!1,this.subs=new f.w,this.navService.triggerActiveItem(n.snapshot.url[0].path);const g=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(p=>{this.phone=p.phone,this.iin=p.iin,this.iin?this.phone||this.navigateToPhone():this.navigateToIin()}),T=this.route.data.subscribe(p=>{this.authType=p.action});this.subs.add(g),this.subs.add(T)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(e){return(0,m.mG)(this,void 0,void 0,function*(){this.isLoading=!0;try{this.authType==c.$o.RESTORE?yield this.auth.restore(this.phone,e.newPassword,this.iin):yield this.auth.register(this.phone,e.newPassword,this.iin),this.navigateToResult(e.newPassword)}catch(i){this.mapError(i)}finally{this.isLoading=!1}})}mapError(e){return(0,m.mG)(this,void 0,void 0,function*(){switch(e.code){case d.Sg.RESOURCE_NOT_FOUND:case d.Sg.FORBIDDEN:case d.Sg.RESOURCE_EXISTS:this.navigateToPhoneNotMatch();break;case d.Sg.PHONE_TOKEN_EXPIRED:case d.Sg.TOKEN_EXPIRED:this.showExpiredModal();break;case d.Sg.INVALID_PHONE_FORMAT:case d.Sg.ARGUMENT_MISSING:this.navigateToPhone();break;default:this.errorText=e.description}})}showExpiredModal(){return(0,m.mG)(this,void 0,void 0,function*(){const e=this.modalService.open(at,{centered:!0});try{yield e.result}catch(i){}finally{this.navigateToIin()}})}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin||""}})}navigateToPhone(){this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin}})}navigateToResult(e){this.router.navigate(["result"],{relativeTo:this.route.parent,state:{phone:this.phone,password:e}})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.e),t.Y36(u.F0),t.Y36(u.gz),t.Y36(v.FF),t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-password"]],decls:7,vars:2,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"my-4"],[3,"isLoading","errorText","submitted"]],template:function(e,i){1&e&&(t.TgZ(0,"article")(1,"h3",0),t._uU(2,"AUTH.PASSWORD.TITLE"),t.qZA(),t.TgZ(3,"p",1),t._uU(4,"AUTH.PASSWORD.DESCRIPTION"),t.qZA(),t.TgZ(5,"div",2)(6,"j-new-password",3),t.NdJ("submitted",function(r){return i.onSubmit(r)}),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("isLoading",i.isLoading)("errorText",i.errorText))},directives:[h.Pi,Bt.g],styles:[""]}),o})(),M=(()=>{class o{constructor(e,i,n,r,_){this.route=e,this.router=i,this.auth=n,this.tokenService=r,this.navService=_,this.isLoading=!1,this.authTypes=c.$o,this.subs=new f.w,this.navService.triggerActiveItem(e.snapshot.url[0].path);const g=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(p=>{this.phone=p.phone,this.password=p.password}),T=this.route.data.subscribe(p=>{this.authType=p.action});this.subs.add(g),this.subs.add(T)}ngOnDestroy(){this.subs.unsubscribe()}login(e){return(0,m.mG)(this,void 0,void 0,function*(){e.preventDefault(),this.isLoading=!0;try{const i=yield this.auth.requestDevice(this.phone,Z.K.SMS);this.tokenService.setDeviceToken(i.signature,this.password),yield this.auth.login(this.phone,this.password),this.router.navigateByUrl("/")}catch(i){this.router.navigate(["/auth/login"],{state:{error:i.description||i}})}finally{this.isLoading=!1}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gz),t.Y36(u.F0),t.Y36(R.e),t.Y36(G.B),t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-result"]],decls:14,vars:3,consts:[[1,"auth-heading","light","mb-3","mt-0"],["translate",""],[1,"mb-4"],[1,"auth-submit"],["translate","",1,"btn","btn-static","btn-primary",3,"disabled","jLoading","click"]],template:function(e,i){1&e&&(t.TgZ(0,"article")(1,"h3",0)(2,"span",1),t._uU(3,"SHARED.DONE"),t.qZA(),t._uU(4,"! "),t.qZA(),t.TgZ(5,"p",2)(6,"span",1),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"span",1),t._uU(10,"AUTH.RESULT.DESCRIPTION"),t.qZA()()(),t.TgZ(11,"div",3)(12,"button",4),t.NdJ("click",function(r){return i.login(r)}),t._uU(13,"AUTH.LOGIN"),t.qZA()()),2&e&&(t.xp6(7),t.Oqu(i.authType==i.authTypes.REGISTER?"AUTH.RESULT.REGISTERED":"AUTH.RESULT.RESTORED"),t.xp6(5),t.Q6J("disabled",i.isLoading)("jLoading",i.isLoading))},directives:[h.Pi,I.T],styles:[""]}),o})(),j=(()=>{class o{constructor(e){this.navService=e,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-account",!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-no-account"]],decls:13,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin","translate","",1,"btn","btn-static","btn-primary"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-link"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.BACK"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6,"AUTH.NO_ACCOUNT.TITLE"),t.qZA(),t._UZ(7,"p",4),t.ALo(8,"translate"),t.TgZ(9,"a",5),t._uU(10,"AUTH.NO_ACCOUNT.LINK"),t.qZA(),t.TgZ(11,"a",6),t._uU(12,"AUTH.NO_ACCOUNT.CONTACTS"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("isStroke",!0),t.xp6(6),t.Q6J("innerHTML",t.xi3(8,2,"AUTH.NO_ACCOUNT.DESCRIPTION",i.translateParams),t.oJD))},directives:[u.yS,S.o,h.Pi],pipes:[h.X$],styles:[""]}),o})(),F=(()=>{class o{constructor(e){this.navService=e,this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-email",!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-no-email"]],decls:11,vars:4,consts:[["routerLink","../phone",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.PHONE"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6,"AUTH.NO_EMAIL.TITLE"),t.qZA(),t._UZ(7,"p",4),t.ALo(8,"translate"),t.TgZ(9,"a",5),t._uU(10,"AUTH.NO_EMAIL.LINK"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("isStroke",!0),t.xp6(6),t.Q6J("innerHTML",t.lcZ(8,2,"AUTH.NO_EMAIL.DESCRIPTION"),t.oJD))},directives:[u.yS,S.o,h.Pi],pipes:[h.X$],styles:[""]}),o})(),J=(()=>{class o{constructor(e){this.navService=e,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("user-blocked",!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-user-blocked"]],decls:9,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.IIN"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6,"AUTH.USER_BLOCKED.TITLE"),t.qZA(),t._UZ(7,"p",4),t.ALo(8,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("isStroke",!0),t.xp6(6),t.Q6J("innerHTML",t.xi3(8,2,"AUTH.USER_BLOCKED.DESCRIPTION",i.translateParams),t.oJD))},directives:[u.yS,S.o,h.Pi],pipes:[h.X$],styles:[""]}),o})(),x=(()=>{class o{constructor(e,i,n){this.router=e,this.route=i,this.navService=n,this.subscription=new f.w,this.navService.triggerRegisterError("phone",!0),this.navService.triggerRegisterError("phone-not-match",!0),this.subscription.add(this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(r=>{this.phone=r.phone,this.iin=r.iin,this.countryCode=r.countryCode}))}ngOnDestroy(){this.subscription.unsubscribe()}navigateToPhone(e=null){null==e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(C.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-phone-not-match"]],decls:11,vars:4,consts:[["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["href","#","translate","",1,"btn","btn-static","btn-primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t.NdJ("click",function(r){return i.navigateToPhone(r)}),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.PHONE"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6,"AUTH.PHONE_NOT_MATCH.TITLE"),t.qZA(),t._UZ(7,"p",4),t.ALo(8,"translate"),t.TgZ(9,"a",5),t.NdJ("click",function(r){return i.navigateToPhone(r)}),t._uU(10,"AUTH.PHONE_NOT_MATCH.LINK"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("isStroke",!0),t.xp6(6),t.Q6J("innerHTML",t.lcZ(8,2,"AUTH.PHONE_NOT_MATCH.DESCRIPTION"),t.oJD))},directives:[S.o,h.Pi],pipes:[h.X$],styles:[""]}),o})(),ct=(()=>{class o{constructor(e){this.route=e,this.subscription=new f.w;const i=this.route.data.subscribe(r=>{this.authType=r.action}),n=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)).subscribe(r=>{this.error=r.error,this.iin=r.iin});this.subscription.add(n),this.subscription.add(i)}get description(){return this.authType===c.$o.REGISTER?"AUTH.ERROR.DESCRIPTION_REGISTER":"AUTH.ERROR.DESCRIPTION_RESTORE"}get state(){return{iin:this.iin}}ngOnDestroy(){this.subscription.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["j-register-error"]],decls:12,vars:9,consts:[["routerLink","../iin",1,"j-link",3,"state"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin",1,"btn","btn-primary",3,"state"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"j-icon",1),t.TgZ(2,"span",2),t._uU(3,"SHARED.IIN"),t.qZA()(),t.TgZ(4,"article")(5,"h3",3),t._uU(6,"AUTH.ERROR.TITLE"),t.qZA(),t._UZ(7,"p",4),t.ALo(8,"translate"),t.TgZ(9,"a",5),t._uU(10),t.ALo(11,"translate"),t.qZA()()),2&e&&(t.Q6J("state",i.state),t.xp6(1),t.Q6J("isStroke",!0),t.xp6(6),t.Q6J("innerHTML",t.lcZ(8,5,i.description),t.oJD),t.xp6(2),t.Q6J("state",i.state),t.xp6(1),t.hij(" ",t.lcZ(11,7,"SHARED.BACK")," "))},directives:[u.yS,S.o,h.Pi],pipes:[h.X$],styles:[""]}),o})();const Qt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:et},{path:"register",component:U,children:[{path:"",redirectTo:"iin"},{path:"iin",component:st,data:{title:"AUTH.REGISTER_TITLE",action:c.$o.REGISTER}},{path:"no-account",component:j},{path:"no-email",component:F},{path:"user-blocked",component:J},{path:"phone",component:P,data:{title:"SHARED.PHONE",action:c.$o.REGISTER}},{path:"sms",component:w,data:{action:c.$o.REGISTER}},{path:"phone-not-match",component:x},{path:"email",component:D},{path:"password",component:H,data:{action:c.$o.REGISTER}},{path:"error",component:ct,data:{action:c.$o.REGISTER}},{path:"result",component:M,data:{action:c.$o.REGISTER}}]},{path:"restore",component:U,children:[{path:"",redirectTo:"iin"},{path:"iin",component:st,data:{title:"AUTH.RESTORE",action:c.$o.RESTORE}},{path:"no-account",component:j},{path:"no-email",component:F},{path:"user-blocked",component:J},{path:"phone",component:P,data:{title:"SHARED.PHONE",action:c.$o.RESTORE}},{path:"sms",component:w,data:{action:c.$o.RESTORE}},{path:"phone-not-match",component:x},{path:"email",component:D},{path:"password",component:H,data:{action:c.$o.RESTORE}},{path:"error",component:ct,data:{action:c.$o.RESTORE}},{path:"result",component:M,data:{action:c.$o.RESTORE}}]}];let Vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(Qt)],u.Bz]}),o})(),Kt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:L.Iq,useClass:L.Iq}],imports:[[A.ez,Vt,l.u5,u.Bz,l.UX,lt.m,L.yI]]}),o})()}}]);