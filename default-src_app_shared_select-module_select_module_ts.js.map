{"version":3,"file":"default-src_app_shared_select-module_select_module_ts.js","mappings":"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AC,KAAK,MAAM,CAAC;IAC7D,CAAC;IAEO,eAAe,CAAC,IAAc;QAClC,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC/D,CAAC;CACJ;;;;;;;;;;;;;;;;AC7GgG;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kEAAqB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA,sCAAsC,+DAAc,eAAe,kEAAqB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5D2C;AACX;AACY;AACrC,yCAAyC,mDAAK;AACrD,WAAW,6CAAK,OAAO,wDAAK;AAC5B;;;;;;;;;;;;;;;;;ACL8C;AACF;AACrC,yBAAyB,qDAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,mEAAsB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qEAAwB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACzBkD;AAC3C,4BAA4B,2DAAc;AACjD;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvB0C;AACM;AACzC,0BAA0B,yDAAa,CAAC,mDAAU;AAClD;;;;;;;;;;;;;;;;ACHP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA","sources":["./src/app/shared/select-module/select-config.service.ts","./src/app/shared/select-module/select-dropdown-panel.component.ts","./src/app/shared/select-module/select-dropdown-panel.service.ts","./src/app/shared/select-module/select-items-list.component.ts","./src/app/shared/select-module/select-option.component.ts","./src/app/shared/select-module/select-tpl.directive.ts","./src/app/shared/select-module/select-utils.ts","./src/app/shared/select-module/select.component.ts","./src/app/shared/select-module/select.module.ts","./src/app/shared/select-module/select.types.ts","./node_modules/rxjs/_esm2015/internal/operators/audit.js","./node_modules/rxjs/_esm2015/internal/operators/auditTime.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsapAction.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsapScheduler.js","./node_modules/rxjs/_esm2015/internal/scheduler/asap.js","./node_modules/rxjs/_esm2015/internal/util/Immediate.js"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class JSelectConfig {\r\n  placeholder: string;\r\n  notFoundText = 'PAYMENTS.SELECT.NOT_FOUND';\r\n  typeToSearchText = 'PAYMENTS.SELECT.SEARCH';\r\n  addTagText = 'PAYMENTS.SELECT.ADD';\r\n  loadingText = 'PAYMENTS.SELECT.LOADING';\r\n  clearAllText = 'PAYMENTS.SELECT.CLEAR';\r\n  disableVirtualScroll = true;\r\n  openOnEnter = true;\r\n  appendTo: string;\r\n  bindValue: string;\r\n  appearance = 'underline';\r\n}\r\n","import { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  animationFrameScheduler,\n  asapScheduler,\n  fromEvent,\n  merge,\n  Subject,\n} from 'rxjs';\nimport { auditTime, takeUntil } from 'rxjs/operators';\nimport {\n  JDropdownPanelService,\n  PanelDimensions,\n} from './select-dropdown-panel.service';\n\nimport { DropdownPosition } from './select.component';\nimport { NgOption } from './select.types';\nimport { isDefined } from './select-utils';\n\nconst TOP_CSS_CLASS = 'j-select-top';\nconst BOTTOM_CSS_CLASS = 'j-select-bottom';\nconst SCROLL_SCHEDULER =\n  typeof requestAnimationFrame !== 'undefined'\n    ? animationFrameScheduler\n    : asapScheduler;\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'j-dropdown-panel',\n  template: `\n    <div *ngIf=\"headerTemplate\" class=\"j-dropdown-header\">\n      <ng-container\n        [ngTemplateOutlet]=\"headerTemplate\"\n        [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"\n      ></ng-container>\n    </div>\n    <div #scroll class=\"j-dropdown-panel-items scroll-host\">\n      <div #padding [class.total-padding]=\"virtualScroll\"></div>\n      <div #content [class.scrollable-content]=\"virtualScroll && items.length\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n    <div *ngIf=\"footerTemplate\" class=\"j-dropdown-footer\">\n      <ng-container\n        [ngTemplateOutlet]=\"footerTemplate\"\n        [ngTemplateOutletContext]=\"{ searchTerm: filterValue }\"\n      ></ng-container>\n    </div>\n  `,\n})\nexport class JDropdownPanelComponent implements OnInit, OnChanges, OnDestroy {\n  @Input() items: NgOption[] = [];\n  @Input() markedItem: NgOption;\n  @Input() position: DropdownPosition = 'auto';\n  @Input() appendTo: string;\n  @Input() bufferAmount;\n  @Input() virtualScroll = false;\n  @Input() headerTemplate: TemplateRef<any>;\n  @Input() footerTemplate: TemplateRef<any>;\n  @Input() filterValue: string = null;\n\n  @Output() update = new EventEmitter<any[]>();\n  @Output() scroll = new EventEmitter<{ start: number; end: number }>();\n  @Output() scrollToEnd = new EventEmitter<void>();\n  @Output() outsideClick = new EventEmitter<void>();\n\n  @ViewChild('content', { read: ElementRef, static: true })\n  contentElementRef: ElementRef;\n  @ViewChild('scroll', { read: ElementRef, static: true })\n  scrollElementRef: ElementRef;\n  @ViewChild('padding', { read: ElementRef, static: true })\n  paddingElementRef: ElementRef;\n\n  private readonly _destroy$ = new Subject<void>();\n  private readonly _dropdown: HTMLElement;\n  private _virtualPadding: HTMLElement;\n  private _scrollablePanel: HTMLElement;\n  private _contentPanel: HTMLElement;\n  private _select: HTMLElement;\n  private _parent: HTMLElement;\n  private _scrollToEndFired = false;\n  private _updateScrollHeight = false;\n  private _lastScrollPosition = 0;\n\n  constructor(\n    private _renderer: Renderer2,\n    private _zone: NgZone,\n    private _panelService: JDropdownPanelService,\n    _elementRef: ElementRef,\n    @Optional() @Inject(DOCUMENT) private _document: any\n  ) {\n    this._dropdown = _elementRef.nativeElement;\n  }\n\n  private _currentPosition: DropdownPosition;\n\n  get currentPosition(): DropdownPosition {\n    return this._currentPosition;\n  }\n\n  private _itemsLength: number;\n\n  private get itemsLength() {\n    return this._itemsLength;\n  }\n\n  private set itemsLength(value: number) {\n    if (value !== this._itemsLength) {\n      this._itemsLength = value;\n      this._onItemsLengthChanged();\n    }\n  }\n\n  private get _startOffset() {\n    if (this.markedItem) {\n      const { itemHeight, panelHeight } = this._panelService.dimensions;\n      const offset = this.markedItem.index * itemHeight;\n      return panelHeight > offset ? 0 : offset;\n    }\n    return 0;\n  }\n\n  @HostListener('mousedown', ['$event'])\n  handleMousedown($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.tagName === 'INPUT') {\n      return;\n    }\n    $event.preventDefault();\n  }\n\n  ngOnInit() {\n    this._select = this._dropdown.parentElement;\n    this._virtualPadding = this.paddingElementRef.nativeElement;\n    this._scrollablePanel = this.scrollElementRef.nativeElement;\n    this._contentPanel = this.contentElementRef.nativeElement;\n    this._handleScroll();\n    this._handleOutsideClick();\n    this._appendDropdown();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.items) {\n      const change = changes.items;\n      this._onItemsChange(change.currentValue, change.firstChange);\n    }\n  }\n\n  ngOnDestroy() {\n    this._destroy$.next();\n    this._destroy$.complete();\n    this._destroy$.unsubscribe();\n    if (this.appendTo) {\n      this._renderer.removeChild(this._dropdown.parentNode, this._dropdown);\n    }\n  }\n\n  scrollTo(option: NgOption, startFromOption = false) {\n    if (!option) {\n      return;\n    }\n\n    const index = this.items.indexOf(option);\n    if (index < 0 || index >= this.itemsLength) {\n      return;\n    }\n\n    let scrollTo;\n    if (this.virtualScroll) {\n      const itemHeight = this._panelService.dimensions.itemHeight;\n      scrollTo = this._panelService.getScrollTo(\n        index * itemHeight,\n        itemHeight,\n        this._lastScrollPosition\n      );\n    } else {\n      const item: HTMLElement = this._dropdown.querySelector(\n        `#${option.htmlId}`\n      );\n      const lastScroll = startFromOption\n        ? item.offsetTop\n        : this._lastScrollPosition;\n      scrollTo = this._panelService.getScrollTo(\n        item.offsetTop,\n        item.clientHeight,\n        lastScroll\n      );\n    }\n\n    if (isDefined(scrollTo)) {\n      this._scrollablePanel.scrollTop = scrollTo;\n    }\n  }\n\n  scrollToTag() {\n    const panel = this._scrollablePanel;\n    panel.scrollTop = panel.scrollHeight - panel.clientHeight;\n  }\n\n  adjustPosition() {\n    const parent = this._parent.getBoundingClientRect();\n    const select = this._select.getBoundingClientRect();\n    this._setOffset(parent, select);\n  }\n\n  private _handleDropdownPosition() {\n    this._currentPosition = this._calculateCurrentPosition(this._dropdown);\n    if (this._currentPosition === 'top') {\n      this._renderer.addClass(this._dropdown, TOP_CSS_CLASS);\n      this._renderer.removeClass(this._dropdown, BOTTOM_CSS_CLASS);\n      this._renderer.addClass(this._select, TOP_CSS_CLASS);\n      this._renderer.removeClass(this._select, BOTTOM_CSS_CLASS);\n    } else {\n      this._renderer.addClass(this._dropdown, BOTTOM_CSS_CLASS);\n      this._renderer.removeClass(this._dropdown, TOP_CSS_CLASS);\n      this._renderer.addClass(this._select, BOTTOM_CSS_CLASS);\n      this._renderer.removeClass(this._select, TOP_CSS_CLASS);\n    }\n\n    if (this.appendTo) {\n      this._updatePosition();\n    }\n\n    this._dropdown.style.opacity = '1';\n  }\n\n  private _handleScroll() {\n    this._zone.runOutsideAngular(() => {\n      fromEvent(this.scrollElementRef.nativeElement, 'scroll')\n        .pipe(takeUntil(this._destroy$), auditTime(0, SCROLL_SCHEDULER))\n        .subscribe((e: { target: HTMLElement }) =>\n          this._onContentScrolled(e.target.scrollTop)\n        );\n    });\n  }\n\n  private _handleOutsideClick() {\n    if (!this._document) {\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      merge(\n        fromEvent(this._document, 'touchstart', { capture: true }),\n        fromEvent(this._document, 'mousedown', { capture: true })\n      )\n        .pipe(takeUntil(this._destroy$))\n        .subscribe(($event) => this._checkToClose($event));\n    });\n  }\n\n  private _checkToClose($event: any) {\n    if (\n      this._select.contains($event.target) ||\n      this._dropdown.contains($event.target)\n    ) {\n      return;\n    }\n\n    const path = $event.path || ($event.composedPath && $event.composedPath());\n    if (\n      $event.target &&\n      $event.target.shadowRoot &&\n      path &&\n      path[0] &&\n      this._select.contains(path[0])\n    ) {\n      return;\n    }\n\n    this._zone.run(() => this.outsideClick.emit());\n  }\n\n  private _onItemsChange(items: NgOption[], firstChange: boolean) {\n    this.items = items || [];\n    this._scrollToEndFired = false;\n    this.itemsLength = items.length;\n\n    if (this.virtualScroll) {\n      this._updateItemsRange(firstChange);\n    } else {\n      this._updateItems(firstChange);\n    }\n  }\n\n  private _updateItems(firstChange: boolean) {\n    this.update.emit(this.items);\n    if (firstChange === false) {\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      Promise.resolve().then(() => {\n        const panelHeight = this._scrollablePanel.clientHeight;\n        this._panelService.setDimensions(0, panelHeight);\n        this._handleDropdownPosition();\n        this.scrollTo(this.markedItem, firstChange);\n      });\n    });\n  }\n\n  private _updateItemsRange(firstChange: boolean) {\n    this._zone.runOutsideAngular(() => {\n      this._measureDimensions().then(() => {\n        if (firstChange) {\n          this._renderItemsRange(this._startOffset);\n          this._handleDropdownPosition();\n        } else {\n          this._renderItemsRange();\n        }\n      });\n    });\n  }\n\n  private _onContentScrolled(scrollTop: number) {\n    if (this.virtualScroll) {\n      this._renderItemsRange(scrollTop);\n    }\n    this._lastScrollPosition = scrollTop;\n    this._fireScrollToEnd(scrollTop);\n  }\n\n  private _updateVirtualHeight(height: number) {\n    if (this._updateScrollHeight) {\n      this._virtualPadding.style.height = `${height}px`;\n      this._updateScrollHeight = false;\n    }\n  }\n\n  private _onItemsLengthChanged() {\n    this._updateScrollHeight = true;\n  }\n\n  private _renderItemsRange(scrollTop = null) {\n    if (scrollTop && this._lastScrollPosition === scrollTop) {\n      return;\n    }\n\n    scrollTop = scrollTop || this._scrollablePanel.scrollTop;\n    const range = this._panelService.calculateItems(\n      scrollTop,\n      this.itemsLength,\n      this.bufferAmount\n    );\n    this._updateVirtualHeight(range.scrollHeight);\n    this._contentPanel.style.transform = `translateY(${range.topPadding}px)`;\n\n    this._zone.run(() => {\n      this.update.emit(this.items.slice(range.start, range.end));\n      this.scroll.emit({ start: range.start, end: range.end });\n    });\n\n    if (isDefined(scrollTop) && this._lastScrollPosition === 0) {\n      this._scrollablePanel.scrollTop = scrollTop;\n      this._lastScrollPosition = scrollTop;\n    }\n  }\n\n  private _measureDimensions(): Promise<PanelDimensions> {\n    if (\n      this._panelService.dimensions.itemHeight > 0 ||\n      this.itemsLength === 0\n    ) {\n      return Promise.resolve(this._panelService.dimensions);\n    }\n\n    const [first] = this.items;\n    this.update.emit([first]);\n\n    return Promise.resolve().then(() => {\n      const option = this._dropdown.querySelector(`#${first.htmlId}`);\n      const optionHeight = option.clientHeight;\n      this._virtualPadding.style.height = `${\n        optionHeight * this.itemsLength\n      }px`;\n      const panelHeight = this._scrollablePanel.clientHeight;\n      this._panelService.setDimensions(optionHeight, panelHeight);\n\n      return this._panelService.dimensions;\n    });\n  }\n\n  private _fireScrollToEnd(scrollTop: number) {\n    if (this._scrollToEndFired || scrollTop === 0) {\n      return;\n    }\n\n    const padding = this.virtualScroll\n      ? this._virtualPadding\n      : this._contentPanel;\n\n    if (scrollTop + this._dropdown.clientHeight >= padding.clientHeight) {\n      this._zone.run(() => this.scrollToEnd.emit());\n      this._scrollToEndFired = true;\n    }\n  }\n\n  private _calculateCurrentPosition(dropdownEl: HTMLElement) {\n    if (this.position !== 'auto') {\n      return this.position;\n    }\n    const selectRect: ClientRect = this._select.getBoundingClientRect();\n    const scrollTop =\n      document.documentElement.scrollTop || document.body.scrollTop;\n    const offsetTop = selectRect.top + window.pageYOffset;\n    const height = selectRect.height;\n    const dropdownHeight = dropdownEl.getBoundingClientRect().height;\n    if (\n      offsetTop + height + dropdownHeight >\n      scrollTop + document.documentElement.clientHeight\n    ) {\n      return 'top';\n    } else {\n      return 'bottom';\n    }\n  }\n\n  private _appendDropdown() {\n    if (!this.appendTo) {\n      return;\n    }\n\n    if (typeof this.appendTo === 'string') {\n      this._parent = document.querySelector(this.appendTo);\n      if (!this._parent) {\n        throw new Error(\n          `appendTo selector ${this.appendTo} did not found any parent element`\n        );\n      }\n    } else {\n      this._parent = this.appendTo;\n    }\n    this._parent.appendChild(this._dropdown);\n  }\n\n  private _updatePosition() {\n    const select = this._select.getBoundingClientRect();\n    const parent = this._parent.getBoundingClientRect();\n    // const offsetLeft = select.left - parent.left;\n\n    this._setOffset(parent, select);\n\n    // this._dropdown.style.left = offsetLeft + 'px';\n    this._dropdown.style.width = parent.width + 'px';\n    this._dropdown.style.minWidth = parent.width + 'px';\n  }\n\n  private _setOffset(parent: ClientRect, select: ClientRect) {\n    const delta = select.height;\n\n    if (this._currentPosition === 'top') {\n      const offsetBottom = parent.bottom - select.bottom;\n      this._dropdown.style.bottom = offsetBottom + delta + 'px';\n      this._dropdown.style.top = 'auto';\n    } else if (this._currentPosition === 'bottom') {\n      const offsetTop = select.top - parent.top;\n      this._dropdown.style.top = offsetTop + delta + 'px';\n      this._dropdown.style.bottom = 'auto';\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nexport interface ItemsRangeResult {\n    scrollHeight: number;\n    topPadding: number;\n    start: number;\n    end: number;\n}\n\nexport interface PanelDimensions {\n    itemHeight: number;\n    panelHeight: number;\n    itemsPerViewport: number;\n}\n\n@Injectable()\nexport class JDropdownPanelService {\n\n    private _dimensions: PanelDimensions = {\n        itemHeight: 0,\n        panelHeight: 0,\n        itemsPerViewport: 0\n    };\n\n    get dimensions() {\n        return this._dimensions;\n    }\n\n    calculateItems(scrollPos: number, itemsLength: number, buffer: number): ItemsRangeResult {\n        const d = this._dimensions;\n        const scrollHeight = d.itemHeight * itemsLength;\n\n        const scrollTop = Math.max(0, scrollPos);\n        const indexByScrollTop = scrollTop / scrollHeight * itemsLength;\n        let end = Math.min(itemsLength, Math.ceil(indexByScrollTop) + (d.itemsPerViewport + 1));\n\n        const maxStartEnd = end;\n        const maxStart = Math.max(0, maxStartEnd - d.itemsPerViewport);\n        let start = Math.min(maxStart, Math.floor(indexByScrollTop));\n\n        let topPadding = d.itemHeight * Math.ceil(start) - (d.itemHeight * Math.min(start, buffer));\n        topPadding = !isNaN(topPadding) ? topPadding : 0;\n        start = !isNaN(start) ? start : -1;\n        end = !isNaN(end) ? end : -1;\n        start -= buffer;\n        start = Math.max(0, start);\n        end += buffer;\n        end = Math.min(itemsLength, end);\n\n        return {\n            topPadding,\n            scrollHeight,\n            start,\n            end\n        }\n    }\n\n    setDimensions(itemHeight: number, panelHeight: number) {\n        const itemsPerViewport = Math.max(1, Math.floor(panelHeight / itemHeight));\n        this._dimensions = {\n            itemHeight,\n            panelHeight,\n            itemsPerViewport\n        };\n    }\n\n    getScrollTo(itemTop: number, itemHeight: number, lastScroll: number) {\n        const { panelHeight } = this.dimensions;\n        const itemBottom = itemTop + itemHeight;\n        const top = lastScroll;\n        const bottom = top + panelHeight;\n\n        if (panelHeight >= itemBottom && lastScroll === itemTop) {\n            return null;\n        }\n\n        if (itemBottom > bottom) {\n            return top + itemBottom - bottom;\n        } else if (itemTop <= top) {\n            return itemTop;\n        }\n\n        return null;\n    }\n}\n","import { JSelectComponent } from './select.component';\n\nimport { SelectionModel, NgOption } from './select.types';\nimport { isDefined, isFunction, isObject } from './select-utils';\nimport { generateUniqueId } from '@utils/index';\n\ntype OptionGroups = Map<string | NgOption, NgOption[]>;\n// removed search helper and diacritic. Check ng-select search helper\nexport class ItemsList {\n  private _groups: OptionGroups;\n\n  constructor(\n    private _ngSelect: JSelectComponent,\n    private _selectionModel: SelectionModel\n  ) {}\n\n  private _items: NgOption[] = [];\n\n  get items(): NgOption[] {\n    return this._items;\n  }\n\n  private _filteredItems: NgOption[] = [];\n\n  get filteredItems(): NgOption[] {\n    return this._filteredItems;\n  }\n\n  private _markedIndex = -1;\n\n  get markedIndex(): number {\n    return this._markedIndex;\n  }\n\n  get selectedItems() {\n    return this._selectionModel.value;\n  }\n\n  get markedItem(): NgOption {\n    return this._filteredItems[this._markedIndex];\n  }\n\n  get noItemsToSelect(): boolean {\n    return (\n      this._ngSelect.hideSelected &&\n      this._items.length === this.selectedItems.length\n    );\n  }\n\n  get maxItemsSelected(): boolean {\n    return (\n      this._ngSelect.multiple &&\n      this._ngSelect.maxSelectedItems <= this.selectedItems.length\n    );\n  }\n\n  get lastSelectedItem() {\n    let i = this.selectedItems.length - 1;\n    for (; i >= 0; i--) {\n      let item = this.selectedItems[i];\n      if (!item.disabled) {\n        return item;\n      }\n    }\n    return null;\n  }\n\n  setItems(items: any[]) {\n    this._items = items.map((item, index) => this.mapItem(item, index));\n    if (this._ngSelect.groupBy) {\n      this._groups = this._groupBy(this._items, this._ngSelect.groupBy);\n      this._items = this._flatten(this._groups);\n    } else {\n      this._groups = new Map();\n      this._groups.set(undefined, this._items);\n    }\n    this._filteredItems = [...this._items];\n  }\n\n  select(item: NgOption) {\n    if (item.selected || this.maxItemsSelected) {\n      return;\n    }\n    const multiple = this._ngSelect.multiple;\n    if (!multiple) {\n      this.clearSelected();\n    }\n\n    this._selectionModel.select(\n      item,\n      multiple,\n      this._ngSelect.selectableGroupAsModel\n    );\n    if (this._ngSelect.hideSelected) {\n      this._hideSelected(item);\n    }\n  }\n\n  unselect(item: NgOption) {\n    if (!item.selected) {\n      return;\n    }\n    this._selectionModel.unselect(item, this._ngSelect.multiple);\n    if (\n      this._ngSelect.hideSelected &&\n      isDefined(item.index) &&\n      this._ngSelect.multiple\n    ) {\n      this._showSelected(item);\n    }\n  }\n\n  findItem(value: any): NgOption {\n    let findBy: (item: NgOption) => boolean;\n    if (this._ngSelect.compareWith) {\n      findBy = (item) => this._ngSelect.compareWith(item.value, value);\n    } else if (this._ngSelect.bindValue) {\n      findBy = (item) =>\n        !item.children &&\n        this.resolveNested(item.value, this._ngSelect.bindValue) === value;\n    } else {\n      findBy = (item) =>\n        item.value === value ||\n        (!item.children &&\n          item.label &&\n          item.label === this.resolveNested(value, this._ngSelect.bindLabel));\n    }\n    return this._items.find((item) => findBy(item));\n  }\n\n  addItem(item: any) {\n    const option = this.mapItem(item, this._items.length);\n    this._items.push(option);\n    this._filteredItems.push(option);\n    return option;\n  }\n\n  clearSelected(keepDisabled = false) {\n    this._selectionModel.clear(keepDisabled);\n    this._items.forEach((item) => {\n      item.selected = keepDisabled && item.selected && item.disabled;\n      item.marked = false;\n    });\n    if (this._ngSelect.hideSelected) {\n      this.resetFilteredItems();\n    }\n  }\n\n  findByLabel(term: string) {\n    // removed search helper and diacritic. Check ng-select search helper\n    // term = searchHelper.stripSpecialChars(term).toLocaleLowerCase();\n    term = term.toLocaleLowerCase();\n    return this.filteredItems.find((item) => {\n      // const label = searchHelper.stripSpecialChars(item.label).toLocaleLowerCase();\n      const label = item.label.toLocaleLowerCase();\n      return label.substr(0, term.length) === term;\n    });\n  }\n\n  filter(term: string): void {\n    if (!term) {\n      this.resetFilteredItems();\n      return;\n    }\n\n    this._filteredItems = [];\n\n    // term = this._ngSelect.searchFn ? term : searchHelper.stripSpecialChars(term).toLocaleLowerCase();\n    term = this._ngSelect.searchFn ? term : term.toLocaleLowerCase();\n    const match = this._ngSelect.searchFn || this._defaultSearchFn;\n    const hideSelected = this._ngSelect.hideSelected;\n\n    for (const key of Array.from(this._groups.keys())) {\n      const matchedItems = [];\n      for (const item of this._groups.get(key)) {\n        if (\n          hideSelected &&\n          ((item.parent && item.parent.selected) || item.selected)\n        ) {\n          continue;\n        }\n        const searchItem = this._ngSelect.searchFn ? item.value : item;\n        if (match(term, searchItem)) {\n          matchedItems.push(item);\n        }\n      }\n      if (matchedItems.length > 0) {\n        const [last] = matchedItems.slice(-1);\n        if (last.parent) {\n          const head = this._items.find((x) => x === last.parent);\n          this._filteredItems.push(head);\n        }\n        this._filteredItems.push(...matchedItems);\n      }\n    }\n  }\n\n  resetFilteredItems() {\n    if (this._filteredItems.length === this._items.length) {\n      return;\n    }\n\n    if (this._ngSelect.hideSelected && this.selectedItems.length > 0) {\n      this._filteredItems = this._items.filter((x) => !x.selected);\n    } else {\n      this._filteredItems = this._items;\n    }\n  }\n\n  unmarkItem() {\n    this._markedIndex = -1;\n  }\n\n  markNextItem() {\n    this._stepToItem(+1);\n  }\n\n  markPreviousItem() {\n    this._stepToItem(-1);\n  }\n\n  markItem(item: NgOption) {\n    this._markedIndex = this._filteredItems.indexOf(item);\n  }\n\n  markSelectedOrDefault(markDefault?: boolean) {\n    if (this._filteredItems.length === 0) {\n      return;\n    }\n\n    const lastMarkedIndex = this._getLastMarkedIndex();\n    if (lastMarkedIndex > -1) {\n      this._markedIndex = lastMarkedIndex;\n    } else {\n      this._markedIndex = markDefault\n        ? this.filteredItems.findIndex((x) => !x.disabled)\n        : -1;\n    }\n  }\n\n  resolveNested(option: any, key: string): any {\n    if (!key) {\n      return;\n    }\n\n    if (!isObject(option)) {\n      return option;\n    }\n\n    if (key.indexOf('.') === -1) {\n      return option[key];\n    } else {\n      let keys: string[] = key.split('.');\n      let value = option;\n      for (let i = 0, len = keys.length; i < len; ++i) {\n        if (value == null) {\n          return null;\n        }\n        value = value[keys[i]];\n      }\n      return value;\n    }\n  }\n\n  mapItem(item: any, index: number): NgOption {\n    const label = isDefined(item.$ngOptionLabel)\n      ? item.$ngOptionLabel\n      : this.resolveNested(item, this._ngSelect.bindLabel);\n    const value = isDefined(item.$ngOptionValue) ? item.$ngOptionValue : item;\n    return {\n      index: index,\n      label: isDefined(label) ? label.toString() : '',\n      value: value,\n      disabled: item.disabled,\n      htmlId: `${this._ngSelect.dropdownId}-${index}`,\n    };\n  }\n\n  mapSelectedItems() {\n    const multiple = this._ngSelect.multiple;\n    for (const selected of this.selectedItems) {\n      const value = this._ngSelect.bindValue\n        ? this.resolveNested(selected.value, this._ngSelect.bindValue)\n        : selected.value;\n      const item = isDefined(value) ? this.findItem(value) : null;\n      this._selectionModel.unselect(selected, multiple);\n      this._selectionModel.select(\n        item || selected,\n        multiple,\n        this._ngSelect.selectableGroupAsModel\n      );\n    }\n\n    if (this._ngSelect.hideSelected) {\n      this._filteredItems = this.filteredItems.filter(\n        (x) => this.selectedItems.indexOf(x) === -1\n      );\n    }\n  }\n\n  private _showSelected(item: NgOption) {\n    this._filteredItems.push(item);\n    if (item.parent) {\n      const parent = item.parent;\n      const parentExists = this._filteredItems.find((x) => x === parent);\n      if (!parentExists) {\n        this._filteredItems.push(parent);\n      }\n    } else if (item.children) {\n      for (const child of item.children) {\n        child.selected = false;\n        this._filteredItems.push(child);\n      }\n    }\n    this._filteredItems = [\n      ...this._filteredItems.sort((a, b) => a.index - b.index),\n    ];\n  }\n\n  private _hideSelected(item: NgOption) {\n    this._filteredItems = this._filteredItems.filter((x) => x !== item);\n    if (item.parent) {\n      const children = item.parent.children;\n      if (children.every((x) => x.selected)) {\n        this._filteredItems = this._filteredItems.filter(\n          (x) => x !== item.parent\n        );\n      }\n    } else if (item.children) {\n      this._filteredItems = this.filteredItems.filter((x) => x.parent !== item);\n    }\n  }\n\n  private _defaultSearchFn(search: string, opt: NgOption) {\n    //  const label = searchHelper.stripSpecialChars(opt.label).toLocaleLowerCase();\n    const label = opt.label.toLocaleLowerCase();\n    return label.indexOf(search) > -1;\n  }\n\n  private _getNextItemIndex(steps: number) {\n    if (steps > 0) {\n      return this._markedIndex === this._filteredItems.length - 1\n        ? 0\n        : this._markedIndex + 1;\n    }\n    return this._markedIndex <= 0\n      ? this._filteredItems.length - 1\n      : this._markedIndex - 1;\n  }\n\n  private _stepToItem(steps: number) {\n    if (\n      this._filteredItems.length === 0 ||\n      this._filteredItems.every((x) => x.disabled)\n    ) {\n      return;\n    }\n\n    this._markedIndex = this._getNextItemIndex(steps);\n    if (this.markedItem.disabled) {\n      this._stepToItem(steps);\n    }\n  }\n\n  private _getLastMarkedIndex() {\n    if (this._ngSelect.hideSelected) {\n      return -1;\n    }\n\n    if (this._markedIndex > -1 && this.markedItem === undefined) {\n      return -1;\n    }\n\n    const selectedIndex = this._filteredItems.indexOf(this.lastSelectedItem);\n    if (this.lastSelectedItem && selectedIndex < 0) {\n      return -1;\n    }\n\n    return Math.max(this.markedIndex, selectedIndex);\n  }\n\n  private _groupBy(items: NgOption[], prop: string | Function): OptionGroups {\n    const groups = new Map<string | NgOption, NgOption[]>();\n    if (items.length === 0) {\n      return groups;\n    }\n\n    // Check if items are already grouped by given key.\n    if (Array.isArray(items[0].value[<string>prop])) {\n      for (const item of items) {\n        const children = (item.value[<string>prop] || []).map((x, index) =>\n          this.mapItem(x, index)\n        );\n        groups.set(item, children);\n      }\n      return groups;\n    }\n\n    const isFnKey = isFunction(this._ngSelect.groupBy);\n    const keyFn = (item: NgOption) => {\n      let key = isFnKey\n        ? (<Function>prop)(item.value)\n        : item.value[<string>prop];\n      return isDefined(key) ? key : undefined;\n    };\n\n    // Group items by key.\n    for (const item of items) {\n      let key = keyFn(item);\n      const group = groups.get(key);\n      if (group) {\n        group.push(item);\n      } else {\n        groups.set(key, [item]);\n      }\n    }\n    return groups;\n  }\n\n  private _flatten(groups: OptionGroups) {\n    const isGroupByFn = isFunction(this._ngSelect.groupBy);\n    const items = [];\n    for (const key of Array.from(groups.keys())) {\n      let i = items.length;\n      if (key === undefined) {\n        const withoutGroup = groups.get(undefined) || [];\n        items.push(...withoutGroup.map((x) => ({ ...x, index: i++ })));\n        continue;\n      }\n\n      const isObjectKey = isObject(key);\n      const parent: NgOption = {\n        label: isObjectKey ? '' : String(key),\n        children: undefined,\n        parent: null,\n        index: i++,\n        disabled: !this._ngSelect.selectableGroup,\n        htmlId: generateUniqueId(),\n      };\n      const groupKey = isGroupByFn\n        ? this._ngSelect.bindLabel\n        : <string>this._ngSelect.groupBy;\n      const groupValue =\n        this._ngSelect.groupValue ||\n        (() => {\n          if (isObjectKey) {\n            return (<NgOption>key).value;\n          }\n          return { [groupKey]: key };\n        });\n      const children = groups.get(key).map((x) => {\n        x.parent = parent;\n        x.children = undefined;\n        x.index = i++;\n        return x;\n      });\n      parent.children = children;\n      parent.value = groupValue(\n        key,\n        children.map((x) => x.value)\n      );\n      items.push(parent);\n      items.push(...children);\n    }\n    return items;\n  }\n}\n","import {\n  AfterViewChecked,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'j-option',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<ng-content></ng-content>`,\n})\nexport class JOptionComponent\n  implements OnChanges, AfterViewChecked, OnDestroy {\n  @Input() value: any;\n  @Input()\n  get disabled() {\n    return this._disabled;\n  }\n  set disabled(value: any) {\n    this._disabled = this._isDisabled(value);\n  }\n\n  readonly stateChange$ = new Subject<{\n    value: any;\n    disabled: boolean;\n    label?: string;\n  }>();\n\n  private _disabled = false;\n  private _previousLabel: string;\n\n  constructor(public elementRef: ElementRef<HTMLElement>) {}\n\n  get label(): string {\n    return (this.elementRef.nativeElement.textContent || '').trim();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.disabled) {\n      this.stateChange$.next({\n        value: this.value,\n        disabled: this._disabled,\n      });\n    }\n  }\n\n  ngAfterViewChecked() {\n    if (this.label !== this._previousLabel) {\n      this._previousLabel = this.label;\n      this.stateChange$.next({\n        value: this.value,\n        disabled: this._disabled,\n        label: this.elementRef.nativeElement.innerHTML,\n      });\n    }\n  }\n\n  ngOnDestroy() {\n    this.stateChange$.complete();\n  }\n\n  private _isDisabled(value) {\n    return value != null && `${value}` !== 'false';\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  TemplateRef,\n} from '@angular/core';\nimport { escapeHTML } from './select-utils';\n\n@Directive({ selector: '[ngItemLabel]' })\nexport class JItemLabelDirective implements OnChanges {\n  @Input() ngItemLabel: string;\n  @Input() escape = true;\n\n  constructor(private element: ElementRef<HTMLElement>) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.element.nativeElement.innerHTML = this.escape\n      ? escapeHTML(this.ngItemLabel)\n      : this.ngItemLabel;\n  }\n}\n\n@Directive({ selector: '[j-option-tmp]' })\nexport class JOptionTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-optgroup-tmp]' })\nexport class JOptgroupTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-label-tmp]' })\nexport class JLabelTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-multi-label-tmp]' })\nexport class JMultiLabelTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-header-tmp]' })\nexport class JHeaderTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-footer-tmp]' })\nexport class JFooterTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-notfound-tmp]' })\nexport class JNotFoundTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-typetosearch-tmp]' })\nexport class JTypeToSearchTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-loadingtext-tmp]' })\nexport class JLoadingTextTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-tag-tmp]' })\nexport class JTagTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n\n@Directive({ selector: '[j-loadingspinner-tmp]' })\nexport class JLoadingSpinnerTemplateDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n","const unescapedHTMLExp = /[&<>\"']/g;\nconst hasUnescapedHTMLExp = RegExp(unescapedHTMLExp.source);\nconst htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#39;'\n};\n\nexport function escapeHTML(string: string) {\n    return (string && hasUnescapedHTMLExp.test(string)) ?\n        string.replace(unescapedHTMLExp, chr => htmlEscapes[chr]) :\n        string;\n}\n\nexport function isDefined(value: any) {\n    return value !== undefined && value !== null;\n}\n\nexport function isObject(value: any) {\n    return typeof value === 'object' && isDefined(value);\n}\n\nexport function isPromise(value: any) {\n    return value instanceof Promise;\n}\n\nexport function isFunction(value: any) {\n    return value instanceof Function;\n}\n","import {\r\n  Component,\r\n  OnDestroy,\r\n  OnChanges,\r\n  AfterViewInit,\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChild,\r\n  TemplateRef,\r\n  ViewEncapsulation,\r\n  HostListener,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  ChangeDetectionStrategy,\r\n  Inject,\r\n  SimpleChanges,\r\n  ContentChildren,\r\n  QueryList,\r\n  InjectionToken,\r\n  Attribute,\r\n  Optional,\r\n  Self,\r\n} from '@angular/core';\r\nimport {\r\n  ControlValueAccessor,\r\n  NG_VALUE_ACCESSOR,\r\n  NgControl,\r\n  NgForm,\r\n  FormGroupDirective,\r\n} from '@angular/forms';\r\nimport {\r\n  takeUntil,\r\n  startWith,\r\n  tap,\r\n  debounceTime,\r\n  map,\r\n  filter,\r\n} from 'rxjs/operators';\r\nimport { Subject, merge } from 'rxjs';\r\n\r\nimport {\r\n  JOptionTemplateDirective,\r\n  JLabelTemplateDirective,\r\n  JHeaderTemplateDirective,\r\n  JFooterTemplateDirective,\r\n  JOptgroupTemplateDirective,\r\n  JNotFoundTemplateDirective,\r\n  JTypeToSearchTemplateDirective,\r\n  JLoadingTextTemplateDirective,\r\n  JMultiLabelTemplateDirective,\r\n  JTagTemplateDirective,\r\n  JLoadingSpinnerTemplateDirective,\r\n} from './select-tpl.directive';\r\n\r\nimport { isDefined, isFunction, isPromise, isObject } from './select-utils';\r\nimport { ItemsList } from './select-items-list.component';\r\nimport { NgOption, KeyCode } from './select.types';\r\n\r\nimport { JDropdownPanelComponent } from './select-dropdown-panel.component';\r\nimport { JOptionComponent } from './select-option.component';\r\nimport { SelectionModelFactory } from './select.types';\r\nimport { JSelectConfig } from './select-config.service';\r\nimport { JDropdownPanelService } from './select-dropdown-panel.service';\r\n\r\nimport { generateUniqueId } from '@utils/index';\r\nimport { JFormFieldControl } from '@shared/form-field/form-field-control';\r\nimport { ErrorStateMatcher } from '@shared/form-field/utils';\r\nimport {\r\n  mixinErrorState,\r\n  CanUpdateErrorState,\r\n  CanUpdateErrorStateCtor,\r\n} from '@shared/form-field/error.status';\r\n\r\nexport const SELECTION_MODEL_FACTORY = new InjectionToken<SelectionModelFactory>(\r\n  'j-select-selection-model'\r\n);\r\n\r\nexport type DropdownPosition = 'bottom' | 'top' | 'auto';\r\nexport type AddTagFn = (term: string) => any | Promise<any>;\r\nexport type CompareWithFn = (a: any, b: any) => boolean;\r\nexport type GroupValueFn = (\r\n  key: string | object,\r\n  children: any[]\r\n) => string | object;\r\n\r\n// Boilerplate for applying mixins to MatSelect.\r\n/** @docs-private */\r\nclass JSelectBase {\r\n  constructor(\r\n    public _elementRef: ElementRef,\r\n    public _defaultErrorStateMatcher: ErrorStateMatcher,\r\n    public _parentForm: NgForm,\r\n    public _parentFormGroup: FormGroupDirective,\r\n    public ngControl: NgControl\r\n  ) {}\r\n}\r\n// const _JSelectMixinBase:\r\n// typeof MatSelectBase =\r\n//     mixinTabIndex(mixinDisabled(mixinErrorState(MatSelectBase)));\r\nconst JSelectMixinBase: CanUpdateErrorStateCtor &\r\n  typeof JSelectBase = mixinErrorState(JSelectBase);\r\n/* tslint:disable no-conflicting-lifecycle */\r\n@Component({\r\n  selector: 'j-select',\r\n  templateUrl: './select.component.html',\r\n  styleUrls: ['./select.component.scss'],\r\n  providers: [\r\n    // {\r\n    //   provide: NG_VALUE_ACCESSOR,\r\n    //   useExisting: forwardRef(() => JSelectComponent),\r\n    //   multi: true,\r\n    // },\r\n    { provide: JFormFieldControl, useExisting: JSelectComponent },\r\n    JDropdownPanelService,\r\n  ],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    role: 'listbox',\r\n    '[class.j-select]': 'useDefaultClass',\r\n    '[class.j-select-single]': '!multiple',\r\n  },\r\n})\r\nexport class JSelectComponent\r\n  extends JSelectMixinBase\r\n  implements\r\n    OnDestroy,\r\n    OnChanges,\r\n    AfterViewInit,\r\n    ControlValueAccessor,\r\n    CanUpdateErrorState,\r\n    JFormFieldControl<any> {\r\n  @Input() bindLabel: string;\r\n  @Input() bindValue: string;\r\n  @Input() markFirst = true;\r\n  @Input() placeholder: string;\r\n  @Input() notFoundText: string;\r\n  @Input() typeToSearchText: string;\r\n  @Input() addTagText: string;\r\n  @Input() loadingText: string;\r\n  @Input() clearAllText: string;\r\n  @Input() appearance: string;\r\n  @Input() dropdownPosition: DropdownPosition = 'auto';\r\n  @Input() appendTo: HTMLElement | string;\r\n  @Input() loading = false;\r\n  @Input() closeOnSelect = true;\r\n  @Input() hideSelected = false;\r\n  @Input() selectOnTab = false;\r\n  @Input() openOnEnter: boolean;\r\n  @Input() maxSelectedItems: number;\r\n  @Input() groupBy: string | Function;\r\n  @Input() groupValue: GroupValueFn;\r\n  @Input() bufferAmount = 4;\r\n  @Input() virtualScroll: boolean;\r\n  @Input() selectableGroup = false;\r\n  @Input() selectableGroupAsModel = true;\r\n  @Input() searchFn = null;\r\n  @Input() trackByFn = null;\r\n  @Input() clearOnBackspace = true;\r\n  @Input() labelForId = null;\r\n  @Input() inputAttrs: { [key: string]: string } = {};\r\n  @Input() tabIndex: number;\r\n  @Input() readonly = false;\r\n  @Input() searchWhileComposing = true;\r\n  @Input() minTermLength = 0;\r\n  @Input() editableSearchTerm = false;\r\n  @Input() errorStateMatcher: ErrorStateMatcher;\r\n  @Input() searchMask: string;\r\n  @Input() keyDownFn = (_: KeyboardEvent) => true;\r\n  @Input() shadow?: string;\r\n\r\n  @Input() @HostBinding('class.j-select-typeahead') typeahead: Subject<string>;\r\n  @Input() @HostBinding('class.j-select-multiple') multiple = false;\r\n  @Input() @HostBinding('class.j-select-taggable') addTag:\r\n    | boolean\r\n    | AddTagFn = false;\r\n  @Input() @HostBinding('class.j-select-searchable') searchable = true;\r\n  @Input() @HostBinding('class.j-select-clearable') clearable = true;\r\n  @Input() @HostBinding('class.j-select-opened') isOpen = false;\r\n\r\n  controlType = 'select';\r\n\r\n  @Input()\r\n  get items() {\r\n    return this._items;\r\n  }\r\n\r\n  set items(value: any[]) {\r\n    this._itemsAreUsed = true;\r\n    this._items = value;\r\n  }\r\n\r\n  @Input()\r\n  get compareWith() {\r\n    return this._compareWith;\r\n  }\r\n\r\n  set compareWith(fn: CompareWithFn) {\r\n    if (!isFunction(fn)) {\r\n      throw Error('`compareWith` must be a function.');\r\n    }\r\n    this._compareWith = fn;\r\n  }\r\n  /**\r\n   * JFormFieldControl.\r\n   * @docs-private\r\n   */\r\n  /** Value of the select control. */\r\n  @Input()\r\n  get value(): any {\r\n    return this._value;\r\n  }\r\n  set value(newValue: any) {\r\n    if (newValue !== this._value) {\r\n      this.writeValue(newValue);\r\n      this._value = newValue;\r\n    }\r\n  }\r\n  private _value: any;\r\n\r\n  @Input()\r\n  get clearSearchOnAdd() {\r\n    return isDefined(this._clearSearchOnAdd)\r\n      ? this._clearSearchOnAdd\r\n      : this.closeOnSelect;\r\n  }\r\n\r\n  set clearSearchOnAdd(value) {\r\n    this._clearSearchOnAdd = value;\r\n  }\r\n  /** @todo add required\r\n   * JFormFieldControl.\r\n   */\r\n  @Input()\r\n  required: boolean;\r\n\r\n  // output events\r\n  @Output('blur') blurEvent = new EventEmitter();\r\n  @Output('focus') focusEvent = new EventEmitter();\r\n  @Output('change') changeEvent = new EventEmitter();\r\n  @Output('open') openEvent = new EventEmitter();\r\n  @Output('close') closeEvent = new EventEmitter();\r\n  @Output('search') searchEvent = new EventEmitter<{\r\n    term: string;\r\n    items: any[];\r\n  }>();\r\n  @Output('clear') clearEvent = new EventEmitter();\r\n  @Output('add') addEvent = new EventEmitter();\r\n  @Output('remove') removeEvent = new EventEmitter();\r\n  @Output('scroll') scroll = new EventEmitter<{ start: number; end: number }>();\r\n  @Output('scrollToEnd') scrollToEnd = new EventEmitter();\r\n\r\n  // custom templates\r\n  @ContentChild(JOptionTemplateDirective, { read: TemplateRef })\r\n  optionTemplate: TemplateRef<any>;\r\n  @ContentChild(JOptgroupTemplateDirective, { read: TemplateRef })\r\n  optgroupTemplate: TemplateRef<any>;\r\n  @ContentChild(JLabelTemplateDirective, { read: TemplateRef })\r\n  labelTemplate: TemplateRef<any>;\r\n  @ContentChild(JMultiLabelTemplateDirective, { read: TemplateRef })\r\n  multiLabelTemplate: TemplateRef<any>;\r\n  @ContentChild(JHeaderTemplateDirective, { read: TemplateRef })\r\n  headerTemplate: TemplateRef<any>;\r\n  @ContentChild(JFooterTemplateDirective, { read: TemplateRef })\r\n  footerTemplate: TemplateRef<any>;\r\n  @ContentChild(JNotFoundTemplateDirective, { read: TemplateRef })\r\n  notFoundTemplate: TemplateRef<any>;\r\n  @ContentChild(JTypeToSearchTemplateDirective, { read: TemplateRef })\r\n  typeToSearchTemplate: TemplateRef<any>;\r\n  @ContentChild(JLoadingTextTemplateDirective, { read: TemplateRef })\r\n  loadingTextTemplate: TemplateRef<any>;\r\n  @ContentChild(JTagTemplateDirective, { read: TemplateRef })\r\n  tagTemplate: TemplateRef<any>;\r\n  @ContentChild(JLoadingSpinnerTemplateDirective, { read: TemplateRef })\r\n  loadingSpinnerTemplate: TemplateRef<any>;\r\n\r\n  @ViewChild(forwardRef(() => JDropdownPanelComponent))\r\n  dropdownPanel: JDropdownPanelComponent;\r\n  @ViewChild('searchInput', { static: false })\r\n  searchInput: ElementRef<HTMLInputElement>;\r\n  @ContentChildren(JOptionComponent, { descendants: true })\r\n  ngOptions: QueryList<JOptionComponent>;\r\n\r\n  @HostBinding('class.j-select-disabled') get disabled() {\r\n    return this.readonly || this._disabled;\r\n  }\r\n\r\n  @HostBinding('class.j-select-filtered') get filtered() {\r\n    return (!!this.searchTerm && this.searchable) || this._isComposing;\r\n  }\r\n\r\n  itemsList: ItemsList;\r\n  viewPortItems: NgOption[] = [];\r\n  searchTerm: string = null;\r\n  dropdownId = generateUniqueId();\r\n  // JFormControlField\r\n  id = this.dropdownId;\r\n  element: HTMLElement;\r\n  focused: boolean;\r\n  escapeHTML = true;\r\n  useDefaultClass = true;\r\n\r\n  // JFormControlField\r\n  readonly stateChanges: Subject<void> = new Subject<void>();\r\n\r\n  private _items = [];\r\n  private _itemsAreUsed: boolean;\r\n  private _defaultLabel = 'label';\r\n  private _primitive;\r\n  private _manualOpen: boolean;\r\n  private _disabled: boolean;\r\n  private _pressedKeys: string[] = [];\r\n  private _compareWith: CompareWithFn;\r\n  private _clearSearchOnAdd: boolean;\r\n  private _isComposing = false;\r\n  private get _editableSearchTerm(): boolean {\r\n    return this.editableSearchTerm && !this.multiple;\r\n  }\r\n\r\n  private readonly _destroy$ = new Subject<void>();\r\n  private readonly _keyPress$ = new Subject<string>();\r\n  private _onChange = (_: any) => {};\r\n  private _onTouched = () => {};\r\n\r\n  clearItem = (item: any) => {\r\n    const option = this.selectedItems.find((x) => x.value === item);\r\n    this.unselect(option);\r\n  };\r\n\r\n  constructor(\r\n    @Attribute('class') public classes: string,\r\n    @Attribute('autofocus') private autoFocus: any,\r\n    config: JSelectConfig,\r\n    @Inject(SELECTION_MODEL_FACTORY) newSelectionModel: SelectionModelFactory,\r\n    _elementRef: ElementRef<HTMLElement>,\r\n    @Self() @Optional() public ngControl: NgControl,\r\n    @Optional() _parentForm: NgForm,\r\n    @Optional() _parentFormGroup: FormGroupDirective,\r\n    _defaultErrorStateMatcher: ErrorStateMatcher,\r\n    private _cd: ChangeDetectorRef // private _console: ConsoleService\r\n  ) {\r\n    super(\r\n      _elementRef,\r\n      _defaultErrorStateMatcher,\r\n      _parentForm,\r\n      _parentFormGroup,\r\n      ngControl\r\n    );\r\n    if (this.ngControl) {\r\n      // Note: provide the value accessor through here, instead of\r\n      // the `providers` to avoid running into a circular import.\r\n      this.ngControl.valueAccessor = this;\r\n    }\r\n    this._mergeGlobalConfig(config);\r\n    this.itemsList = new ItemsList(this, newSelectionModel());\r\n    this.element = _elementRef.nativeElement;\r\n  }\r\n\r\n  /**\r\n   * JFormFieldControl.\r\n   * @docs-private\r\n   */\r\n  get shouldLabelFloat(): boolean {\r\n    return (\r\n      (this.isOpen && this.searchable) ||\r\n      (this.searchable && this.focused) ||\r\n      !this.empty\r\n    );\r\n  }\r\n\r\n  /**\r\n   * JFormFieldControl.\r\n   * @docs-private\r\n   */\r\n  get empty(): boolean {\r\n    return !this.hasValue;\r\n  }\r\n\r\n  get selectedItems(): NgOption[] {\r\n    return this.itemsList.selectedItems;\r\n  }\r\n\r\n  get selectedValues() {\r\n    return this.selectedItems.map((x) => x.value);\r\n  }\r\n\r\n  get hasValue() {\r\n    return this.selectedItems.some((item) => item.value);\r\n  }\r\n\r\n  get currentPanelPosition(): DropdownPosition {\r\n    if (this.dropdownPanel) {\r\n      return this.dropdownPanel.currentPosition;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.multiple) {\r\n      this.itemsList.clearSelected();\r\n    }\r\n    if (changes.items) {\r\n      this._setItems(changes.items.currentValue || []);\r\n    }\r\n    if (changes.isOpen) {\r\n      this._manualOpen = isDefined(changes.isOpen.currentValue);\r\n    }\r\n  }\r\n\r\n  ngDoCheck() {\r\n    if (this.ngControl) {\r\n      this.updateErrorState();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this._handleKeyPresses();\r\n    this._setInputAttributes();\r\n\r\n    if (!this._itemsAreUsed) {\r\n      this.escapeHTML = false;\r\n      this._setItemsFromNgOptions();\r\n    }\r\n\r\n    if (isDefined(this.autoFocus)) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._destroy$.next();\r\n    this._destroy$.complete();\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  handleKeyDown($event: KeyboardEvent) {\r\n    const keyCode = KeyCode[$event.which];\r\n    if (keyCode) {\r\n      if (this.keyDownFn($event) === false) {\r\n        return;\r\n      }\r\n      this.handleKeyCode($event);\r\n    } else if ($event.key && $event.key.length === 1) {\r\n      this._keyPress$.next($event.key.toLocaleLowerCase());\r\n    }\r\n  }\r\n\r\n  handleKeyCode($event: KeyboardEvent) {\r\n    switch ($event.which) {\r\n      case KeyCode.ArrowDown:\r\n        this._handleArrowDown($event);\r\n        break;\r\n      case KeyCode.ArrowUp:\r\n        this._handleArrowUp($event);\r\n        break;\r\n      case KeyCode.Space:\r\n        this._handleSpace($event);\r\n        break;\r\n      case KeyCode.Enter:\r\n        this._handleEnter($event);\r\n        break;\r\n      case KeyCode.Tab:\r\n        this._handleTab($event);\r\n        break;\r\n      case KeyCode.Esc:\r\n        this.close();\r\n        $event.preventDefault();\r\n        break;\r\n      case KeyCode.Backspace:\r\n        this._handleBackspace();\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleMousedown($event: MouseEvent) {\r\n    const target = $event.target as HTMLElement;\r\n    if (target.tagName !== 'INPUT') {\r\n      $event.preventDefault();\r\n    }\r\n\r\n    if (target.classList.contains('j-clear-wrapper')) {\r\n      this.handleClearClick();\r\n      return;\r\n    }\r\n\r\n    if (target.classList.contains('j-arrow-wrapper')) {\r\n      this.handleArrowClick();\r\n      return;\r\n    }\r\n\r\n    if (target.classList.contains('j-value-icon')) {\r\n      return;\r\n    }\r\n    if (!this.focused) {\r\n      this.focus();\r\n    }\r\n    if (this.searchable) {\r\n      this.open();\r\n    } else {\r\n      this.toggle();\r\n    }\r\n  }\r\n\r\n  onContainerClick($event: MouseEvent) {\r\n    this.handleMousedown($event);\r\n  }\r\n\r\n  handleArrowClick() {\r\n    if (this.isOpen) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  handleClearClick() {\r\n    if (this.hasValue) {\r\n      this.itemsList.clearSelected(true);\r\n      this._updateNgModel();\r\n    }\r\n    this._clearSearch();\r\n    this.focus();\r\n    this.clearEvent.emit();\r\n\r\n    this._onSelectionChanged();\r\n  }\r\n\r\n  clearModel() {\r\n    if (!this.clearable) {\r\n      return;\r\n    }\r\n    this.itemsList.clearSelected();\r\n    this._updateNgModel();\r\n  }\r\n\r\n  writeValue(value: any | any[]): void {\r\n    this.itemsList.clearSelected();\r\n    this._handleWriteValue(value);\r\n    this._cd.markForCheck();\r\n    // this.stateChanges.next();\r\n  }\r\n\r\n  /** @todo connect to aria?\r\n   * JFormFieldControl.\r\n   * @docs-private\r\n   */\r\n  setDescribedByIds(ids: string[]) {\r\n    // this._ariaDescribedby = ids.join(' ');\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(state: boolean): void {\r\n    this._disabled = state;\r\n    // this._cd.markForCheck();\r\n    // this.stateChanges.next();\r\n  }\r\n\r\n  toggle() {\r\n    if (!this.isOpen) {\r\n      this.open();\r\n    } else {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  open() {\r\n    if (\r\n      this.disabled ||\r\n      this.isOpen ||\r\n      this.itemsList.maxItemsSelected ||\r\n      this._manualOpen\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!this._isTypeahead && !this.addTag && this.itemsList.noItemsToSelect) {\r\n      return;\r\n    }\r\n    this.isOpen = true;\r\n    this.itemsList.markSelectedOrDefault(this.markFirst);\r\n    this.openEvent.emit();\r\n    if (this.searchable && !this.searchTerm) {\r\n      this.focus();\r\n    }\r\n    this.detectChanges();\r\n  }\r\n\r\n  close() {\r\n    if (!this.isOpen || this._manualOpen) {\r\n      return;\r\n    }\r\n    this.isOpen = false;\r\n    if (!this._editableSearchTerm) {\r\n      this._clearSearch();\r\n    } else {\r\n      this.itemsList.resetFilteredItems();\r\n    }\r\n    this.itemsList.unmarkItem();\r\n    this._onTouched();\r\n    this.closeEvent.emit();\r\n    this.stateChanges.next();\r\n    this._cd.markForCheck();\r\n  }\r\n\r\n  toggleItem(item: NgOption, event?: Event) {\r\n    if (event) {\r\n      event.stopPropagation();\r\n    }\r\n    if (!item || item.disabled || this.disabled) {\r\n      return;\r\n    }\r\n\r\n    if (this.multiple && item.selected) {\r\n      this.unselect(item);\r\n    } else {\r\n      this.select(item);\r\n    }\r\n\r\n    if (this._editableSearchTerm) {\r\n      this._setSearchTermFromItems();\r\n    }\r\n\r\n    this._onSelectionChanged();\r\n  }\r\n\r\n  select(item: NgOption) {\r\n    if (!item.selected) {\r\n      this.itemsList.select(item);\r\n      if (this.clearSearchOnAdd && !this._editableSearchTerm) {\r\n        this._clearSearch();\r\n      }\r\n\r\n      this._updateNgModel();\r\n      if (this.multiple) {\r\n        this.addEvent.emit(item.value);\r\n      }\r\n    }\r\n\r\n    if (this.closeOnSelect || this.itemsList.noItemsToSelect) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  focus() {\r\n    this.searchInput.nativeElement.focus();\r\n  }\r\n\r\n  blur() {\r\n    this.searchInput.nativeElement.blur();\r\n  }\r\n\r\n  unselect(item: NgOption) {\r\n    if (!item) {\r\n      return;\r\n    }\r\n\r\n    this.itemsList.unselect(item);\r\n    this.focus();\r\n    this._updateNgModel();\r\n    this.removeEvent.emit(item);\r\n  }\r\n\r\n  selectTag() {\r\n    let tag;\r\n    if (isFunction(this.addTag)) {\r\n      tag = (<AddTagFn>this.addTag)(this.searchTerm);\r\n    } else {\r\n      tag = this._primitive\r\n        ? this.searchTerm\r\n        : { [this.bindLabel]: this.searchTerm };\r\n    }\r\n\r\n    const handleTag = (item) =>\r\n      this._isTypeahead || !this.isOpen\r\n        ? this.itemsList.mapItem(item, null)\r\n        : this.itemsList.addItem(item);\r\n    if (isPromise(tag)) {\r\n      tag.then((item) => this.select(handleTag(item))).catch(() => {});\r\n    } else if (tag) {\r\n      this.select(handleTag(tag));\r\n    }\r\n  }\r\n\r\n  showClear() {\r\n    return (\r\n      this.clearable && (this.hasValue || this.searchTerm) && !this.disabled\r\n    );\r\n  }\r\n\r\n  trackByOption = (_: number, item: NgOption) => {\r\n    if (this.trackByFn) {\r\n      return this.trackByFn(item.value);\r\n    }\r\n\r\n    return item;\r\n  };\r\n\r\n  get showAddTag() {\r\n    if (!this._validTerm) {\r\n      return false;\r\n    }\r\n\r\n    const term = this.searchTerm.toLowerCase().trim();\r\n    return (\r\n      this.addTag &&\r\n      !this.itemsList.filteredItems.some(\r\n        (x) => x.label.toLowerCase() === term\r\n      ) &&\r\n      ((!this.hideSelected && this.isOpen) ||\r\n        !this.selectedItems.some((x) => x.label.toLowerCase() === term)) &&\r\n      !this.loading\r\n    );\r\n  }\r\n\r\n  showNoItemsFound() {\r\n    const empty = this.itemsList.filteredItems.length === 0;\r\n    return (\r\n      ((empty && !this._isTypeahead && !this.loading) ||\r\n        (empty && this._isTypeahead && this._validTerm && !this.loading)) &&\r\n      !this.showAddTag\r\n    );\r\n  }\r\n\r\n  showTypeToSearch() {\r\n    const empty = this.itemsList.filteredItems.length === 0;\r\n    return empty && this._isTypeahead && !this._validTerm && !this.loading;\r\n  }\r\n\r\n  onCompositionStart() {\r\n    this._isComposing = true;\r\n  }\r\n\r\n  onCompositionEnd(term: string) {\r\n    this._isComposing = false;\r\n    if (this.searchWhileComposing) {\r\n      return;\r\n    }\r\n\r\n    this.filter(term);\r\n  }\r\n\r\n  filter(term: string) {\r\n    if (this._isComposing && !this.searchWhileComposing) {\r\n      return;\r\n    }\r\n\r\n    this.searchTerm = term;\r\n    if (this._isTypeahead && (this._validTerm || this.minTermLength === 0)) {\r\n      this.typeahead.next(term);\r\n    }\r\n\r\n    if (!this._isTypeahead) {\r\n      this.itemsList.filter(this.searchTerm);\r\n      if (this.isOpen) {\r\n        this.itemsList.markSelectedOrDefault(this.markFirst);\r\n      }\r\n    }\r\n\r\n    this.searchEvent.emit({\r\n      term,\r\n      items: this.itemsList.filteredItems.map((x) => x.value),\r\n    });\r\n    this.open();\r\n  }\r\n\r\n  onInputFocus($event?) {\r\n    if (this.focused) {\r\n      return;\r\n    }\r\n\r\n    if (this._editableSearchTerm) {\r\n      this._setSearchTermFromItems();\r\n    }\r\n    this.element.classList.add('j-select-focused');\r\n    this.focusEvent.emit($event);\r\n    this.focused = true;\r\n    /**\r\n     * @todo possible issue with autofocus with change after checking\r\n     */\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  onInputBlur($event) {\r\n    this.element.classList.remove('j-select-focused');\r\n    this.blurEvent.emit($event);\r\n    if (!this.isOpen && !this.disabled) {\r\n      this._onTouched();\r\n      this.stateChanges.next();\r\n      this._cd.markForCheck();\r\n    }\r\n    if (this._editableSearchTerm) {\r\n      this._setSearchTermFromItems();\r\n    }\r\n    this.focused = false;\r\n  }\r\n\r\n  onItemHover(item: NgOption) {\r\n    if (item.disabled) {\r\n      return;\r\n    }\r\n    this.itemsList.markItem(item);\r\n  }\r\n\r\n  detectChanges() {\r\n    if (!(<any>this._cd).destroyed) {\r\n      this._cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  private _setSearchTermFromItems() {\r\n    const selected = this.selectedItems && this.selectedItems[0];\r\n    this.searchTerm = (selected && selected.label) || null;\r\n  }\r\n\r\n  private _setItems(items: any[]) {\r\n    const firstItem = items[0];\r\n    this.bindLabel = this.bindLabel || this._defaultLabel;\r\n    this._primitive = isDefined(firstItem)\r\n      ? !isObject(firstItem)\r\n      : this._primitive || this.bindLabel === this._defaultLabel;\r\n    this.itemsList.setItems(items);\r\n    if (items.length > 0 && this.hasValue) {\r\n      this.itemsList.mapSelectedItems();\r\n    }\r\n    if (this.isOpen && isDefined(this.searchTerm) && !this._isTypeahead) {\r\n      this.itemsList.filter(this.searchTerm);\r\n    }\r\n    if (this._isTypeahead || this.isOpen) {\r\n      this.itemsList.markSelectedOrDefault(this.markFirst);\r\n    }\r\n  }\r\n\r\n  private _setItemsFromNgOptions() {\r\n    const mapNgOptions = (options: QueryList<JOptionComponent>) => {\r\n      this.items = options.map((option) => ({\r\n        $ngOptionValue: option.value,\r\n        $ngOptionLabel: option.elementRef.nativeElement.innerHTML,\r\n        disabled: option.disabled,\r\n      }));\r\n      this.itemsList.setItems(this.items);\r\n      if (this.hasValue) {\r\n        this.itemsList.mapSelectedItems();\r\n      }\r\n      this.detectChanges();\r\n    };\r\n\r\n    const handleOptionChange = () => {\r\n      const changedOrDestroyed = merge(this.ngOptions.changes, this._destroy$);\r\n      merge(...this.ngOptions.map((option) => option.stateChange$))\r\n        .pipe(takeUntil(changedOrDestroyed))\r\n        .subscribe((option) => {\r\n          const item = this.itemsList.findItem(option.value);\r\n          item.disabled = option.disabled;\r\n          item.label = option.label || item.label;\r\n          // this.stateChanges.next()\r\n          // this._cd.markForCheck();\r\n        });\r\n    };\r\n\r\n    this.ngOptions.changes\r\n      .pipe(startWith(this.ngOptions), takeUntil(this._destroy$))\r\n      .subscribe((options) => {\r\n        this.bindLabel = this._defaultLabel;\r\n        mapNgOptions(options);\r\n        handleOptionChange();\r\n      });\r\n  }\r\n\r\n  private _isValidWriteValue(value: any): boolean {\r\n    if (\r\n      !isDefined(value) ||\r\n      (this.multiple && value === '') ||\r\n      (Array.isArray(value) && value.length === 0)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    const validateBinding = (item: any): boolean => {\r\n      if (!isDefined(this.compareWith) && isObject(item) && this.bindValue) {\r\n        // this._console.warn(\r\n        //   `Binding object(${JSON.stringify(\r\n        //     item\r\n        //   )}) with bindValue is not allowed.`\r\n        // );\r\n        return false;\r\n      }\r\n      return true;\r\n    };\r\n\r\n    if (this.multiple) {\r\n      if (!Array.isArray(value)) {\r\n        // this._console.warn('Multiple select ngModel should be array.');\r\n        return false;\r\n      }\r\n      return value.every((item) => validateBinding(item));\r\n    } else {\r\n      return validateBinding(value);\r\n    }\r\n  }\r\n\r\n  private _handleWriteValue(ngModel: any | any[]) {\r\n    if (!this._isValidWriteValue(ngModel)) {\r\n      return;\r\n    }\r\n\r\n    const select = (val: any) => {\r\n      let item = this.itemsList.findItem(val);\r\n      if (item) {\r\n        this.itemsList.select(item);\r\n      } else {\r\n        const isValObject = isObject(val);\r\n        const isPrimitive = !isValObject && !this.bindValue;\r\n        if (isValObject || isPrimitive) {\r\n          this.itemsList.select(this.itemsList.mapItem(val, null));\r\n        } else if (this.bindValue && val) {\r\n          item = {\r\n            [this.bindLabel]: null,\r\n            [this.bindValue]: val,\r\n          };\r\n          this.itemsList.select(this.itemsList.mapItem(item, null));\r\n        }\r\n      }\r\n    };\r\n\r\n    if (this.multiple) {\r\n      (<any[]>ngModel).forEach((item) => select(item));\r\n    } else {\r\n      select(ngModel);\r\n    }\r\n  }\r\n\r\n  private _handleKeyPresses() {\r\n    if (this.searchable) {\r\n      return;\r\n    }\r\n\r\n    this._keyPress$\r\n      .pipe(\r\n        takeUntil(this._destroy$),\r\n        tap((letter) => this._pressedKeys.push(letter)),\r\n        debounceTime(200),\r\n        filter(() => this._pressedKeys.length > 0),\r\n        map(() => this._pressedKeys.join(''))\r\n      )\r\n      .subscribe((term) => {\r\n        const item = this.itemsList.findByLabel(term);\r\n        if (item) {\r\n          if (this.isOpen) {\r\n            this.itemsList.markItem(item);\r\n            // this._cd.markForCheck();\r\n            // this.stateChanges.next();\r\n          } else {\r\n            this.select(item);\r\n          }\r\n        }\r\n        this._pressedKeys = [];\r\n      });\r\n  }\r\n\r\n  private _setInputAttributes() {\r\n    const input = this.searchInput.nativeElement;\r\n    const attributes = {\r\n      type: 'text',\r\n      autocorrect: 'off',\r\n      autocapitalize: 'off',\r\n      autocomplete: this.labelForId ? 'off' : this.dropdownId,\r\n      ...this.inputAttrs,\r\n    };\r\n\r\n    for (const key of Object.keys(attributes)) {\r\n      input.setAttribute(key, attributes[key]);\r\n    }\r\n  }\r\n\r\n  private _updateNgModel() {\r\n    const model = [];\r\n    for (const item of this.selectedItems) {\r\n      if (this.bindValue) {\r\n        let value = null;\r\n        if (item.children) {\r\n          const groupKey = this.groupValue\r\n            ? this.bindValue\r\n            : <string>this.groupBy;\r\n          value = item.value[groupKey || <string>this.groupBy];\r\n        } else {\r\n          value = this.itemsList.resolveNested(item.value, this.bindValue);\r\n        }\r\n        model.push(value);\r\n      } else {\r\n        model.push(item.value);\r\n      }\r\n    }\r\n\r\n    const selected = this.selectedItems.map((x) => x.value);\r\n    if (this.multiple) {\r\n      this._onChange(model);\r\n      this.changeEvent.emit(selected);\r\n    } else {\r\n      this._onChange(isDefined(model[0]) ? model[0] : null);\r\n      this.changeEvent.emit(selected[0]);\r\n    }\r\n\r\n    // this._cd.markForCheck();\r\n    // this.stateChanges.next();\r\n  }\r\n\r\n  private _clearSearch() {\r\n    if (!this.searchTerm) {\r\n      return;\r\n    }\r\n\r\n    this._changeSearch(null);\r\n    this.itemsList.resetFilteredItems();\r\n  }\r\n\r\n  private _changeSearch(searchTerm: string) {\r\n    this.searchTerm = searchTerm;\r\n    if (this._isTypeahead) {\r\n      this.typeahead.next(searchTerm);\r\n    }\r\n  }\r\n\r\n  private _scrollToMarked() {\r\n    if (!this.isOpen || !this.dropdownPanel) {\r\n      return;\r\n    }\r\n    this.dropdownPanel.scrollTo(this.itemsList.markedItem);\r\n  }\r\n\r\n  private _scrollToTag() {\r\n    if (!this.isOpen || !this.dropdownPanel) {\r\n      return;\r\n    }\r\n    this.dropdownPanel.scrollToTag();\r\n  }\r\n\r\n  private _onSelectionChanged() {\r\n    if (this.isOpen && this.multiple && this.appendTo) {\r\n      // Make sure items are rendered.\r\n      // this._cd.markForCheck();\r\n      // this.stateChanges.next();\r\n      this.dropdownPanel.adjustPosition();\r\n    }\r\n  }\r\n\r\n  private _handleTab($event: KeyboardEvent) {\r\n    if (this.isOpen === false && !this.addTag) {\r\n      return;\r\n    }\r\n\r\n    if (this.selectOnTab) {\r\n      if (this.itemsList.markedItem) {\r\n        this.toggleItem(this.itemsList.markedItem);\r\n        $event.preventDefault();\r\n      } else if (this.showAddTag) {\r\n        this.selectTag();\r\n        $event.preventDefault();\r\n      } else {\r\n        this.close();\r\n      }\r\n    } else {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  private _handleEnter($event: KeyboardEvent) {\r\n    if (this.isOpen || this._manualOpen) {\r\n      if (this.itemsList.markedItem) {\r\n        this.toggleItem(this.itemsList.markedItem);\r\n      } else if (this.showAddTag) {\r\n        this.selectTag();\r\n      }\r\n    } else if (this.openOnEnter) {\r\n      this.open();\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    $event.preventDefault();\r\n  }\r\n\r\n  private _handleSpace($event: KeyboardEvent) {\r\n    if (this.isOpen || this._manualOpen) {\r\n      return;\r\n    }\r\n    this.open();\r\n    $event.preventDefault();\r\n  }\r\n\r\n  private _handleArrowDown($event: KeyboardEvent) {\r\n    if (this._nextItemIsTag(+1)) {\r\n      this.itemsList.unmarkItem();\r\n      this._scrollToTag();\r\n    } else {\r\n      this.itemsList.markNextItem();\r\n      this._scrollToMarked();\r\n    }\r\n    this.open();\r\n    $event.preventDefault();\r\n  }\r\n\r\n  private _handleArrowUp($event: KeyboardEvent) {\r\n    if (!this.isOpen) {\r\n      return;\r\n    }\r\n\r\n    if (this._nextItemIsTag(-1)) {\r\n      this.itemsList.unmarkItem();\r\n      this._scrollToTag();\r\n    } else {\r\n      this.itemsList.markPreviousItem();\r\n      this._scrollToMarked();\r\n    }\r\n    $event.preventDefault();\r\n  }\r\n\r\n  private _nextItemIsTag(nextStep: number): boolean {\r\n    const nextIndex = this.itemsList.markedIndex + nextStep;\r\n    return (\r\n      this.addTag &&\r\n      this.searchTerm &&\r\n      this.itemsList.markedItem &&\r\n      (nextIndex < 0 || nextIndex === this.itemsList.filteredItems.length)\r\n    );\r\n  }\r\n\r\n  private _handleBackspace() {\r\n    if (\r\n      this.searchTerm ||\r\n      !this.clearable ||\r\n      !this.clearOnBackspace ||\r\n      !this.hasValue\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (this.multiple) {\r\n      this.unselect(this.itemsList.lastSelectedItem);\r\n    } else {\r\n      this.clearModel();\r\n    }\r\n  }\r\n\r\n  private get _isTypeahead() {\r\n    return this.typeahead && this.typeahead.observers.length > 0;\r\n  }\r\n\r\n  private get _validTerm() {\r\n    const term = this.searchTerm && this.searchTerm.trim();\r\n    return term && term.length >= this.minTermLength;\r\n  }\r\n\r\n  private _mergeGlobalConfig(config: JSelectConfig) {\r\n    this.placeholder = this.placeholder || config.placeholder;\r\n    this.notFoundText = this.notFoundText || config.notFoundText;\r\n    this.typeToSearchText = this.typeToSearchText || config.typeToSearchText;\r\n    this.addTagText = this.addTagText || config.addTagText;\r\n    this.loadingText = this.loadingText || config.loadingText;\r\n    this.clearAllText = this.clearAllText || config.clearAllText;\r\n    this.virtualScroll = isDefined(this.virtualScroll)\r\n      ? this.virtualScroll\r\n      : isDefined(config.disableVirtualScroll)\r\n      ? !config.disableVirtualScroll\r\n      : false;\r\n    this.openOnEnter = isDefined(this.openOnEnter)\r\n      ? this.openOnEnter\r\n      : config.openOnEnter;\r\n    this.appendTo = this.appendTo || config.appendTo;\r\n    this.bindValue = this.bindValue || config.bindValue;\r\n    this.appearance = this.appearance || config.appearance;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { JDropdownPanelComponent } from './select-dropdown-panel.component';\nimport { JOptionComponent } from './select-option.component';\nimport { JSelectComponent, SELECTION_MODEL_FACTORY } from './select.component';\nimport {\n    JFooterTemplateDirective,\n    JHeaderTemplateDirective,\n    JLabelTemplateDirective,\n    JLoadingSpinnerTemplateDirective,\n    JLoadingTextTemplateDirective,\n    JMultiLabelTemplateDirective,\n    JNotFoundTemplateDirective,\n    JOptgroupTemplateDirective,\n    JOptionTemplateDirective,\n    JTagTemplateDirective,\n    JItemLabelDirective,\n    JTypeToSearchTemplateDirective\n} from './select-tpl.directive';\nimport { DefaultSelectionModelFactory } from './select.types';\nimport { NgxMaskModule } from 'ngx-mask';\nimport { SharedModule } from '@shared/shared.module';\n\n@NgModule({\n    declarations: [\n        JDropdownPanelComponent,\n        JOptionComponent,\n        JSelectComponent,\n        JOptgroupTemplateDirective,\n        JOptionTemplateDirective,\n        JLabelTemplateDirective,\n        JMultiLabelTemplateDirective,\n        JHeaderTemplateDirective,\n        JFooterTemplateDirective,\n        JNotFoundTemplateDirective,\n        JTypeToSearchTemplateDirective,\n        JLoadingTextTemplateDirective,\n        JTagTemplateDirective,\n        JLoadingSpinnerTemplateDirective,\n        JItemLabelDirective,\n    ],\n    imports: [\n        CommonModule,\n        SharedModule,\n        NgxMaskModule.forChild()\n    ],\n    exports: [\n        JSelectComponent,\n        JOptionComponent,\n        JOptgroupTemplateDirective,\n        JOptionTemplateDirective,\n        JLabelTemplateDirective,\n        JMultiLabelTemplateDirective,\n        JHeaderTemplateDirective,\n        JFooterTemplateDirective,\n        JNotFoundTemplateDirective,\n        JTypeToSearchTemplateDirective,\n        JLoadingTextTemplateDirective,\n        JTagTemplateDirective,\n        JLoadingSpinnerTemplateDirective\n    ],\n    providers: [\n        { provide: SELECTION_MODEL_FACTORY, useValue: DefaultSelectionModelFactory }\n    ]\n})\nexport class SelectModule {}\n","export interface NgOption {\n  [name: string]: any;\n  index?: number;\n  htmlId?: string;\n  selected?: boolean;\n  disabled?: boolean;\n  marked?: boolean;\n  label?: string;\n  value?: string | Object;\n  parent?: NgOption;\n  children?: NgOption[];\n}\n\nexport enum KeyCode {\n  Tab = 9,\n  Enter = 13,\n  Esc = 27,\n  Space = 32,\n  ArrowUp = 38,\n  ArrowDown = 40,\n  Backspace = 8\n}\n\nexport type SelectionModelFactory = () => SelectionModel;\n\nexport function DefaultSelectionModelFactory() {\n    return new DefaultSelectionModel();\n}\n\nexport interface SelectionModel {\n    value: NgOption[];\n    select(item: NgOption, multiple: boolean, selectableGroupAsModel: boolean);\n    unselect(item: NgOption, multiple: boolean);\n    clear(keepDisabled: boolean);\n}\n\nexport class DefaultSelectionModel implements SelectionModel {\n    private _selected: NgOption[] = [];\n\n    get value(): NgOption[] {\n        return this._selected;\n    }\n\n    select(item: NgOption, multiple: boolean, groupAsModel: boolean) {\n        item.selected = true;\n        if (!item.children || (!multiple && groupAsModel)) {\n            this._selected.push(item);\n        }\n        if (multiple) {\n            if (item.parent) {\n                const childrenCount = item.parent.children.length;\n                const selectedCount = item.parent.children.filter(x => x.selected).length;\n                item.parent.selected = childrenCount === selectedCount;\n            } else if (item.children) {\n                this._setChildrenSelectedState(item.children, true);\n                this._removeChildren(item);\n                if (groupAsModel && this._activeChildren(item)) {\n                    this._selected = [...this._selected.filter(x => x.parent !== item), item]\n                } else {\n                    this._selected = [...this._selected, ...item.children.filter(x => !x.disabled)];\n                }\n            }\n        }\n    }\n\n    unselect(item: NgOption, multiple: boolean) {\n        this._selected = this._selected.filter(x => x !== item);\n        item.selected = false;\n        if (multiple) {\n            if (item.parent && item.parent.selected) {\n                const children = item.parent.children;\n                this._removeParent(item.parent);\n                this._removeChildren(item.parent);\n                this._selected.push(...children.filter(x => x !== item && !x.disabled));\n                item.parent.selected = false;\n            } else if (item.children) {\n                this._setChildrenSelectedState(item.children, false);\n                this._removeChildren(item);\n            }\n        }\n    }\n\n    clear(keepDisabled: boolean) {\n        this._selected = keepDisabled ? this._selected.filter(x => x.disabled) : [];\n    }\n\n    private _setChildrenSelectedState(children: NgOption[], selected: boolean) {\n        for (const child of children) {\n            if (child.disabled) {\n                continue;\n            }\n            child.selected = selected;\n        };\n    }\n\n    private _removeChildren(parent: NgOption) {\n        this._selected = [\n            ...this._selected.filter(x => x.parent !== parent),\n            ...parent.children.filter(x => x.parent === parent && x.disabled && x.selected)\n        ];\n    }\n\n    private _removeParent(parent: NgOption) {\n        this._selected = this._selected.filter(x => x !== parent)\n    }\n\n    private _activeChildren(item: NgOption): boolean {\n        return item.children.every(x => !x.disabled || x.selected);\n    }\n}\n","import { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n        return source.lift(new AuditOperator(durationSelector));\n    };\n}\nclass AuditOperator {\n    constructor(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    }\n}\nclass AuditSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, durationSelector) {\n        super(destination);\n        this.durationSelector = durationSelector;\n        this.hasValue = false;\n    }\n    _next(value) {\n        this.value = value;\n        this.hasValue = true;\n        if (!this.throttled) {\n            let duration;\n            try {\n                const { durationSelector } = this;\n                duration = durationSelector(value);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n            const innerSubscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n            if (!innerSubscription || innerSubscription.closed) {\n                this.clearThrottle();\n            }\n            else {\n                this.add(this.throttled = innerSubscription);\n            }\n        }\n    }\n    clearThrottle() {\n        const { value, hasValue, throttled } = this;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = undefined;\n            throttled.unsubscribe();\n        }\n        if (hasValue) {\n            this.value = undefined;\n            this.hasValue = false;\n            this.destination.next(value);\n        }\n    }\n    notifyNext() {\n        this.clearThrottle();\n    }\n    notifyComplete() {\n        this.clearThrottle();\n    }\n}\n","import { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler = async) {\n    return audit(() => timer(duration, scheduler));\n}\n","import { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nexport class AsapAction extends AsyncAction {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        if (delay !== null && delay > 0) {\n            return super.requestAsyncId(scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return super.recycleAsyncId(scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    }\n}\n","import { AsyncScheduler } from './AsyncScheduler';\nexport class AsapScheduler extends AsyncScheduler {\n    flush(action) {\n        this.active = true;\n        this.scheduled = undefined;\n        const { actions } = this;\n        let error;\n        let index = -1;\n        let count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\nexport const asapScheduler = new AsapScheduler(AsapAction);\nexport const asap = asapScheduler;\n","let nextHandle = 1;\nconst RESOLVED = (() => Promise.resolve())();\nconst activeHandles = {};\nfunction findAndClearHandle(handle) {\n    if (handle in activeHandles) {\n        delete activeHandles[handle];\n        return true;\n    }\n    return false;\n}\nexport const Immediate = {\n    setImmediate(cb) {\n        const handle = nextHandle++;\n        activeHandles[handle] = true;\n        RESOLVED.then(() => findAndClearHandle(handle) && cb());\n        return handle;\n    },\n    clearImmediate(handle) {\n        findAndClearHandle(handle);\n    },\n};\nexport const TestTools = {\n    pending() {\n        return Object.keys(activeHandles).length;\n    }\n};\n"],"names":[],"sourceRoot":"webpack:///"}