{"version":3,"file":"main.js","mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;ACpRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnSA","sources":["./src/app/accounts/account.model.ts","./src/app/accounts/services/accounts.service.ts","./src/app/analytics/analytics.module.ts","./src/app/analytics/services/instances/amplitude.ts","./src/app/analytics/services/instances/gtag.ts","./src/app/analytics/services/instances/index.ts","./src/app/analytics/services/manager/index.ts","./src/app/analytics/services/manager/manager.service.abstract.ts","./src/app/analytics/services/manager/manager.service.ts","./src/app/api/api.module.ts","./src/app/api/api.service.ts","./src/app/api/errors.ts","./src/app/api/index.ts","./src/app/api/status.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/auth/auth.model.ts","./src/app/auth/auth.service.ts","./src/app/authorities/models/authorities.model.ts","./src/app/authorities/models/index.ts","./src/app/authorities/models/permissions.model.ts","./src/app/authorities/services/authorities.service.ts","./src/app/authorities/services/authority-limits.service.ts","./src/app/authorities/services/authority-permissions.service.ts","./src/app/authorities/services/index.ts","./src/app/company/company.model.ts","./src/app/company/company.service.ts","./src/app/company/index.ts","./src/app/company/recipients.service.ts","./src/app/config/circleProgress.config.ts","./src/app/config/heartbeat.config.ts","./src/app/config/ngxMaskConfig.ts","./src/app/config/translate.ts","./src/app/core/components/index.ts","./src/app/core/components/ngb-datepicker-i18n/ngb-datepicker-i18n.component.ts","./src/app/core/core.module.ts","./src/app/feature-flags/feature-flags.model.ts","./src/app/feature-flags/feature-flags.module.ts","./src/app/feature-flags/feature-flags.service.ts","./src/app/feature-flags/index.ts","./src/app/filter/filter.model.ts","./src/app/heartbeat/heartbeat.component.ts","./src/app/heartbeat/heartbeat.module.ts","./src/app/heartbeat/heartbeat.service.ts","./src/app/home/home-routes.ts","./src/app/http-interceptors/auth.interceptor.ts","./src/app/http-interceptors/index.ts","./src/app/http-interceptors/jmart-cabinet.interceptor.ts","./src/app/http-interceptors/prevent-send-request-before-response-interceptor.service.ts","./src/app/jmart-cabinet/services/jmart-auth.service.ts","./src/app/payments/components/limit-not-passed-modal/limit-not-passed-modal.component.ts","./src/app/payments/components/working-time-modal/working-time-modal.component.ts","./src/app/payments/models/steps.ts","./src/app/payments/payments-routes.ts","./src/app/payments/services/payment-api.service.ts","./src/app/payments/services/payments.service.ts","./src/app/shared/animations/index.ts","./src/app/shared/animations/router.ts","./src/app/shared/components/animated-loading/animated-loading.component.ts","./src/app/shared/components/aside/aside.component.ts","./src/app/shared/components/collapsible/collapsible-body/collapsible-body.component.ts","./src/app/shared/components/collapsible/collapsible-trigger/collapsible-trigger.component.ts","./src/app/shared/components/collapsible/collapsible.component.ts","./src/app/shared/components/confirm-sms-modal/confirm-sms-modal.component.ts","./src/app/shared/components/conversion-confirm/conversion-confirm.component.ts","./src/app/shared/components/copyright/copyright.component.ts","./src/app/shared/components/empty-placeholder/empty-placeholder.component.ts","./src/app/shared/components/entity-logo/entity-logo.component.ts","./src/app/shared/components/environment-change/environment-change.component.ts","./src/app/shared/components/error-placeholder/error-placeholder.component.ts","./src/app/shared/components/footer/footer.component.ts","./src/app/shared/components/header/header.component.ts","./src/app/shared/components/import/import.component.ts","./src/app/shared/components/index.ts","./src/app/shared/components/kbe-info/kbe-info.component.ts","./src/app/shared/components/lang-list/lang-list.component.ts","./src/app/shared/components/list-item/list-item.component.ts","./src/app/shared/components/list/list.component.ts","./src/app/shared/components/mobile/mobile.component.ts","./src/app/shared/components/modal/modal.component.ts","./src/app/shared/components/money/money.component.ts","./src/app/shared/components/new-password/new-password.component.ts","./src/app/shared/components/otp/otp.component.ts","./src/app/shared/components/password-requirement/password-requirement.component.ts","./src/app/shared/components/payment-select/payment-select.component.ts","./src/app/shared/components/restricted-placeholder/restricted-placeholder.component.ts","./src/app/shared/components/sidebar/sidebar.component.ts","./src/app/shared/components/sms-error/sms-error.component.ts","./src/app/shared/components/sms/sms.component.ts","./src/app/shared/components/statuses/statuses.component.ts","./src/app/shared/components/switch/switch.component.ts","./src/app/shared/components/toggle/toggle.component.ts","./src/app/shared/components/uploading-files/uploading-files.component.ts","./src/app/shared/components/yandex-maps/config.ts","./src/app/shared/components/yandex-maps/yandex-maps.component.ts","./src/app/shared/currencies-list/currencies-list.service.abstract.ts","./src/app/shared/currencies-list/currensies-list.service.ts","./src/app/shared/currency/currency.model.ts","./src/app/shared/date-picker/date-picker.component.ts","./src/app/shared/directives/badge.directive.ts","./src/app/shared/directives/clamp.directive.ts","./src/app/shared/directives/collapsible/collapsible-body.directive.ts","./src/app/shared/directives/collapsible/collapsible-trigger.directive.ts","./src/app/shared/directives/collapsible/collapsible.directive.ts","./src/app/shared/directives/current-user-phone.directive.ts","./src/app/shared/directives/cursor-bound.directive.ts","./src/app/shared/directives/dnd.directive.ts","./src/app/shared/directives/dynamic-prefix.directive.ts","./src/app/shared/directives/index.ts","./src/app/shared/directives/invalid-control-scroll.directive.ts","./src/app/shared/directives/lock-keyboard-input.directive.ts","./src/app/shared/directives/normalize-amount.directive.ts","./src/app/shared/directives/on-return.directive.ts","./src/app/shared/directives/replace-dot.directive.ts","./src/app/shared/directives/replace-on-paste.directive.ts","./src/app/shared/directives/shadow.directive.ts","./src/app/shared/directives/uppercase-input.directive.ts","./src/app/shared/employee/components/employee-edit-item/employee-edit-item.component.ts","./src/app/shared/employee/components/employee-group-control/employee-group-control.component.ts","./src/app/shared/employee/components/saved-employee/saved-employee.component.ts","./src/app/shared/employee/employee.model.ts","./src/app/shared/employee/employee.service.ts","./src/app/shared/employee/index.ts","./src/app/shared/employee/modals/edit-saved-employee/edit-saved-employee.component.ts","./src/app/shared/employee/modals/employees-modal/employees-modal.component.ts","./src/app/shared/employee/modals/saved-employee-list/saved-employee-list.component.ts","./src/app/shared/exchange-rates/components/bank-dropdown/bank-dropdown.component.ts","./src/app/shared/exchange-rates/components/currency-selector/currency-selector.component.ts","./src/app/shared/exchange-rates/components/exchange-rates-list/exchange-rates-list.component.ts","./src/app/shared/exchange-rates/exchange-rates.component.ts","./src/app/shared/exchange-rates/exchange-rates.model.ts","./src/app/shared/exchange-rates/exchange-rates.service.ts","./src/app/shared/exchange-rates/index.ts","./src/app/shared/f-page/f-page-body/f-page-body.component.ts","./src/app/shared/f-page/f-page-extra/f-page-extra.component.ts","./src/app/shared/f-page/f-page-header/f-page-header.component.ts","./src/app/shared/f-page/f-page.component.ts","./src/app/shared/f-page/index.ts","./src/app/shared/form-field/bottom-line.ts","./src/app/shared/form-field/error.component.ts","./src/app/shared/form-field/error.status.ts","./src/app/shared/form-field/form-field-control.ts","./src/app/shared/form-field/form-field.animations.ts","./src/app/shared/form-field/form-field.component.ts","./src/app/shared/form-field/form-input.ts","./src/app/shared/form-field/hint.directive.ts","./src/app/shared/form-field/label.directive.ts","./src/app/shared/form-field/prefix.directive.ts","./src/app/shared/form-field/suffix.directive.ts","./src/app/shared/form-field/utils.ts","./src/app/shared/guards/is-authenticated.guard.ts","./src/app/shared/guards/is-not-authenticated.guard.ts","./src/app/shared/icon/icon.component.ts","./src/app/shared/icon/icon.ts","./src/app/shared/input-shadow/input-shadow.component.ts","./src/app/shared/input/amount-input/amount-input.component.ts","./src/app/shared/input/country-codes/country-codes.component.ts","./src/app/shared/input/date-input/date-input.component.ts","./src/app/shared/input/dropdown-input/dropdown-input.component.ts","./src/app/shared/input/iban-input/iban-input.component.ts","./src/app/shared/input/iin-input/iin-input.component.ts","./src/app/shared/input/index.ts","./src/app/shared/input/input.component.ts","./src/app/shared/input/multi-select-dropdown-input/multi-select-dropdown-input.component.ts","./src/app/shared/input/password-input/password-input.component.ts","./src/app/shared/input/period-input/period-input.component.ts","./src/app/shared/input/phone-input/phone-input.component.ts","./src/app/shared/input/phone-prefix-input/phone-prefix-input.component.ts","./src/app/shared/input/range-input/range-input.component.ts","./src/app/shared/input/search-input/search-input.component.ts","./src/app/shared/input/sms-input/sms-input.component.ts","./src/app/shared/layout-home/layout-home.component.ts","./src/app/shared/layout-home/main/main.component.ts","./src/app/shared/loading/loading.component.ts","./src/app/shared/loading/loading.directive.ts","./src/app/shared/masked/masked.service.ts","./src/app/shared/masked/masked.ts","./src/app/shared/modals/import-error/import-error.component.ts","./src/app/shared/modals/import-partial-error/import-partial-error.component.ts","./src/app/shared/modals/import-partial-success/import-partial-success.component.ts","./src/app/shared/modals/import-success/import-success.component.ts","./src/app/shared/modals/index.ts","./src/app/shared/modals/list-modal/list-modal.component.ts","./src/app/shared/modals/maintenance-modal/maintenance-modal.component.ts","./src/app/shared/models/bulk.ts","./src/app/shared/models/contracts.ts","./src/app/shared/models/dictionary.ts","./src/app/shared/models/file.ts","./src/app/shared/models/import.ts","./src/app/shared/models/index.ts","./src/app/shared/models/letter.ts","./src/app/shared/models/otp.ts","./src/app/shared/models/payment.ts","./src/app/shared/models/signature.ts","./src/app/shared/models/sms.ts","./src/app/shared/models/statuses.ts","./src/app/shared/models/token.ts","./src/app/shared/models/user.ts","./src/app/shared/nav/index.ts","./src/app/shared/nav/nav-auth/nav-auth.component.ts","./src/app/shared/nav/nav-item/nav-item.component.ts","./src/app/shared/nav/nav-main/nav-main.component.ts","./src/app/shared/nav/nav.service.ts","./src/app/shared/pipes/amount-format.pipe.ts","./src/app/shared/pipes/bank-account-name.pipe.ts","./src/app/shared/pipes/bank-from-account.pipe.ts","./src/app/shared/pipes/cur-symbol.pipe.ts","./src/app/shared/pipes/date-format.pipe.ts","./src/app/shared/pipes/format-iban.pipe.ts","./src/app/shared/pipes/highlight.pipe.ts","./src/app/shared/pipes/index.ts","./src/app/shared/pipes/linkify.pipe.ts","./src/app/shared/pipes/mask-iban.pipe.ts","./src/app/shared/pipes/mask-phone.pipe.ts","./src/app/shared/pipes/money.pipe.ts","./src/app/shared/pipes/pure-function.pipe.ts","./src/app/shared/pipes/svg-path.pipe.ts","./src/app/shared/pipes/track-by-property.pipe.ts","./src/app/shared/responsive-toolkit/constants.ts","./src/app/shared/responsive-toolkit/is-breakpoint.pipe.ts","./src/app/shared/responsive-toolkit/responsive-detector.component.ts","./src/app/shared/responsive-toolkit/responsive-toolkit.module.ts","./src/app/shared/responsive-toolkit/responsive-toolkit.service.ts","./src/app/shared/services/app-state.service.ts","./src/app/shared/services/dictionaries.service.ts","./src/app/shared/services/files.service.ts","./src/app/shared/services/header.service.ts","./src/app/shared/services/index.ts","./src/app/shared/services/j-modal.service.ts","./src/app/shared/services/lang.service.ts","./src/app/shared/services/list.service.ts","./src/app/shared/services/payments-shared.service.ts","./src/app/shared/services/platform.ts","./src/app/shared/services/sms.service.ts","./src/app/shared/services/user.service.ts","./src/app/shared/shared.module.ts","./src/app/shared/table/directives/index.ts","./src/app/shared/table/directives/selection-container.directive.ts","./src/app/shared/table/directives/selection-row.directive.ts","./src/app/shared/table/index.ts","./src/app/shared/token/token.service.ts","./src/app/shared/validators/account.ts","./src/app/shared/validators/errors.ts","./src/app/shared/validators/index.ts","./src/app/shared/validators/misc.ts","./src/app/shared/validators/utils.ts","./src/app/statement/models/statement.model.ts","./src/app/statement/models/transaction.model.ts","./src/app/statement/statement.service.ts","./src/app/utils/api.ts","./src/app/utils/compare-operations.ts","./src/app/utils/dates.ts","./src/app/utils/index.ts","./src/app/utils/keyBy.ts","./src/app/utils/misc.ts","./src/app/utils/pick.ts","./src/app/utils/reactive.ts","./src/app/utils/routes.ts","./src/app/utils/simple-store.ts","./src/app/utils/typed-reactive-form-helper.ts","./src/app/utils/types.ts","./src/environments/environment.ts","./src/main.ts","./src/app/utils/clamp.js","/Users/madinurpanov/Documents/GitHub/jysan-web/node_modules/moment/locale|sync|/^\\.\\/.*$/","ignored|/Users/madinurpanov/Documents/GitHub/jysan-web/node_modules/crypto-js|crypto"],"sourcesContent":["import { IMoney } from '@shared/currency/currency.model';\r\n\r\nimport { Card } from '@cards/models';\r\nimport { GeneralDictionary } from '@core/models';\r\n\r\nexport type IAccountDropdownOption =\r\n  | RegularAccount\r\n  | Deposit\r\n  | Card\r\n  | Partial<RegularAccount>\r\n  | Partial<Deposit>\r\n  | Partial<Card>;\r\n\r\nexport enum ACCOUNT_TYPE {\r\n  ACCOUNT = 'ACCOUNT',\r\n  DEPOSIT = 'DEPOSIT',\r\n  CARD = 'CARD',\r\n  ALL = 'ALL',\r\n}\r\n\r\nexport enum ACCOUNT_STATE {\r\n  OPENED = 'OPENED',\r\n  CLOSED = 'CLOSED',\r\n}\r\n\r\nexport enum ACCOUNT_BLOCK_TYPE {\r\n  LOCK = 'LOCK', // \r\n  NOLOCK = 'NOLOCK', // \r\n  LIMLOCK = 'LIMLOCK', //   \r\n  PARTLOCK = 'PARTLOCK', // \r\n}\r\n\r\nexport enum ACCOUNT_STATUS {\r\n  OPENED = 'OPENED',\r\n  CLOSED = 'CLOSED',\r\n  MIGRATED = 'MIGRATED',\r\n}\r\n\r\nexport enum GRANTS {\r\n  AVAILABLE = 'AVAILABLE',\r\n  UNAVAILABLE = 'UNAVAILABLE',\r\n}\r\n\r\n// TODO:   Account    \r\nexport class RegularAccount {\r\n  id: string;\r\n  alterCode: string;\r\n  accountType: ACCOUNT_TYPE;\r\n  balance: IMoney;\r\n  iban: string;\r\n  state: ACCOUNT_STATE;\r\n  blockType: ACCOUNT_BLOCK_TYPE;\r\n  isSelected?: boolean;\r\n\r\n  companyId: string;\r\n  created: Date;\r\n  hasFailedMigrations: boolean;\r\n  irreducibleBalance: number;\r\n  openDate: string;\r\n  status: ACCOUNT_STATUS;\r\n\r\n  isFirstAtfInTheList?: boolean = false;\r\n\r\n  constructor(account) {\r\n    Object.assign(this, account);\r\n  }\r\n\r\n  get hasAtfIban() {\r\n    if (!this.alterCode) {\r\n      return false;\r\n    }\r\n\r\n    return (\r\n      this.alterCode.length === 20 &&\r\n      this.alterCode.substring(0, 2) === 'KZ' &&\r\n      this.alterCode.substring(4, 7) === '826'\r\n    );\r\n  }\r\n\r\n  get maskedIban() {\r\n    return this.maskIban(this.iban);\r\n  }\r\n\r\n  get maskedAlterCode() {\r\n    return this.maskIban(this.alterCode);\r\n  }\r\n\r\n  get hasLockedState() {\r\n    return this.blockType !== ACCOUNT_BLOCK_TYPE.NOLOCK;\r\n  }\r\n\r\n  get isMigrated() {\r\n    return this.status === ACCOUNT_STATUS.MIGRATED;\r\n  }\r\n\r\n  get isLocked() {\r\n    return this.blockType === ACCOUNT_BLOCK_TYPE.LOCK;\r\n  }\r\n\r\n  get isClosed() {\r\n    return this.state === ACCOUNT_STATE.CLOSED;\r\n  }\r\n\r\n  private maskIban(iban: string) {\r\n    if (!iban) {\r\n      return '';\r\n    }\r\n\r\n    return `${iban.substring(0, 4)}  ${iban.substring(\r\n      iban.length - 4,\r\n      iban.length\r\n    )}`;\r\n  }\r\n}\r\n\r\nexport class Deposit extends RegularAccount {\r\n  accountType = ACCOUNT_TYPE.DEPOSIT;\r\n  depositType: GeneralDictionary;\r\n\r\n  additionalDetails: {\r\n    addPay: boolean;\r\n    clientAccount: string;\r\n    maxSum: number;\r\n    payOut: boolean;\r\n  };\r\n\r\n  constructor(account) {\r\n    super(account);\r\n  }\r\n}\r\n\r\nexport class IUserGrant {\r\n  userId: string;\r\n  firstname: string;\r\n  middlename: string;\r\n  lastname: string;\r\n  userAuthorityId: string;\r\n  position: string;\r\n  authority: string;\r\n  accountGrantType: string;\r\n  initials: string;\r\n  role: string;\r\n  sign: string;\r\n  color: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { filter, map, switchMap } from 'rxjs/operators';\r\nimport { of, from, Subject, BehaviorSubject } from 'rxjs';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { SimpleStore, SingleEntityStore } from '@utils/index';\r\n\r\nimport { ApiService } from '@api/api.service';\r\n\r\nimport { RegularAccount, Deposit, IUserGrant } from '@accounts/account.model';\r\nimport { IStatement } from '@statement/index';\r\n\r\nimport { IFilterScheme } from '@filter/filter.model';\r\n\r\nimport { CompanyService } from '@company/company.service';\r\nimport { StatementService } from '@statement/statement.service';\r\nimport { AUTHORITY_TYPE } from '@shared/models';\r\n\r\nimport { ACCOUNT_TYPE } from '../account.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AccountsService {\r\n  store: SimpleStore<RegularAccount | Deposit> = new SimpleStore([]);\r\n  storeForTotal: SingleEntityStore<number> = new SingleEntityStore(0);\r\n\r\n  private accountsList$ = new BehaviorSubject<(RegularAccount | Deposit)[]>([]);\r\n  private accountsList: (RegularAccount | Deposit)[];\r\n\r\n  private cashedStatement: IStatement;\r\n  private cashedFilter: IFilterScheme;\r\n  private cashedPageNumber: number;\r\n  private cashedPageSize: number;\r\n\r\n  private mergeDate$ = new Subject<string>();\r\n\r\n  constructor(\r\n    private company: CompanyService,\r\n    private api: ApiService,\r\n    private datePipe: DatePipe,\r\n    private translateService: TranslateService,\r\n    private statementService: StatementService\r\n  ) {\r\n    this.company.refresh$\r\n      .pipe(\r\n        switchMap(([user, userAuthority, isAuthorized]) => {\r\n          if (\r\n            user &&\r\n            userAuthority &&\r\n            userAuthority.companyId &&\r\n            isAuthorized\r\n          ) {\r\n            return this.getAccountsAsObservable(userAuthority.companyId);\r\n            //from(this.getAccounts(userAuthority.companyId));\r\n          }\r\n          return of(null);\r\n        })\r\n      )\r\n      .subscribe((accountsList) => {\r\n        if (accountsList) {\r\n          this.store.setState(accountsList);\r\n        } else {\r\n          this.store.purge();\r\n        }\r\n      });\r\n  }\r\n\r\n  async retrieveAccounts() {\r\n    const url = `companies/${this.company.currentId}/accounts`;\r\n    const accountsList = await this.api.get<RegularAccount[]>(url);\r\n\r\n    return accountsList.map((account) => {\r\n      switch (account.accountType) {\r\n        case ACCOUNT_TYPE.DEPOSIT:\r\n          return new Deposit(account);\r\n\r\n        case ACCOUNT_TYPE.ACCOUNT:\r\n        default:\r\n          return new RegularAccount(account);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getAccounts(companyId: string = this.company.currentId) {\r\n    this.store.fetching = true;\r\n\r\n    const url = `companies/${companyId}/accounts`;\r\n    const accountsList = await this.api.get<(RegularAccount | Deposit)[]>(url);\r\n\r\n    this.accountsList = accountsList.map((account) => {\r\n      switch (account.accountType) {\r\n        case ACCOUNT_TYPE.DEPOSIT:\r\n          return new Deposit(account);\r\n\r\n        case ACCOUNT_TYPE.ACCOUNT:\r\n        default:\r\n          return new RegularAccount(account);\r\n      }\r\n    });\r\n\r\n    this.store.fetching = false;\r\n    this.store.fetched = true;\r\n    this.store.setState(this.accountsList);\r\n\r\n    this.accountsList$.next(this.accountsList);\r\n\r\n    return this.accountsList;\r\n  }\r\n\r\n  getAccountsList() {\r\n    return this.accountsList$.asObservable();\r\n  }\r\n\r\n  getDepositName(deposit: Deposit) {\r\n    return (\r\n      deposit.depositType?.descriptionTranslations?.translations[\r\n        this.translateService.currentLang\r\n      ] || this.translateService.instant('DEPOSITS.DEFAULT_NAME')\r\n    );\r\n  }\r\n\r\n  getAccountsAsObservable(companyId: string = this.company.currentId) {\r\n    this.store.fetching = true;\r\n\r\n    const url = `companies/${companyId}/accounts`;\r\n\r\n    return this.api.getObservable<(RegularAccount | Deposit)[]>(url).pipe(\r\n      map((retrievedList) => {\r\n        this.accountsList = retrievedList.map((account) => {\r\n          switch (account.accountType) {\r\n            case ACCOUNT_TYPE.DEPOSIT:\r\n              return new Deposit(account);\r\n\r\n            case ACCOUNT_TYPE.ACCOUNT:\r\n            default:\r\n              return new RegularAccount(account);\r\n          }\r\n        });\r\n\r\n        this.store.fetching = false;\r\n        this.store.fetched = true;\r\n        this.store.setState(this.accountsList);\r\n\r\n        this.accountsList$.next(this.accountsList);\r\n\r\n        return this.accountsList;\r\n      })\r\n    );\r\n  }\r\n\r\n  async getAccountByIban(companyId: string, iban: string) {\r\n    if (this.accountsList) {\r\n      return this.findByIban(iban, this.accountsList);\r\n    } else {\r\n      const list = await this.getAccounts(companyId);\r\n      return this.findByIban(iban, list);\r\n    }\r\n  }\r\n\r\n  async getDeposits(companyId: string = this.company.currentId) {\r\n    const url = `companies/${companyId}/deposits`;\r\n\r\n    const depositsList = await this.api.get<Deposit[]>(url);\r\n    return depositsList.map((deposit) => {\r\n      return new Deposit(deposit);\r\n    });\r\n  }\r\n\r\n  async fetchStatement(companyId: string, iban: string, filter: IFilterScheme) {\r\n    const url = `companies/${companyId}/accounts/${iban}/statements`;\r\n\r\n    const headers = new HttpHeaders();\r\n\r\n    const body = {\r\n      account: iban,\r\n      from: this.datePipe.transform(filter.periodFrom, 'yyyy-MM-dd'),\r\n      to: this.datePipe.transform(filter.periodTo, 'yyyy-MM-dd'),\r\n    };\r\n\r\n    const statement = await this.api.post<IStatement>(url, body, headers);\r\n\r\n    return statement;\r\n  }\r\n\r\n  async getStatement(\r\n    iban: string,\r\n    filter: IFilterScheme,\r\n    pageNumber: number = 1,\r\n    pageSize: number = 50,\r\n    exportType: string = null,\r\n    companyId: string = this.company.currentId\r\n  ): Promise<IStatement> {\r\n    if (\r\n      this.cashedStatement &&\r\n      this.cashedFilter === filter &&\r\n      this.cashedPageNumber === pageNumber &&\r\n      this.cashedPageSize === pageSize &&\r\n      !exportType\r\n    ) {\r\n      return this.cashedStatement;\r\n    }\r\n\r\n    const url = `companies/${companyId}/accounts/${iban}/statements`;\r\n    let isNextPage;\r\n\r\n    if (exportType) {\r\n      isNextPage = false;\r\n    } else {\r\n      isNextPage =\r\n        this.cashedFilter === filter && pageNumber > this.cashedPageNumber;\r\n    }\r\n\r\n    try {\r\n      const accountStatement = await this.statementService.getStatement(\r\n        url,\r\n        filter,\r\n        this.cashedStatement,\r\n        isNextPage,\r\n        pageNumber,\r\n        pageSize,\r\n        false,\r\n        exportType\r\n      );\r\n\r\n      if (exportType) {\r\n        return accountStatement;\r\n      }\r\n\r\n      this.cashedFilter = filter;\r\n      this.cashedPageNumber = pageNumber;\r\n      this.cashedPageSize = pageSize;\r\n\r\n      this.cashedStatement = accountStatement;\r\n\r\n      return this.cashedStatement;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async getQrPrint(\r\n    companyId: string,\r\n    companyiban: string,\r\n    companykbe: string,\r\n    companyknp: string\r\n  ) {\r\n    const url = `companies/${this.company.currentId}/account/qr/print`;\r\n\r\n    let headers = new HttpHeaders();\r\n\r\n    headers = headers.set('Content-Type', 'application/octet-stream');\r\n\r\n    let params = new HttpParams();\r\n\r\n    params = params.append('iban', companyiban);\r\n    params = params.append('knp', companyknp);\r\n    params = params.append('kbe', companykbe);\r\n\r\n    const extras = {\r\n      responseType: 'blob',\r\n    };\r\n\r\n    return this.api.get(url, headers, params, extras);\r\n  }\r\n\r\n  async getPdf(companyId: string, iban: string) {\r\n    const url = `companies/${companyId}/accounts/${iban}/requisites`;\r\n\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Accept-File', 'application/pdf');\r\n    headers = headers.set('Content-Type', 'application/octet-stream');\r\n\r\n    const params = new HttpParams();\r\n    const extras = {\r\n      responseType: 'blob',\r\n    };\r\n\r\n    return this.api.get(url, headers, params, extras);\r\n  }\r\n\r\n  async getPdfWithMultipleIbans(companyId: string, ibans: string[]) {\r\n    const url = `companies/${companyId}/accounts/ibans/requisites`;\r\n\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Accept-File', 'application/pdf');\r\n    headers = headers.set('Content-Type', 'application/octet-stream');\r\n\r\n    let params = new HttpParams();\r\n    ibans.forEach((iban) => {\r\n      params = params.append('iban', iban);\r\n    });\r\n    const extras = {\r\n      responseType: 'blob',\r\n    };\r\n\r\n    return this.api.get(url, headers, params, extras);\r\n  }\r\n\r\n  getMergeDate() {\r\n    return this.mergeDate$.asObservable();\r\n  }\r\n\r\n  async retrieveMergeDate() {\r\n    const url = `properties/merge-day`;\r\n    const mergeDate = await this.api.get<string>(url);\r\n\r\n    this.mergeDate$.next(mergeDate);\r\n  }\r\n\r\n  private findByIban(iban: string, list: (RegularAccount | Deposit)[]) {\r\n    const found = list.find((account) => {\r\n      return account.iban === iban;\r\n    });\r\n    return found;\r\n  }\r\n\r\n  async retrieveTotalLimitations(\r\n    companyId: string = this.company.currentId,\r\n    accountId: string\r\n  ) {\r\n    this.storeForTotal.fetching = true;\r\n\r\n    const url = `companies/${companyId}/accounts/${accountId}/grants/blocked-users/count`;\r\n    const total = await this.api.get<number>(url);\r\n    this.storeForTotal.fetching = false;\r\n    this.storeForTotal.fetched = true;\r\n    this.storeForTotal.entity = total;\r\n\r\n    return total;\r\n  }\r\n\r\n  get storeForTotal$(): AccountsService['storeForTotal']['entity$'] {\r\n    return this.storeForTotal.entity$.pipe(\r\n      filter((n) => {\r\n        return n !== null;\r\n      })\r\n    );\r\n  }\r\n\r\n  async getAccountsGrants(\r\n    companyId: string = this.company.currentId,\r\n    accountId: string\r\n  ) {\r\n    const url = `companies/${companyId}/accounts/${accountId}/grants`;\r\n    return (await this.api.get<IUserGrant[]>(url)).map((user) => ({\r\n      ...user,\r\n      initials: this.retrieveInitials(user),\r\n      role: this.mapRole(user),\r\n      sign: this.mapSignText(user),\r\n      color: this.mapInitialsColor(user),\r\n    }));\r\n  }\r\n\r\n  async setAccountGrant(\r\n    companyId: string = this.company.currentId,\r\n    accountId: string,\r\n    body\r\n  ) {\r\n    const url = `companies/${companyId}/accounts/${accountId}/grants`;\r\n    return await this.api.put(url, body);\r\n  }\r\n\r\n  private mapRole(person: IUserGrant) {\r\n    switch (person.authority) {\r\n      case AUTHORITY_TYPE.PRIMARY_SIGNATURE:\r\n        return this.mapAuthoritiesPrefix('HEAD');\r\n      case AUTHORITY_TYPE.SECONDARY_SIGNATURE:\r\n        return this.mapAuthoritiesPrefix('MAIN_ACCOUNTANT');\r\n      case AUTHORITY_TYPE.NO_SIGNATURE:\r\n      default:\r\n        return this.mapAuthoritiesPrefix('ACCOUNTANT');\r\n    }\r\n  }\r\n\r\n  private mapAuthoritiesPrefix(key: string) {\r\n    return this.mapTranslatePrefix('AUTHORITIES', key);\r\n  }\r\n\r\n  private mapTranslatePrefix(domain: string, key: string) {\r\n    return `SETTINGS.${domain}.${key}`;\r\n  }\r\n\r\n  private mapSignText(person: IUserGrant) {\r\n    switch (person.authority) {\r\n      case AUTHORITY_TYPE.PRIMARY_SIGNATURE:\r\n        return this.mapAuthoritiesPrefix('FIRST_SIGN');\r\n      case AUTHORITY_TYPE.SECONDARY_SIGNATURE:\r\n        return this.mapAuthoritiesPrefix('SECOND_SIGN');\r\n      case AUTHORITY_TYPE.NO_SIGNATURE:\r\n      default:\r\n        return this.mapAuthoritiesPrefix('NO_SIGN');\r\n    }\r\n  }\r\n\r\n  private mapInitialsColor(person: IUserGrant) {\r\n    switch (person.authority) {\r\n      case AUTHORITY_TYPE.PRIMARY_SIGNATURE:\r\n        return 'first-sign';\r\n      case AUTHORITY_TYPE.SECONDARY_SIGNATURE:\r\n        return 'second-sign';\r\n      case AUTHORITY_TYPE.NO_SIGNATURE:\r\n      default:\r\n        return 'no-sign';\r\n    }\r\n  }\r\n\r\n  private retrieveInitials(person: IUserGrant) {\r\n    return `${person.lastname[0]}${person.firstname[0]}`;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AnalyticsManagerAbstract, AnalyticsManager } from './services/manager';\n\n@NgModule({\n  declarations: [],\n  providers: [\n    {\n      provide: AnalyticsManagerAbstract,\n      useClass: AnalyticsManager\n    }\n  ],\n  imports: [\n    CommonModule,\n  ]\n})\nexport class AnalyticsModule { }\n","\nimport { environment } from '@environments/environment';\nimport amplitude from 'amplitude-js';\nimport { AnalyticsInstance } from '../../interfaces/instance.interface';\n\nexport class AmplitudeAnalytics implements AnalyticsInstance {\n\n    private instance;\n\n    constructor(\n    ) {\n        this.instance = amplitude.getInstance();\n        const apiKey = window && window['env'] && window['env']['AmplitudeApiKey'] || environment.amplitudeApiKey;\n        this.instance.init(apiKey);\n    }\n\n    logEvent(eventName: string, params) {\n        this.instance.logEvent(\n            eventName,\n            params,\n        );\n    }\n\n    setUserProperties(props) {\n        const identify = new amplitude.Identify();\n        Object.entries(props).forEach((key, value) => {\n            identify.set(key, value)\n        });\n        this.instance.indentify(identify);\n    }\n\n    setUserId(id: string) {\n        this.instance.setUserId(id);\n    }\n}\n","import { AnalyticsInstance } from '../../interfaces/instance.interface';\n\nexport class GtagAnalytics implements AnalyticsInstance {\n\n    private gtag;\n\n    constructor() {\n        this.gtag = window && window['gtag'] || (() => {});\n        this.gtag('config', window && window['env'] && window['env']['gaTrackingId']);\n    }\n\n    public logEvent(eventName: string, params = {}) {\n        this.gtag('event', eventName, params);\n    }\n\n    public setUserProperties(props) {\n        this.gtag('set', 'user_properties', props);\n    }\n\n    public setUserId(user_id: string) {\n        this.gtag('config',  window && window['env'] && window['env']['gaTrackingId'], {\n            user_id\n        });\n    }\n\n}\n","\nimport { AnalyticsInstance } from '../../interfaces/instance.interface';\nimport { AmplitudeAnalytics } from './amplitude';\nimport { GtagAnalytics } from './gtag';\n\nexport type availableAnalytics = 'gtag' | 'amplitude';\n\nexport type AnalyticsInstances = Partial<{\n    [key in availableAnalytics]: AnalyticsInstance\n}>;\n\nexport const analyticsInstances: AnalyticsInstances = {\n    amplitude: new AmplitudeAnalytics(),\n    gtag: new GtagAnalytics(),\n};\n","\nexport * from './manager.service';\nexport * from './manager.service.abstract';\n","\nimport { AnalyticsInstance } from '../../interfaces/instance.interface';\nimport { availableAnalytics } from '../instances';\n\nexport abstract class AnalyticsManagerAbstract {\n    /**\n     * Log event to all analytic instances(firebase, amplitude and others)\n     * @returns void\n     */\n    public abstract logEvent(eventName: string, params: { [key: string]: unknown }, instanceKey?: availableAnalytics): void;\n\n    /**\n     * field to store analytics instances, each instance must implelemnt common AnalyticInstance interface\n     */\n    instances: Map<string, AnalyticsInstance> = new Map();\n\n    /**\n     * Returns the analytic instance for a specific key\n     * Useful to extract specific instance and do something with instance, for example set specific user properties\n     * @param  {string} key\n     * @returns AnalyticsInstance\n     */\n    abstract getInstance(key: availableAnalytics): AnalyticsInstance;\n\n    /**\n     * @param  {{[key:string]:string}} props\n     * Set user properties\n     */\n    abstract setUserProperties(props: { [key: string]: string }): void;\n\n    abstract setUserId(id: string): void;\n} ;\n","import { Injectable } from '@angular/core';\nimport { AnalyticsInstance } from '../../interfaces/instance.interface';\nimport { analyticsInstances, availableAnalytics } from '../instances';\nimport { AnalyticsManagerAbstract } from './manager.service.abstract';\n\n@Injectable()\nexport class AnalyticsManager extends AnalyticsManagerAbstract {\n    constructor() {\n        super();\n        this.instances = new Map(Object.entries(analyticsInstances));\n    }\n\n    public logEvent(eventName: string, params, instanceKey?: availableAnalytics): void {\n        if (!instanceKey) {\n            this.instances.forEach((instance) => {\n                instance.logEvent(eventName, params);\n            });\n        } else {\n            const instance = this.getInstance(instanceKey);\n            instance.logEvent(eventName, params);\n        }\n    }\n    \n    getInstance(key: availableAnalytics): AnalyticsInstance {\n        return this.instances.get(key);\n    }\n\n    setUserProperties(props: { [key: string]: string; }): void {\n        this.instances.forEach(instance => instance.setUserProperties(props));\n    }\n\n    setUserId(id: string): void {\n        this.instances.forEach(instance => instance.setUserId(id));\n    }\n\n};\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\n\nimport { ApiService } from './api.service';\n\nexport interface IApiConfig {\n  baseUrl: string;\n}\n\n@NgModule({\n  declarations: [],\n  imports: [CommonModule, HttpClientModule],\n  exports: [HttpClientModule],\n})\nexport class ApiModule {\n  static forRoot(config: IApiConfig): ModuleWithProviders<ApiModule> {\n    return {\n      ngModule: ApiModule,\n      providers: [ApiService, { provide: 'config', useValue: config }],\n    };\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n  HttpClient,\n  HttpHeaders,\n  HttpParams,\n  HttpErrorResponse,\n} from '@angular/common/http';\n\nimport { Observable, of, throwError } from 'rxjs';\nimport { catchError, take } from 'rxjs/operators';\n\nimport { ERRORS } from './errors';\nimport { IApiConfig } from './api.module';\n\nexport interface EndPoints {}\n\nexport enum HEADERS {\n  AUTHORIZATION = 'Authorization',\n  SMS = 'SMSAuthorization',\n  PHONE = 'PhoneAuthorization',\n  EMAIL = 'EmailAuthorization',\n  DEVICE = 'DeviceAuthorization',\n  OTP = 'OTPAuthorization',\n  SKIP_OFFLINE_INTERCEPTOR = 'X-Skip-Interceptor',\n}\n\nexport enum SMS_HEADERS {\n  REGISTER = 'REGISTRATION_JB',\n  RESTORE = 'RECOVERY_ACCESS_JB',\n  SIGNING_PAYMENT = 'SIGNING_PAYMENT',\n  AUTHORIZATION = 'AUTHORIZATION_JB',\n  SIGNING_PACKAGE = 'SIGNING_PACKAGE',\n  OPENING_ACCOUNT = 'OPENING_ACCOUNT',\n}\n\nexport interface IError {\n  code: string;\n  status: number;\n  data?: any;\n  description?: string;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ApiService {\n  endPoints;\n  public baseUrl: string;\n\n  constructor(\n    @Inject('config') private config: IApiConfig,\n    private http: HttpClient,\n    private router: Router\n  ) {\n    this.baseUrl = config.baseUrl;\n  }\n\n  // resolve(url: string, params?) {\n  //   if (!params) {\n  //     return url;\n  //   }\n  //   const resolved = Object.keys(params).reduce((acc, param) => {\n  //     return acc.replace(`::${param}`, params[param]);\n  //   }, url);\n  //   return resolved;\n  // }\n\n  /**\n   * Performs GET request via http client\n   *\n   * @param url request url. Empty by default.\n   */\n  async get<T>(\n    urlPath: string = '',\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    try {\n      const getResult = await this.http\n        .get<T>(url, this.getOptions(headers, params, extras))\n        .toPromise();\n      return getResult;\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  /**\n   * Performs GET request via http client with body\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async getWithBody<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n\n    try {\n      return await this.http\n        .request<T>('get', url, {\n          body,\n          ...this.getOptions(headers, params),\n        })\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  getV2Observable<T>(\n    urlPath: string = '',\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl.replace('/v1', '')}/${urlPath}`;\n    return this.http.get<T>(url, this.getOptions(headers, params, extras)).pipe(\n      catchError((response, caught) => {\n        return throwError(this.mapError(response));\n      })\n    );\n  }\n\n  postV2Observable<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl.replace('/v1', '')}/${urlPath}`;\n    return this.http\n      .post<T>(url, body, this.getOptions(headers, params, extras))\n      .pipe(\n        catchError((response, caught) => {\n          return throwError(this.mapError(response));\n        })\n      );\n  }\n\n  getObservable<T>(\n    urlPath: string = '',\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    return this.http.get<T>(url, this.getOptions(headers, params, extras)).pipe(\n      catchError((response, caught) => {\n        return throwError(this.mapError(response));\n      })\n    );\n  }\n\n  /**\n   * Performs POST request via http client\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async post<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    try {\n      return await this.http\n        .post<T>(\n          url,\n          body,\n          this.getOptions(\n            headers,\n            params,\n            extras,\n            body instanceof FormData ? true : false\n          )\n        )\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response, extras);\n    }\n  }\n\n  postObservable<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null,\n    extras: any = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    return this.http\n      .post<T>(\n        url,\n        body,\n        this.getOptions(\n          headers,\n          params,\n          extras,\n          body instanceof FormData ? true : false\n        )\n      )\n      .pipe(\n        catchError((response, caught) => {\n          return throwError(this.mapError(response));\n        })\n      );\n  }\n\n  /**\n   * Performs PATCH request via http client\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async patch<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    try {\n      return await this.http\n        .patch<T>(url, body, this.getOptions(headers, params))\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  /**\n   * Performs PUT request via http client\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async put<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n    try {\n      return await this.http\n        .put<T>(url, body, this.getOptions(headers, params))\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  /**\n   * Performs PUT request via http client\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async deleteWithBody<T>(\n    urlPath: string = '',\n    body: any = {},\n    headers: HttpHeaders = null,\n    params: HttpParams = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n\n    try {\n      return await this.http\n        .request<T>('delete', url, {\n          body,\n          ...this.getOptions(headers, params),\n        })\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  /**\n   * Performs PUT request via http client\n   *\n   * @param url request url. Empty by default.\n   * @param body request body\n   */\n  async delete<T>(\n    urlPath: string = '',\n    headers: HttpHeaders = null,\n    params: HttpParams = null\n  ) {\n    const url = `${this.baseUrl}/${urlPath}`;\n\n    try {\n      return await this.http\n        .delete<T>(url, this.getOptions(headers, params))\n        .toPromise();\n    } catch (response) {\n      throw this.mapError(response);\n    }\n  }\n\n  /**\n   * Extracts data from Error response and return as IError object\n   *\n   * @param errorResponse HttpErrorResponse\n   */\n  mapError(errorResponse: HttpErrorResponse, extras = null): IError {\n    if (extras?.responseType == 'blob') {\n      return errorResponse as any;\n    } else {\n      const error = errorResponse.error;\n      let code = ERRORS.UNKNOWN;\n\n      code =\n        ERRORS[error?.code?.toUpperCase()] ||\n        error?.code ||\n        error?.error ||\n        null;\n\n      if (code == ERRORS.INVALID_TOKEN) {\n        this.router.navigateByUrl('auth');\n      }\n\n      const data = error?.data || null;\n      const description =\n        error?.description ||\n        error?.error_description ||\n        error?.message ||\n        null;\n\n      return {\n        status: errorResponse.status,\n        code,\n        data,\n        description,\n      };\n    }\n  }\n\n  /**\n   * Updates http options for matching type\n   *\n   * @param headers http headers\n   * @param params http params\n   */\n  private getOptions(\n    headers: HttpHeaders,\n    params: HttpParams,\n    extras: any = null,\n    disableContentType: boolean = false\n  ): object {\n    let options: any = {};\n    if (params) {\n      options.params = params;\n    }\n    if (headers) {\n      if (!headers.has('Content-Type') && !disableContentType) {\n        headers = headers.append('Content-Type', 'application/json');\n      }\n      options.headers = headers;\n    } else if (!disableContentType) {\n      headers = new HttpHeaders();\n      headers = headers.append('Content-Type', 'application/json');\n      options.headers = headers;\n    }\n\n    if (extras) {\n      for (const key in extras) {\n        if (Object.prototype.hasOwnProperty.call(extras, key)) {\n          options[key] = extras[key];\n        }\n      }\n    }\n    return options;\n  }\n}\n","export const ERRORS = {\n  IDENTICAL_PASSWORDS: 'New password can not be same as previous',\n  USED_PASSWORD: 'Can not set old passwords',\n  ARGUMENT_MISSING: 'Body argument missing',\n  HEADER_MISSING: 'Header argument missing',\n  BAD_RESOURCE_ID: 'Bad resource id',\n  RESOURCE_NOT_FOUND: 'No resource found',\n  RESOURCE_BLOCKED: 'Too much attempts, please try later',\n  RESOURCE_EXISTS: 'Such resource already exists',\n  FORBIDDEN: 'Forbidden',\n  BAD_REQUEST: 'Bad Request',\n  DEVICE_NOT_AUTHORIZED: 'Device is not authorized',\n  DEVICE_TOKEN_INVALID: 'Device token is invalid',\n  INVALID_SIGNATURE: 'Invalid signature',\n  SERVICE_UNAVAILABLE: 'Third part api failed to response',\n  INTERNAL_SERVER_ERROR: 'Internal server error',\n  INTEGRATION_ERROR: 'Integration server error',\n  SERVICE_NOT_IMPLEMENTED: 'Service not implemented',\n  DATA_INTEGRITY_VIOLATION:\n    'Data retrieven from two or more core systems does not match. Please contact support.',\n  INVALID_GRANT: 'Bad credentials',\n  AUTHORIZATION_ERROR: 'Bad credentials',\n  PHONE_TOKEN_EXPIRED: 'Phone token is expired',\n  TOKEN_EXPIRED: 'Token is expired',\n  INVALID_PASSWORD: 'Invalid password',\n  USER_BLOCKED: 'User is blocked',\n  INVALID_CODE: 'Invalid code',\n  LIMIT_EXEEDED: 'Limit exeeded',\n\n  UNAUTHORIZED: 'Full authentication is required to access this resource',\n  INVALID_DATA: \"Can't fetch user by iin: recieved empty email from colvir\",\n  INVALID_PHONE_FORMAT: 'The string supplied did not seem to be a phone number',\n  INVALID_TOKEN: 'Invalid access token',\n  ACCESS_DENIED: 'Access is denied',\n  RATE_CHANGED: 'rate_changed',\n  OTP_NOT_FOUND: 'No resource found',\n  UNKNOWN: '  . ,   ',\n};\n\nexport const STATUSES = {\n  ENTITY_TOO_LARGE: 413,\n};\n","export * from './api.module';\nexport * from './api.service';\nexport * from './errors';\nexport * from './status';","export enum STATUS {\n  REJECTED = 'REJECTED',\n  BANK_PROCESSING = 'BANK_PROCESSING',\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { environment } from '@environments/environment';\n\nimport { IsNotAuthenticatedGuard } from '@shared/guards/is-not-authenticated.guard';\nimport { IsAuthenticatedGuard } from '@shared/guards/is-authenticated.guard';\n\nimport { homeRoutes } from './home/home-routes';\n\nconst routes: Routes = [\n  {\n    path: 'jmart-cabinet',\n    loadChildren: () => import('./jmart-cabinet/jmart-cabinet.module').then((m) => m.JmartCabinetModule),\n  },\n  {\n    path: 'auth',\n    canActivate: [IsNotAuthenticatedGuard],\n    loadChildren: () => import('./auth/auth.module').then((m) => m.AuthModule),\n  },\n  {\n    canActivate: [IsAuthenticatedGuard],\n    path: homeRoutes.root,\n    loadChildren: () => import('./home/home.module').then((m) => m.HomeModule),\n  },\n  {\n    path: '**',\n    redirectTo: homeRoutes.root,\n  },\n];\n\nif (!environment.production) {\n  routes.unshift({\n    path: 'theme',\n    loadChildren: () =>\n      import('./theme/theme.module').then((m) => m.ThemeModule),\n  });\n}\n\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, {\n      //  enableTracing: !environment.production\n    }),\n  ],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import {\n  Component,\n  EventEmitter,\n  Output,\n  HostListener,\n  ViewEncapsulation,\n  OnDestroy,\n} from '@angular/core';\nimport { trigger, transition, useAnimation } from '@angular/animations';\nimport { RouterOutlet } from '@angular/router';\n\nimport { combineLatest, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { TranslateService } from '@ngx-translate/core';\nimport { AnimationOptions } from 'ngx-lottie';\n\nimport {\n  moveFromBottomFade,\n  moveFromBottomFadeReverse,\n} from '@shared/animations';\nimport { UserService } from '@shared/services';\n\nimport { HeartbeatService } from '@heartbeat/heartbeat.service';\nimport { ApiService } from '@api/api.service';\nimport { AuthorityPermissionsService } from '@authorities/services';\nimport { LangService } from '@shared/services/lang.service';\nimport { CompanyService } from './company';\nimport { AnalyticsManagerAbstract } from '@analytics/services/manager';\nimport { TokenService } from '@shared/token/token.service';\n\n// import { FeatureFlagsService } from './feature-flags/feature-flags.service';\n// import { CurrencyPaymentService } from '@payments/services';\n// import { CompanyService } from '@company/company.service';\n\n@Component({\n  selector: 'j-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('routeAnimations', [\n      transition('* => routerFadeFromBottom', useAnimation(moveFromBottomFade)),\n      transition('* => void', useAnimation(moveFromBottomFadeReverse)),\n    ]),\n  ],\n})\nexport class AppComponent implements OnDestroy {\n  title = 'Jusan';\n  isReady = false;\n\n  lottieOptions: AnimationOptions = {\n    path: '/assets/lottie/primary.json',\n  };\n\n  @Output() eventHandler: EventEmitter<Event> = new EventEmitter<Event>();\n\n  @HostListener('document:keydown', ['$event'])\n  @HostListener('document:keyup', ['$event'])\n  @HostListener('document:keypress', ['$event'])\n  @HostListener('click', ['$event'])\n  @HostListener('mousemove', ['$event'])\n  @HostListener('mouseup', ['$event'])\n  @HostListener('mousedown', ['$event'])\n  @HostListener('document:scroll', ['$event'])\n  onEvent(event) {\n    this.eventHandler.emit(event);\n  }\n\n  subscription = new Subscription();\n\n  constructor(\n    private tokenService: TokenService,\n    private apiService: ApiService,\n    private heartbeatService: HeartbeatService,\n    private translateService: TranslateService,\n    private userService: UserService,\n    private authorityPermissionsService: AuthorityPermissionsService,\n    private langService: LangService,\n    private companyService: CompanyService,\n    private analytics: AnalyticsManagerAbstract\n  ) {\n    this.updateBaseUrlIfNeeded();\n    this.langService.init();\n    this.appInit();\n    this.setUserId();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  updateBaseUrlIfNeeded() {\n    const baseUrl = localStorage.getItem('baseUrl');\n    if (baseUrl) {\n      this.apiService.baseUrl = baseUrl;\n    }\n  }\n\n  async appInit() {\n    try {\n      await this.heartbeatService.beatRequest();\n    } catch (error) {\n      console.log(error);\n      // this.router.navigate(['auth', 'login'], {\n      //   queryParamsHandling: 'preserve',\n      // });\n    } finally {\n      this.isReady = true;\n    }\n  }\n\n  prepareRoute(outlet: RouterOutlet) {\n    return (\n      outlet &&\n      outlet.activatedRouteData &&\n      outlet.activatedRouteData['animation']\n    );\n  }\n\n  setUserId() {\n    const authorizedPersons$ = this.companyService\n      .getAuthorizedPersons()\n      .pipe(filter((arr) => arr?.length > 0));\n    const currentUser$ = this.userService.getUser();\n    const userIdSubscribtion = combineLatest([\n      authorizedPersons$,\n      currentUser$,\n    ]).subscribe(\n      ([\n        authorizedPersons,\n        { firstname: userFirstname, lastname: userLastname },\n      ]) => {\n        const { userColvirId } = authorizedPersons.find((person) => {\n          return (\n            person?.firstname === userFirstname &&\n            person?.lastname === userLastname\n          );\n        }) || { userColvirId: null };\n\n        if (userColvirId) {\n          this.analytics.setUserId(userColvirId);\n          userIdSubscribtion.unsubscribe();\n        }\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { registerLocaleData } from '@angular/common';\r\n\r\nimport localeRu from '@angular/common/locales/ru';\r\nimport localeKk from '@angular/common/locales/kk';\r\n\r\nimport { ApiModule } from '@api/api.module';\r\nimport { CoreModule } from '@core/core.module';\r\nimport { environment } from '@environments/environment';\r\nimport { HeartbeatModule } from '@heartbeat/heartbeat.module';\r\n\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { MobileComponent } from '@shared/components/mobile/mobile.component';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\n\r\nregisterLocaleData(localeRu);\r\nregisterLocaleData(localeKk);\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, MobileComponent],\r\n  imports: [\r\n    CoreModule,\r\n    AppRoutingModule,\r\n    SharedModule,\r\n    HeartbeatModule,\r\n    ApiModule.forRoot({\r\n      baseUrl: environment.baseUrl,\r\n    }),\r\n  ],\r\n  providers: [\r\n    // tmp, need to find the way to share this value between lazy modules\r\n    // cause each lazy module is a separate child of app injector\r\n    // one of a possible ways is to add interceptor to handle requests to jmart and clone them with value from env\r\n    {\r\n      provide: 'JMART_CABINET_BASE_URL',\r\n      useValue: environment.jmartCabinetBaseUrl,\r\n    },\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { User } from '@shared/models/user';\n\nexport enum PHONE_STATUS {\n  CAN_RESTORE = 'already_registered',\n  CAN_REGISTER = 'can_register',\n  NOT_EXIST = 'not_exist',\n  NEED_EMAIL_CONFIRMATION = 'need_email_confirmation',\n}\n\nexport enum IIN_STATUS {\n  ALREADY_REGISTERED = 'ALREADY_REGISTERED',\n  CAN_REGISTER = 'CAN_REGISTER',\n  INCORRECT_DATA = 'INCORRECT_DATA',\n  INVALID_DATA = 'INVALID_DATA',\n  DOES_NOT_EXIST = 'DOES_NOT_EXIST',\n  BLOCKED = 'BLOCKED',\n}\n\nexport enum IIN_AND_PHONE_STATUS {\n  DATA_MISMATCH = 'DATA_MISMATCH',\n  ALREADY_REGISTERED = 'ALREADY_REGISTERED',\n  CAN_REGISTER = 'CAN_REGISTER',\n  DOES_NOT_EXIST = 'DOES_NOT_EXIST',\n  INCORRECT_DATA = 'INCORRECT_DATA',\n  INVALID_DATA = 'INVALID_DATA',\n  BLOCKED = 'BLOCKED',\n}\n\nexport enum AUTH_TYPE {\n  REGISTER = 'register',\n  RESTORE = 'restore',\n}\n\nexport enum DEVICE_STATUS {\n  VERIFIED = 'VERIFIED',\n}\n\nexport enum DEFAULT_COUNTRY {\n  KAZAKHSTAN = 'Kazakhstan'\n}\nexport enum DEFAULT_COUNTRY_CODE {\n  KAZAKHSTAN = 'KZ'\n}\n\nexport interface IDeviceToken {\n  deviceInfo: any;\n  phone: string;\n  status: DEVICE_STATUS;\n  expiration: Date;\n  created: Date;\n  signature: string;\n}\n\nexport interface IUserToken {\n  access_token: string;\n  expires_in: number;\n  scope: string;\n  token_type: string;\n  user: User;\n}\n\nexport interface ICheckPhoneStatus {\n  status: PHONE_STATUS;\n}\n\nexport interface ICheckIinStatus {\n  status: IIN_STATUS;\n}\n\nexport interface ICheckIinAndPhoneStatus {\n  status: IIN_AND_PHONE_STATUS;\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpParams,\n  HttpHeaders,\n  HttpParameterCodec,\n} from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\nimport { ApiService, HEADERS, ERRORS, SMS_HEADERS } from '@api/index';\n\nimport { TokenService } from '@shared/token/token.service';\nimport { UserService } from '@shared/services/user.service';\nimport { ISmsToken, IEmailToken, TOKEN_TYPE } from '@shared/models';\n\nimport {\n  IDeviceToken,\n  IUserToken,\n  ICheckPhoneStatus,\n  ICheckIinStatus,\n  ICheckIinAndPhoneStatus,\n} from './auth.model';\n\nexport class HttpUrlEncodingCodec implements HttpParameterCodec {\n  encodeKey(k: string): string {\n    return standardEncoding(k);\n  }\n  encodeValue(v: string): string {\n    return standardEncoding(v);\n  }\n  decodeKey(k: string): string {\n    return decodeURIComponent(k);\n  }\n  decodeValue(v: string) {\n    return decodeURIComponent(v);\n  }\n}\nfunction standardEncoding(v: string): string {\n  return encodeURIComponent(v);\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  private smsToken: ISmsToken;\n  private emailToken: IEmailToken;\n  private deviceToken: IDeviceToken;\n\n  currentAuthState: boolean;\n  authEvents$ = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    private api: ApiService,\n    private userService: UserService,\n    private tokenService: TokenService,\n    private router: Router,\n    private modalService: NgbModal\n  ) {\n    if (this.tokenService.getUserToken()) {\n      this.changeAuthState(true);\n    } else {\n      this.changeAuthState(false);\n    }\n  }\n\n  // Auth\n  authEvents() {\n    return this.authEvents$.asObservable();\n  }\n\n  changeAuthState(value: boolean) {\n    if (value !== this.currentAuthState) {\n      this.currentAuthState = value;\n      this.authEvents$.next(this.currentAuthState);\n    }\n  }\n\n  setSmsToken(smsToken: ISmsToken) {\n    this.smsToken = smsToken;\n  }\n\n  get isAuthenticated() {\n    return this.authEvents$.getValue() || false;\n  }\n\n  // Login\n  async login(phone: string, password: string) {\n    const url = `oauth/token`;\n    const body: FormData = new FormData();\n    \n    body.append('username', phone);\n    body.append('password', password);\n\n    let headers = this.tokenService.getBasicHeaders();\n    headers = this.tokenService.applyDeviceHeaders(headers, password);\n\n    const params = new HttpParams().set('grant_type', 'password');\n    const result = await this.api.post<IUserToken>(url, body, headers, params);\n\n    this.tokenService.setUserToken(result.access_token);\n    this.userService.setUser(result.user);\n    this.changeAuthState(true);\n\n    return result;\n  }\n\n  // Logout\n  logout() {\n    this.changeAuthState(false);\n    this.userService.setUser(null);\n    this.tokenService.clearUserToken();\n    this.router.navigateByUrl('auth/login');\n    this.modalService.dismissAll();\n  }\n\n  // Server-side logout\n  async revokeSession() {\n    const url = `oauth/revoke`;\n    const headers = this.tokenService.getBasicHeaders();\n    await this.api.post(url, null, headers);\n  }\n\n  // Device\n  async requestDevice(phone: string, authType: TOKEN_TYPE) {\n    const url = `auth/device/token`;\n    const body = {\n      phone,\n    };\n    const headers = new HttpHeaders().set(\n      HEADERS[authType],\n      this.smsToken.signature\n    );\n\n    this.deviceToken = await this.api.post<IDeviceToken>(url, body, headers);\n    return this.deviceToken;\n  }\n\n  // Sms\n  async requestSms(phone: string): Promise<ISmsToken> {\n    const url = `auth/phone/token`;\n    const headers = new HttpHeaders()\n      .set('code', SMS_HEADERS.AUTHORIZATION)\n      .set('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    const body = new HttpParams().set('phone', encodeURIComponent(phone));\n    this.smsToken = await this.api.post<ISmsToken>(url, body, headers);\n    return this.smsToken;\n  }\n\n  async submitSms(smsCode: string): Promise<ISmsToken> {\n    if (!this.smsToken || !this.smsToken.signature) {\n      Promise.reject({\n        code: ERRORS.ARGUMENT_MISSING,\n        description: `Has no token saved`,\n      });\n    }\n\n    this.smsToken.code = smsCode;\n\n    const url = `auth/phone/token/${this.smsToken.id}`;\n    const headers = new HttpHeaders().set(HEADERS.SMS, this.smsToken.signature);\n\n    this.smsToken = await this.api.put<ISmsToken>(url, this.smsToken, headers);\n    return this.smsToken;\n  }\n\n  // Email\n  async requestEmail(phone: string, iin: string): Promise<IEmailToken> {\n    if (!this.smsToken || !this.smsToken.signature) {\n      return Promise.reject({\n        code: ERRORS.ARGUMENT_MISSING,\n      });\n    }\n\n    const url = `auth/email/token`;\n    const body = {\n      phone: phone,\n      iin: iin,\n    };\n\n    const headers = new HttpHeaders()\n      .set(HEADERS.PHONE, this.smsToken.signature)\n      .set(HEADERS.SMS, this.smsToken.signature);\n\n    this.emailToken = await this.api.post<IEmailToken>(url, body, headers);\n    return this.emailToken;\n  }\n\n  async submitEmail(\n    emailCode: string,\n    phone: string,\n    iin: string\n  ): Promise<IEmailToken> {\n    this.emailToken.phone = phone;\n    this.emailToken.iin = iin;\n    this.emailToken.code = emailCode;\n\n    const url = `auth/email/token/${this.emailToken.id}`;\n\n    const headers = new HttpHeaders()\n      .set(HEADERS.PHONE, this.smsToken.signature)\n      .set(HEADERS.EMAIL, this.emailToken.signature);\n\n    this.emailToken = await this.api.put<IEmailToken>(\n      url,\n      this.emailToken,\n      headers\n    );\n    return this.emailToken;\n  }\n\n  // Register\n  async register(phone: string, password: string, iin: string) {\n    const url = `users`;\n\n    const body = {\n      phone: phone,\n      password: password,\n      iin: iin,\n    };\n\n    const headers = new HttpHeaders()\n      .set(HEADERS.PHONE, this.smsToken.signature)\n      .set(HEADERS.EMAIL, this.emailToken.signature);\n\n    const registerResult = await this.api.post(url, body, headers);\n    return registerResult;\n  }\n\n  // Restore\n  async restore(phone: string, password: string, iin: string) {\n    const url = `users/password`;\n\n    const body = {\n      phone: phone,\n      password: password,\n      iin: iin,\n    };\n\n    const headers = new HttpHeaders()\n      .set(HEADERS.PHONE, this.smsToken.signature)\n      .set(HEADERS.EMAIL, this.emailToken.signature);\n\n    const restoreResult = await this.api.put(url, body, headers);\n    return restoreResult;\n  }\n\n  // // Iin inline\n  // async searchIin(iin: string): Promise<string> {\n  //   return new Promise((resolve, reject) => {\n  //     setTimeout(() => {\n  //       resolve('  ');\n  //     }, 1000);\n  //   });\n  // }\n\n  // Check phone\n  async checkPhone(phone: string): Promise<ICheckPhoneStatus> {\n    const url = `auth/check`;\n    let params = new HttpParams({ encoder: new HttpUrlEncodingCodec() });\n\n    params = params.append('phone', encodeURI(phone));\n    return this.api.get<ICheckPhoneStatus>(url, null, params);\n  }\n\n  // // Iin step\n  // async checkIin(iin: string): Promise<ICheckIinStatus> {\n  //   const url = `auth/check`;\n  //   const params = new HttpParams().set('iin', iin);\n\n  //   return this.api.get(url, null, params);\n  // }\n\n  // Iin step\n  async checkIinAndPhone(\n    iin: string,\n    phone: string\n  ): Promise<ICheckIinAndPhoneStatus> {\n    const url = `auth/check`;\n\n    let params = new HttpParams();\n    params = params.append('iin', iin);\n    params = params.append('phone', phone);\n\n    const headers = new HttpHeaders().set(\n      HEADERS.PHONE,\n      this.smsToken.signature\n    );\n\n    return this.api.get(url, headers, params);\n  }\n}\n","import { IMoney } from '@shared/currency/currency.model';\r\nimport { PAYMENT_TYPE } from '@shared/models';\r\n\r\nexport interface IAuthorityPayment {\r\n  type: PAYMENT_TYPE;\r\n  isEnabled?: boolean;\r\n  permissionId?: string;\r\n  limitId?: string;\r\n  limitAmount?: IMoney;\r\n  isLimitDisabled?: boolean;\r\n}\r\n","export * from './authorities.model';\r\nexport * from './permissions.model';\r\n","import { IMoney } from '@shared/currency/currency.model';\r\nimport { PAYMENT_TYPE } from '@shared/models';\r\n\r\nexport enum PERMISSION {\r\n  READ = 'READ',\r\n  EDIT = 'EDIT',\r\n  CREATE = 'CREATE',\r\n  DELETE = 'DELETE',\r\n  EXPORT = 'EXPORT',\r\n  SIGN = 'SIGN',\r\n  REVOKE = 'REVOKE',\r\n}\r\n\r\nexport interface IPermission {\r\n  id: string;\r\n  paymentType: PAYMENT_TYPE;\r\n  username: string;\r\n  iin: string;\r\n  bin: string;\r\n  permissions: PERMISSION[];\r\n}\r\n\r\nexport interface ILimit {\r\n  id?: string;\r\n  paymentType: PAYMENT_TYPE;\r\n  limit: IMoney;\r\n}\r\n\r\nexport const LIMIT_MAX_AMOUNT = 999999999999;\r\n","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { ApiService } from '@api/api.service';\n\nimport { IOtpDevice } from '@company/company.model';\nimport { CompanyService } from '@company/company.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthoritiesService implements OnDestroy {\n  private otpDevices: IOtpDevice[];\n  private otpDevices$ = new BehaviorSubject<IOtpDevice[]>([]);\n\n  subscription = new Subscription();\n\n  constructor(\n    private companyService: CompanyService,\n    private apiService: ApiService\n  ) {\n    this.initCompanySubscription();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  getOtpDevices(): Observable<IOtpDevice[]> {\n    return this.otpDevices$.asObservable();\n  }\n\n  async fetchOtpDevices() {\n    try {\n      const url = `companies/${this.companyService.currentId}/otp-devices`;\n      this.otpDevices = await this.apiService.get<IOtpDevice[]>(url);\n      this.otpDevices$.next(this.otpDevices);\n    } catch (error) {\n      this.otpDevices$.next(null);\n    }\n  }\n\n  fetchRestrictions() {\n    const url = `companies/${this.companyService.currentId}/otp-devices`;\n    return this.apiService.get<IOtpDevice[]>(url);\n  }\n\n  private initCompanySubscription() {\n    this.subscription.add(\n      this.companyService.refresh$\n        .pipe(filter(([, , isAuthorized]) => isAuthorized))\n        .subscribe(() => {\n          this.fetchOtpDevices();\n        })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/api.service';\nimport { CompanyService } from '@company/company.service';\nimport { ILimit } from '@authorities/models';\nimport { PAYMENT_TYPE } from '@shared/models';\nimport { CURRENCY } from '@shared/currency/currency.model';\n\nconst LIMITS_MOCK: ILimit[] = [\n  {\n    id: '06392710-7bf1-4eab-8cdc-75d1a3e967e8',\n    paymentType: PAYMENT_TYPE.FOREIGN,\n    limit: {\n      amount: 100.0,\n      currency: CURRENCY.KZT,\n    },\n  },\n  {\n    id: '06392710-7bf1-4eab-8cdc-75d1a3e967e8',\n    paymentType: PAYMENT_TYPE.CONVERSION,\n    limit: {\n      amount: 100.0,\n      currency: CURRENCY.KZT,\n    },\n  },\n  {\n    id: '06392710-7bf1-4eab-8cdc-75d1a3e967e8',\n    paymentType: PAYMENT_TYPE.IN_BETWEEN,\n    limit: {\n      amount: 100.0,\n      currency: CURRENCY.KZT,\n    },\n  },\n];\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthorityLimitsService {\n  constructor(\n    private companyService: CompanyService,\n    private apiService: ApiService\n  ) {}\n\n  async getPaymentLimit(\n    paymentType: PAYMENT_TYPE,\n    authorityId: string = this.companyService.currentAuthority.id\n  ) {\n    const limits = await this.getLimits(authorityId);\n    return limits.find((limit) => limit.paymentType === paymentType) || null;\n  }\n\n  getLimits(authorityId: string) {\n    const url = this.mapUrl(authorityId);\n    return this.apiService.get<ILimit[]>(url);\n  }\n\n  createLimit(authorityId: string, limit: ILimit): Promise<ILimit> {\n    const url = this.mapUrl(authorityId);\n    return this.apiService.post<ILimit>(url, limit);\n  }\n\n  updateLimit(authorityId: string, limit: ILimit) {\n    const url = `${this.mapUrl(authorityId)}/${limit.id}`;\n    return this.apiService.put<ILimit>(url, limit);\n  }\n\n  deleteLimit(authorityId: string, limit: ILimit) {\n    const url = `${this.mapUrl(authorityId)}/${limit.id}`;\n    return this.apiService.delete<ILimit>(url);\n  }\n\n  private mapUrl(authorityId: string) {\n    return `companies/${this.companyService.currentId}/authorities/${authorityId}/limits`;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/api.service';\n\nimport { filter } from 'rxjs/operators';\n\nimport { PAYMENT_TYPE } from '@shared/models';\n\nimport { IAuthorizedPerson } from '@company/company.model';\nimport { CompanyService } from '@company/company.service';\n\nimport {\n  IAuthorityPayment,\n  IPermission,\n  PERMISSION,\n} from '@authorities/models';\n\nconst PERMISSIONS_ALL = [\n  PERMISSION.READ,\n  PERMISSION.EDIT,\n  PERMISSION.CREATE,\n  PERMISSION.DELETE,\n  PERMISSION.EXPORT,\n  PERMISSION.SIGN,\n  PERMISSION.REVOKE,\n];\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthorityPermissionsService {\n  private cashedPermissions;\n\n  constructor(\n    private companyService: CompanyService,\n    private apiService: ApiService\n  ) {\n    this.companyService.refresh$\n      .pipe(filter(([, , isAuthorized]) => isAuthorized))\n      .subscribe(() => {\n        this.updatePermissions();\n      });\n  }\n\n  grantPermission(person: IAuthorizedPerson, payment: IAuthorityPayment) {\n    if (payment.permissionId) {\n      return this.updatePermission(\n        payment.permissionId,\n        person.id,\n        PERMISSIONS_ALL\n      );\n    } else {\n      return this.createPermission(person, payment.type, PERMISSIONS_ALL);\n    }\n  }\n\n  refusePermission(person: IAuthorizedPerson, payment: IAuthorityPayment) {\n    if (payment.permissionId) {\n      return this.updatePermission(payment.permissionId, person.id, []);\n    } else {\n      return this.createPermission(person, payment.type, []);\n    }\n  }\n\n  async createPermission(\n    person: IAuthorizedPerson,\n    paymentType: PAYMENT_TYPE,\n    permissions: PERMISSION[]\n  ) {\n    const url = this.mapUrl(person.id);\n    const body = {\n      paymentType,\n      iin: person.iin,\n      bin: this.companyService.currentCompany.bin,\n      permissions,\n    };\n\n    const result = await this.apiService.post<IPermission>(url, body);\n\n    if (!this.cashedPermissions) {\n      await this.getPermissions();\n    }\n\n    this.cashedPermissions.push({\n      ...body,\n      id: result.id,\n    });\n\n    return result;\n  }\n\n  async updatePermission(\n    permissionId: string,\n    authorityId: string,\n    permissions: PERMISSION[]\n  ) {\n    const url = `${this.mapUrl(authorityId)}/${permissionId}`;\n    const result = await this.apiService.patch<IPermission>(url, {\n      permissions,\n    });\n\n    const permissionIndex = this.cashedPermissions.findIndex(\n      (permission) => permission.id === permissionId\n    );\n\n    if (this.cashedPermissions && permissionIndex > -1) {\n      this.cashedPermissions[permissionIndex].permissions = permissions;\n    }\n\n    return result;\n  }\n\n  async getPermissions(\n    authorityId: string = this.companyService.currentAuthority?.id\n  ) {\n    try {\n      const url = this.mapUrl(authorityId);\n      const permissions = await this.apiService.get<IPermission[]>(url);\n\n      return permissions || [];\n    } catch (error) {\n      return [];\n    }\n  }\n\n  async updatePermissions() {\n    try {\n      this.cashedPermissions = await this.getPermissions();\n    } catch (error) {\n      console.log(error);\n      this.cashedPermissions = [];\n    }\n  }\n\n  async isRestricted(paymentType: PAYMENT_TYPE) {\n    if (!this.cashedPermissions) {\n      this.cashedPermissions = await this.getPermissions();\n    }\n\n    const permissions = this.cashedPermissions;\n    const paymentPermission = permissions.find(\n      (permission) => permission.paymentType === paymentType\n    );\n\n    return paymentPermission\n      ? !(\n          paymentPermission.permissions.includes(PERMISSION.CREATE) ||\n          paymentPermission.permissions.includes(PERMISSION.EDIT)\n        )\n      : false;\n  }\n\n  private mapUrl(authorityId: string) {\n    return `access-control/companies/${this.companyService.currentId}/authorities/${authorityId}/payment-permissions`;\n  }\n}\n","export * from './authorities.service';\r\nexport * from './authority-limits.service';\r\nexport * from './authority-permissions.service';\r\n","import { AUTHORITY_TYPE, SIGNATURE_SCHEME, User } from '@shared/models';\r\n\r\nexport const COMPANY_ID_KEY = 'companyId';\r\n\r\nexport enum COMPANY_TYPE {\r\n  ENTREPRENEUR = 'ENTREPRENEUR',\r\n  CORPORATE = 'CORPORATE',\r\n}\r\n\r\nexport class Company {\r\n  id: string;\r\n  colvirId: string;\r\n  shortName: string;\r\n  shortOrLongName: string;\r\n  name: string;\r\n  bin: string;\r\n\r\n  kod: string;\r\n  signatureScheme: SIGNATURE_SCHEME;\r\n  legalAddress: string;\r\n  economicSector: string;\r\n  registrationDate: Date;\r\n  locationAddress: string;\r\n\r\n  actualAddress: null;\r\n\r\n  created: Date;\r\n  departmentCode: string;\r\n  departmentName: string;\r\n  registrationAddress: string;\r\n  resident: boolean;\r\n  type: COMPANY_TYPE;\r\n}\r\n\r\nexport interface IAuthorizedPerson {\r\n  authority: AUTHORITY_TYPE;\r\n  company: any;\r\n  companyColvirId: string;\r\n  companyId: string;\r\n  firstname: string;\r\n  fromDate: Date;\r\n  id: string;\r\n  lastname: string;\r\n  middlename: string;\r\n  toDate: Date;\r\n  userColvirId: string;\r\n  userId: string;\r\n  position: string;\r\n  iin: string;\r\n  phone: string;\r\n}\r\n\r\nexport enum OTP_STATUS {\r\n  ASSIGNED = 'ASSIGNED',\r\n  UNASSIGNED = 'UNASSIGNED',\r\n  NOT_ENOUGH_DATA = 'NOT_ENOUGH_DATA',\r\n  BLOCKED = 'BLOCKED',\r\n}\r\n\r\nexport interface IOtpDevice {\r\n  activated: Date;\r\n  assignedCompany: {\r\n    companyIds: string[];\r\n  };\r\n  created: Date;\r\n  id: string;\r\n  serial: string;\r\n  status: OTP_STATUS;\r\n  user: User;\r\n  userId: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\r\nimport { distinctUntilChanged, map, filter, switchMap } from 'rxjs/operators';\r\n\r\nimport { User, AUTHORITY_TYPE, IUserAuthority } from '@shared/models/user';\r\nimport { UserService, AUTHORITY_ID } from '@shared/services/user.service';\r\nimport {\r\n  ISignature,\r\n  LETTER_STATUS,\r\n  PAYMENT_STATUS,\r\n  SIGNATURE_SCHEME,\r\n} from '@shared/models';\r\n\r\nimport { ApiService } from '@api/api.service';\r\n\r\nimport { AuthService } from '@auth/auth.service';\r\n\r\nimport { Company, COMPANY_ID_KEY, IAuthorizedPerson } from './company.model';\r\nimport { TokenService } from '@shared/token/token.service';\r\n\r\nconst FROM_ATF_QUERY_PARAM = 'fromAtf';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CompanyService {\r\n  public currentAuthoritySubject$: BehaviorSubject<IUserAuthority> =\r\n    new BehaviorSubject<IUserAuthority>(undefined);\r\n  public currentAuthority$ = this.currentAuthoritySubject$.pipe(\r\n    distinctUntilChanged()\r\n  );\r\n  public readonly refresh$: Observable<\r\n    [User | null, IUserAuthority | null, boolean | null] | []\r\n  >;\r\n\r\n  private authorizedPersons: IAuthorizedPerson[];\r\n  private authorizedPersons$ = new BehaviorSubject<IAuthorizedPerson[]>([]);\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private api: ApiService,\r\n    private authService: AuthService,\r\n    private tokenService: TokenService\r\n  ) {\r\n    this.userService\r\n      .getUser()\r\n      .pipe(filter((u) => !!u))\r\n      .subscribe((user) => this.initializeAuthority());\r\n\r\n    this.refresh$ = combineLatest([\r\n      this.userService.getUser().pipe(distinctUntilChanged()),\r\n      this.currentAuthoritySubject$.pipe(distinctUntilChanged()),\r\n      this.authService.authEvents$,\r\n    ]);\r\n\r\n    this.refresh$\r\n      .pipe(filter(([user, company, isAuthorized]) => isAuthorized))\r\n      .subscribe(() => {\r\n        this.fetchAuthorizedPersons();\r\n      });\r\n\r\n    // combineLatest([this.userService.getUser(), this.currentCompanySubjet$])\r\n    //   .pipe(\r\n    //     filter(([u, c]) => !!(u && u.userAuthorities && c && c.id)),\r\n    //     map(\r\n    //       ([u, c]) =>\r\n    //         u.userAuthorities.find((authority) => authority.companyId === c.id)\r\n    //           .authority\r\n    //     )\r\n    //   )\r\n    //   .subscribe(this.authorityLevelSubject$);\r\n  }\r\n\r\n  get currentAuthority(): IUserAuthority {\r\n    return this.currentAuthoritySubject$.getValue();\r\n  }\r\n\r\n  set currentAuthority(authority: IUserAuthority) {\r\n    if (authority) {\r\n      localStorage.setItem(AUTHORITY_ID, authority.id);\r\n      localStorage.setItem(COMPANY_ID_KEY, authority.companyId);\r\n      this.currentAuthoritySubject$.next(authority);\r\n    }\r\n  }\r\n\r\n  get currentCompany$(): Observable<Company> {\r\n    return this.currentAuthority$.pipe(map((a) => a && a.company));\r\n  }\r\n\r\n  get currentCompany(): Company {\r\n    return this.currentAuthority && this.currentAuthority.company;\r\n  }\r\n\r\n  get authorityLevel$(): Observable<AUTHORITY_TYPE> {\r\n    return this.currentAuthority$.pipe(map((a) => a && a.authority));\r\n  }\r\n\r\n  get authorityLevel(): AUTHORITY_TYPE {\r\n    return this.currentAuthority && this.currentAuthority.authority;\r\n  }\r\n\r\n  get currentId() {\r\n    return (\r\n      (this.currentCompany && this.currentCompany.id) ||\r\n      localStorage.getItem(COMPANY_ID_KEY)\r\n    );\r\n  }\r\n\r\n  isFromAtf(queryParams = null) {\r\n    return (\r\n      queryParams &&\r\n      queryParams[FROM_ATF_QUERY_PARAM] &&\r\n      JSON.parse(queryParams[FROM_ATF_QUERY_PARAM]) === true\r\n    );\r\n  }\r\n\r\n  hasOnlyPrimaryAuthorities(\r\n    persons: IAuthorizedPerson[] = this.authorizedPersons\r\n  ) {\r\n    return persons.every(\r\n      (person) => person.authority === AUTHORITY_TYPE.PRIMARY_SIGNATURE\r\n    );\r\n  }\r\n\r\n  isNoSignAuthority(\r\n    authority: AUTHORITY_TYPE = this.currentAuthority?.authority\r\n  ) {\r\n    return authority === AUTHORITY_TYPE.NO_SIGNATURE;\r\n  }\r\n\r\n  isPrimaryAuthority(\r\n    authority: AUTHORITY_TYPE = this.currentAuthority?.authority\r\n  ) {\r\n    return authority === AUTHORITY_TYPE.PRIMARY_SIGNATURE;\r\n  }\r\n\r\n  isSecondaryAuthority(\r\n    authority: AUTHORITY_TYPE = this.currentAuthority?.authority\r\n  ) {\r\n    return authority === AUTHORITY_TYPE.SECONDARY_SIGNATURE;\r\n  }\r\n\r\n  async fetchAuthorizedPersons() {\r\n    if (!this.authService.isAuthenticated) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const url = `companies/${this.currentId}/authorized-persons`;\r\n      this.authorizedPersons = await this.api.get<IAuthorizedPerson[]>(url);\r\n\r\n      if (this.authorizedPersons$.thrownError) {\r\n        this.authorizedPersons$ = new BehaviorSubject<IAuthorizedPerson[]>(\r\n          this.authorizedPersons\r\n        );\r\n      } else {\r\n        this.authorizedPersons$.next(this.authorizedPersons);\r\n      }\r\n    } catch (error) {\r\n      this.authorizedPersons$.error(error);\r\n    }\r\n  }\r\n\r\n  getAuthorizedPersons(): Observable<IAuthorizedPerson[]> {\r\n    return this.authorizedPersons$.asObservable();\r\n  }\r\n\r\n  isSignable(\r\n    status: PAYMENT_STATUS | LETTER_STATUS = null,\r\n    signatureScheme: SIGNATURE_SCHEME = this.currentAuthority.company\r\n      .signatureScheme,\r\n    authority: AUTHORITY_TYPE = this.currentAuthority.authority,\r\n    signaturesCount: number = 0\r\n  ) {\r\n    if (!signatureScheme) {\r\n      signatureScheme = this.currentAuthority.company.signatureScheme;\r\n    }\r\n\r\n    if (\r\n      status &&\r\n      !(\r\n        status === PAYMENT_STATUS.CREATED ||\r\n        status === PAYMENT_STATUS.DRAFT ||\r\n        status === LETTER_STATUS.DRAFT ||\r\n        status === LETTER_STATUS.ON_SIGN\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (this.isNoSignAuthority(authority)) {\r\n      return false;\r\n    }\r\n\r\n    if (\r\n      this.isSingleSignScheme(signatureScheme) &&\r\n      this.isPrimaryAuthority(authority)\r\n    ) {\r\n      return true;\r\n    }\r\n    if (\r\n      this.isMultipleSignScheme(signatureScheme) &&\r\n      this.isPrimaryAuthority(authority)\r\n    ) {\r\n      return signaturesCount > 0;\r\n    }\r\n    if (\r\n      this.isMultipleSignScheme(signatureScheme) &&\r\n      this.isSecondaryAuthority(authority)\r\n    ) {\r\n      return signaturesCount === 0;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  isSendableForSign(\r\n    paymentStatus: PAYMENT_STATUS,\r\n    signatureScheme: SIGNATURE_SCHEME,\r\n    authority: AUTHORITY_TYPE = this.currentAuthority.authority\r\n  ) {\r\n    if (!signatureScheme) {\r\n      signatureScheme = this.currentAuthority.company.signatureScheme;\r\n    }\r\n\r\n    if (\r\n      !(\r\n        paymentStatus === PAYMENT_STATUS.CREATED ||\r\n        paymentStatus === PAYMENT_STATUS.DRAFT\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (this.isNoSignAuthority(authority)) {\r\n      return true;\r\n    }\r\n\r\n    if (\r\n      this.isMultipleSignScheme(signatureScheme) &&\r\n      this.isPrimaryAuthority(authority)\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  isSignableByOthers(\r\n    paymentStatus: PAYMENT_STATUS,\r\n    signatureScheme: SIGNATURE_SCHEME,\r\n    authority: AUTHORITY_TYPE = this.currentAuthority.authority,\r\n    signaturesCount: number = 0\r\n  ) {\r\n    return (\r\n      paymentStatus === PAYMENT_STATUS.CREATED &&\r\n      this.isSignable(\r\n        paymentStatus,\r\n        signatureScheme,\r\n        authority,\r\n        signaturesCount\r\n      ) === false\r\n    );\r\n  }\r\n\r\n  isSingleSignScheme(\r\n    signatureScheme: SIGNATURE_SCHEME = this.currentCompany.signatureScheme\r\n  ) {\r\n    return signatureScheme === SIGNATURE_SCHEME.SINGLE_SIGN;\r\n  }\r\n\r\n  isMultipleSignScheme(\r\n    signatureScheme: SIGNATURE_SCHEME = this.currentCompany.signatureScheme\r\n  ) {\r\n    return signatureScheme === SIGNATURE_SCHEME.MULTIPLE_SIGN;\r\n  }\r\n\r\n  retrieveShortName(person: IAuthorizedPerson) {\r\n    const firstName = person.firstname ? `${person.firstname[0]}.` : '';\r\n    const middlename = person.middlename ? `${person.middlename[0]}.` : '';\r\n\r\n    return `${person.lastname} ${firstName}${middlename}`;\r\n  }\r\n\r\n  public generateSignersList(\r\n    status: PAYMENT_STATUS | LETTER_STATUS = null,\r\n    signatureScheme: SIGNATURE_SCHEME,\r\n    signatures: ISignature[]\r\n  ) {\r\n    const signers = [];\r\n\r\n    this.authorizedPersons?.forEach((person: IAuthorizedPerson) => {\r\n      const canSign = this.isSignable(\r\n        status,\r\n        signatureScheme,\r\n        person.authority,\r\n        signatures?.length\r\n      );\r\n\r\n      const signed = !!signatures?.find((signature) => {\r\n        return signature.userId !== null && signature.userId === person.userId;\r\n      });\r\n\r\n      const name = this.retrieveShortName(person);\r\n\r\n      if (signed) {\r\n        signers.push({\r\n          name,\r\n          label: 'SHARED.SIGNED',\r\n          classList: 'text-success',\r\n        });\r\n      } else if (canSign) {\r\n        signers.push({\r\n          name,\r\n          label: 'SHARED.FOR_SIGN',\r\n          classList: 'text-muted',\r\n        });\r\n      }\r\n    });\r\n\r\n    return signers;\r\n  }\r\n\r\n  private initializeAuthority() {\r\n    const authorityId = localStorage.getItem(AUTHORITY_ID);\r\n    let foundAuthority;\r\n\r\n    if (authorityId) {\r\n      foundAuthority = this.userService.user.userAuthorities.find(\r\n        (authority) => authority.id === authorityId\r\n      );\r\n    }\r\n    this.currentAuthority =\r\n      foundAuthority || this.userService.user.userAuthorities[0];\r\n  }\r\n\r\n  getCompany(companyId: string): Promise<Company> {\r\n    const url = `/companies/${companyId}`;\r\n    return this.api.get<Company>(url);\r\n  }\r\n}\r\n","export * from './company.model';\nexport * from './company.service';\nexport * from './recipients.service';\n","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NotifierService } from 'angular-notifier';\r\n\r\nimport { PAYMENT_CATEGORY } from '@shared/models';\r\n\r\nimport { resolveURL, EntitiesStore } from '@utils/index';\r\nimport { ApiService } from '@api/index';\r\nimport { pick } from '@utils/pick';\r\n\r\nimport { CompanyService } from './company.service';\r\nimport {\r\n  RecipientAccount,\r\n  Recipient,\r\n  RecipientBody,\r\n  RecipientAccountBody,\r\n} from './recipient/recipient.model';\r\n\r\nexport interface ICounterParty {\r\n  companyInfo: {\r\n    bin: string;\r\n    fio: string;\r\n    id: string;\r\n    ip: string;\r\n    katoAddress: string;\r\n    katoCode: string;\r\n    name: string;\r\n    okedCode: string;\r\n    okedName: string;\r\n    registerDate: string;\r\n  };\r\n  riskGroups: {\r\n    id: string;\r\n    name: string;\r\n  }[];\r\n}\r\n\r\nconst endpoints = {\r\n  recipients: 'companies/::companyId/recipients',\r\n  recipient: 'companies/::companyId/recipients/::recipientId',\r\n  recipientsAccounts: 'companies/::companyId/recipients/::recipientId/accounts',\r\n  prevNotifications: 'companies/::companyId/recipients/::iinOrBin/emails',\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RecipientsService {\r\n  public readonly store: EntitiesStore<Recipient> = new EntitiesStore([]);\r\n  public readonly foreignStore: EntitiesStore<Recipient> = new EntitiesStore(\r\n    []\r\n  );\r\n  public reqInProgress = {\r\n    foreign: undefined,\r\n    local: undefined,\r\n  };\r\n\r\n  constructor(\r\n    private company: CompanyService,\r\n    private notifer: NotifierService,\r\n    private api: ApiService,\r\n    private translateService: TranslateService\r\n  ) {\r\n    this.company.refresh$.subscribe((v) => {\r\n      this.store.fetched && this.store.purge();\r\n      this.getRecipients('', true);\r\n      this.getForeignRecipients('', true);\r\n    });\r\n  }\r\n\r\n  async createRecipient(body: RecipientBody): Promise<Recipient> {\r\n    const url = resolveURL(endpoints.recipients, {\r\n      companyId: this.company.currentId,\r\n    });\r\n    return this.api.post(url, body);\r\n  }\r\n\r\n  async updateRecipient(body: Recipient): Promise<Recipient> {\r\n    const url = resolveURL(endpoints.recipient, {\r\n      companyId: this.company.currentId,\r\n      recipientId: body.id,\r\n    });\r\n    return this.api.put(url, body);\r\n  }\r\n\r\n  async deleteRecipient(recipientId: string | string[]): Promise<void> {\r\n    let url: string;\r\n    if (Array.isArray(recipientId)) {\r\n      url = resolveURL(endpoints.recipients, {\r\n        companyId: this.company.currentId,\r\n      });\r\n      url += `?id=${recipientId.join(',')}`;\r\n    } else {\r\n      url = resolveURL(endpoints.recipient, {\r\n        companyId: this.company.currentId,\r\n        recipientId,\r\n      });\r\n    }\r\n    return this.api.delete(url);\r\n  }\r\n\r\n  checkCounterParty(bin: string): Promise<ICounterParty> {\r\n    const url = `counterparty-reports`;\r\n\r\n    const headers = new HttpHeaders();\r\n    const params = new HttpParams().set('bin', bin);\r\n\r\n    return this.api.get<ICounterParty>(url, headers, params);\r\n  }\r\n\r\n  async createRecipientAccount(\r\n    body: RecipientAccountBody,\r\n    params: {\r\n      recipientId: string;\r\n      companyId: string;\r\n    }\r\n  ): Promise<RecipientAccount> {\r\n    const url = resolveURL(endpoints.recipientsAccounts, params);\r\n    return this.api.post(url, body);\r\n  }\r\n\r\n  async getRecipients(query: string = '', force?: boolean): Promise<any> {\r\n    let req;\r\n    if (!query && this.reqInProgress.local) {\r\n      return await this.reqInProgress.local;\r\n    } else if (!query) {\r\n      this.reqInProgress.local = req = this.searchInStore(\r\n        this.store,\r\n        query,\r\n        force\r\n      ).finally(() => {\r\n        if (req === this.reqInProgress.local) {\r\n          this.reqInProgress.local = null;\r\n        }\r\n      });\r\n      return await this.reqInProgress.local;\r\n    }\r\n    return await this.searchInStore(this.store, query, force);\r\n  }\r\n\r\n  async getForeignRecipients(query: string = '', force?: boolean) {\r\n    return await this.searchInStore(\r\n      this.foreignStore,\r\n      query,\r\n      force,\r\n      PAYMENT_CATEGORY.FOREIGN\r\n    );\r\n  }\r\n\r\n  async checkAndInjectRecipientOrAccount(\r\n    recipient: Omit<Recipient, 'id' | 'accounts'>,\r\n    rawAccount?: Omit<RecipientAccount, 'id' | 'recipientId' | 'companyId'>\r\n  ): Promise<any> {\r\n    const processForCompany = recipient.companyId;\r\n    let existingRecipient: Recipient;\r\n    let newAccount: RecipientAccount;\r\n    let newRecipient: Recipient;\r\n    try {\r\n      const account = { ...pick(rawAccount, ['iban', 'bic']) };\r\n      if ((existingRecipient = this.isRecipientExist(recipient))) {\r\n        if (this.isRecipientAccountExist(account.iban, existingRecipient.id)) {\r\n          return null;\r\n        }\r\n        newAccount = await this.createRecipientAccount(account, {\r\n          companyId: existingRecipient.companyId,\r\n          recipientId: existingRecipient.id,\r\n        });\r\n      } else {\r\n        newRecipient = await this.createRecipient(recipient);\r\n        newAccount = await this.createRecipientAccount(account, {\r\n          companyId: newRecipient.companyId,\r\n          recipientId: newRecipient.id,\r\n        });\r\n      }\r\n      if (processForCompany === this.company.currentId) {\r\n        if (newRecipient) {\r\n          newRecipient.accounts = [newAccount];\r\n          this.store.upsertItem(newRecipient);\r\n        } else if (newAccount) {\r\n          this.store.upsertItem({\r\n            ...existingRecipient,\r\n            accounts: existingRecipient.accounts.concat(newAccount),\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      this.notifer.notify('error', JSON.stringify(e));\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async createOrUpdateRecipientPipeline(recipient: Recipient) {\r\n    let newAccounts;\r\n    let result: Recipient;\r\n    const processForCompany = this.company.currentCompany.id;\r\n    try {\r\n      if (recipient.id) {\r\n        result = await this.updateRecipient(recipient);\r\n      } else {\r\n        const rawAccounts = recipient.accounts;\r\n        delete recipient.accounts;\r\n        result = await this.createRecipient(recipient);\r\n        newAccounts = await Promise.all(\r\n          rawAccounts.map((rawAccount) =>\r\n            this.createRecipientAccount(rawAccount, {\r\n              companyId: result.companyId,\r\n              recipientId: result.id,\r\n            })\r\n          )\r\n        );\r\n      }\r\n\r\n      if (processForCompany === this.company.currentId) {\r\n        if (result && newAccounts) {\r\n          result.accounts = newAccounts;\r\n          this.store.upsertItem(result, true);\r\n        } else if (result) {\r\n          this.store.upsertItem(result);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      this.notifer.notify('error', JSON.stringify(e));\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  getPrevNotifications(iinOrBin): Promise<{ email: string }[]> {\r\n    return this.api.get(\r\n      resolveURL(endpoints.prevNotifications, {\r\n        companyId: this.company.currentCompany.id,\r\n        iinOrBin,\r\n      })\r\n    );\r\n  }\r\n\r\n  isRecipientExist(\r\n    recipient: Omit<Recipient, 'id' | 'accounts'>\r\n  ): Recipient | undefined {\r\n    const keys: Array<keyof Recipient> = [\r\n      'iinOrBin',\r\n      'kbe',\r\n      'name',\r\n      'companyId',\r\n    ];\r\n    return this.store.items.find((item) =>\r\n      keys.every((k) => item[k] == recipient[k])\r\n    );\r\n  }\r\n\r\n  isRecipientAccountExist(\r\n    accountIban: string,\r\n    recipientId?: string\r\n  ): RecipientAccount | null {\r\n    let r: Recipient;\r\n    if (recipientId && (r = this.store.entities[recipientId])) {\r\n      return r.accounts && r.accounts.find((a) => a.iban === accountIban);\r\n    }\r\n    let account: RecipientAccount;\r\n    this.store.items.find((item) => {\r\n      account = item.accounts.find((a) => a.iban === accountIban);\r\n      if (account) {\r\n        return true;\r\n      }\r\n    });\r\n    return account;\r\n  }\r\n\r\n  public filterRecipients(recipients: Recipient[], query: string) {\r\n    if (!query) {\r\n      return recipients;\r\n    }\r\n\r\n    return recipients?.filter((recipient) => {\r\n      return this.filterRecipient(recipient, query);\r\n    });\r\n  }\r\n\r\n  public filterRecipient(recipient: Recipient, query: string) {\r\n    if (!query) {\r\n      return true;\r\n    }\r\n\r\n    return (\r\n      this.containsQuery(recipient.iinOrBin, query) ||\r\n      this.containsQuery(recipient.name, query) ||\r\n      this.searchByCountry(recipient, query) ||\r\n      this.getAccountByQuery(recipient.accounts, query).length\r\n    );\r\n  }\r\n\r\n  public async fetchRecipients(\r\n    companyId: string,\r\n    paymentCategory: PAYMENT_CATEGORY = PAYMENT_CATEGORY.DOMESTIC\r\n  ): Promise<Recipient[]> {\r\n    const url = resolveURL(endpoints.recipients, {\r\n      companyId,\r\n    });\r\n\r\n    const params = new HttpParams().set('paymentCategory', paymentCategory);\r\n\r\n    try {\r\n      const retrievedRecipients = await this.api.get<Recipient[]>(\r\n        url,\r\n        null,\r\n        params\r\n      );\r\n      return this.filterEmptyRecipients(retrievedRecipients);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  private async searchInStore(\r\n    store: RecipientsService['store'] = this.store,\r\n    query?: string,\r\n    force?: boolean,\r\n    category?: PAYMENT_CATEGORY\r\n  ) {\r\n    const companyId = this.company.currentId;\r\n    let source;\r\n    if (store.fetched && !force) {\r\n      source = store.items;\r\n    } else {\r\n      try {\r\n        store.fetching = true;\r\n        source = await this.fetchRecipients(companyId, category);\r\n        // prevent override if req resolved after company change\r\n        if (this.company.currentId === companyId) {\r\n          store.items = source;\r\n          store.fetching = false;\r\n          store.fetched = true;\r\n        }\r\n        return source;\r\n      } catch (error) {\r\n        throw error;\r\n      }\r\n    }\r\n\r\n    if (query) {\r\n      return this.filterRecipients(source, query);\r\n    } else {\r\n      return source;\r\n    }\r\n  }\r\n\r\n  private searchByCountry(recipient: Recipient, query: string) {\r\n    let fieldToSearch;\r\n\r\n    switch (this.translateService.currentLang) {\r\n      case 'ru':\r\n      default:\r\n        fieldToSearch = 'nameRu';\r\n        break;\r\n      case 'kk':\r\n        fieldToSearch = 'nameKk';\r\n        break;\r\n      case 'en':\r\n        fieldToSearch = 'nameEn';\r\n        break;\r\n    }\r\n\r\n    return (\r\n      this.containsQuery(recipient[fieldToSearch], query) ||\r\n      recipient.countryCode?.toLowerCase().includes(query)\r\n    );\r\n  }\r\n\r\n  private filterEmptyRecipients(recipients: Recipient[]) {\r\n    return recipients?.filter((recipient) => {\r\n      return recipient.accounts?.length > 0;\r\n    });\r\n  }\r\n\r\n  private getAccountByQuery(accounts: RecipientAccount[], query: string) {\r\n    if (!accounts) {\r\n      return [];\r\n    }\r\n\r\n    return accounts.filter((account) => {\r\n      return (\r\n        this.containsQuery(account.iban, query) ||\r\n        this.containsQuery(account.bic, query) ||\r\n        this.containsQuery(account.bankName, query)\r\n      );\r\n    });\r\n  }\r\n\r\n  containsQuery(input: string, query: string) {\r\n    if (!query) {\r\n      return true;\r\n    }\r\n\r\n    const search = query.toLowerCase();\r\n    return input?.toLowerCase().includes(search);\r\n  }\r\n}\r\n","export const CIRCLE_PROGRESS_CONFIG = {\n  radius: 18,\n  innerStrokeWidth: 2,\n  outerStrokeWidth: 2,\n  showTitle: false,\n  showUnits: false,\n  showSubtitle: false,\n  showInnerStroke: true,\n  showZeroOuterStroke: true,\n  startFromZero: false,\n  space: -2,\n  outerStrokeColor: '#1586BB',\n  innerStrokeColor: '#C4C4C4',\n  animationDuration: 300,\n  backgroundPadding: 0\n};\n","export const HEARTBEAT_CONFIG = {\n  countdown: 60000, // heartbeat update timer\n  notificationIndex: 4, // heartbeat notify period\n  expirationIndex: 5, // heartbeat expire period\n};\n","import { IConfig, initialConfig, optionsConfig } from 'ngx-mask';\n\nexport const ngxMaskConfig: Partial<IConfig> = Object.assign(\n  {},\n  initialConfig,\n  {\n    // suffix: string,\n    // prefix: string,\n    thousandSeparator: ' ',\n    decimalMarker: ',',\n    // clearIfNotMatch: boolean,\n    showTemplate: false,\n    // showMaskTyped: boolean,\n    // placeHolderCharacter: string,\n    // shownMaskExpression: string,\n    // dropSpecialCharacters: false,\n    // specialCharacters: string[],\n    // hiddenInput: boolean | undefined,\n    // validation: boolean,\n    // separatorLimit: string,\n    // allowNegativeNumbers: boolean,\n    patterns: {\n      ...initialConfig.patterns,\n      c: {\n        pattern: /^[a-zA-Z0-9!@#\\$%\\^\\&*\\)\\(+=.,_-]/,\n      },\n      S: {\n        pattern: new RegExp('[A-Z]'),\n      },\n      s: {\n        pattern: new RegExp('[a-zA-Z]'),\n      },\n      A: {\n        pattern: new RegExp('[A-Z0-9]'),\n      },\n      a: {\n        pattern: new RegExp('[a-zA-Z0-9]'),\n      },\n      r: {\n        pattern: new RegExp('[-]'),\n      },\n      R: {\n        pattern: new RegExp('[-0-9]'),\n      },\n      f: {\n        pattern: /^[a-zA-Z0-9\\/\\-?:().,\\'+\\ ]/,\n      },\n      F: {\n        pattern: /^[--a-zA-Z0-9\\/\\-?:().,\\'+\\ ]/,\n      },\n      I: {\n        pattern: new RegExp('[a-hj-npr-zA-HJ-NPR-Z0-9]'),\n      },\n    },\n  }\n);\n","import { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClient } from '@angular/common/http';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n","export * from './ngb-datepicker-i18n/ngb-datepicker-i18n.component';\r\n","import { Component, Injectable } from '@angular/core';\nimport { NgbDatepickerI18n, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateService } from '@ngx-translate/core';\n\nconst I18N_VALUES = {\n  ru: {\n    weekdays: [\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n    ],\n    weekdaysShort: ['', '', '', '', '', '', ''],\n    months: [\n      '.',\n      '.',\n      '.',\n      '.',\n      '',\n      '',\n      '',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n    ],\n    monthsLong: [\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n    ],\n    week: '.',\n  },\n  kk: {\n    weekdays: [\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n    ],\n    weekdaysShort: ['', '', '', '', '', '', ''],\n    months: [\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n      '.',\n    ],\n    monthsLong: [\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n      '',\n    ],\n    week: '.',\n  },\n  en: {\n    weekdays: [\n      'monday',\n      'tuesday',\n      'wednesday',\n      'thursday',\n      'friday',\n      'saturday',\n      'sunday',\n    ],\n    weekdaysShort: ['mo', 'tu', 'we', 'th', 'fr', 'sa', 'su'],\n    months: [\n      'jan.',\n      'feb.',\n      'mar.',\n      'apr.',\n      'may.',\n      'jun',\n      'jul.',\n      'aug.',\n      'sep.',\n      'oct.',\n      'nov.',\n      'dec.',\n    ],\n    monthsLong: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ],\n    week: '.',\n  },\n  // other languages you would support\n};\n\n// Define custom service providing the months and weekdays translations\n@Injectable()\nexport class CustomDatepickerI18n extends NgbDatepickerI18n {\n  constructor(private translateService: TranslateService) {\n    super();\n  }\n\n  getWeekdayShortName(weekday: number): string {\n    return I18N_VALUES[this.translateService.currentLang].weekdaysShort[\n      weekday - 1\n    ];\n  }\n  getWeekdayLabel(weekday: number): string {\n    return I18N_VALUES[this.translateService.currentLang].weekdays[weekday - 1];\n  }\n  getWeekLabel(): string {\n    return I18N_VALUES[this.translateService.currentLang].week;\n  }\n  getMonthShortName(month: number): string {\n    return I18N_VALUES[this.translateService.currentLang].months[month - 1];\n  }\n  getMonthFullName(month: number): string {\n    return I18N_VALUES[this.translateService.currentLang].monthsLong[month - 1];\n  }\n\n  getDayAriaLabel(date: NgbDateStruct): string {\n    return `${date.day}-${date.month}-${date.year}`;\n  }\n}\n\n@Component({\n  selector: 'ngbd-datepicker-i18n',\n  templateUrl: './ngb-datepicker-i18n.component.html',\n  providers: [{ provide: NgbDatepickerI18n, useClass: CustomDatepickerI18n }], // define custom NgbDatepickerI18n provider\n})\nexport class NgbdDatepickerI18n {\n  model: NgbDateStruct;\n}\n","import { DatePipe } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NgbDatepickerI18n, NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { NotifierModule } from 'angular-notifier';\r\nimport { NgCircleProgressModule } from 'ng-circle-progress';\r\nimport { ClipboardModule } from 'ngx-clipboard';\r\nimport { LottieModule } from 'ngx-lottie';\r\nimport { NgxMaskModule } from 'ngx-mask';\r\nimport player from 'lottie-web';\r\n\r\nimport { CIRCLE_PROGRESS_CONFIG } from '../config/circleProgress.config';\r\nimport { ngxMaskConfig } from '../config/ngxMaskConfig';\r\nimport { HttpLoaderFactory } from '../config/translate';\r\n\r\nimport { httpInterceptorProviders } from '../http-interceptors';\r\n\r\nimport { CustomDatepickerI18n } from './components';\r\n\r\n// Note we need a separate function as it's required\r\n// by the AOT compiler.\r\nexport function playerFactory() {\r\n  return player;\r\n}\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    // Angular\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    RouterModule,\r\n\r\n    // 3rd-party\r\n    NotifierModule.withConfig({\r\n      behaviour: {\r\n        autoHide: 2500,\r\n      },\r\n    }),\r\n    ClipboardModule,\r\n    TranslateModule.forRoot({\r\n      defaultLanguage: 'ru',\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient],\r\n      },\r\n    }),\r\n\r\n    NgxMaskModule.forRoot(ngxMaskConfig),\r\n    LottieModule.forRoot({ player: playerFactory }),\r\n    NgCircleProgressModule.forRoot(CIRCLE_PROGRESS_CONFIG),\r\n    NgbModule,\r\n  ],\r\n  exports: [NotifierModule],\r\n  providers: [\r\n    httpInterceptorProviders,\r\n    DatePipe,\r\n    { provide: LOCALE_ID, useValue: 'ru-RU' },\r\n    { provide: LOCALE_ID, useValue: 'kk-KZ' },\r\n    { provide: NgbDatepickerI18n, useClass: CustomDatepickerI18n },\r\n    { provide: Window, useValue: window },\r\n  ],\r\n})\r\nexport class CoreModule {}\r\n","export interface IFeatureFlag {\r\n  key: FEATURE_FLAG;\r\n  active: boolean;\r\n}\r\n\r\nexport enum FEATURE_FLAG {\r\n  OPEN_ACCOUNT = 'open_account',\r\n  FOREIGN_PAYMENT = 'foreign_payment',\r\n  RUB_BUDGET_PAYMENT = 'rub_budget_payment',\r\n  CONVERSION = 'conversion',\r\n  P2P = 'p2p',\r\n  BRANCH_MAP = 'branch_map',\r\n  RATE_APP = 'rate_app',\r\n  FX_CONTRACTS = 'fx_contracts',\r\n  COMMISSION = 'commission',\r\n  LETTER = 'letter',\r\n  ACCOUNT_QR = 'account_qr',\r\n  CERTIFICATE = 'certificate',\r\n  TARIFF_PACKAGES = 'tariff_packages',\r\n  POS = 'pos',\r\n  PAYMENT_TEMPLATE = 'payment_template',\r\n  ADDITIONAL_OPTIONS_PACKAGES = 'additional_options_packages',\r\n  LOAN_APPLICATION = 'loan_application',\r\n  JPAY_CHECK_JMART_CONNECTION = 'jpay_check_jmart_connection',\r\n  FOREIGN_CONTRACT = 'foreign_contract',\r\n  EXTRA_PACKAGES = 'extra_packages',\r\n  PAYMENT_PERMISSIONS = 'payment_permissions',\r\n  MICROCREDIT = 'microcredit',\r\n  JUSAN_MARKET = 'jusan_market',\r\n  PUSH_NOTIFICATIONS = 'push_notifications',\r\n  LOANS_VIEW = 'loans_view',\r\n  JUSAN_MARKET_MERCHANT_CABINET = 'jusan_market_merchant_cabinet',\r\n  REGISTRATION_FACETEC = 'registration_facetec',\r\n  CARD_TRANSFERS = 'card_transfers',\r\n  OPEN_ADDITIONAL_ACCOUNT = 'open_additional_account',\r\n  JPAY_STATEMENTS = 'jpay_statements',\r\n  CURRENCY_RATES = 'currency_rates',\r\n  JPAY_CONNECTION = 'jpay_connection',\r\n  OPEN_ACCOUNT_V3 = 'open_account_v3',\r\n  DEPOSIT_REWARDS = 'deposit_rewards',\r\n  JMART_CONNECTION = 'jmart_connection',\r\n  DEPOSIT_OPERATIONS = 'deposit_operations',\r\n  PACKAGES_CHANGE_ACCOUNT = 'packages_change_account',\r\n  PACKAGES_MAIN_SCREEN = 'packages_main_screen',\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [],\n})\nexport class FeatureFlagsModule {}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ApiService, HEADERS } from '@api/index';\nimport { CompanyService } from '@company/company.service';\n\nimport { FEATURE_FLAG, IFeatureFlag } from './feature-flags.model';\nimport { filter, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FeatureFlagsService {\n  private isPending = false;\n  private featureFlags: IFeatureFlag[];\n\n  public featureFlags$ = new BehaviorSubject<IFeatureFlag[]>([]);\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router,\n    private companyService: CompanyService\n  ) {\n    this.loadFeatureFlags();\n\n    this.companyService.refresh$.subscribe((companyRefresh) => {\n      const [user, company, isAuthorized] = companyRefresh;\n\n      if (isAuthorized) {\n        this.loadFeatureFlags();\n      }\n    });\n  }\n\n  getFeatureFlags() {\n    return this.featureFlags$\n      .asObservable()\n      .pipe(filter((flags) => flags.length > 0));\n  }\n\n  async checkFeatureRoute(key: FEATURE_FLAG) {\n    if (this.isDisabled(key)) {\n      this.router.navigateByUrl('/');\n    }\n  }\n\n  private async loadFeatureFlags() {\n    if (this.isPending) {\n      return;\n    }\n\n    this.isPending = true;\n\n    const url = `feature-flags`;\n\n    try {\n      this.featureFlags = await this.apiService.get<IFeatureFlag[]>(\n        url,\n        new HttpHeaders({ [HEADERS.SKIP_OFFLINE_INTERCEPTOR]: 'true' })\n      );\n    } catch (error) {\n      this.featureFlags = [];\n    } finally {\n      this.isPending = false;\n    }\n\n    this.featureFlags$.next(this.featureFlags);\n    // this.featureFlags$.complete();\n\n    return this.featureFlags;\n  }\n\n  isDisabled(key: FEATURE_FLAG) {\n    return (\n      this.featureFlags?.find((featureFlag) => featureFlag.key === key)\n        ?.active === false || false\n    );\n  }\n\n  isDisabledStream(key: FEATURE_FLAG) {\n    return this.getFeatureFlags().pipe(map(() => this.isDisabled(key)));\n  }\n\n  async isDisabledPromise(key: FEATURE_FLAG) {\n    if (!this.featureFlags) {\n      await this.loadFeatureFlags();\n    }\n\n    return this.isDisabled(key);\n  }\n}\n","export * from './feature-flags.model';\r\nexport * from './feature-flags.service';\r\n","import { IStatus, PAYMENT_TYPE } from '@shared/models';\r\n\r\nexport enum OPERATION_CODE {\r\n  ALL = 'all',\r\n  INCOME = 'CREDIT',\r\n  OUTCOME = 'DEBIT',\r\n}\r\n\r\nexport enum FILTER_PERIOD_TYPE {\r\n  NONE = 'none',\r\n  TODAY = 'today',\r\n  YESTERDAY = 'yesterday',\r\n  CURRENT_WEEK = 'currentWeek',\r\n  CURRENT_MONTH = 'currentMonth',\r\n  CURRENT_QUARTER = 'currentQuarter',\r\n  PREVIOUS_QUARTER = 'previousQuarter',\r\n  CUSTOM = 'custom',\r\n}\r\n\r\nexport enum FILTER_PAYMENT_STATUS {\r\n  ALL = 'all',\r\n  FOR_SIGN = 'forSign',\r\n  FOR_SIGN_OTHERS = 'forSignOthers',\r\n  SUCCESS = 'success',\r\n  FAILED = 'failed',\r\n  IN_PROGRESS = 'inProgress',\r\n  DRAFT = 'draft',\r\n}\r\n\r\nexport interface IFilterStatus extends IStatus {\r\n  value: FILTER_PAYMENT_STATUS;\r\n}\r\n\r\nexport enum FILTER_SORT {\r\n  DEFAULT = 'none',\r\n  AMOUNT_ASC = 'amount',\r\n  AMOUNT_DESC = '-amount',\r\n}\r\n\r\nexport enum FILTER_COMISSION {\r\n  WITH_COMISSION = 'with_comission',\r\n  WITHOUT_COMISSION = 'without_comission',\r\n  ONLY_COMISSION = 'only_comission',\r\n}\r\n\r\nexport enum FILTER_MODE {\r\n  ACCOUNTS = 'ACCOUNTS',\r\n  DEPOSITS = 'DEPOSITS',\r\n  HISTORY = 'HISTORY',\r\n  CARDS = 'CARDS',\r\n}\r\n\r\nexport interface IFilterScheme {\r\n  paymentStatus?: FILTER_PAYMENT_STATUS;\r\n  operationType?: OPERATION_CODE;\r\n\r\n  recipientIban?: string;\r\n  recipientBin?: string;\r\n\r\n  periodType?: FILTER_PERIOD_TYPE;\r\n  periodFrom?: Date;\r\n  periodTo?: Date;\r\n\r\n  documentNumber?: string;\r\n\r\n  amountFrom?;\r\n  amountTo?;\r\n\r\n  sortBy?: FILTER_SORT;\r\n  comission?: FILTER_COMISSION;\r\n  type?: PAYMENT_TYPE | OPERATION_CODE;\r\n\r\n  page?: number;\r\n  pageSize?: number;\r\n}\r\n\r\nexport interface IFilterOption {\r\n  label: string;\r\n  value: FILTER_SORT | FILTER_COMISSION;\r\n}\r\n\r\nexport const FILTER_COMISSION_LIST: IFilterOption[] = [\r\n  {\r\n    label: 'FILTER.COMMISSION_OPTIONS.WITH_COMISSION',\r\n    value: FILTER_COMISSION.WITH_COMISSION,\r\n  },\r\n  {\r\n    label: 'FILTER.COMMISSION_OPTIONS.WITHOUT_COMISSION',\r\n    value: FILTER_COMISSION.WITHOUT_COMISSION,\r\n  },\r\n  // {\r\n  //   label: 'FILTER.COMMISSION_OPTIONS.ONLY_COMISSION',\r\n  //   value: FILTER_COMISSION.ONLY_COMISSION,\r\n  // },\r\n];\r\n\r\nexport const FILTER_SORT_LIST: IFilterOption[] = [\r\n  {\r\n    label: 'FILTER.SORT_OPTIONS.DEFAULT',\r\n    value: FILTER_SORT.DEFAULT,\r\n  },\r\n  {\r\n    label: 'FILTER.SORT_OPTIONS.AMOUNT_DESC',\r\n    value: FILTER_SORT.AMOUNT_DESC,\r\n  },\r\n  {\r\n    label: 'FILTER.SORT_OPTIONS.AMOUNT_ASC',\r\n    value: FILTER_SORT.AMOUNT_ASC,\r\n  },\r\n];\r\n\r\nexport interface IStatementDates {\r\n  from: Date;\r\n  to: Date;\r\n}\r\n\r\nexport interface IStatementPeriod {\r\n  type: FILTER_PERIOD_TYPE;\r\n  label?: string;\r\n  showDates?: boolean;\r\n  hasCalendarIcon?: boolean;\r\n  dates: IStatementDates;\r\n}\r\n\r\nexport const PERIOD_FORMAT = 'D.MM.YY';\r\nexport const PERIOD_FORMAT_INPUT = 'DD.MM.YYYY';\r\n","import { Component, OnInit, Input, HostListener, OnDestroy } from '@angular/core';\n\nimport { Observable, Subscription } from 'rxjs';\n\nimport { NotifierService } from 'angular-notifier';\n\nimport { HeartbeatService } from './heartbeat.service';\n\n@Component({\n  selector: 'j-heartbeat',\n  templateUrl: './heartbeat.component.html',\n  styleUrls: ['./heartbeat.component.scss'],\n})\nexport class HeartbeatComponent implements OnInit, OnDestroy {\n  /**\n   * Handle any events\n   */\n  @Input() event: Observable<Event>;\n  /**\n   * Orientation changing counter\n   */\n  orientationChangedCount = 0;\n\n  subscription: Subscription = new Subscription();\n\n  /**\n   * Component constructor\n   */\n  constructor(\n    private heartbeatService: HeartbeatService,\n    private notifierService: NotifierService\n  ) {}\n\n  /**\n   * Component Initialization\n   */\n  ngOnInit() {\n    this.heartbeatService.initSubscribe();\n    const eventSubscription = this.event.subscribe((event) => {\n      this.orientationChangedCount = 0;\n      this.heartbeatService.eventTrigger();\n    });\n\n    this.subscription.add(eventSubscription);\n  }\n\n  ngOnDestroy(){\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * Easter egg: shows notification if user changes orientation too many times\n   */\n  @HostListener('window:orientationchange', ['$event'])\n  onOrientationChange(event) {\n    this.orientationChangedCount++;\n\n    if (this.orientationChangedCount > 10) {\n      this.notifierService.notify(\n        'error',\n        '   ,   .'\n      );\n      this.orientationChangedCount = 0;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HeartbeatComponent } from './heartbeat.component';\n\n@NgModule({\n  declarations: [HeartbeatComponent],\n  imports: [CommonModule],\n  exports: [HeartbeatComponent],\n})\nexport class HeartbeatModule {}\n","import { Injectable } from '@angular/core';\r\nimport { AuthService } from '@auth/auth.service';\r\n\r\nimport { NotifierService } from 'angular-notifier';\r\n\r\nimport { ApiService } from '@api/index';\r\n\r\nimport { HEARTBEAT_CONFIG } from '../config/heartbeat.config';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpHeaders } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class HeartbeatService {\r\n  /**\r\n   * User active flag\r\n   */\r\n  isActive = true;\r\n\r\n  /**\r\n   * User inactive minutes count\r\n   */\r\n  inactiveCount = 0;\r\n\r\n  /**\r\n   * Interval countdown\r\n   */\r\n  countdown = HEARTBEAT_CONFIG.countdown;\r\n\r\n  /**\r\n   * Interval object\r\n   */\r\n  interval: any;\r\n\r\n  /**\r\n   * Interval notification count.\r\n   * Index to show notification after given amount of inactive loops.\r\n   */\r\n  notificationIndex = HEARTBEAT_CONFIG.notificationIndex;\r\n\r\n  /**\r\n   * Interval expiration count\r\n   * Index to logout after given amount of inactive loops.\r\n   */\r\n  expirationIndex = HEARTBEAT_CONFIG.expirationIndex;\r\n\r\n  subscribed = false;\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n    private authService: AuthService,\r\n    private notifierService: NotifierService,\r\n    private translateService: TranslateService\r\n  ) {}\r\n\r\n  /**\r\n   * Hearbeat initializer constructor\r\n   * Listens authService.authorized event.\r\n   */\r\n  initSubscribe() {\r\n    this.authService.authEvents().subscribe((isAuthorized) => {\r\n      if (isAuthorized) {\r\n        this.startTimer();\r\n      } else {\r\n        this.stopTimer();\r\n      }\r\n    });\r\n    this.subscribed = true;\r\n  }\r\n\r\n  /**\r\n   * Used to update heartbeat active flag\r\n   */\r\n  eventTrigger() {\r\n    this.isActive = true;\r\n    this.inactiveCount = 0;\r\n    if (!this.subscribed) {\r\n      this.initSubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Starts heartbeat timer\r\n   */\r\n  startTimer() {\r\n    this.interval = setInterval(() => {\r\n      if (this.isActive) {\r\n        this.beat();\r\n      } else {\r\n        this.inactiveCount++;\r\n\r\n        if (this.inactiveCount === this.notificationIndex) {\r\n          this.notifierService.notify(\r\n            'warning',\r\n            this.translateService.instant('SESSION.ABOUT_TO_EXPIRE')\r\n          );\r\n        } else if (this.inactiveCount >= this.expirationIndex) {\r\n          this.handleExpiration();\r\n        }\r\n      }\r\n\r\n      this.isActive = false;\r\n    }, this.countdown);\r\n  }\r\n\r\n  /**\r\n   * Stops heartbeat timer\r\n   */\r\n  stopTimer() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  /**\r\n   * Heartbeat update request\r\n   */\r\n  async beat() {\r\n    try {\r\n      await this.beatRequest();\r\n      this.inactiveCount = 0;\r\n      this.notificationIndex = HEARTBEAT_CONFIG.notificationIndex;\r\n      this.expirationIndex = HEARTBEAT_CONFIG.expirationIndex;\r\n    } catch (error) {\r\n      this.handleExpiration();\r\n    }\r\n  }\r\n\r\n  beatRequest() {\r\n    const url = `heartbeat`;\r\n    const headers = new HttpHeaders({\r\n      'X-Language': this.translateService.currentLang,\r\n    });\r\n    return this.api.put(url, {}, headers);\r\n  }\r\n\r\n  /**\r\n   * Heartbeat expire handler\r\n   */\r\n  private handleExpiration() {\r\n    this.notifierService.hideAll();\r\n    this.notifierService.notify(\r\n      'error',\r\n      this.translateService.instant('SESSION.EXPIRED')\r\n    );\r\n    this.authService.logout();\r\n  }\r\n}\r\n","import { RootRoute, makeChildren } from '../utils';\nimport { PaymentsRoutes, paymentsRoutes } from '../payments/payments-routes';\n\nexport class HomeRoutes implements RootRoute {\n  root = '';\n  dashboard = 'dashboard';\n  payments: PaymentsRoutes;\n  transfers = 'transfers';\n  history = 'history';\n  settings = 'settings';\n  conversion = 'conversion';\n  directory = 'directory';\n  contracts = 'contracts';\n  letters = 'letters';\n  authorities = 'authorities';\n  extraSettings = 'extraSettings';\n  jmart = 'jmart';\n\n  constructor() {\n    this.payments = makeChildren('/' + paymentsRoutes.root, paymentsRoutes);\n  }\n}\nexport const homeRoutes = new HomeRoutes();\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpErrorResponse,\r\n  HttpParams,\r\n  HttpClient,\r\n} from '@angular/common/http';\r\n\r\nimport { Observable, throwError, Subject } from 'rxjs';\r\nimport { catchError, switchMap } from 'rxjs/operators';\r\n\r\nimport { environment } from '@environments/environment';\r\n\r\nimport { TokenService } from '@shared/token/token.service';\r\nimport { AuthService } from '@auth/auth.service';\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n  private refreshSubject: Subject<any> = new Subject<any>();\r\n\r\n  constructor(\r\n    private tokenService: TokenService,\r\n    private authService: AuthService,\r\n    private http: HttpClient\r\n  ) {}\r\n\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    if (req.url.endsWith('/oauth/token')) {\r\n      return next.handle(req);\r\n    } else {\r\n      return next.handle(this.updateHeader(req)).pipe(\r\n        catchError((error, caught) => {\r\n          if (error instanceof HttpErrorResponse) {\r\n            if (\r\n              req.url.includes('authorized-persons') ||\r\n              req.url.includes('access-control')\r\n            ) {\r\n              return throwError(error);\r\n            } else if (this.isAccessDenied(error)) {\r\n              this.authService.logout();\r\n              return throwError(error);\r\n            } else if (this.isTokenExpired(error)) {\r\n              this.tokenService.clearUserToken();\r\n              return this.checkTokenExpired().pipe(\r\n                switchMap(() => {\r\n                  return next.handle(this.updateHeader(req));\r\n                })\r\n              );\r\n            } else {\r\n              return throwError(error);\r\n            }\r\n          }\r\n          return caught;\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private isTokenExpired(errorResponse: HttpErrorResponse): boolean {\r\n    return errorResponse.status && errorResponse.status === 401;\r\n  }\r\n\r\n  private isAccessDenied(errorResponse: HttpErrorResponse): boolean {\r\n    return (\r\n      errorResponse.status &&\r\n      errorResponse.status === 403 &&\r\n      errorResponse.error.error === 'access_denied'\r\n    );\r\n  }\r\n\r\n  private checkTokenExpired() {\r\n    this.refreshSubject.subscribe({\r\n      next: (data) => {\r\n        this.tokenService.clientToken = data.access_token;\r\n      },\r\n      complete: () => {\r\n        this.refreshSubject = new Subject<any>();\r\n      },\r\n    });\r\n\r\n    if (this.refreshSubject.observers.length === 1) {\r\n      this.refreshToken().subscribe(this.refreshSubject);\r\n    }\r\n\r\n    return this.refreshSubject;\r\n  }\r\n\r\n  private updateHeader(req) {\r\n    const authHeaders = this.tokenService.applyAuthHeaders(req.headers);\r\n    req = req.clone({\r\n      headers: authHeaders,\r\n    });\r\n    return req;\r\n  }\r\n\r\n  private refreshToken(): Observable<any> {\r\n    const baseUrl = localStorage.getItem('baseUrl') || environment.baseUrl;\r\n\r\n    const url = `${baseUrl}/oauth/token`;\r\n    const headers = this.tokenService.getBasicHeaders();\r\n\r\n    const params = new HttpParams().set('grant_type', 'client_credentials');\r\n\r\n    return this.http.post<any>(\r\n      url,\r\n      {},\r\n      {\r\n        headers: headers,\r\n        params: params,\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { HTTP_INTERCEPTORS } from '@angular/common/http';\r\n\r\nimport { PreventSendRequestBeforeResponseInterceptor } from './prevent-send-request-before-response-interceptor.service';\r\nimport { JmartCabinetInterceptor } from './jmart-cabinet.interceptor';\r\nimport { AuthInterceptor } from './auth.interceptor';\r\n// import { OfflineInterceptor } from './offline.interceptor';\r\n\r\nexport const httpInterceptorProviders = [\r\n  // Angular applies interceptors in the order that you provide them.\r\n  // If you provide interceptors A, then B, then C,\r\n  // requests will flow in A->B->C and responses will flow out C->B->A.\r\n  // {\r\n  //   provide: HTTP_INTERCEPTORS,\r\n  //   useClass: OfflineInterceptor,\r\n  //   multi: true,\r\n  // },\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: PreventSendRequestBeforeResponseInterceptor,\r\n    multi: true,\r\n  },\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: AuthInterceptor,\r\n    multi: true,\r\n  },\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: JmartCabinetInterceptor,\r\n    multi: true,\r\n  },\r\n];\r\n","import { forwardRef, Inject, Injectable, Injector } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse,\n  HttpErrorResponse,\n} from '@angular/common/http';\nimport { Observable, of, throwError } from 'rxjs';\nimport { JmartAuthService } from '@jmart-cabinet/services/jmart-auth.service';\nimport { AuthService } from '@auth/auth.service';\nimport { catchError, map } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class JmartCabinetInterceptor implements HttpInterceptor {\n  constructor(\n    private jmartAuthService: JmartAuthService,\n    private JBAuthService: AuthService,\n    private router: Router,\n    @Inject('JMART_CABINET_BASE_URL') private baseUrl: string,\n    private injector: Injector\n  ) {}\n\n  hasHeartBeatStopped = false;\n\n  intercept(\n    request: HttpRequest<unknown>,\n    next: HttpHandler\n  ): Observable<HttpEvent<unknown>> {\n    const authToken =\n      this.jmartAuthService.jmartCabinetAuthData.tokens?.auth.token;\n    const isJmartRequest = request.url.includes(this.baseUrl);\n\n    // way to handle preflight hearbeat request and fake it, cause this request will cause redirect to jb login\n    // location.pathname is not the angular way to solve this kind of issues, but heartbeat request started at\n    // constructor so we don't have an ability to determine the route, also injecting the Location service here\n    // will cause cyclic dependency issue, because Location service uses http service under the hood\n    if (\n      request.url.includes('heartbeat') &&\n      location.pathname.includes('jmart-cabinet') &&\n      !this.hasHeartBeatStopped\n    ) {\n      this.hasHeartBeatStopped = true;\n      return of(\n        new HttpResponse({\n          status: 200,\n          body: {},\n        })\n      );\n    }\n\n    if (authToken && !this.JBAuthService.isAuthenticated && isJmartRequest) {\n      request = request.clone({\n        setHeaders: {\n          'Request-Name-Strategy': 'true',\n          'Response-Name-Strategy': 'true',\n          'Accept-Language': 'ru',\n          'User-Id': '85',\n          'Current-Company-Id': String(\n            this.jmartAuthService.jmartCabinetAuthData.companyId\n          ),\n          'Company-Id': String(\n            this.jmartAuthService.jmartCabinetAuthData.companyId\n          ),\n          'Company-Ids': String(\n            this.jmartAuthService.jmartCabinetAuthData.companyId\n          ),\n          Authorization: `Bearer ${authToken}`,\n        },\n      });\n      return next.handle(request).pipe(\n        catchError((err) => {\n          if (\n            err instanceof HttpErrorResponse &&\n            [401, 403].includes(err.status)\n          ) {\n            this.router.navigate(['jmart-cabinet', 'auth']);\n          }\n          console.log(err);\n          return throwError(err);\n        })\n      );\n\n    }\n    return next.handle(request);\n  }\n}\n","import { HttpInterceptor, HttpRequest, HttpResponse, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nimport { Observable, Subject, throwError } from 'rxjs';\nimport { catchError, finalize, tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PreventSendRequestBeforeResponseInterceptor implements HttpInterceptor {\n  private cache: Map<string, Subject<HttpEvent<any>>> = new Map();\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    const requestKey = req.urlWithParams;\n    let subject = this.cache.get(requestKey);\n\n    if (req.method !== \"GET\") {\n      return next.handle(req)\n    }\n\n    if (subject) {\n      return subject;\n    }\n\n    subject = new Subject();\n    this.cache.set(requestKey, subject);\n\n    const subs = next.handle(req).pipe(\n      catchError(err => {\n        subject.error(err);\n        return throwError(err);\n      }),\n      tap(stateEvent => {\n        if (stateEvent instanceof HttpResponse) {\n          subject.next(stateEvent);\n        }\n      }),\n      finalize(() => {\n        subject.complete();\n        this.cache.delete(requestKey);\n        subs.unsubscribe();\n      }),\n    ).subscribe();\n\n    return subject;\n  }\n}","import { HttpClient } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport dayjs from 'dayjs';\nimport { Observer, Subject } from 'rxjs';\n\nexport type jmartMerchantCredentials = {\n    login: string,\n    password: string,\n};\n\nexport type jmartAuthResponseToken = {\n    token: string,\n    issued: string,\n    expired: string,\n};\n\nexport type jmartAuthResponseData = {\n    tokens: {\n        auth: jmartAuthResponseToken,\n        refresh: jmartAuthResponseToken,\n    }\n};\n\nexport type jmartAuthResponse = {\n    success: boolean,\n    data: jmartAuthResponseData\n};\n\nexport type JmartCabinetAuthObserver = Partial<Observer<jmartAuthResponse>>;\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class JmartAuthService {\n\n    jmartCabinetAuthData: { companyId: number } & jmartAuthResponseData = {\n        tokens: null, \n        companyId: null,\n    };\n\n    refreshSubject$ = new Subject();\n\n    private localStorageAuthKey = \"jmart-cabinet-auth\";\n\n    constructor(\n        @Inject('JMART_CABINET_BASE_URL') private baseUrl: string,\n        private http: HttpClient,\n        private router: Router,\n    ) {\n        this.synchronizeAuthData();\n    }\n\n    auth(credentials: jmartMerchantCredentials, observer: JmartCabinetAuthObserver = null) {\n\n        return this.http.post(\n         `${this.baseUrl}/gw/user/v1/auth/sign-in`,\n         credentials\n        ).subscribe({\n            ...observer,\n            next: (res: jmartAuthResponse) => {\n                if (res.success) {\n     \n                    if (observer.next) {\n                        observer.next(res); \n                    }\n\n                     // tmp, token parsing will move to api request\n                     function parseJwt (token) {\n                         const base64Url = token.split('.')[1];\n                         const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n                         const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\n                            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n                         }).join(''));\n                     \n                         return JSON.parse(jsonPayload);\n                     };\n                     this.jmartCabinetAuthData.companyId = parseJwt(res.data.tokens.auth.token).company_id;\n                     this.setAuthTokens(res.data);\n                     \n                     // should move navigate data to router to make it more declarative\n                     this.router.navigate(['jmart-cabinet']);\n                } else {\n                 //    handle auth error here\n                //  throw new Error()\n                }\n            },\n        });\n\n    }\n\n    refresh() {\n        if (this.getRemainigTokenTime() < -1800000) {\n          this.refreshSubject$.next();\n          return;\n        }\n        this.http.post(\n          `${this.baseUrl}/gw/user/v1/auth/refresh`,\n          {\n              token: this.jmartCabinetAuthData.tokens.refresh.token,\n          }\n        ).subscribe((res: jmartAuthResponse) => {\n          if (res.success) {\n              this.setAuthTokens(res.data);\n              this.refreshSubject$.next();\n          } else {\n          //    handle auth error here\n          }\n        });\n    }\n\n    private setAuthTokens(res: jmartAuthResponseData) {\n        this.jmartCabinetAuthData.tokens = res.tokens;\n        this.storeAuthData();\n    }\n\n    private storeAuthData() {\n        localStorage.setItem(this.localStorageAuthKey, JSON.stringify(this.jmartCabinetAuthData));\n    }\n\n    public synchronizeAuthData() {\n        const authData = localStorage.getItem(this.localStorageAuthKey);\n        if (authData) {\n            this.jmartCabinetAuthData = JSON.parse(authData);\n        }\n    }\n\n    public checkLastUserActivityTime() {\n        const remainingTime = this.getRemainigTokenTime();\n        const remainFiveMinutes = -300000;\n        const isTokenExpired = this.isTokenExpired();\n        const hasLess5Minutes = !isTokenExpired && remainingTime >= remainFiveMinutes;\n        if (hasLess5Minutes) {\n            this.refresh();\n        }\n        if (isTokenExpired) {\n           this.router.navigate(['jmart-cabinet', 'auth']);\n        }\n    }\n\n    private getRemainigTokenTime() {\n        return dayjs().diff(dayjs(this.jmartCabinetAuthData.tokens.auth.expired));\n    }\n\n    public isTokenExpired(): boolean {\n        return this.getRemainigTokenTime() > 0;\n    }\n\n    public isUserLogged() {\n        return this.jmartCabinetAuthData.tokens && !this.isTokenExpired();\n    }\n\n    public logout() {\n        localStorage.removeItem(this.localStorageAuthKey);\n        this.jmartCabinetAuthData = {\n            tokens: null,\n            companyId: null,\n        };\n    }\n\n}\n","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { IMoney } from '@shared/currency/currency.model';\nimport { MoneyPipe } from '@shared/pipes';\n\n@Component({\n  selector: 'j-limit-not-passed-modal',\n  templateUrl: './limit-not-passed-modal.component.html',\n  styleUrls: ['./limit-not-passed-modal.component.scss'],\n})\nexport class LimitNotPassedModalComponent {\n  @Input() amount: IMoney;\n  translateParams;\n\n  constructor(public modal: NgbActiveModal, private moneyPipe: MoneyPipe) {}\n\n  ngOnInit() {\n    this.translateParams = {\n      amount: this.moneyPipe.transform(this.amount),\n    };\n  }\n\n  closeModal() {\n    this.modal.close();\n  }\n}\n","import { Component, Input } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nexport enum WORKING_TIME_MODAL {\r\n  TODAY = 'TODAY',\r\n  AUTO = 'AUTO',\r\n  HOLIDAY = 'HOLIDAY',\r\n}\r\n\r\nconst TRANSLATE_PREFIX = `PAYMENTS.TIME_MODALS`;\r\n\r\n@Component({\r\n  selector: 'j-working-time-modal',\r\n  templateUrl: './working-time-modal.component.html',\r\n  styleUrls: ['./working-time-modal.component.scss'],\r\n})\r\nexport class WorkingTimeModalComponent {\r\n  @Input()\r\n  type: WORKING_TIME_MODAL;\r\n\r\n  @Input()\r\n  workingHoursEnd: string;\r\n\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n    private translateService: TranslateService\r\n  ) {}\r\n\r\n  get title() {\r\n    switch (this.type) {\r\n      case WORKING_TIME_MODAL.TODAY:\r\n      case WORKING_TIME_MODAL.AUTO:\r\n        return this.translateService.instant(\r\n          `${TRANSLATE_PREFIX}.${this.type}.TITLE`,\r\n          { endTime: this.workingHoursEnd }\r\n        );\r\n\r\n      case WORKING_TIME_MODAL.HOLIDAY:\r\n        return this.translateService.instant(\r\n          `${TRANSLATE_PREFIX}.${this.type}.TITLE`\r\n        );\r\n\r\n      default:\r\n        return ``;\r\n    }\r\n  }\r\n\r\n  get description() {\r\n    return this.translateService.instant(\r\n      `${TRANSLATE_PREFIX}.${this.type}.DESCRIPTION`\r\n    );\r\n  }\r\n\r\n  get closeText() {\r\n    switch (this.type) {\r\n      case WORKING_TIME_MODAL.TODAY:\r\n        return this.translateService.instant(`SHARED.OK`).toUpperCase();\r\n      case WORKING_TIME_MODAL.AUTO:\r\n      case WORKING_TIME_MODAL.HOLIDAY:\r\n      default:\r\n        return this.translateService.instant(`SHARED.CANCEL`);\r\n    }\r\n  }\r\n\r\n  get canBeSubmitted() {\r\n    return (\r\n      this.type === WORKING_TIME_MODAL.AUTO ||\r\n      this.type === WORKING_TIME_MODAL.HOLIDAY\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    this.modal.close();\r\n  }\r\n\r\n  onClose() {\r\n    this.modal.dismiss();\r\n  }\r\n}\r\n","import { homeRoutes } from '@home/home-routes';\r\n\r\nexport const PAYMENTS_STEPS = {\r\n  NONE: 0,\r\n  SELECT: 1,\r\n  TENGE: 2,\r\n  CURRENCY: 3,\r\n  OWN_TRANSFERS: 4,\r\n  CONVERSION: 5,\r\n};\r\n\r\nexport enum PAYMENT_SELECT_TYPE {\r\n  TENGE = 'tenge',\r\n  TRANSFERS = 'transfers',\r\n  FOREIGN = 'foreign',\r\n  CONVERSION = 'conversion'\r\n}\r\n\r\nexport const PAYMENT_TYPES = [\r\n  {\r\n    id: PAYMENT_SELECT_TYPE.TENGE,\r\n    url: homeRoutes.payments.tenge.root,\r\n    step: PAYMENTS_STEPS.TENGE,\r\n    icon: 'tenge.svg',\r\n    title: 'PAYMENTS.TYPE.TENGE_PAYMENTS',\r\n    isDisabled: false,\r\n  },\r\n  {\r\n    id: PAYMENT_SELECT_TYPE.TRANSFERS,\r\n    url: homeRoutes.transfers,\r\n    step: PAYMENTS_STEPS.OWN_TRANSFERS,\r\n    icon: 'own_transfers.svg',\r\n    title: 'PAYMENTS.TYPE.IN_BETWEEN',\r\n    isDisabled: false,\r\n  },\r\n  {\r\n    id: PAYMENT_SELECT_TYPE.FOREIGN,\r\n    url: homeRoutes.payments.foreignCurrency,\r\n    step: PAYMENTS_STEPS.CURRENCY,\r\n    icon: 'currency.svg',\r\n    title: 'PAYMENTS.TYPE.FOREIGN',\r\n    isDisabled: false,\r\n  },\r\n  {\r\n    id: PAYMENT_SELECT_TYPE.CONVERSION,\r\n    url: homeRoutes.conversion,\r\n    step: PAYMENTS_STEPS.CONVERSION,\r\n    icon: 'conversion.svg',\r\n    title: 'PAYMENTS.TYPE.CONVERSION',\r\n    isDisabled: false,\r\n  },\r\n];\r\n","import { LeafRoute, RootRoute, makeChildren } from '../utils';\n\nexport class PaymentsRoutes implements LeafRoute {\n  root = 'payments';\n  tenge: TengePaymentsRoutes;\n  tengeChildren\n  // state: TengePaymentsRoutes['state'];\n  foreignCurrency = 'currency';\n  conversion = 'conversion';\n  constructor(tenge: TengePaymentsRoutes, state: TengePaymentsRoutes['state']) {\n    this.tenge = makeChildren('/' + this.root, tenge);\n    // this.state = makeChildren(this.tenge.root, state);\n  }\n}\n\nexport class TengePaymentsRoutes implements LeafRoute {\n  root = 'tenge';\n  order = 'order';\n  state: StatePaymentsRoutes;\n  salary = 'salary';\n  constructor(state: StatePaymentsRoutes) {\n    this.state = makeChildren(this.root, state);\n  }\n}\nexport class StatePaymentsRoutes implements LeafRoute {\n  root = 'state';\n  tax = 'tax';\n  social = 'social';\n  osms = 'osms';\n  pension = 'pension';\n}\n\nexport const statePaymentsRoutes = new StatePaymentsRoutes();\nexport const tengePaymentsRoutes = new TengePaymentsRoutes(statePaymentsRoutes);\nexport const paymentsRoutes = new PaymentsRoutes(\n  tengePaymentsRoutes,\n  tengePaymentsRoutes.state\n);\n","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { NgbDate, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport dayjs from 'dayjs';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport timezone from 'dayjs/plugin/timezone';\r\nimport isBetween from 'dayjs/plugin/isBetween';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\r\n\r\nimport { ApiService, HEADERS, STATUS } from '@api/index';\r\n\r\nimport { resolveURL } from '@utils/index';\r\n\r\nimport { CompanyService } from '@company/company.service';\r\n\r\nimport { AuthorityLimitsService } from '@authorities/services';\r\n\r\nimport { AUTHORITY_TYPE } from '@shared/models/user';\r\nimport { CURRENCY, IMoney } from '@shared/currency/currency.model';\r\nimport {\r\n  PAYMENT_CATEGORY,\r\n  PAYMENT_TYPE,\r\n  ISmsToken,\r\n  TOKEN_TYPE,\r\n  IFxContract,\r\n} from '@shared/models';\r\n\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\nimport { BasePaymentBody, Payment } from '../models';\r\nimport { LimitNotPassedModalComponent } from '../components/limit-not-passed-modal/limit-not-passed-modal.component';\r\nimport {\r\n  WorkingTimeModalComponent,\r\n  WORKING_TIME_MODAL,\r\n} from '../components/working-time-modal/working-time-modal.component';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport {\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  filter,\r\n  map,\r\n  switchMap,\r\n} from 'rxjs/operators';\r\n\r\nconst endpoints = {\r\n  payments: 'companies/::companyId/payments',\r\n  payment: 'companies/::companyId/payments/::paymentId',\r\n  paymentAction: 'companies/::companyId/payments/::paymentId::action',\r\n  commission: 'companies/::companyId/payments/commission',\r\n  signatures: 'companies/::companyId/payments/::paymentId/signatures',\r\n  number: 'companies/::companyId/payments/number',\r\n  prevNotifications: 'companies/::companyId/payments/emails',\r\n};\r\n\r\nconst TIMEZONE = 'Asia/Almaty';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaymentApiService {\r\n  workingHours: {\r\n    isHoliday: boolean;\r\n    start: dayjs.Dayjs;\r\n    end: dayjs.Dayjs;\r\n  };\r\n\r\n  fetchedWorkingHours;\r\n  fxContracts$ = new BehaviorSubject<IFxContract[]>(null);\r\n\r\n  constructor(\r\n    private company: CompanyService,\r\n    private api: ApiService,\r\n    private modalService: NgbModal,\r\n    private authorityLimitsService: AuthorityLimitsService,\r\n    private maskedService: MaskedService\r\n  ) {\r\n    dayjs.extend(utc);\r\n    dayjs.extend(timezone);\r\n    dayjs.extend(isBetween);\r\n    dayjs.extend(customParseFormat);\r\n\r\n    this.retrieveWorkingHours();\r\n\r\n    // this.company.refresh$\r\n    //   .pipe(\r\n    //     filter(([, , isAuthorized]) => isAuthorized),\r\n    //     switchMap(([, authority]) => {\r\n    //       return this.api.getObservable<IFxContract[]>(\r\n    //         `companies/${authority.company.id}/fx-contracts`\r\n    //       );\r\n    //     })\r\n    //   )\r\n    //   .subscribe((contracts) => {\r\n    //     this.fxContracts$.next(contracts);\r\n    //   });\r\n  }\r\n\r\n  getFxContracts() {\r\n    return this.api.getObservable<IFxContract[]>(\r\n      `companies/${this.company.currentId}/fx-contracts`\r\n    );\r\n  }\r\n\r\n  private async retrieveWorkingHours() {\r\n    try {\r\n      const workingHours = await this.getWorkingHours();\r\n\r\n      const FORMAT = 'YYYY-MM-DD;HH:mm:ss';\r\n\r\n      if (!workingHours) {\r\n        return;\r\n      }\r\n      \r\n      this.workingHours = {\r\n        isHoliday: !workingHours.workingDay,\r\n        start: dayjs(`${workingHours.date};${workingHours.startTime}`, FORMAT),\r\n        end: dayjs(`${workingHours.date};${workingHours.endTime}`, FORMAT),\r\n      };\r\n    } catch (e) {\r\n      console.log(`cannot fetch working hours: ${e}`);\r\n    }\r\n  }\r\n\r\n  public isToday(date: NgbDate) {\r\n    if (!date) {\r\n      return false;\r\n    }\r\n\r\n    return dayjs().isSame(\r\n      dayjs()\r\n        .year(date.year)\r\n        .month(date.month - 1)\r\n        .date(date.day)\r\n    );\r\n  }\r\n\r\n  public async checkAmountLimit(amount: string, paymentType: PAYMENT_TYPE) {\r\n    try {\r\n      const limit = await this.authorityLimitsService.getPaymentLimit(\r\n        paymentType\r\n      );\r\n\r\n      if (limit) {\r\n        const numberedAmount = this.maskedService.getNumberedAmount(amount);\r\n\r\n        if (limit.limit?.amount < numberedAmount) {\r\n          await this.showLimitNotPassedModal(limit.limit);\r\n          return {\r\n            isPassed: false,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        isPassed: true,\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        error: error,\r\n        isPassed: true,\r\n      };\r\n    }\r\n  }\r\n\r\n  private async showLimitNotPassedModal(amount: IMoney) {\r\n    const modalRef = this.modalService.open(LimitNotPassedModalComponent, {\r\n      backdropClass: 'backdrop_light',\r\n      windowClass: 'modal_light modal_sm',\r\n      centered: true,\r\n    });\r\n\r\n    modalRef.componentInstance.amount = amount;\r\n\r\n    try {\r\n      await modalRef.result;\r\n    } catch (error) {\r\n    } finally {\r\n      return;\r\n    }\r\n  }\r\n\r\n  public async checkWorkingTime(selectedDate: NgbDate = null) {\r\n    try {\r\n      const currentTime = dayjs().tz(TIMEZONE);\r\n\r\n      if (!this.workingHours) {\r\n        await this.retrieveWorkingHours();\r\n      }\r\n\r\n      if (!this.workingHours?.start || !this.workingHours?.end) {\r\n        return true;\r\n      }\r\n\r\n      const isWorkingPeriod = currentTime.isBetween(\r\n        this.workingHours.start,\r\n        this.workingHours.end,\r\n        'milliseconds',\r\n        '[]'\r\n      );\r\n\r\n      const isTodayCutoff = !isWorkingPeriod && this.isToday(selectedDate);\r\n      const isHoliday =\r\n        this.workingHours.isHoliday &&\r\n        (this.isToday(selectedDate) || selectedDate == null);\r\n      const isAutoCutoff = !isWorkingPeriod && selectedDate == null;\r\n\r\n      const shouldShowModal = isTodayCutoff || isHoliday || isAutoCutoff;\r\n\r\n      if (!shouldShowModal) {\r\n        return true;\r\n      }\r\n\r\n      let modalType;\r\n\r\n      if (isTodayCutoff) {\r\n        modalType = WORKING_TIME_MODAL.TODAY;\r\n      } else if (isHoliday) {\r\n        modalType = WORKING_TIME_MODAL.HOLIDAY;\r\n      } else if (isAutoCutoff) {\r\n        modalType = WORKING_TIME_MODAL.AUTO;\r\n      } else {\r\n        return true;\r\n      }\r\n\r\n      return this.showWorkingTimeModal(modalType);\r\n    } catch (error) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  async showWorkingTimeModal(modalType: WORKING_TIME_MODAL) {\r\n    const modalRef = this.modalService.open(WorkingTimeModalComponent, {\r\n      backdropClass: 'backdrop_light',\r\n      windowClass: 'modal_light modal_sm',\r\n      centered: true,\r\n    });\r\n\r\n    modalRef.componentInstance.type = modalType;\r\n    modalRef.componentInstance.workingHoursEnd =\r\n      this.workingHours.end.format('HH:mm');\r\n\r\n    try {\r\n      await modalRef.result;\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async getWorkingHours() {\r\n    if (!this.fetchedWorkingHours) {\r\n      const url = 'calendar-day';\r\n      this.fetchedWorkingHours = await this.api.get<any>(url);\r\n    }\r\n\r\n    return this.fetchedWorkingHours;\r\n  }\r\n\r\n  createPayment(\r\n    body: BasePaymentBody,\r\n    { companyId }: { companyId?: string } = {}\r\n  ): Promise<Payment> {\r\n    const url = resolveURL(endpoints.payments, {\r\n      companyId: companyId || this.company.currentCompany.id,\r\n    });\r\n\r\n    return this.api.post<Payment>(url, body);\r\n  }\r\n  /**\r\n   * Create payment from existing draft\r\n   * @param body\r\n   * @param paymentId\r\n   * @param companyId\r\n   */\r\n  createFromDraft(\r\n    body: BasePaymentBody,\r\n    { paymentId, companyId }: { paymentId: string; companyId?: string }\r\n  ): Promise<{ id: string; status: { code: STATUS } }> {\r\n    const url = resolveURL(endpoints.paymentAction, {\r\n      companyId: companyId || this.company.currentCompany.id,\r\n      paymentId,\r\n      action: ':to-created',\r\n    });\r\n    return this.api.patch(url, body);\r\n  }\r\n  /**\r\n   * Updates information of draft and created payments. If payment is in created status, then deletes all existing signatures\r\n   * @param body\r\n   * @param param1\r\n   *\r\n   * @todo remove body.paymentRecipient = new RecipientAccount() when api will be consistent. Hack to baypass bug\r\n   */\r\n  updatePayment(\r\n    body: any,\r\n    { paymentId, companyId }: { paymentId: string; companyId?: string }\r\n  ): Promise<Payment> {\r\n    // to remove\r\n    // if (body.status?.code === PAYMENT_STATUS.DRAFT && !body.paymentRecipient) {\r\n    //   body.paymentRecipient = new RecipientAccount();\r\n    // }\r\n    return this.api.put(\r\n      resolveURL(endpoints.payment, {\r\n        companyId: companyId || this.company.currentCompany.id,\r\n        paymentId,\r\n      }),\r\n      body\r\n    );\r\n  }\r\n\r\n  signPayment(\r\n    smsToken: ISmsToken,\r\n    paymentId: string,\r\n    companyId: string = this.company.currentCompany.id\r\n  ) {\r\n    return this.api.post(\r\n      resolveURL(endpoints.signatures, {\r\n        paymentId,\r\n        companyId,\r\n      }),\r\n      undefined,\r\n      new HttpHeaders({\r\n        [smsToken.type == TOKEN_TYPE.OTP ? HEADERS.OTP : HEADERS.PHONE]:\r\n          smsToken.signature,\r\n      })\r\n    );\r\n  }\r\n\r\n  getCommission(body: {\r\n    companyId: string;\r\n    category: PAYMENT_CATEGORY;\r\n    type: PAYMENT_TYPE;\r\n    details: {\r\n      valueDate: string | null;\r\n      paymentAmount: IMoney;\r\n      urgent: boolean;\r\n      payerIban: string;\r\n    };\r\n  }): Promise<number> {\r\n    return this.api\r\n      .post<{ commissionAmount: number }>(\r\n        resolveURL(endpoints.commission, {\r\n          companyId: body.companyId,\r\n        }),\r\n        body\r\n      )\r\n      .then(({ commissionAmount }) => commissionAmount);\r\n  }\r\n\r\n  async getCommissionWithCurrency(body: {\r\n    companyId: string;\r\n    category: PAYMENT_CATEGORY;\r\n    type: PAYMENT_TYPE;\r\n    details: {\r\n      valueDate: string | null;\r\n      paymentAmount: IMoney;\r\n      urgent: boolean;\r\n      payerIban: string;\r\n    };\r\n  }): Promise<IMoney> {\r\n    const commissionWithCurrency = await this.api.post<{\r\n      commissionAmount: number;\r\n      currency: CURRENCY;\r\n    }>(\r\n      resolveURL(endpoints.commission, {\r\n        companyId: body.companyId,\r\n      }),\r\n      body\r\n    );\r\n    return {\r\n      amount: commissionWithCurrency.commissionAmount,\r\n      currency: commissionWithCurrency.currency,\r\n    };\r\n  }\r\n\r\n  getPayments() {\r\n    return this.api.get(\r\n      resolveURL(endpoints.payments, {\r\n        companyId: this.company.currentCompany.id,\r\n      })\r\n    );\r\n  }\r\n\r\n  getPaymentById(paymentId: string): Promise<Payment> {\r\n    return this.api.get(\r\n      resolveURL(endpoints.payment, {\r\n        companyId: this.company.currentCompany.id,\r\n        paymentId,\r\n      })\r\n    );\r\n  }\r\n\r\n  getSignaturesForPaymentId(paymentId: string): Promise<\r\n    {\r\n      authority: AUTHORITY_TYPE;\r\n      created: string;\r\n      id: string;\r\n      paymentId: string;\r\n      userId: string;\r\n    }[]\r\n  > {\r\n    return this.api.get(\r\n      resolveURL(endpoints.payment, {\r\n        companyId: this.company.currentCompany.id,\r\n        paymentId,\r\n      })\r\n    );\r\n  }\r\n\r\n  getPaymentNumber(paymentCategory: PAYMENT_CATEGORY) {\r\n    const url = resolveURL(endpoints.number, {\r\n      companyId: this.company.currentCompany.id,\r\n    });\r\n\r\n    let params = new HttpParams();\r\n    params = params.append('paymentCategory', paymentCategory);\r\n\r\n    return this.api.get<{ number: number }>(url, null, params);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  FormArray,\r\n  Validators,\r\n  AbstractControl,\r\n  ValidatorFn,\r\n  ValidationErrors,\r\n  Validator,\r\n} from '@angular/forms';\r\n\r\nimport { combineLatest, of, Observable, from, BehaviorSubject } from 'rxjs';\r\nimport { debounceTime, filter, map } from 'rxjs/operators';\r\n\r\nimport { NgbModal, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport pick from 'lodash/pick';\r\n\r\nimport { AccountsService } from '@accounts/index';\r\nimport { ACCOUNT_TYPE, RegularAccount } from '@accounts/account.model';\r\n\r\nimport { RecipientsService } from '@company/recipients.service';\r\nimport { CompanyService } from '@company/company.service';\r\n\r\nimport {\r\n  dateToNgbStruct,\r\n  SingleEntityStore,\r\n  ngbDateToUTCStartDay,\r\n} from '@utils/index';\r\n\r\nimport { errors } from '@shared/validators';\r\nimport { AmountFormatPipe } from '@shared/pipes/amount-format.pipe';\r\nimport { UGD, Bank } from '@shared/models/dictionary';\r\nimport { CURRENCY } from '@shared/currency/currency.model';\r\nimport { BankFromAccountPipe } from '@shared/pipes/bank-from-account.pipe';\r\n\r\nimport { PaymentApiService } from './payment-api.service';\r\nimport {\r\n  PAYMENT_TYPE,\r\n  PAYMENT_CATEGORY,\r\n  AUTHORITY_TYPE,\r\n  SIGNATURE_SCHEME,\r\n} from '@shared/models';\r\nimport { paymentsRoutes } from '@payments/payments-routes';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { EmployeeItemModel } from '@shared/employee';\r\n\r\nexport enum PaymentRootTitle {\r\n  NEW = 'NEW_PAYMENT',\r\n  EDIT_DRAFT = 'EDIT_PAYMENT_DRAFT',\r\n  EDIT_PAYMENT = 'EDIT_PAYMENT',\r\n}\r\nexport enum MessageType {\r\n  info = 'info',\r\n}\r\n// TODO:    -  \r\nexport const messages = {\r\n  noAccounts: `      .\r\n          .`,\r\n  allLocked: `   \r\n    `,\r\n};\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaymentsService {\r\n  rules = {\r\n    purposeLength: 482,\r\n    vat: 0.12,\r\n    kbkCodeVinReq: ['104401', '104402'],\r\n    maxAmount: 999_999_999_999.99,\r\n    minAmount: 0.0,\r\n  };\r\n\r\n  errors = errors;\r\n\r\n  infoMessage = new SingleEntityStore<\r\n    | {\r\n        message: string;\r\n        type: MessageType;\r\n      }\r\n    | undefined\r\n  >();\r\n\r\n  private loadingPaymentSubject$ = new BehaviorSubject<{\r\n    id: string;\r\n    request$: Observable<any>;\r\n  } | null>(null);\r\n\r\n  loadingPayment$ = this.loadingPaymentSubject$.asObservable();\r\n\r\n  rootTitle$ = new BehaviorSubject<PaymentRootTitle>(PaymentRootTitle.NEW);\r\n\r\n  paymentNumber = new SingleEntityStore<string | null>(null);\r\n  foreignPaymentNumber = new SingleEntityStore<string | null>(null);\r\n  conversionPaymentNumber = new SingleEntityStore<string | null>(null);\r\n\r\n  constructor(\r\n    public amountPipe: AmountFormatPipe,\r\n    public bankFromAccount: BankFromAccountPipe,\r\n    public notify: NotifierService,\r\n    public spinner: NgxSpinnerService,\r\n    private api: PaymentApiService,\r\n    private company: CompanyService\r\n  ) {}\r\n\r\n  set loadingPayment(\r\n    v: {\r\n      id: string;\r\n      request$: Observable<any>;\r\n    } | null\r\n  ) {\r\n    this.loadingPaymentSubject$.next(v);\r\n  }\r\n\r\n  set rootTitle(title: PaymentRootTitle) {\r\n    this.rootTitle$.next(title);\r\n  }\r\n\r\n  get stdDateRangeNgb() {\r\n    const now = new Date();\r\n    // 10 days from tomorrow\r\n    now.setDate(now.getDate() + 10);\r\n    return {\r\n      minDate: dateToNgbStruct(new Date()),\r\n      maxDate: dateToNgbStruct(now),\r\n    };\r\n  }\r\n\r\n  get paymentNumber$(): PaymentsService['paymentNumber']['entity$'] {\r\n    const numStore = this.paymentNumber;\r\n    if (numStore.entity === null && !numStore.fetching) {\r\n      this.getCurrentAutoNumber(numStore, PAYMENT_CATEGORY.DOMESTIC);\r\n    }\r\n    return numStore.entity$.pipe(\r\n      filter((n) => {\r\n        return n !== null;\r\n      })\r\n    );\r\n  }\r\n\r\n  get foreignPaymentNumber$(): PaymentsService['foreignPaymentNumber']['entity$'] {\r\n    const numStore = this.foreignPaymentNumber;\r\n    if (numStore.entity === null && !numStore.fetching) {\r\n      this.getCurrentAutoNumber(numStore, PAYMENT_CATEGORY.FOREIGN);\r\n    }\r\n    return numStore.entity$.pipe(\r\n      filter((n) => {\r\n        return n !== null;\r\n      })\r\n    );\r\n  }\r\n\r\n  get conversionPaymentNumber$(): PaymentsService['conversionPaymentNumber']['entity$'] {\r\n    const numStore = this.conversionPaymentNumber;\r\n    if (numStore.entity === null && !numStore.fetching) {\r\n      this.getCurrentAutoNumber(numStore, PAYMENT_CATEGORY.CONVERSION);\r\n    }\r\n    return numStore.entity$.pipe(\r\n      filter((n) => {\r\n        return n !== null;\r\n      })\r\n    );\r\n  }\r\n\r\n  private getCurrentAutoNumber(numStore, paymentCategory: PAYMENT_CATEGORY) {\r\n    numStore.fetching = true;\r\n    return this.api\r\n      .getPaymentNumber(paymentCategory)\r\n      .then((v) => (numStore.entity = v.number.toString()))\r\n      .catch((e) => (numStore.entity = null))\r\n      .finally(() => (numStore.fetching = false));\r\n  }\r\n\r\n  bankExist(iban: string): ValidationErrors | null {\r\n    let bic = '';\r\n    if (\r\n      !iban ||\r\n      iban.length < 20 ||\r\n      (bic = this.bankFromAccount.transform(iban, 'bic'))\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    return { bankExist: true };\r\n  }\r\n\r\n  checkPaymentTypeFromIban(\r\n    recipientIban = '',\r\n    payerIban = ''\r\n  ): PAYMENT_TYPE.INTERNAL | PAYMENT_TYPE.EXTERNAL | undefined {\r\n    const jisnaBic = 'TSESKZKA';\r\n    const recipientBic = this.bankFromAccount.transform(recipientIban);\r\n    const payerIbanBic = this.bankFromAccount.transform(payerIban);\r\n    let result = undefined;\r\n    const comp = [];\r\n    payerIbanBic && comp.push(payerIbanBic);\r\n    recipientBic && comp.push(recipientBic);\r\n    if (comp.every((bic) => bic === jisnaBic)) {\r\n      result = PAYMENT_TYPE.INTERNAL;\r\n    } else if (comp.length) {\r\n      result = PAYMENT_TYPE.EXTERNAL;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getPaymentRouteByType(type: PAYMENT_TYPE | undefined): string {\r\n    switch (type) {\r\n      case PAYMENT_TYPE.MEDICAL:\r\n        return paymentsRoutes.tenge.state.osms;\r\n      case PAYMENT_TYPE.PENSION:\r\n        return paymentsRoutes.tenge.state.pension;\r\n      case PAYMENT_TYPE.SOCIAL:\r\n        return paymentsRoutes.tenge.state.social;\r\n      case PAYMENT_TYPE.TAX:\r\n        return paymentsRoutes.tenge.state.tax;\r\n      case PAYMENT_TYPE.SALARY:\r\n        return paymentsRoutes.tenge.salary;\r\n      default:\r\n        return paymentsRoutes.tenge.order;\r\n    }\r\n  }\r\n\r\n  calculateCommission$(data: {\r\n    amount: number;\r\n    currency: string;\r\n    companyId: string;\r\n    category: PAYMENT_CATEGORY;\r\n    urgent: boolean;\r\n    date: NgbDateStruct | null;\r\n    type: PAYMENT_TYPE;\r\n    kbk?: string;\r\n    knp?: string;\r\n    senderAccount?: RegularAccount;\r\n  }): Observable<number> {\r\n    const body = {\r\n      type: data.type,\r\n      companyId: data.companyId,\r\n      category: data.category,\r\n      details: {\r\n        valueDate: data.date\r\n          ? ngbDateToUTCStartDay(data.date).toISOString()\r\n          : (data.date as null),\r\n        urgent: data.urgent,\r\n        payerIban: data.senderAccount?.iban,\r\n        paymentAmount: {\r\n          currency: data.currency as CURRENCY,\r\n          amount: data.amount,\r\n        },\r\n        kbk: undefined,\r\n        knp: undefined,\r\n      },\r\n    };\r\n\r\n    if (data.kbk) {\r\n      body.details.kbk = {\r\n        code: data.kbk,\r\n      };\r\n    }\r\n\r\n    if (data.knp) {\r\n      body.details.knp = {\r\n        code: data.knp,\r\n      };\r\n    }\r\n\r\n    return from(this.api.getCommission(body));\r\n  }\r\n\r\n  combineAcceptableAccounts(accountStore: AccountsService['store']) {\r\n    return combineLatest([\r\n      accountStore.items$.pipe(\r\n        map((items) =>\r\n          items.filter((item) => item.accountType === ACCOUNT_TYPE.ACCOUNT)\r\n        )\r\n      ),\r\n      accountStore.fetching$,\r\n      accountStore.fetched$,\r\n    ]).pipe(\r\n      debounceTime(0),\r\n      filter(([a, fetching, fetched]) => !fetching || fetched),\r\n      map(([arr]) =>\r\n        arr.filter(\r\n          (acc) =>\r\n            acc.balance.currency === CURRENCY.KZT &&\r\n            !acc.isClosed &&\r\n            !acc.isLocked\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  genericSearchTerm(\r\n    term: string,\r\n    item: { code?: string; name?: string; label?: string }\r\n  ) {\r\n    if (term) {\r\n      const normalized = term.toLowerCase();\r\n\r\n      return Object.values(pick(item, 'name', 'code', 'label')).some(\r\n        (v) => v && v.toLowerCase().includes(normalized)\r\n      );\r\n    }\r\n    return true;\r\n  }\r\n\r\n  ugdSearchFn(term: string, item: UGD): boolean {\r\n    if (term) {\r\n      const normalized = term.toLowerCase();\r\n      return Object.values(pick(item, 'name', 'code', 'bin')).some((v) =>\r\n        v.toLowerCase().includes(normalized)\r\n      );\r\n    }\r\n    return true;\r\n  }\r\n\r\n  bankReceiverSearchFn(term: string, item: Bank): boolean {\r\n    if (term) {\r\n      const normalized = term.toLowerCase();\r\n      return Object.values(\r\n        pick(item, 'name', 'salaryTransitIban', 'bic', 'bin')\r\n      ).some((v) => (v || '').toLowerCase().includes(normalized));\r\n    }\r\n    return true;\r\n  }\r\n\r\n  employeeValidationMap = (\r\n    options: {\r\n      ibanDefined?: boolean;\r\n      periodRequired?: boolean;\r\n      birthDateRequired?: boolean;\r\n    } = {}\r\n  ) => {\r\n    const map: Record<string, ValidatorFn[]> = {\r\n      iin: [Validators.required, Validators.minLength(12)],\r\n      firstName: [Validators.required],\r\n      lastName: [Validators.required],\r\n\r\n      amount: [\r\n        Validators.required,\r\n        Validators.min(this.rules.minAmount),\r\n        Validators.max(this.rules.maxAmount),\r\n      ],\r\n      currency: [],\r\n    };\r\n\r\n    if (options.birthDateRequired) {\r\n      map.birthDate = [Validators.required];\r\n    }\r\n\r\n    if (options.periodRequired) {\r\n      map.period = [Validators.required];\r\n    }\r\n\r\n    if (options.ibanDefined) {\r\n      map.iban = [Validators.required, Validators.minLength(16)];\r\n    }\r\n    return map as Record<keyof EmployeeItemModel, Array<ValidatorFn>>;\r\n  }\r\n\r\n  employeeGroupControlValidator =\r\n    (paymentType: PAYMENT_TYPE) => (control: AbstractControl) => {\r\n      const value: EmployeeItemModel[] = control.value;\r\n      if (!value || value.length < 1) {\r\n        return null;\r\n      }\r\n      const modelKeys = Object.keys(value[0]);\r\n      const ibanDefined = paymentType === PAYMENT_TYPE.SALARY;\r\n      const periodRequired = paymentType !== PAYMENT_TYPE.SALARY;\r\n      const birthDateRequired = paymentType !== PAYMENT_TYPE.SALARY;\r\n\r\n      const map = this.employeeValidationMap({\r\n        ibanDefined,\r\n        periodRequired,\r\n        birthDateRequired,\r\n      });\r\n\r\n      let firstError;\r\n\r\n      const firstErrorGroup = value.find((employeeModel) => {\r\n        return modelKeys.find((modelKey) => {\r\n          return (\r\n            map[modelKey] &&\r\n            map[modelKey].find((validator) => {\r\n              if (\r\n                (firstError = validator({ value: employeeModel[modelKey] }))\r\n              ) {\r\n                console.log(firstError);\r\n                return firstError;\r\n              }\r\n            })\r\n          );\r\n        });\r\n      });\r\n\r\n      if (firstErrorGroup) {\r\n        return { groupError: true };\r\n      }\r\n      // check uniq iin\r\n      const dictionary: Record<string, string> = {};\r\n      const alreadyExistEmployee = value.some((employeeModel) => {\r\n        // additional period, ignore\r\n        if (employeeModel.linkedWith) {\r\n          return false;\r\n        }\r\n        if (dictionary[employeeModel.iin]) {\r\n          return true;\r\n        }\r\n        dictionary[employeeModel.iin];\r\n      });\r\n\r\n      if (alreadyExistEmployee) {\r\n        return { alreadyExistEmployee };\r\n      }\r\n    }\r\n\r\n  get isSignatureRequired(): boolean {\r\n    const { authorityLevel, currentCompany } = this.company;\r\n    if (authorityLevel === AUTHORITY_TYPE.NO_SIGNATURE) {\r\n      return false;\r\n    } else if (\r\n      authorityLevel === AUTHORITY_TYPE.PRIMARY_SIGNATURE &&\r\n      currentCompany.signatureScheme !== SIGNATURE_SCHEME.SINGLE_SIGN\r\n    ) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","export * from './router';\n","import {\n  trigger,\n  transition,\n  style,\n  query,\n  animateChild,\n  group,\n  animate,\n  animation,\n  keyframes,\n  AnimationReferenceMetadata,\n} from '@angular/animations';\n\nexport const sharedStyles = {\n  position: 'fixed',\n  overflow: 'hidden',\n  backfaceVisibility: 'hidden',\n  transformStyle: 'preserve-3d',\n  left: 0,\n  right: 0,\n  top: 0,\n};\nexport const routeTransitionAnimations = trigger('slideRouteAnimations', [\n  transition(\n    '* => *',\n    [\n      style({ position: 'relative' }),\n      query(':enter, :leave', [\n        style({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n        }),\n      ], { optional: true }),\n      group([\n        query(\n          ':enter',\n          [\n            style({\n              transform: 'translate({{offsetEnterX}}%, {{offsetEnterY}}%)',\n            }),\n            animate(\n              '0.2s ease-in-out',\n              style({ transform: 'translate(0%, 0%)', opacity: 1 })\n            ),\n          ],\n          { optional: true }\n        ),\n        query(\n          ':leave',\n          [\n            style({ transform: 'translate(0%, 0%)' }),\n            animate(\n              '0.2s ease-in-out',\n              style({\n                transform: 'translate({{offsetLeaveX}}%, {{offsetLeaveY}}%)',\n                opacity: 0,\n              })\n            ),\n          ],\n          { optional: true }\n        ),\n      ]),\n    ],\n    {\n      params: {\n        offsetEnterX: 0,\n        offsetEnterY: 0,\n        offsetLeaveX: 0,\n        offsetLeaveY: 0,\n      },\n    }\n  ),\n]);\n\nexport const moveFromBottomFade: AnimationReferenceMetadata = animation(\n  [\n    query(':enter, :leave', style(sharedStyles), { optional: true }),\n    group([\n      query(\n        ':enter',\n        [\n          animate(\n            '{{enterTiming}}s {{enterDelay}}s ease',\n            keyframes([\n              style({\n                transform: 'translateY(4%) scale(0.97)',\n                height: '100vh',\n                opacity: '0',\n                'z-index': '9999',\n                overflow: 'hidden',\n                offset: 0,\n              }),\n              style({\n                transform: 'translateY(1%) scale(0.99)',\n                opacity: '0.5',\n                'z-index': '9999',\n                offset: 0.9,\n              }),\n              style({\n                transform: 'translateY(0%) scale(1)',\n                opacity: '1',\n                height: '100vh',\n                overflow: 'hidden',\n                offset: 1,\n              }),\n            ])\n          ),\n        ],\n        { optional: true }\n      ),\n\n      // query(\n      //   ':leave',\n      //   [\n      //     animate(\n      //       '{{leaveTiming}}s {{leaveDelay}}s ease',\n      //       keyframes([\n      //         style({\n      //           opacity: '1',\n      //           transform: 'translateY(0%) scale(1)',\n      //           'z-index': '9999',\n      //           offset: 0,\n      //         }),\n      //         style({\n      //           opacity: '0.3',\n      //           transform: 'translateY(30%) scale(0.8)',\n      //           offset: 1,\n      //         }),\n      //       ])\n      //     ),\n      //   ],\n      //   { optional: true }\n      // ),\n    ]),\n  ],\n  {\n    params: {\n      enterTiming: '.2',\n      leaveTiming: '.3',\n      enterDelay: '0',\n      leaveDelay: '0',\n    },\n  }\n);\n\nexport const moveFromBottomFadeReverse: AnimationReferenceMetadata = animation(\n  [\n    query(':leave, :enter', style(sharedStyles), { optional: true }),\n    group([\n      query(\n        ':leave',\n        [\n          animate(\n            '{{enterTiming}}s {{enterDelay}}s ease',\n            keyframes([\n              style({\n                transform: 'translateY(0)',\n                offset: 0,\n                'z-index': '9999',\n              }),\n              style({ transform: 'translateY(100%)', offset: 1 }),\n            ])\n          ),\n        ],\n        { optional: true }\n      ),\n      query(\n        ':enter,',\n        [\n          animate(\n            '{{leaveTiming}}s {{leaveDelay}}s ease',\n            keyframes([\n              style({ opacity: '1', offset: 0 }),\n              style({ opacity: '0.3', offset: 1 }),\n            ])\n          ),\n        ],\n        { optional: true }\n      ),\n    ]),\n  ],\n  {\n    params: {\n      enterTiming: '.2',\n      leaveTiming: '.3',\n      enterDelay: '0',\n      leaveDelay: '0',\n    },\n  }\n);\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AnimationOptions } from 'ngx-lottie';\n\n@Component({\n  selector: 'j-animated-loading',\n  templateUrl: './animated-loading.component.html',\n  styleUrls: ['./animated-loading.component.scss'],\n})\nexport class AnimatedLoadingComponent implements OnInit {\n  lottieOptions: AnimationOptions = {\n    path: '/assets/lottie/gray.json',\n  };\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { Component, OnInit, Input, OnDestroy, Renderer2 } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Subscription } from 'rxjs';\n\nimport { UserService } from '@shared/services/user.service';\nimport { HeaderService } from '@shared/services/header.service';\nimport { User, IUserAuthority } from '@shared/models/user';\n\nimport { CompanyService } from '@company/company.service';\n\nimport { AuthService } from '@auth/auth.service';\n\nimport { PAYMENTS_STEPS } from '@payments/models/steps';\nimport { AnalyticsManagerAbstract } from '@analytics/services/manager';\n\nconst MENU_ENABLED_CLASSNAME = 'menu-enabled';\n\n@Component({\n  selector: 'j-aside',\n  templateUrl: './aside.component.html',\n  styleUrls: ['./aside.component.scss'],\n})\nexport class AsideComponent implements OnDestroy, OnInit {\n  @Input() isUserShown = true;\n  user: User;\n  currentAuthority: IUserAuthority;\n\n  steps = PAYMENTS_STEPS;\n\n  subscription = new Subscription();\n\n  isUserDropdownCollapsed: boolean = false;\n  isMenuShown: boolean = false;\n\n  constructor(\n    private router: Router,\n    private userService: UserService,\n    private authService: AuthService,\n    private companyService: CompanyService,\n    private headerService: HeaderService,\n    private renderer: Renderer2,\n    private analytics: AnalyticsManagerAbstract\n  ) {}\n\n  ngOnInit() {\n    const routerSubscription = this.router.events.subscribe((event) => {\n      this.hideMenu();\n    });\n\n    this.subscription.add(routerSubscription);\n\n    if (this.isUserShown) {\n      const userSubscription = this.userService.getUser().subscribe((user) => {\n        this.user = user;\n        // this.loadAuthority();\n      });\n      const companyS = this.companyService.currentAuthority$.subscribe((a) => {\n        if (a) {\n          this.currentAuthority = a;\n        }\n      });\n\n      this.subscription.add(userSubscription);\n      this.subscription.add(companyS);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.hideMenu();\n    this.subscription.unsubscribe();\n  }\n\n  onAuthoritySelect(authority: IUserAuthority) {\n    this.companyService.currentAuthority = authority;\n    this.hideUserDropdown();\n    this.hideMenu();\n    this.analytics.logEvent('SwitchBetweenCompanies', { version: 1 });\n  }\n\n  setStep(step: number) {\n    this.headerService.setCurrentStep(step);\n  }\n\n  toggleMenu() {\n    this.isMenuShown = !this.isMenuShown;\n    if (this.isMenuShown === false) {\n      this.hideUserDropdown();\n      this.renderer.removeClass(document.body, MENU_ENABLED_CLASSNAME);\n    } else {\n      this.renderer.addClass(document.body, MENU_ENABLED_CLASSNAME);\n    }\n  }\n\n  hideMenu() {\n    this.isMenuShown = false;\n    this.hideUserDropdown();\n    this.renderer.removeClass(document.body, MENU_ENABLED_CLASSNAME);\n  }\n\n  toggleUserDropdown(event = null) {\n    event?.preventDefault();\n    this.isUserDropdownCollapsed = !this.isUserDropdownCollapsed;\n  }\n\n  showUserDropdown(event = null) {\n    event?.preventDefault();\n    this.isUserDropdownCollapsed = true;\n  }\n\n  hideUserDropdown(event = null) {\n    event?.preventDefault();\n    this.isUserDropdownCollapsed = false;\n  }\n\n  get name() {\n    if (!this.user) {\n      return '';\n    }\n\n    return `${this.user?.lastname || ''} \n    ${this.getFirstLetter(this.user.firstname || '')} \n    ${this.getFirstLetter(this.user.middlename || '')}`;\n  }\n\n  get company() {\n    return (\n      this.currentAuthority?.company?.shortName ||\n      this.currentAuthority?.company?.name\n    );\n  }\n\n  private getFirstLetter(value: string) {\n    return value ? `${value[0]}.` : '';\n  }\n}\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'j-collapsible-body',\r\n  templateUrl: './collapsible-body.component.html',\r\n  styleUrls: ['./collapsible-body.component.scss']\r\n})\r\nexport class CollapsibleBodyComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'j-collapsible-trigger',\n  templateUrl: './collapsible-trigger.component.html',\n  styleUrls: ['./collapsible-trigger.component.scss']\n})\nexport class CollapsibleTriggerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {\r\n  animate,\r\n  state,\r\n  style,\r\n  transition,\r\n  trigger,\r\n} from '@angular/animations';\r\nimport { Component, EventEmitter, Input, OnChanges, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'j-collapsible',\r\n  templateUrl: './collapsible.component.html',\r\n  styleUrls: ['./collapsible.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations: [\r\n    trigger('smoothCollapse', [\r\n      state(\r\n        'initial',\r\n        style({\r\n          height: '0',\r\n          overflow: 'hidden',\r\n          opacity: '0',\r\n        })\r\n      ),\r\n      state(\r\n        'final',\r\n        style({\r\n          // height: 'auto',\r\n          overflow: 'hidden',\r\n          opacity: '1',\r\n        })\r\n      ),\r\n      transition('initial<=>final', animate('150ms')),\r\n    ]),\r\n  ],\r\n})\r\nexport class CollapsibleComponent implements OnInit {\r\n  @Input() isCollapsed: boolean = true;\r\n  @Output() collapseClicked = new EventEmitter<boolean>();\r\n  constructor() {}\r\n\r\n  public collapse() {\r\n    this.isCollapsed = !this.isCollapsed;\r\n  }\r\n\r\n  ngOnInit() {}\r\n  \r\n  onClick() {\r\n    this.isCollapsed = !this.isCollapsed;\r\n    this.collapseClicked.emit(this.isCollapsed);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Dictionary } from 'lodash';\r\n\r\nimport {\r\n  IExchangeRate,\r\n  IHistoryPayment,\r\n  ISmsToken,\r\n  PAYMENT_TYPE,\r\n} from '@shared/models';\r\n\r\nimport { PaymentsSharedService } from '../../services/payments-shared.service';\r\nimport { UserService } from '../../services';\r\nimport { SmsComponent } from '../sms/sms.component';\r\nimport { OtpComponent } from '../otp/otp.component';\r\nimport { CompanyService } from '@company/company.service';\r\n\r\nexport enum CONFIRM_SIGNATURE_TYPE {\r\n  OTP = 'OTP',\r\n  SMS = 'SMS',\r\n}\r\n\r\nconst SIGN_ALLOWED = 'signAllowed';\r\n@Component({\r\n  selector: 'j-confirm-sms-modal',\r\n  templateUrl: './confirm-sms-modal.component.html',\r\n  styleUrls: ['./confirm-sms-modal.component.scss'],\r\n})\r\nexport class ConfirmSmsModalComponent implements OnInit {\r\n  @Input() smsToken: ISmsToken;\r\n  @Input() isPaymentsSigning = true;\r\n  @Input() additionalParams?: Dictionary<any>;\r\n  @Input() headerParams?: Dictionary<any>;\r\n\r\n  otp;\r\n  hasOtp: boolean = false;\r\n  confirmTabs = CONFIRM_SIGNATURE_TYPE;\r\n  currentTab: CONFIRM_SIGNATURE_TYPE = CONFIRM_SIGNATURE_TYPE.SMS;\r\n\r\n  public submitted = new EventEmitter<ISmsToken>();\r\n  public closed = new EventEmitter();\r\n  public sentForRevision = new EventEmitter();\r\n\r\n  @ViewChild('smsInput') smsInput: SmsComponent;\r\n  @ViewChild('otpInput') otpInput: OtpComponent;\r\n\r\n  isConfirmRequired = false;\r\n  isSignAllowed = false;\r\n  isSignBySmsRequested = false;\r\n\r\n  isLoading$ = new BehaviorSubject(true);\r\n\r\n  confirmData = null;\r\n  signingPayment: IHistoryPayment;\r\n  signingExchangeRate: IExchangeRate;\r\n\r\n  constructor(\r\n    public modal: NgbActiveModal,\r\n    public userService: UserService,\r\n    private paymentsSharedService: PaymentsSharedService,\r\n    private companyService: CompanyService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.isLoading$.next(true);\r\n\r\n    if (this.isPaymentsSigning) {\r\n      this.checkForConversionRate();\r\n    } else {\r\n      this.allowSign();\r\n    }\r\n  }\r\n\r\n  async checkForConversionRate() {\r\n    try {\r\n      await this.checkForBulkSign();\r\n      this.signingPayment = await this.checkForConversion();\r\n      this.signingExchangeRate = await this.checkForRateChange(\r\n        this.signingPayment\r\n      );\r\n\r\n      this.showConfirm();\r\n    } catch (error) {\r\n      if (error == SIGN_ALLOWED) {\r\n        this.allowSign();\r\n      }\r\n    }\r\n  }\r\n\r\n  async allowSign() {\r\n    this.isSignAllowed = true;\r\n    \r\n    this.otp = await this.userService.retrieveOtpInfo(this.companyService.currentId);\r\n    \r\n    this.hasOtp = !!this.otp;\r\n\r\n    if (\r\n      this.hasOtp &&\r\n      localStorage.getItem('preferredSignatureType') ===\r\n        CONFIRM_SIGNATURE_TYPE.OTP\r\n    ) {\r\n      this.showOtp();\r\n    } else {\r\n      this.showSms();\r\n    }\r\n  }\r\n\r\n  async checkForRateChange(payment: IHistoryPayment) {\r\n    try {\r\n      const rates = await this.paymentsSharedService.retrieveExhangeRates(\r\n        payment\r\n      );\r\n\r\n      if (!rates || rates.original.rate === rates.current.rate) {\r\n        throw SIGN_ALLOWED;\r\n      }\r\n\r\n      return rates.current;\r\n    } catch (error) {\r\n      throw SIGN_ALLOWED;\r\n    }\r\n  }\r\n\r\n  async checkForConversion() {\r\n    try {\r\n      const payment = await this.paymentsSharedService.getPaymentById(\r\n        this.additionalParams.actionIds[0]\r\n      );\r\n      if (payment.type != PAYMENT_TYPE.CONVERSION) {\r\n        throw SIGN_ALLOWED;\r\n      }\r\n      return payment;\r\n    } catch (error) {\r\n      throw SIGN_ALLOWED;\r\n    }\r\n  }\r\n\r\n  checkForBulkSign() {\r\n    if (this.additionalParams.actionIds.length != 1) {\r\n      throw SIGN_ALLOWED;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  dismissModal() {\r\n    this.closed.emit();\r\n    this.modal.dismiss();\r\n  }\r\n\r\n  showConfirm() {\r\n    const rateAmounts = this.paymentsSharedService.getRateAmounts(\r\n      this.signingExchangeRate\r\n    );\r\n    if (!rateAmounts) {\r\n      throw SIGN_ALLOWED;\r\n    }\r\n\r\n    const { sum, calculatedSum, currencyTo, currencyFrom } =\r\n      this.signingExchangeRate;\r\n\r\n    const amountFrom = sum;\r\n    const amountTo = {\r\n      amount: calculatedSum,\r\n      currency: sum.currency === currencyFrom ? currencyTo : currencyFrom,\r\n    };\r\n\r\n    this.confirmData = {\r\n      rateFrom: rateAmounts.from,\r\n      rateTo: rateAmounts.to,\r\n      amountFrom,\r\n      amountTo,\r\n    };\r\n\r\n    this.isConfirmRequired = true;\r\n    this.isLoading$.next(false);\r\n  }\r\n\r\n  showOtp(event: Event = null) {\r\n    this.isLoading$.next(false);\r\n\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.currentTab = this.confirmTabs.OTP;\r\n    this.otpInput.focus();\r\n  }\r\n\r\n  showSms(event: Event = null) {\r\n    if (!this.isSignBySmsRequested) {\r\n      this.isLoading$.next(true);\r\n    }\r\n\r\n    this.isSignBySmsRequested = true;\r\n\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n\r\n    this.currentTab = this.confirmTabs.SMS;\r\n\r\n    try {\r\n      this.smsInput.focus();\r\n    } catch (error) {}\r\n  }\r\n\r\n  async onConfirmAgreed() {\r\n    this.isConfirmRequired = false;\r\n    this.isLoading$.next(true);\r\n\r\n    await this.paymentsSharedService.updatePaymentExchangeRate(\r\n      this.signingPayment,\r\n      this.signingExchangeRate\r\n    );\r\n\r\n    this.allowSign();\r\n  }\r\n\r\n  async onConfirmSentForRevision() {\r\n    this.isConfirmRequired = false;\r\n    this.isLoading$.next(true);\r\n\r\n    const { sum, calculatedSum, currencyFrom, currencyTo } =\r\n      this.signingExchangeRate;\r\n\r\n    const updatedPayment = {\r\n      ...this.signingPayment,\r\n      details: {\r\n        ...this.signingPayment.details,\r\n        exchangeRate: this.signingExchangeRate,\r\n        paymentAmount:\r\n          sum.currency === currencyTo\r\n            ? {\r\n                amount: calculatedSum,\r\n                currency: currencyFrom,\r\n              }\r\n            : sum,\r\n      },\r\n    };\r\n    await this.paymentsSharedService.updatePayment(updatedPayment);\r\n    this.sentForRevision.emit();\r\n  }\r\n\r\n  onSmsFail() {}\r\n\r\n  onOtpSubmit(smsToken: ISmsToken) {\r\n    this.onSubmit(smsToken);\r\n  }\r\n\r\n  onSmsSubmit(smsToken: ISmsToken) {\r\n    this.onSubmit(smsToken);\r\n  }\r\n\r\n  onSubmit(smsToken: ISmsToken) {\r\n    this.submitted.emit(smsToken);\r\n  }\r\n\r\n  onSmsLoaded() {\r\n    this.isLoading$.next(false);\r\n    this.smsInput.focus();\r\n  }\r\n\r\n  get phone() {\r\n    return this.userService.userPhone;\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { IMoney } from '@shared/currency/currency.model';\n\n@Component({\n  selector: 'j-conversion-confirm',\n  templateUrl: './conversion-confirm.component.html',\n  styleUrls: ['./conversion-confirm.component.scss'],\n})\nexport class ConversionConfirmComponent implements OnInit {\n  @Input() confirmData: {\n    amountFrom: IMoney;\n    amountTo: IMoney;\n\n    rateFrom: IMoney;\n    rateTo: IMoney;\n  };\n\n  @Output() agreed = new EventEmitter();\n  @Output() sentForRevision = new EventEmitter();\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  async onAgreed() {\n    this.agreed.emit();\n  }\n\n  async onSendForRevision() {\n    this.sentForRevision.emit() ;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'j-copyright',\r\n  templateUrl: './copyright.component.html',\r\n  styleUrls: ['./copyright.component.scss'],\r\n})\r\nexport class CopyrightComponent {\r\n  label = localStorage\r\n    .getItem('baseUrl')\r\n    ?.replace('https://business-', '')\r\n    .replace('.jysanbank.kz:8460/api/v1', '');\r\n\r\n  constructor() {}\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'j-empty-placeholder',\r\n  templateUrl: './empty-placeholder.component.html',\r\n  styleUrls: ['./empty-placeholder.component.scss'],\r\n})\r\nexport class EmptyPlaceholderComponent {\r\n  @Input() label: string;\r\n  @Input() minHeight = 250;\r\n  @Input() hasRetry: boolean = false;\r\n\r\n  @Output() retried = new EventEmitter();\r\n\r\n  constructor() {}\r\n\r\n  onRetry() {\r\n    this.retried.emit();\r\n  }\r\n}\r\n","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  Input,\n  HostBinding,\n} from '@angular/core';\nimport { environment } from '@environments/environment';\n\nconst sizes = {\n  md: 40,\n  sm: 28,\n  xs: 20\n};\n\nconst bankLogos = {\n  ALFAKZKA: true,\n  ABNAKZKX: true,\n  ALMNKZKA: true,\n  ATYNKZKA: true,\n  BKCHKZKA: true,\n  CASPKZKA: true,\n  CEDUKZKA: true,\n  CITIKZKA: true,\n  TNGRKZKX: true,\n  DVKAKZKA: true,\n  EABRKZKA: true,\n  EURIKZKA: true,\n  GCVPKZ2A: true,\n  HCSKKZKA: true,\n  HLALKZKZ: true,\n  HSBKKZKX: true,\n  ICBKKZKX: true,\n  INEARUMM: true,\n  INLMKZKA: true,\n  IRTYKZKA: true,\n  KCJBKZKX: true,\n  KICEKZKX: true,\n  KINCKZKA: true,\n  KISCKZKX: true,\n  KKMFKZ2A: true,\n  KPSTKZKA: true,\n  KSNVKZKA: true,\n  KZIBKZKA: true,\n  LARIKZKA: true,\n  NBPAKZKA: true,\n  NBPFKZKX: true,\n  NURSKZKX: true,\n  SABRKZKA: true,\n  SHBKKZKA: true,\n  TBKBKZKA: true,\n  TSESKZKA: true,\n  VTBAKZKZ: true,\n  ZAJSKZ22: true,\n};\n\nconst curLogos = {\n  AED: true,\n  AUD: true,\n  AZN: true,\n  BYN: true,\n  CAD: true,\n  CHF: true,\n  CNY: true,\n  CZK: true,\n  DKK: true,\n  EUR: true,\n  GBP: true,\n  GEL: true,\n  HKD: true,\n  JPY: true,\n  KGS: true,\n  KZT: true,\n  RUB: true,\n  SAR: true,\n  SEK: true,\n  SGD: true,\n  THB: true,\n  TRY: true,\n  USD: true,\n  XAU: true,\n};\n\nconst placeholder = `./assets/currency/UNKNOWN.svg`;\n\n@Component({\n  selector: 'j-entity-logo',\n  templateUrl: './entity-logo.component.html',\n  styleUrls: ['./entity-logo.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'j-entity-logo',\n  },\n})\nexport class EnityLogoComponent {\n  @Input() name: string;\n  @Input() size?: string = 'md';\n  @Input() hideEmpty?: boolean;\n  @HostBinding('style') get fontSize() {\n    return {\n      'font-size': (this.size ? sizes[this.size] : sizes.md) + 'px',\n    };\n  }\n  @HostBinding('class.j-entity-logo--small') get isSmall() {\n    return this.size == 'sm';\n  }\n  @HostBinding('class.j-entity-logo_empty') get isHidden() {\n    return this.hideEmpty && this.src === placeholder;\n  }\n  constructor() {}\n\n  get src(): string {\n    if (this.name) {\n      if (bankLogos[this.name]) {\n        return `${environment.bankLogo}${this.name}.svg`;\n      }\n      if (curLogos[this.name]) {\n        return `${environment.curLogo}${this.name}.svg`;\n      }\n    }\n    return placeholder;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from '@api/api.service';\nimport { AuthService } from '@auth/auth.service';\nimport { TokenService } from '@shared/token/token.service';\n\n@Component({\n  selector: 'j-environment-change',\n  templateUrl: './environment-change.component.html',\n  styleUrls: ['./environment-change.component.scss'],\n})\nexport class EnvironmentChangeComponent {\n  label: string;\n\n  envs = [\n    {\n      label: 'Dev',\n      url: 'https://business-dev.jysanbank.kz:8460/api/v1',\n    },\n    {\n      label: 'Staging',\n      url: 'https://business-staging.jysanbank.kz:8460/api/v1',\n    },\n    {\n      label: 'Test1',\n      url: 'https://business-test1.jysanbank.kz:8460/api/v1',\n    },\n    {\n      label: 'Uat',\n      url: 'https://business-uat.jysanbank.kz:8460/api/v1',\n    },\n  ];\n\n  constructor(\n    private apiService: ApiService,\n    private authService: AuthService,\n    private tokenService: TokenService,\n    private router: Router,\n  ) {\n    this.initLabel();\n  }\n\n  onEnvChange(env: { label: string; url: string }) {\n    this.apiService.baseUrl = env.url;\n\n    this.tokenService.clearUserToken();\n    this.tokenService.clearDeviceToken();\n    this.tokenService.clearClientToken();\n\n    localStorage.setItem('baseUrlLabel', env.label);\n    localStorage.setItem('baseUrl', env.url);\n\n    this.authService.logout();\n    window.location.reload();\n  }\n\n  private initLabel() {\n    let baseUrlLabel = localStorage.getItem('baseUrlLabel') || null;\n\n    if (!baseUrlLabel) {\n      baseUrlLabel =\n        localStorage\n          .getItem('baseUrl')\n          ?.replace('https://business-', '')\n          .replace('.jysanbank.kz:8460/api/v1', '') || null;\n\n      if (baseUrlLabel) {\n        localStorage.setItem('baseUrlLabel', baseUrlLabel);\n      }\n    }\n\n    this.label = baseUrlLabel;\n  }\n\n  get showNavigateToJmartCabinet() {\n    return this.router.url === '/auth/login';\n  }\n\n  public navigateToJmartCabinet() {\n    this.router.navigate(['jmart-cabinet', 'auth']);\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'j-error-placeholder',\n  templateUrl: './error-placeholder.component.html',\n  styleUrls: ['./error-placeholder.component.scss'],\n})\nexport class ErrorPlaceholderComponent implements OnInit {\n  @Input() isRetryable: boolean = true;\n  @Input() errorText: string;\n  @Input() errorBadge: string;\n  @Input() imgLink = '/assets/img/shared/server-error.svg';\n  @Output() retried = new EventEmitter();\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  onRetry() {\n    this.retried.emit();\n  }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { environment } from '@environments/environment';\n\nimport { AuthService } from '@auth/auth.service';\nimport { CompanyService } from '@company/company.service';\n\n@Component({\n  selector: 'j-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss'],\n})\nexport class FooterComponent {\n  @Input() langClassName = 'd-none d-lg-block';\n  @Input() copyrightClassName = '';\n\n  isAuthorized = false;\n  isDev = !environment.production;\n\n  constructor(\n    private companyService: CompanyService,\n    private authService: AuthService\n  ) {\n    this.companyService.refresh$.subscribe((companyRefresh) => {\n      const [user, company, isAuthorized] = companyRefresh;\n      this.isAuthorized = isAuthorized;\n    });\n  }\n\n  logout() {\n    this.authService.revokeSession();\n    this.authService.logout();\n  }\n}\n","import { Component, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { Subscription, Observable } from 'rxjs';\nimport { distinctUntilChanged, pluck } from 'rxjs/operators';\n\nimport { PAYMENTS_STEPS } from '@payments/models/steps';\nimport { HeaderService } from '@shared/services/header.service';\n\n@Component({\n  selector: 'j-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent implements OnDestroy {\n  title$: Observable<string>;\n  subscription: Subscription = new Subscription();\n  \n  steps = PAYMENTS_STEPS;\n\n  constructor(\n    private route: ActivatedRoute,\n    private headerService: HeaderService\n  ) {\n    this.title$ = this.route.data.pipe(pluck('title'));\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  setStep(step: number) {\n    this.headerService.setCurrentStep(step);\n\n    // if (step != PAYMENTS_STEPS.NONE) {\n    //   (document.querySelector('body') as HTMLElement).style.overflow = 'hidden';\n    // } else {\n    //   (document.querySelector('body') as HTMLElement).style.overflow = 'unset';\n    // }\n\n    // this.currentStep = step;\n  }\n}\n","import { Component } from '@angular/core';\n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { CompanyService } from '@company/company.service';\n\nimport {\n  ImportPartialSuccessComponent,\n  ImportPartialErrorComponent,\n  ImportSuccessComponent,\n  ImportErrorComponent,\n} from '@shared/modals';\nimport {\n  IImportResult,\n  IMPORT_ERROR_STATUS,\n  IMPORT_STATUS,\n} from '@shared/models';\nimport { FilesService } from '@shared/services/files.service';\n\n@Component({\n  selector: 'j-import',\n  templateUrl: './import.component.html',\n  styleUrls: ['./import.component.scss'],\n})\nexport class ImportComponent {\n  isImporting = false;\n  importModel: any;\n  restrictedFormats = [\n    'wav', 'aiff', 'ape', 'flac', 'mp3', 'ogg', 'wma', 'midi', 'mid', 'aac', 'aa', 'au', 'ac3', 'aud', 'm4a', 'avi', 'asf',\n    'mp4', 'm4v', 'mov', 'mpg', 'mpeg', '3gp', 'wmv', 'mkv', 'zip', 'rar', '7z', 'ace', 'arj', 'cab', 'tar', 'lzh',\n    'gz', 'gzip', 'pkg', 'pak', 'exe', 'com', 'apk', 'jar', 'bin', 'cgi', 'cmd', 'msi', 'js', 'jse', 'scr',\n    'vbe', 'vbs', 'cpp', 'bat', 'sql', 'docm', 'dot', 'dotx', 'dotm', 'xlsm', 'xlsb', 'xlt', 'xltx', 'ppt', 'pptx', 'svg',\n  ];\n\n  constructor(\n    private companyService: CompanyService,\n    private filesService: FilesService,\n    private modalService: NgbModal,\n    private translateService: TranslateService\n  ) {}\n\n  onImportClick(event) {\n    const rawFiles = event.target.files || event.target.file;\n    const importingFiles = [];\n\n    for (let i = 0; i < rawFiles.length; i++) {\n      importingFiles[i] = rawFiles[i];\n    }\n\n    this.importPayments(importingFiles);\n    this.importModel = null;\n  }\n\n  private async importPayments(importingFiles) {\n    let restricted;\n    let fileSizeAllowed = true;\n    importingFiles.forEach(file => {\n      if (file.size > 5120000) {\n        fileSizeAllowed = false;\n      }\n      restricted = this.restrictedFormats.find(format => format === file.name.split('.').pop());\n    });\n    if (!fileSizeAllowed) {\n      this.showImportError(importingFiles, 'IMPORT.TOO_BIG_FILE', 0);\n    }\n    if (restricted) {\n      this.showImportError(importingFiles, 'IMPORT.RESTRICTED_FILES', 0);\n    }\n    if (!importingFiles || restricted || !fileSizeAllowed) {\n      return;\n    }\n\n    this.isImporting = true;\n\n    try {\n      const importResultList = await this.filesService.uploadPayments(\n        this.companyService.currentId,\n        importingFiles\n      );\n\n      const totalOperations = this.countTotalOperations(importResultList);\n      const succeededOperations = this.countSuccessOperations(importResultList);\n      const invalidFiles = this.countInvalidFiles(importResultList);\n      const alreadyImportedFiles =\n        this.countAlreadyImportedFiles(importResultList);\n      const draftedOperations = this.countDraftedOperations(importResultList);\n      const erroredOperations =\n        totalOperations - succeededOperations - draftedOperations;\n\n      if (totalOperations === 0 || invalidFiles === importResultList.length) {\n        this.showImportError(importingFiles, null, alreadyImportedFiles);\n      } else if (succeededOperations === 0) {\n        this.showImportPartialError(\n          importResultList,\n          invalidFiles,\n          draftedOperations,\n          erroredOperations\n        );\n      } else if (totalOperations === succeededOperations) {\n        this.showImportSuccess(succeededOperations);\n      } else {\n        this.showImportPartialSuccess(\n          importResultList,\n          invalidFiles,\n          draftedOperations,\n          succeededOperations,\n          erroredOperations\n        );\n      }\n    } catch (error) {\n      let description = error.description;\n\n      if (error.code?.toUpperCase() === 'DISABLE_SEND_DEPOSIT_ACCOUNT') {\n        description = this.translateService.instant(\n          `IMPORT.DISABLE_SEND_DEPOSIT_ACCOUNT.ONE`\n        );\n      }\n\n      this.showImportError(importingFiles, description);\n    } finally {\n      this.isImporting = false;\n    }\n  }\n\n  private async showImportPartialSuccess(\n    importResultList: IImportResult[],\n    invalidFilesCount: number,\n    draftedOperationsCount: number,\n    successOperationsCount: number,\n    erroredOperationsCount: number\n  ) {\n    const modal = this.modalService.open(ImportPartialSuccessComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: 'modal_light modal_md',\n      backdrop: 'static',\n      centered: true,\n    });\n    modal.componentInstance.invalidFilesCount = invalidFilesCount;\n    modal.componentInstance.draftedOperationsCount = draftedOperationsCount;\n    modal.componentInstance.erroredOperationsCount = erroredOperationsCount;\n    modal.componentInstance.successOperationsCount = successOperationsCount;\n    modal.componentInstance.importResultList = importResultList;\n  }\n\n  private async showImportPartialError(\n    importResultList: IImportResult[],\n    invalidFilesCount: number,\n    draftedOperationsCount: number,\n    erroredOperationsCount: number\n  ) {\n    const modal = this.modalService.open(ImportPartialErrorComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: 'modal_light modal_md',\n      backdrop: 'static',\n      centered: true,\n    });\n    modal.componentInstance.invalidFilesCount = invalidFilesCount;\n    modal.componentInstance.draftedOperationsCount = draftedOperationsCount;\n    modal.componentInstance.importResultList = importResultList;\n    modal.componentInstance.erroredOperationsCount = erroredOperationsCount;\n  }\n\n  private async showImportSuccess(operationsCount: number) {\n    const modal = this.modalService.open(ImportSuccessComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: 'modal_light modal_sm',\n      backdrop: 'static',\n      centered: true,\n    });\n\n    modal.componentInstance.operationsCount = operationsCount;\n  }\n\n  private async showImportError(\n    importingFiles = null,\n    errorText: string = null,\n    alreadyImportedCount: number = 0\n  ) {\n    const modal = this.modalService.open(ImportErrorComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: 'modal_light modal_sm',\n      backdrop: 'static',\n      centered: true,\n    });\n\n    modal.componentInstance.filesCount = importingFiles?.length;\n    modal.componentInstance.errorText = errorText;\n\n    if (alreadyImportedCount > 0) {\n      modal.componentInstance.descriptionKey = 'ALREADY_IMPORTED';\n    }\n\n    try {\n      await modal.result;\n      this.importPayments(importingFiles);\n    } catch (error) {}\n  }\n\n  private countDraftedOperations(importResultList: IImportResult[]) {\n    let result = 0;\n    importResultList.forEach((importResult) => {\n      result += importResult.failed?.reduce((prev, current) => {\n        return prev + (current.status === IMPORT_ERROR_STATUS.FAILED ? 0 : 1);\n      }, 0);\n    });\n    return result;\n  }\n\n  private countSuccessOperations(importResultList: IImportResult[]) {\n    let result = 0;\n    importResultList.forEach((importResult) => {\n      result += importResult.success;\n    });\n    return result;\n  }\n\n  private countTotalOperations(importResultList: IImportResult[]) {\n    let result = 0;\n    importResultList.forEach((importResult) => {\n      result += importResult.total;\n    });\n    return result;\n  }\n\n  private countInvalidFiles(importResultList: IImportResult[]) {\n    let result = 0;\n    importResultList.forEach((importResult) => {\n      if (importResult.status === IMPORT_STATUS.INVALID_FORMAT) {\n        result++;\n      }\n    });\n    return result;\n  }\n\n  private countAlreadyImportedFiles(importResultList: IImportResult[]) {\n    let result = 0;\n    importResultList.forEach((importResult) => {\n      if (importResult.status === IMPORT_STATUS.ALREADY_IMPORTED) {\n        result++;\n      }\n    });\n    return result;\n  }\n}\n","import { AsideComponent } from './aside/aside.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { LangListComponent } from './lang-list/lang-list.component';\nimport { CopyrightComponent } from './copyright/copyright.component';\nimport { SwitchComponent } from './switch/switch.component';\nimport { EnityLogoComponent } from './entity-logo/entity-logo.component';\nimport { MoneyComponent } from './money/money.component';\nimport { HeaderComponent } from './header/header.component';\nimport { PaymentSelectComponent } from './payment-select/payment-select.component';\nimport { SmsComponent } from './sms/sms.component';\nimport { SmsErrorComponent } from './sms-error/sms-error.component';\nimport { ImportComponent } from './import/import.component';\nimport { NewPasswordComponent } from './new-password/new-password.component';\nimport { EmptyPlaceholderComponent } from './empty-placeholder/empty-placeholder.component';\nimport { PasswordRequirementComponent } from './password-requirement/password-requirement.component';\nimport { OtpComponent } from './otp/otp.component';\nimport { CollapsibleComponent } from './collapsible/collapsible.component';\nimport { CollapsibleBodyComponent } from './collapsible/collapsible-body/collapsible-body.component';\nimport { CollapsibleTriggerComponent } from './collapsible/collapsible-trigger/collapsible-trigger.component';\nimport { KbeInfoComponent } from './kbe-info/kbe-info.component';\nimport { ConversionConfirmComponent } from './conversion-confirm/conversion-confirm.component';\nimport { ConfirmSmsModalComponent } from './confirm-sms-modal/confirm-sms-modal.component';\nimport { UploadingFilesComponent } from './uploading-files/uploading-files.component';\nimport { StatusesComponent } from './statuses/statuses.component';\nimport { ErrorPlaceholderComponent } from './error-placeholder/error-placeholder.component';\nimport { ListComponent } from './list/list.component';\nimport { ListItemComponent } from './list-item/list-item.component';\nimport { AnimatedLoadingComponent } from './animated-loading/animated-loading.component';\nimport { NgbdDatepickerI18n } from '../../core/components/ngb-datepicker-i18n/ngb-datepicker-i18n.component';\nimport { ToggleComponent } from './toggle/toggle.component';\nimport { EnvironmentChangeComponent } from './environment-change/environment-change.component';\nimport { RestrictedPlaceholderComponent } from './restricted-placeholder/restricted-placeholder.component';\nimport { SidebarComponent } from './sidebar/sidebar.component';\nimport { ModalComponent } from './modal/modal.component';\n\nexport const SHARED_COMPONENTS = [\n  FooterComponent,\n  HeaderComponent,\n  PaymentSelectComponent,\n  LangListComponent,\n  CopyrightComponent,\n  AsideComponent,\n  SwitchComponent,\n  EnityLogoComponent,\n  MoneyComponent,\n  SmsComponent,\n  SmsErrorComponent,\n  ImportComponent,\n  EmptyPlaceholderComponent,\n  NewPasswordComponent,\n  PasswordRequirementComponent,\n  OtpComponent,\n  CollapsibleComponent,\n  CollapsibleBodyComponent,\n  CollapsibleTriggerComponent,\n  KbeInfoComponent,\n  ConversionConfirmComponent,\n  ConfirmSmsModalComponent,\n  UploadingFilesComponent,\n  StatusesComponent,\n  ErrorPlaceholderComponent,\n  ListComponent,\n  ListItemComponent,\n  AnimatedLoadingComponent,\n  NgbdDatepickerI18n,\n  ToggleComponent,\n  EnvironmentChangeComponent,\n  RestrictedPlaceholderComponent,\n  SidebarComponent,\n  ModalComponent,\n];\n\nexport * from './aside/aside.component';\nexport * from './payment-select/payment-select.component';\nexport * from './header/header.component';\nexport * from './footer/footer.component';\nexport * from './lang-list/lang-list.component';\nexport * from './copyright/copyright.component';\nexport * from './switch/switch.component';\nexport * from './entity-logo/entity-logo.component';\nexport * from './money/money.component';\nexport * from './sms/sms.component';\nexport * from './sms-error/sms-error.component';\nexport * from './import/import.component';\nexport * from './empty-placeholder/empty-placeholder.component';\nexport * from './password-requirement/password-requirement.component';\nexport * from './otp/otp.component';\nexport * from './kbe-info/kbe-info.component';\nexport * from './collapsible/collapsible.component';\nexport * from './collapsible/collapsible-body/collapsible-body.component';\nexport * from './collapsible/collapsible-trigger/collapsible-trigger.component';\nexport * from './collapsible/collapsible-trigger/collapsible-trigger.component';\nexport * from './conversion-confirm/conversion-confirm.component';\nexport * from './confirm-sms-modal/confirm-sms-modal.component';\nexport * from './uploading-files/uploading-files.component';\nexport * from './statuses/statuses.component';\nexport * from './error-placeholder/error-placeholder.component';\nexport * from './toggle/toggle.component';\nexport * from './environment-change/environment-change.component';\nexport * from './restricted-placeholder/restricted-placeholder.component';\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'j-kbe-info',\n  templateUrl: './kbe-info.component.html',\n  styleUrls: ['./kbe-info.component.scss']\n})\nexport class KbeInfoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input, OnDestroy } from '@angular/core';\r\nimport { CompanyService } from '@company/company.service';\r\nimport { TranslateService, LangChangeEvent } from '@ngx-translate/core';\r\nimport { UserService } from '@shared/services';\r\nimport { LangService } from '@shared/services/lang.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { distinctUntilChanged, filter, take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'j-lang-list',\r\n  templateUrl: './lang-list.component.html',\r\n  styleUrls: ['./lang-list.component.scss'],\r\n})\r\nexport class LangListComponent implements OnDestroy {\r\n  currentLang: string;\r\n\r\n  @Input()\r\n  isAuthorized = false;\r\n\r\n  subscription = new Subscription();\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private langService: LangService\r\n  ) {\r\n    this.currentLang = this.translateService.currentLang;\r\n\r\n    this.translateService.onLangChange.subscribe(\r\n      (langChangeEvent: LangChangeEvent) => {\r\n        this.currentLang = this.translateService.currentLang;\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  changeLang(event: Event, lang: string) {\r\n    event.preventDefault();\r\n    this.langService.setLang(lang);\r\n  }\r\n}\r\n","import {\n  EventEmitter,\n  OnDestroy,\n  TemplateRef,\n  Component,\n  Input,\n  OnInit,\n  Output,\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\n\nimport { generateUniqueId } from '@utils/misc';\n\n@Component({\n  selector: 'j-list-item',\n  templateUrl: './list-item.component.html',\n  styleUrls: ['./list-item.component.scss'],\n})\nexport class ListItemComponent implements OnInit, OnDestroy {\n  @Input() item: any;\n  @Input() translatePrefix = 'LIST.ITEM';\n  @Input() isLoading: boolean;\n\n  @Input() highlightedFn: Function;\n  @Input() highlightedTemporarilyFn: Function;\n\n  @Input() isHoverable: boolean = false;\n  @Input() isSignable: boolean = false;\n  @Input() isSelectable: boolean = false;\n  @Input() isDeletable: boolean = false;\n\n  @Input() onSelectAll;\n\n  @Output() selected = new EventEmitter<any>();\n  @Output() deleted = new EventEmitter<any>();\n  @Output() signed = new EventEmitter<any>();\n  @Output() clicked = new EventEmitter<any>();\n\n  @Input() selectableTemplate: TemplateRef<any>;\n  @Input() defaultTemplate: TemplateRef<any>;\n\n  @Input() itemClassNames: string;\n\n  id = generateUniqueId();\n  isSelected: boolean = false;\n  isHighlighted: boolean = false;\n  isHighlightedTemporarily: boolean = false;\n\n  subscription = new Subscription();\n\n  constructor() {}\n\n  get listItemStyle() {\n    let gridTemplateColumns = '';\n\n    if (this.isSelectable) {\n      gridTemplateColumns += '24px ';\n    }\n\n    gridTemplateColumns += 'minmax(0, 1fr) ';\n\n    if (this.isDeletable && this.isSignable) {\n      gridTemplateColumns += '84px';\n    } else if (this.isDeletable || this.isSignable) {\n      gridTemplateColumns += '40px';\n    }\n\n    return { 'grid-template-columns': gridTemplateColumns };\n  }\n\n  ngOnInit() {\n    this.initOnSelectSubscription();\n    this.initHighlighted();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  mapTranslate(key: string) {\n    return `${this.translatePrefix}.${key}`;\n  }\n\n  onClick() {\n    if (this.isLoading) {\n      return;\n    }\n\n    this.clicked.emit(this.item);\n    this.initHighlighted();\n  }\n\n  onSelect() {\n    if (this.isLoading) {\n      return;\n    }\n\n    this.selected.emit(this.item);\n  }\n\n  onDelete(event: Event) {\n    event.stopPropagation();\n\n    if (this.isLoading) {\n      return;\n    }\n\n    this.deleted.emit(this.item);\n  }\n\n  onSign(event: Event) {\n    event.stopPropagation();\n\n    if (this.isLoading) {\n      return;\n    }\n\n    this.signed.emit(this.item);\n  }\n\n  public initHighlighted() {\n    if (this.highlightedFn) {\n      this.isHighlighted = this.highlightedFn(this.item);\n    }\n\n    if (!this.isHighlighted && this.highlightedTemporarilyFn) {\n      this.isHighlightedTemporarily = this.highlightedTemporarilyFn(this.item);\n\n      if (this.isHighlightedTemporarily) {\n        setTimeout(() => {\n          this.isHighlightedTemporarily = false;\n        }, 5000);\n      }\n    }\n  }\n\n  private initOnSelectSubscription() {\n    if (this.onSelectAll?.subscribe) {\n      this.subscription.add(\n        this.onSelectAll.subscribe((value) => {\n          this.isSelected = value;\n        })\n      );\n    }\n  }\n}\n","import {\n  Component,\n  ContentChild,\n  EventEmitter,\n  Input,\n  Output,\n  TemplateRef,\n} from '@angular/core';\n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\nimport { ListModalComponent } from '../../modals';\nimport { BULK_OPERATION_STATUS, IBulkOperationResult } from '../../models';\nimport { ListService } from '../../services/list.service';\n\n@Component({\n  selector: 'j-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n})\nexport class ListComponent {\n  @Input() title: string;\n  @Input() list: any[];\n  @Input() translatePrefix: string = 'LIST';\n  @Input() urlPath: string;\n\n  @Input() partialTitleFn: Function;\n  @Input() highlightedFn: Function;\n  @Input() highlightedTemporarilyFn: Function;\n\n  @Input() isHoverable: boolean = false;\n  @Input() isDeletable: boolean = false;\n  @Input() isSelectable: boolean = false;\n  @Input() isSignable: boolean = false;\n\n  @Input() itemClassNames: string;\n\n  @Output() clicked = new EventEmitter<any>();\n  @Output() scrolled = new EventEmitter();\n  @Output() signed = new EventEmitter();\n  @Output() cleared = new EventEmitter();\n\n  @ContentChild('selectableTemplate', { static: false })\n  selectableTemplate: TemplateRef<any>;\n  @ContentChild('defaultTemplate', { static: false })\n  defaultTemplate: TemplateRef<any>;\n\n  selected: any[] = [];\n  loadingIds: string[] = [];\n\n  allSelected = new EventEmitter<boolean>();\n  isAllSelected: boolean = false;\n\n  isSigningSelected = false;\n  isDeletingSelected = false;\n\n  constructor(\n    private modalService: NgbModal,\n    private listService: ListService\n  ) {}\n\n  onClick(clickedItem: any) {\n    this.clicked.emit(clickedItem);\n  }\n\n  onSelect(selectedItem: any) {\n    if (this.selected.includes(selectedItem)) {\n      this.selected = this.selected.filter((item) => item != selectedItem);\n    } else {\n      this.selected.push(selectedItem);\n    }\n\n    this.isAllSelected = this.selected.length === this.list.length;\n  }\n\n  onScroll() {\n    this.scrolled.emit();\n  }\n\n  onSelectAll() {\n    if (this.isAllSelected) {\n      this.selected = [...this.list];\n    } else {\n      this.selected = [];\n    }\n\n    this.allSelected.emit(this.isAllSelected);\n  }\n\n  onDelete(deletedItem: any) {\n    this.onDeleteBulk([deletedItem.id]);\n  }\n\n  async onDeleteSelected() {\n    if (this.isDeletingSelected || this.isSigningSelected) {\n      return;\n    }\n    this.isDeletingSelected = true;\n\n    try {\n      await this.onDeleteBulk(this.getSelectedIds());\n    } catch (error) {\n    } finally {\n      this.isDeletingSelected = false;\n    }\n  }\n\n  async onDeleteBulk(ids: string[]) {\n    try {\n      const idsToDelete = ids.filter((id) => !this.loadingIds.includes(id));\n\n      if (idsToDelete.length === 0) {\n        return;\n      }\n\n      this.includeIdsToLoading(ids);\n\n      let result = await this.listService.deleteList(this.urlPath, idsToDelete);\n\n      const deleteResult = await this.showModal(\n        'DELETE',\n        result,\n        this.onDeleteBulk,\n        ids\n      );\n\n      this.clearListByIds(ids);\n\n      return deleteResult;\n    } catch (error) {\n      this.showModal(\n        'DELETE',\n        {\n          numberOfFailed: ids.length,\n          numberOfSuccess: 0,\n          status: BULK_OPERATION_STATUS.FAILED,\n        },\n        this.onDeleteBulk,\n        ids\n      );\n    } finally {\n      this.excludeIdsFromLoading(ids);\n    }\n  }\n\n  async onSign(letter: any) {\n    try {\n      let result = await this.listService.sign(this.urlPath, letter.id);\n\n      if (result) {\n        this.showModal(\n          'SIGN',\n          {\n            numberOfFailed: 0,\n            numberOfSuccess: 1,\n            status: BULK_OPERATION_STATUS.SUCCESS,\n            results: [],\n          },\n          this.onSign,\n          letter\n        );\n\n        this.clearListByIds([letter.id]);\n      }\n    } catch (error) {\n      this.showModal(\n        'SIGN',\n        {\n          numberOfFailed: 1,\n          numberOfSuccess: 0,\n          status: BULK_OPERATION_STATUS.FAILED,\n          results: [],\n        },\n        this.onSign,\n        letter\n      );\n    }\n  }\n\n  async onSignBulk(ids: string[]) {\n    try {\n      const idsToSign = ids.filter((id) => !this.loadingIds.includes(id));\n      if (idsToSign.length === 0) {\n        return;\n      }\n\n      this.includeIdsToLoading(ids);\n\n      let result = await this.listService.sign(this.urlPath, idsToSign);\n\n      if (result) {\n        this.signed.emit();\n        await this.showModal('SIGN', result, this.onSignBulk, ids);\n        this.clearListByIds(ids);\n      }\n\n      return result;\n    } catch (error) {\n      this.showModal(\n        'SIGN',\n        {\n          numberOfFailed: ids.length,\n          numberOfSuccess: 0,\n          status: BULK_OPERATION_STATUS.FAILED,\n        },\n        this.onSignBulk,\n        ids\n      );\n    } finally {\n      this.excludeIdsFromLoading(ids);\n    }\n  }\n\n  onSignAll() {\n    this.onSignBulk(this.getAllIds());\n  }\n\n  async onSignSelected() {\n    if (this.isDeletingSelected || this.isSigningSelected) {\n      return;\n    }\n    this.isSigningSelected = true;\n\n    try {\n      await this.onSignBulk(this.getSelectedIds());\n    } catch (error) {\n    } finally {\n      this.isSigningSelected = false;\n    }\n  }\n\n  mapTranslate(key: string) {\n    return `${this.translatePrefix}.${key}`;\n  }\n\n  private async showModal(\n    key: string,\n    result: IBulkOperationResult = null,\n    callback: Function,\n    args: any\n  ) {\n    const modalRef = this.modalService.open(ListModalComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: `modal_light ${\n        result.results?.length === 0 ||\n        result.status === BULK_OPERATION_STATUS.SUCCESS\n          ? 'modal_sm'\n          : ''\n      }`,\n      backdrop: 'static',\n      centered: true,\n    });\n\n    (modalRef.componentInstance as ListModalComponent).translatePrefix =\n      this.mapTranslate('MODAL');\n    (modalRef.componentInstance as ListModalComponent).partialTitleFn =\n      this.partialTitleFn;\n    (modalRef.componentInstance as ListModalComponent).key = key;\n    (modalRef.componentInstance as ListModalComponent).result = result;\n    (modalRef.componentInstance as ListModalComponent).list = this.list;\n\n    try {\n      await modalRef.result;\n      return callback.apply(this, [args]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  private includeIdsToLoading(ids: string[]) {\n    ids.forEach((id) => {\n      if (!this.loadingIds.includes(id)) {\n        this.loadingIds.push(id);\n      }\n    });\n  }\n\n  private excludeIdsFromLoading(ids: string[]) {\n    ids.forEach((id) => {\n      const index = this.loadingIds.indexOf(id);\n\n      if (index >= 0) {\n        this.loadingIds.splice(index, 1);\n      }\n    });\n  }\n\n  private clearListByIds(ids: string[]) {\n    ids.forEach((id) => {\n      const itemIndex = this.list.findIndex((item) => item.id === id);\n      this.list.splice(itemIndex, 1);\n\n      const selectedIndex = this.selected.findIndex((item) => item.id === id);\n      this.selected.splice(selectedIndex, 1);\n    });\n\n    this.cleared.emit();\n  }\n\n  private getSelectedIds() {\n    return this.selected.map((item) => {\n      return item.id;\n    });\n  }\n\n  private getAllIds() {\n    return this.list.map((item) => {\n      return item.id;\n    });\n  }\n}\n","import { Component, HostListener, Inject, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nenum OS {\n  WINDOWS_MOBILE = 'WindowsPhone',\n  ANDROID = 'Android',\n  IOS = 'iOS',\n  UNKNOWN = 'Unknown',\n}\n\nconst links = {\n  ios: 'https://apps.apple.com/ru/app/jusan-business/id1536089771',\n  android:\n    'https://play.google.com/store/apps/details?id=kz.jysan.business&hl=ru&gl=US',\n};\n\nconst MOBILE_CLOSED_KEY = 'isMobileClosed';\nconst MOBILE_CLASSNAME = 'mobile';\n\n@Component({\n  selector: 'j-mobile',\n  templateUrl: './mobile.component.html',\n  styleUrls: ['./mobile.component.scss'],\n})\nexport class MobileComponent implements OnInit {\n  isClosed = JSON.parse(localStorage.getItem(MOBILE_CLOSED_KEY)) || false;\n  mobileAppLink = null;\n\n  constructor(@Inject(DOCUMENT) private document: Document) {\n    this.updateMobileClassName();\n  }\n\n  ngOnInit() {}\n\n  onClose() {\n    this.isClosed = true;\n    localStorage.setItem(MOBILE_CLOSED_KEY, JSON.stringify(true));\n\n    this.hideMobilePanel();\n  }\n\n  @HostListener('window:resize', ['$event'])\n  private updateMobileClassName() {\n    if (this.isClosed) {\n      this.document.body.classList.remove(MOBILE_CLASSNAME);\n    }\n\n    const os = this.getMobileOperatingSystem();\n\n    switch (os) {\n      case OS.IOS:\n        this.mobileAppLink = links.ios;\n        this.showMobilePanel();\n        break;\n\n      case OS.ANDROID:\n        this.mobileAppLink = links.android;\n        this.showMobilePanel();\n        break;\n\n      case OS.WINDOWS_MOBILE:\n      default:\n        this.hideMobilePanel();\n        break;\n    }\n  }\n\n  private showMobilePanel() {\n    this.document.body.classList.add(MOBILE_CLASSNAME);\n  }\n\n  private hideMobilePanel() {\n    this.document.body.classList.remove(MOBILE_CLASSNAME);\n  }\n\n  private getMobileOperatingSystem() {\n    var userAgent = navigator.userAgent || navigator.vendor || window['opera'];\n\n    // Windows Phone must come first because its UA also contains \"Android\"\n    if (/windows phone/i.test(userAgent)) {\n      return OS.WINDOWS_MOBILE;\n    }\n\n    if (/android/i.test(userAgent)) {\n      return OS.ANDROID;\n    }\n\n    // iOS detection from: http://stackoverflow.com/a/9039885/177710\n    if (/iPad|iPhone|iPod/.test(userAgent) && !window['MSStream']) {\n      return OS.IOS;\n    }\n\n    return OS.UNKNOWN;\n  }\n}\n","import { Component, EventEmitter, OnDestroy, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\nimport { NgbActiveModal, NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'j-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss'],\n  providers: [\n    NgbActiveModal\n  ],\n})\nexport class ModalComponent implements OnInit {\n\n  @Output() closeModal = new EventEmitter();\n\n  @ViewChild('modal') private modalContent: TemplateRef<ModalComponent>;\n  private modalRef: NgbModalRef;\n\n  constructor(\n    private modalService: NgbModal\n  ) {}\n\n  ngOnInit(): void {\n  }\n\n  open(options = {}) {\n    this.modalRef = this.modalService.open(this.modalContent, options);\n    this.modalRef.result.finally(() => {\n      this.closeModal.emit();\n    });\n  }\n\n  close() {\n    this.modalRef.close();\n  }\n\n}\n","import { Component, Input } from '@angular/core';\n\nimport { AmountFormatPipe } from '@shared/pipes/amount-format.pipe';\nimport { IMoney } from '@shared/currency/currency.model';\n\nconst DECIMALS_MAX_LENGTH = 10;\n@Component({\n  selector: 'j-money',\n  templateUrl: './money.component.html',\n  styleUrls: ['./money.component.scss'],\n})\nexport class MoneyComponent {\n  @Input() money: IMoney;\n\n  @Input() showSign: boolean;\n  @Input() isDebit: boolean;\n  @Input() isCredit: boolean;\n\n  @Input() showAllDecimals = false;\n\n  constructor(private amountFormatPipe: AmountFormatPipe) {}\n\n  get sign() {\n    if (this.amount == 0) {\n      return '';\n    }\n\n    if ((this.showSign && this.isDebit) || this.amount < 0) {\n      return `- `;\n    }\n\n    if (\n      (this.showSign && this.amount > 0) ||\n      (this.showSign && this.isCredit)\n    ) {\n      return `+ `;\n    }\n  }\n\n  get splittedAmount() {\n    if (this.amount) {\n      let amountToDivide;\n\n      if (this.showAllDecimals) {\n        amountToDivide = this.addZeroes(this.amount);\n      } else {\n        amountToDivide = this.amountFormatPipe.transform(this.amount);\n      }\n\n      const [integers, decimals] = amountToDivide.split(',');\n\n      return this.generateSplitted(integers, decimals);\n    } else {\n      return this.generateSplitted();\n    }\n  }\n\n  get amount() {\n    return this.money && this.money.amount;\n  }\n\n  get currency() {\n    return this.money && this.money.currency;\n  }\n\n  private addZeroes(num) {\n    if (!num) {\n      return num;\n    }\n\n    num = +num.toFixed(DECIMALS_MAX_LENGTH);\n\n    const dec = `${num}`.split('.')[1];\n    const len = dec && dec.length > 2 ? dec.length : 2;\n\n    return `${+num.toFixed(len)}`.replace('.', ',');\n  }\n\n  private addFixedZeroes(num) {\n    if (!num) {\n      return num;\n    }\n    const dec = `${num}`.split('.')[1];\n\n    if (dec?.length > 0) {\n      return `${Number(num).toFixed(2)}`.replace('.', ',');\n    } else {\n      return `${Number(num)}`.replace('.', ',');\n    }\n  }\n\n  private hasDecimals(decimals: string) {\n    return parseInt(decimals) > 0;\n  }\n\n  private generateSplitted(integers = null, decimals = null) {\n    return {\n      integers: integers || '0',\n      decimals: this.hasDecimals(decimals)\n        ? decimals.length < 2\n          ? `${decimals}0`\n          : decimals\n        : null,\n    };\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\n\nimport { PasswordInputComponent } from '@shared/input/password-input/password-input.component';\n\nexport interface INewPasswordResult {\n  newPassword: string;\n  oldPassword?: string;\n}\n\n@Component({\n  selector: 'j-new-password',\n  templateUrl: './new-password.component.html',\n  styleUrls: ['./new-password.component.scss'],\n})\nexport class NewPasswordComponent implements AfterViewInit {\n  @Output() submitted = new EventEmitter<INewPasswordResult>();\n\n  @Input()\n  errorText: string;\n\n  @Input()\n  isLoading = false;\n\n  @Input()\n  isOldShown = false;\n\n  passwordForm: FormGroup;\n  confirmError: string;\n\n  isSubmitted = false;\n\n  isOldFocused = false;\n  isOldBlurred = false;\n\n  isPasswordFocused = false;\n  isPasswordBlurred = false;\n  isConfirmBlurred = false;\n\n  requirements = [\n    {\n      code: 'capital',\n      label: 'AUTH.PASSWORD.REQUIREMENTS.CAPITAL',\n    },\n    {\n      code: 'number',\n      label: 'AUTH.PASSWORD.REQUIREMENTS.NUMBER',\n    },\n    {\n      code: 'symbol',\n      label: 'AUTH.PASSWORD.REQUIREMENTS.SYMBOL',\n    },\n    {\n      code: 'length',\n      label: 'AUTH.PASSWORD.REQUIREMENTS.LENGTH',\n    },\n  ];\n\n  @ViewChild('passwordOldInput')\n  passwordOldInput: PasswordInputComponent;\n\n  @ViewChild('passwordInput')\n  passwordInput: PasswordInputComponent;\n\n  @ViewChild('passwordConfirmInput')\n  passwordConfirmInput: PasswordInputComponent;\n\n  validate = {\n    capital: false,\n    number: false,\n    symbol: false,\n    length: false,\n  };\n\n  readonly subs = new Subscription();\n\n  constructor() {\n    this.passwordForm = new FormGroup({\n      passwordOld: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required),\n      passwordConfirm: new FormControl('', Validators.required),\n    });\n\n    const formSubsciption = this.passwordForm.valueChanges.subscribe(\n      (value) => {\n        this.isSubmitted = false;\n        this.isPasswordBlurred = false;\n        this.isConfirmBlurred = false;\n        this.confirmError = '';\n        this.errorText = '';\n        this.validatePassword();\n      }\n    );\n    this.subs.add(formSubsciption);\n  }\n\n  public clearForm() {\n    this.passwordForm.setValue({\n      passwordOld: '',\n      password: '',\n      passwordConfirm: '',\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.isOldShown) {\n      this.passwordOldInput.focus();\n    } else {\n      this.passwordInput.focus();\n    }\n  }\n\n  onOldFocus() {\n    this.isOldFocused = true;\n  }\n\n  onOldBlur() {\n    this.isOldBlurred = true;\n    this.isOldFocused = false;\n  }\n\n  onOldKeyPress(event: KeyboardEvent) {\n    event.preventDefault();\n    this.isOldBlurred = true;\n\n    if (this.isOldValid) {\n      this.passwordInput.focus();\n    }\n  }\n\n  onPasswordFocus() {\n    this.isPasswordFocused = true;\n  }\n\n  onPasswordBlur() {\n    this.isPasswordBlurred = true;\n    this.isPasswordFocused = false;\n  }\n\n  onPasswordKeyPress(event: KeyboardEvent) {\n    event.preventDefault();\n    this.isPasswordBlurred = true;\n\n    if (this.isPasswordValid) {\n      this.passwordConfirmInput.focus();\n    }\n  }\n\n  onConfirmBlur() {\n    this.isConfirmBlurred = true;\n  }\n\n  onConfirmKeyPress(event: KeyboardEvent) {\n    event.preventDefault();\n    this.isConfirmBlurred = true;\n    this.onSubmit();\n  }\n\n  onSubmit() {\n    this.isSubmitted = true;\n\n    if (this.isPasswordValid && !this.isConfirmValid) {\n      this.confirmError = 'ERRORS.PASSWORDS_NOT_EQUAL';\n      this.passwordConfirmInput.triggerHelperAnimation();\n      return;\n    }\n\n    if (this.isOldValid && this.isPasswordValid && this.isConfirmValid) {\n      this.submitted.emit({\n        oldPassword: this.f.passwordOld.value,\n        newPassword: this.f.password.value,\n      });\n    }\n  }\n\n  get f() {\n    return this.passwordForm.controls;\n  }\n\n  get isRequirementsShown() {\n    if (this.isPasswordFocused || !this.isPasswordValid) {\n      return true;\n    }\n    if (this.isPasswordValid) {\n      return false;\n    }\n  }\n\n  get isOldValid() {\n    if (this.isOldShown && this.isOldEmpty) {\n      return false;\n    }\n\n    return true;\n  }\n\n  get isPasswordValid() {\n    if (this.isPasswordEmpty) {\n      return false;\n    }\n\n    for (const property in this.validate) {\n      if (this.validate.hasOwnProperty(property)) {\n        if (!this.validate[property]) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  get isConfirmValid() {\n    const password = this.f.password.value;\n    const passwordConfirm = this.f.passwordConfirm.value;\n\n    return password === passwordConfirm && this.isPasswordValid;\n  }\n\n  get isOldEmpty() {\n    return this.f.passwordOld?.value.length === 0;\n  }\n\n  get isPasswordEmpty() {\n    return this.f.password.value.length === 0;\n  }\n\n  get isConfirmEmpty() {\n    return this.f.passwordConfirm.value.length === 0;\n  }\n\n  private validatePassword() {\n    this.validate.capital = /(?=.*[a-z])(?=.*[A-Z])/g.test(\n      this.f.password.value\n    );\n    this.validate.number = /\\d/g.test(this.f.password.value);\n    this.validate.symbol = /[.!@#$%^&*)]/g.test(this.f.password.value);\n    this.validate.length =\n      this.f.password.value.length >= 8 && this.f.password.value.length < 255;\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\n\nimport { Dictionary } from 'lodash';\n\nimport { ERRORS, IError } from '@api/index';\n\nimport { SmsInputComponent } from '@shared/input';\nimport { CONFIRM_SIGNATURE_TYPE } from '../confirm-sms-modal/confirm-sms-modal.component';\nimport {\n  ISmsToken,\n  SMS_CODE_LENGTH,\n  SMS_ERROR_TYPES,\n  SMS_TABS,\n  SMS_TIMER_COUNTDOWN,\n} from '@shared/models';\nimport { SmsService } from '@shared/services';\nimport { IOtp } from '@shared/models/otp';\n\n@Component({\n  selector: 'j-otp',\n  templateUrl: './otp.component.html',\n  styleUrls: ['./otp.component.scss'],\n})\nexport class OtpComponent implements OnInit, OnDestroy, AfterViewInit {\n  smsToken: ISmsToken;\n\n  @Input() otp: IOtp;\n  @Input() phone: string;\n  @Input() params?: Dictionary<any>;\n  @Input() isAuthAction = false;\n\n  @Output() submitted = new EventEmitter<ISmsToken>();\n  @Output() loaded = new EventEmitter();\n  @Output() failed = new EventEmitter();\n  @Output() smsAuthRequested = new EventEmitter<string>();\n\n  isLoading: boolean;\n  isReady = false;\n  isSubmitted: boolean;\n\n  authTabs = SMS_TABS;\n  currentTab = SMS_TABS.FORM;\n\n  hasError: boolean;\n\n  otpForm: FormGroup;\n  otpCodeLength = SMS_CODE_LENGTH;\n\n  errorText;\n\n  timer: any;\n  timerValue: number;\n  timerMaxValue = SMS_TIMER_COUNTDOWN;\n  isTimerRunning: boolean;\n\n  blockedTimer: any;\n  blockedTimerValue: number;\n  isBlockedTimerRunning: boolean;\n\n  @ViewChild('smsInput') smsInput: SmsInputComponent;\n\n  errorTypes = SMS_ERROR_TYPES;\n  subscription: Subscription = new Subscription();\n  errorTranslateParams = {\n    triesLeft: 0,\n  };\n\n  constructor(private smsService: SmsService) {\n    this.otpForm = new FormGroup({\n      otpCode: new FormControl('', Validators.required),\n    });\n\n    const formSubscription = this.otpForm.valueChanges.subscribe((value) => {\n      this.isSubmitted = false;\n\n      if (value.otpCode.length === this.otpCodeLength) {\n        this.onSubmit();\n      }\n    });\n\n    this.subscription.add(formSubscription);\n  }\n\n  ngOnInit(): void {\n    this.requestOtp();\n  }\n\n  ngAfterViewInit() {\n    // this.focus();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  setTab(tab: SMS_TABS) {\n    this.currentTab = tab;\n  }\n\n  focus() {\n    this.smsInput.focus();\n  }\n\n  async requestOtp() {\n    this.isLoading = true;\n    this.errorText = '';\n\n    try {\n      this.smsToken = await this.smsService.requestOtp(\n        this.phone,\n        this.params,\n        this.otp\n      );\n      this.setTab(this.authTabs.FORM);\n      this.startTimer();\n    } catch (error) {\n      console.log(error);\n      this.mapRequestError(error);\n    } finally {\n      if (!this.isReady) {\n        this.isReady = true;\n      }\n      this.isLoading = false;\n      this.focus();\n      this.loaded.emit();\n    }\n  }\n\n  async onSubmit() {\n    this.isSubmitted = true;\n    this.errorText = '';\n    this.hasError = false;\n\n    if (this.otpForm.valid && !this.isLoading) {\n      this.isLoading = true;\n      this.smsToken.code = this.f.otpCode.value;\n      try {\n        this.smsToken = await this.smsService.submitOtp(\n          this.smsToken,\n          this.params,\n          this.otp\n        );\n        this.submitted.emit(this.smsToken);\n      } catch (error) {\n        this.hasError = true;\n        this.smsInput.clear();\n        this.mapSubmitError(error);\n        this.smsInput.triggerHelperAnimation();\n        this.isLoading = false;\n      }\n    }\n  }\n\n  onSmsClicked() {\n    this.smsAuthRequested.emit(CONFIRM_SIGNATURE_TYPE.SMS);\n  }\n\n  get translateParam() {\n    return {\n      timerValue: this.timerValue,\n    };\n  }\n\n  get f() {\n    return this.otpForm.controls;\n  }\n\n  private mapRequestError(error: IError) {\n    switch (error.code) {\n      case ERRORS.ARGUMENT_MISSING:\n        this.failed.emit();\n        break;\n      case ERRORS.RESOURCE_BLOCKED:\n        if (error.data && error.data.millisecondsLeft) {\n          this.startBlockedTimer(error.data.millisecondsLeft);\n        }\n        this.setTab(this.authTabs.FORBIDDEN_BLOCKED);\n        break;\n      default:\n        this.setTab(this.authTabs.ERRORED);\n        this.errorText = error.description;\n        break;\n    }\n  }\n\n  private mapSubmitError(error: IError) {\n    switch (error.code) {\n      case ERRORS.INVALID_CODE:\n        let triesLeft;\n        if (error.data && error.data.triesLeft) {\n          triesLeft = error.data.triesLeft;\n          this.errorTranslateParams = {\n            triesLeft: triesLeft,\n          };\n          switch (triesLeft % 20) {\n            case 1:\n              this.errorText = `ERRORS.INVALID_CODE.ONE`;\n              break;\n            case 2:\n            case 3:\n            case 4:\n              this.errorText = `ERRORS.INVALID_CODE.FEW`;\n              break;\n            default:\n              this.errorText = `ERRORS.INVALID_CODE.OTHER`;\n          }\n        } else {\n          this.setTab(this.authTabs.FORBIDDEN);\n        }\n        break;\n      case ERRORS.INTERNAL_SERVER_ERROR:\n        this.errorText = ERRORS.UNKNOWN;\n        break;\n      case ERRORS.OTP_NOT_FOUND:\n        this.errorText = `ERRORS.OTP_NOT_FOUND_AUTH`;\n        break;\n      case ERRORS.RESOURCE_BLOCKED:\n        if (error.data && error.data.millisecondsLeft) {\n          const countdown = Math.ceil(error.data.millisecondsLeft / 1000);\n          if (this.isTimerRunning) {\n            this.timerValue = countdown;\n          } else {\n            this.startTimer(countdown);\n          }\n        }\n        this.setTab(this.authTabs.FORBIDDEN);\n        break;\n      default:\n        this.errorText = error.description;\n        break;\n    }\n  }\n\n  private startBlockedTimer(millisecondsLeft: number) {\n    this.blockedTimerValue = Math.ceil(millisecondsLeft / 1000);\n    this.isBlockedTimerRunning = true;\n\n    this.blockedTimer = setInterval(() => {\n      this.blockedTimerValue--;\n\n      if (this.blockedTimerValue === 0) {\n        this.stopBlockedTimer();\n      }\n    }, 1000);\n  }\n\n  private stopBlockedTimer() {\n    clearInterval(this.blockedTimer);\n    this.isBlockedTimerRunning = false;\n    this.blockedTimerValue = null;\n  }\n\n  private startTimer(timerMaxValue = this.timerMaxValue) {\n    this.isTimerRunning = true;\n    this.timerValue = timerMaxValue;\n\n    this.timer = setInterval(() => {\n      this.timerValue--;\n\n      if (this.timerValue === 0) {\n        this.stopTimer();\n      }\n    }, 1000);\n  }\n\n  private stopTimer() {\n    clearInterval(this.timer);\n    this.setTab(this.authTabs.EXPIRED);\n    this.isTimerRunning = false;\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'j-password-requirement',\n  templateUrl: './password-requirement.component.html',\n  styleUrls: ['./password-requirement.component.scss'],\n})\nexport class PasswordRequirementComponent implements OnInit {\n  @Input() label: string;\n  @Input() isValid: boolean;\n  @Input() isChecked: boolean;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  get isFailed() {\n    return !this.isValid && this.isChecked;\n  }\n\n  get color() {\n    if (this.isValid) {\n      return 'success';\n    } else if (this.isChecked) {\n      return 'danger';\n    }\n    return 'disabled';\n  }\n\n  get textClass() {\n    if (this.isValid) {\n      return 'text-dark';\n    }\n    if (!this.isValid && this.isChecked) {\n      return 'text-danger';\n    }\n    return 'text-muted';\n  }\n}\n","import { Component, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { combineLatest, Subscription } from 'rxjs';\r\n\r\nimport { CURRENCY } from '@shared/currency/currency.model';\r\n\r\nimport { ACCOUNT_TYPE, RegularAccount } from '@accounts/account.model';\r\nimport { AccountsService } from '@accounts/services/accounts.service';\r\n\r\nimport {\r\n  PAYMENTS_STEPS,\r\n  PAYMENT_SELECT_TYPE,\r\n  PAYMENT_TYPES,\r\n} from '@payments/models/steps';\r\n\r\nimport {\r\n  FeatureFlagsService,\r\n  FEATURE_FLAG,\r\n} from '@feature-flags/index';\r\nimport { CompanyService } from '@company/company.service';\r\n\r\n@Component({\r\n  selector: 'j-payment-select',\r\n  templateUrl: './payment-select.component.html',\r\n  styleUrls: ['./payment-select.component.scss'],\r\n})\r\nexport class PaymentSelectComponent implements OnDestroy {\r\n  @Output() selected = new EventEmitter();\r\n  types = PAYMENT_TYPES;\r\n\r\n  subscription = new Subscription();\r\n\r\n  constructor(\r\n    private companyService: CompanyService,\r\n    private router: Router,\r\n    private accountsService: AccountsService,\r\n    private featureFlagsService: FeatureFlagsService\r\n  ) {\r\n    this.subscription.add(\r\n      combineLatest([\r\n        this.featureFlagsService.featureFlags$,\r\n        this.companyService.refresh$,\r\n      ]).subscribe((values) => {\r\n        const [flags, companyRefresh] = values;\r\n        const [user, company, isAuthorized] = companyRefresh;\r\n\r\n        if (isAuthorized) {\r\n          this.retrieveAccounts();\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  close() {\r\n    this.selected.emit(PAYMENTS_STEPS.NONE);\r\n  }\r\n\r\n  select(event: Event, type) {\r\n    event && event.preventDefault();\r\n    if (type.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    this.selected.emit(type.step);\r\n    if (type.url) {\r\n      this.router.navigateByUrl(type.url);\r\n    }\r\n  }\r\n\r\n  private async retrieveAccounts() {\r\n    const accounts = await this.accountsService.retrieveAccounts();\r\n    this.applyAccountsRules(accounts);\r\n  }\r\n\r\n  private async applyAccountsRules(accounts: RegularAccount[]) {\r\n    const filteredAccounts = accounts.filter(\r\n      (account) =>\r\n        account.accountType == ACCOUNT_TYPE.ACCOUNT && account.balance?.currency\r\n    );\r\n\r\n    this.applyForeignRules(filteredAccounts);\r\n    this.applyConversionRules(filteredAccounts);\r\n  }\r\n\r\n  private async applyForeignRules(accounts: RegularAccount[]) {\r\n    // const currencyAccounts = accounts.filter(\r\n    //   (account) => account.balance?.currency != CURRENCY.KZT\r\n    // );\r\n\r\n    const isFeatureDisabled = this.featureFlagsService.isDisabled(\r\n      FEATURE_FLAG.FOREIGN_PAYMENT\r\n    );\r\n\r\n    this.types.find(\r\n      (type) => type.id === PAYMENT_SELECT_TYPE.FOREIGN\r\n    ).isDisabled = isFeatureDisabled;\r\n  }\r\n\r\n  private async applyConversionRules(accounts: RegularAccount[]) {\r\n    // const uniqueCurrencies = this.uniqueBy(\r\n    //   accounts,\r\n    //   (o1, o2) => o1.balance?.currency === o2.balance?.currency\r\n    // );\r\n\r\n    const isFeatureDisabled = this.featureFlagsService.isDisabled(\r\n      FEATURE_FLAG.CONVERSION\r\n    );\r\n\r\n    this.types.find(\r\n      (type) => type.id === PAYMENT_SELECT_TYPE.CONVERSION\r\n    ).isDisabled = isFeatureDisabled;\r\n  }\r\n\r\n  // private uniqueBy(a, cond) {\r\n  //   return a.filter((e, i) => a.findIndex((e2) => cond(e, e2)) === i);\r\n  // }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'j-restricted-placeholder',\n  templateUrl: './restricted-placeholder.component.html',\n  styleUrls: ['./restricted-placeholder.component.scss'],\n})\nexport class RestrictedPlaceholderComponent {\n  @Input() label: string = 'SHARED.RESTRICTED_PLACEHOLDER';\n  @Input() isRetryable: boolean = false;\n  @Input() isLoading: boolean = false;\n\n  @Output() retried = new EventEmitter();\n\n  constructor() {}\n\n  onRetry() {\n    this.retried.emit();\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'j-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit {\n\n  constructor() { }\n\n  @Input() header: string;\n  @Input() open = false;\n  @Output() onClose = new EventEmitter();\n\n  close() {\n    this.onClose.emit();\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { SMS_ERROR_TYPES } from '@shared/models';\n\n@Component({\n  selector: 'j-sms-error',\n  templateUrl: './sms-error.component.html',\n  styleUrls: ['./sms-error.component.scss'],\n})\nexport class SmsErrorComponent {\n  @Input() destinationLabel: string;\n  @Input() destinationValue: string;\n\n  @Input() errorType: string;\n  errorTypes = SMS_ERROR_TYPES;\n\n  @Input() isLoading: boolean;\n  @Input() isTimerRunning: boolean;\n  @Input() timerValue: number;\n  @Input() backLabel: string;\n\n  @Output() codeRequested = new EventEmitter();\n  @Output() smsErrorSendSms = new EventEmitter();\n\n  constructor() {}\n\n  onClick() {\n    this.codeRequested.emit();\n  }\n\n  onClickSms() {\n    this.smsErrorSendSms.emit();\n  }\n\n  get translateParams() {\n    return {\n      timerValue: this.timerValue,\n    };\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  ViewChild,\n  OnDestroy,\n} from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\n\nimport { Dictionary } from 'lodash';\nimport { MaskPipe } from 'ngx-mask';\n\nimport { MaskedConfig } from '@shared/masked/masked';\nimport {\n  SMS_CODE_LENGTH,\n  SMS_TABS,\n  SMS_TIMER_COUNTDOWN,\n  SMS_ERROR_TYPES,\n  ISmsToken,\n  ICountryCode,\n} from '@shared/models';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { SmsService } from '@shared/services/sms.service';\n\nimport { IError, ERRORS } from '@api/index';\nimport { DEFAULT_COUNTRY_CODE } from '@auth/auth.model';\n\nimport { CONFIRM_SIGNATURE_TYPE } from '../../components/confirm-sms-modal/confirm-sms-modal.component';\nimport { SmsInputComponent } from '../../input/sms-input/sms-input.component';\nimport { environment } from '@environments/environment';\n\n@Component({\n  selector: 'j-sms',\n  templateUrl: './sms.component.html',\n  styleUrls: ['./sms.component.scss'],\n})\nexport class SmsComponent implements OnInit, OnDestroy {\n  smsToken: ISmsToken;\n\n  isDevelopment = !environment.production;\n\n  @Input() phone: string;\n  @Input() params?: Dictionary<any>;\n  @Input() headers?: Dictionary<any>;\n  @Input() isAuthAction = false;\n  @Input() countryCode?: ICountryCode;\n\n  @Output() submitted = new EventEmitter<ISmsToken>();\n  @Output() failed = new EventEmitter();\n  @Output() loaded = new EventEmitter();\n  @Output() otpAuthRequested = new EventEmitter<string>();\n\n  isLoading: boolean;\n  isReady = false;\n  isSubmitted: boolean;\n\n  authTabs = SMS_TABS;\n  currentTab = SMS_TABS.FORM;\n\n  hasError: boolean;\n\n  authSmsForm: FormGroup;\n  smsCodeLength = SMS_CODE_LENGTH;\n  phoneMaskConfig: MaskedConfig;\n\n  errorText;\n\n  timer: any;\n  timerValue: number;\n  timerMaxValue = SMS_TIMER_COUNTDOWN;\n  isTimerRunning: boolean;\n\n  blockedTimer: any;\n  blockedTimerValue: number;\n  isBlockedTimerRunning: boolean;\n\n  @ViewChild('smsInput') smsInput: SmsInputComponent;\n\n  errorTypes = SMS_ERROR_TYPES;\n\n  subscription: Subscription = new Subscription();\n\n  errorTranslateParams = {\n    triesLeft: 0,\n  };\n\n  constructor(\n    private smsService: SmsService,\n    private maskedService: MaskedService,\n    private maskPipe: MaskPipe\n  ) {\n    this.countryCode = this.countryCode\n      ? this.countryCode\n      : localStorage.getItem('countryCode') != 'undefined'\n      ? JSON.parse(localStorage.getItem('countryCode'))\n      : null;\n\n    this.authSmsForm = new FormGroup({\n      smsCode: new FormControl('', Validators.required),\n    });\n\n    const formSubscription = this.authSmsForm.valueChanges.subscribe(\n      (value) => {\n        this.isSubmitted = false;\n\n        if (value.smsCode?.length === this.smsCodeLength) {\n          this.onSubmit();\n        }\n      }\n    );\n\n    this.subscription.add(formSubscription);\n  }\n\n  ngOnInit(): void {\n    this.requestSms();\n    const maskType =\n      this.countryCode?.countryCode === DEFAULT_COUNTRY_CODE.KAZAKHSTAN\n        ? 'loginPhoneKz'\n        : 'foreignPhone';\n    this.phoneMaskConfig = this.maskedService.getConfig(maskType);\n  }\n\n  ngOnDestroy(): void {\n    this.stopTimer();\n    this.stopBlockedTimer();\n    this.subscription.unsubscribe();\n  }\n\n  setTab(tab: SMS_TABS) {\n    this.currentTab = tab;\n  }\n\n  focus() {\n    this.smsInput.focus();\n  }\n\n  async requestSms() {\n    this.isLoading = true;\n\n    this.errorText = '';\n\n    try {\n      this.smsToken = await this.smsService.requestSms(\n        this.phone,\n        this.params,\n        this.headers\n      );\n      this.setTab(this.authTabs.FORM);\n      this.f.smsCode.setValue(this.isDevelopment ? this.smsToken.code : '');\n      this.startTimer();\n    } catch (error) {\n      this.mapRequestError(error);\n    } finally {\n      if (!this.isReady) {\n        this.isReady = true;\n      }\n      this.isLoading = false;\n\n      this.focus();\n      this.loaded.emit();\n    }\n  }\n\n  async onSubmit() {\n    this.isSubmitted = true;\n    this.errorText = '';\n    this.hasError = false;\n\n    if (this.authSmsForm.valid && !this.isLoading) {\n      this.isLoading = true;\n      this.smsToken.code = this.f.smsCode.value;\n\n      try {\n        this.smsToken = await this.smsService.submitSms(this.smsToken);\n        localStorage.setItem('countryCode', JSON.stringify(this.countryCode));\n        this.submitted.emit(this.smsToken);\n      } catch (error) {\n        this.hasError = true;\n        this.smsInput.clear();\n        this.authSmsForm.patchValue({\n          smsCode: '',\n        });\n        this.mapSubmitError(error);\n        this.smsInput.triggerHelperAnimation();\n        this.isLoading = false;\n      }\n    }\n  }\n\n  onOtpClicked() {\n    this.otpAuthRequested.emit(CONFIRM_SIGNATURE_TYPE.OTP);\n  }\n\n  get translateParam() {\n    return {\n      timerValue: this.timerValue,\n    };\n  }\n\n  get f() {\n    return this.authSmsForm.controls;\n  }\n\n  get maskedPhone() {\n    if (this.phone) {\n      const phone = this.maskedService.getPastedPhone(this.phone);\n      let maskedPhone = '';\n      if (this.phoneMaskConfig.shadow && this.countryCode) {\n        maskedPhone = this.maskPipe.transform(phone, this.phoneMaskConfig.mask);\n        maskedPhone = `${maskedPhone.slice(0, 7)}${maskedPhone.slice(\n          12,\n          18\n        )}`;\n      } else {\n        maskedPhone = `${phone.slice(0, 7)}${phone.slice(-3, phone.length)}`;\n      }\n      return `+${maskedPhone}`;\n    }\n  }\n\n  private mapRequestError(error: IError) {\n    switch (error.code) {\n      case ERRORS.ARGUMENT_MISSING:\n        this.failed.emit();\n        break;\n      case ERRORS.RESOURCE_BLOCKED:\n        if (error.data && error.data.millisecondsLeft) {\n          this.startBlockedTimer(error.data.millisecondsLeft);\n        }\n        this.setTab(this.authTabs.FORBIDDEN_BLOCKED);\n        break;\n      default:\n        this.setTab(this.authTabs.ERRORED);\n        this.errorText = error.description;\n        break;\n    }\n  }\n\n  private mapSubmitError(error: IError) {\n    switch (error.code) {\n      case ERRORS.ARGUMENT_MISSING:\n        this.failed.emit();\n        break;\n      case ERRORS.INVALID_CODE:\n        let triesLeft;\n        if (error.data && error.data.triesLeft) {\n          triesLeft = error.data.triesLeft;\n          this.errorTranslateParams = {\n            triesLeft,\n          };\n          switch (triesLeft % 20) {\n            case 1:\n              this.errorText = `ERRORS.INVALID_CODE.ONE`;\n              break;\n            case 2:\n            case 3:\n            case 4:\n              this.errorText = `ERRORS.INVALID_CODE.FEW`;\n              break;\n            default:\n              this.errorText = `ERRORS.INVALID_CODE.OTHER`;\n          }\n        } else {\n          this.setTab(this.authTabs.FORBIDDEN);\n        }\n        break;\n      case ERRORS.RESOURCE_BLOCKED:\n        if (error.data && error.data.millisecondsLeft) {\n          const countdown = Math.ceil(error.data.millisecondsLeft / 1000);\n          if (this.isTimerRunning) {\n            this.timerValue = countdown;\n          } else {\n            this.startTimer(countdown);\n          }\n        }\n        this.setTab(this.authTabs.FORBIDDEN);\n        break;\n      default:\n        this.errorText = error.description;\n        break;\n    }\n  }\n\n  private startBlockedTimer(millisecondsLeft: number) {\n    this.blockedTimerValue = Math.ceil(millisecondsLeft / 1000);\n    this.isBlockedTimerRunning = true;\n\n    this.blockedTimer = setInterval(() => {\n      this.blockedTimerValue--;\n\n      if (this.blockedTimerValue === 0) {\n        this.stopBlockedTimer();\n      }\n    }, 1000);\n  }\n\n  private stopBlockedTimer() {\n    clearInterval(this.blockedTimer);\n    this.isBlockedTimerRunning = false;\n    this.blockedTimerValue = null;\n  }\n\n  private startTimer(timerMaxValue = this.timerMaxValue) {\n    this.isTimerRunning = true;\n    this.timerValue = timerMaxValue;\n\n    this.timer = setInterval(() => {\n      this.timerValue--;\n\n      if (this.timerValue === 0) {\n        this.stopTimer();\n      }\n    }, 1000);\n  }\n\n  private stopTimer() {\n    clearInterval(this.timer);\n    this.setTab(this.authTabs.EXPIRED);\n    this.isTimerRunning = false;\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { IStatus } from '@shared/models';\r\n\r\n@Component({\r\n  selector: 'j-statuses',\r\n  templateUrl: './statuses.component.html',\r\n  styleUrls: ['./statuses.component.scss'],\r\n})\r\nexport class StatusesComponent implements OnInit {\r\n  @Input() saveSelected = false;\r\n  selectedStatus: IStatus;\r\n\r\n  @Input() statuses: IStatus[];\r\n  @Output() selected = new EventEmitter<IStatus>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {\r\n    this.selectedStatus =\r\n      this.statuses.find((status) => {\r\n        return status.isSelected === true;\r\n      }) || this.statuses[0];\r\n  }\r\n\r\n  onSelect(status: IStatus) {\r\n    this.selectedStatus = status;\r\n    this.selected.emit(status.value);\r\n  }\r\n\r\n  // get selectedStatus() {\r\n  //   return this.statuses.find((status) => {\r\n  //     return status.isSelected === true;\r\n  //   });\r\n  // }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n  Input,\r\n  HostBinding,\r\n  forwardRef,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'j-switch',\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './switch.component.html',\r\n  styleUrls: ['./switch.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SwitchComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class SwitchComponent implements OnInit, ControlValueAccessor {\r\n  @Input() value: boolean;\r\n  @Input() onLabel?: string;\r\n  @Input() offLabel?: string;\r\n  @Input() color?: string;\r\n  @Input() size?: string;\r\n  @Input() sticked?: boolean;\r\n  @Input() customClasses?: string;\r\n  @Input() disabled = false;\r\n\r\n  @Output() valueChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  constructor() {}\r\n  @HostBinding('style.opacity')\r\n  ngOnInit(): void {}\r\n\r\n  get opacity() {\r\n    return this.disabled ? 0.25 : 1;\r\n  }\r\n\r\n  // Allows Angular to update the model\r\n  // Update the model and changes needed for the view here.\r\n  writeValue(value: any) {\r\n    this.value = value;\r\n  }\r\n\r\n  // Allows Angular to register a function to call when the model changes.\r\n  // Save the function as a property to call later here.\r\n  registerOnChange(fn: any) {\r\n    this.propagateChange = fn;\r\n  }\r\n\r\n  // Allows Angular to register a function to call when the input has been touched.\r\n  // Save the function as a property to call later here.\r\n  registerOnTouched() {}\r\n\r\n  // Change event from Switchery Toggle\r\n  onChange(event) {\r\n    this.value = !this.value;\r\n    // update the form\r\n    this.valueChange.emit(this.value);\r\n    this.propagateChange(this.value);\r\n  }\r\n\r\n  // Allows Angular to disable the input.\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  // the method set in registerOnChange to emit changes back to the form\r\n  propagateChange = (_: any) => {};\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'j-toggle',\n  templateUrl: './toggle.component.html',\n  styleUrls: ['./toggle.component.scss'],\n})\nexport class ToggleComponent {\n  @Input()\n  value: boolean;\n  @Output()\n  valueChange = new EventEmitter<boolean>();\n\n  constructor() {}\n\n  onChange() {\n    this.value = !this.value;\n    this.valueChange.emit(this.value);\n  }\n}\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n} from '@angular/core';\n\nimport { Subscription, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport { NotifierService } from 'angular-notifier';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { STATUSES } from '@api/errors';\n\nimport { IUploadingFile } from '@shared/models';\nimport { FilesService } from '@shared/services';\n\n@Component({\n  selector: 'j-uploading-files',\n  templateUrl: './uploading-files.component.html',\n  styleUrls: ['./uploading-files.component.scss'],\n})\nexport class UploadingFilesComponent implements OnInit, OnDestroy {\n  @Input() isLoading: boolean = false;\n  @Input() acceptedFormats: string;\n  @Input() uploadingFiles: IUploadingFile[] = [];\n  @Input() maxSize: number;\n\n  @Output() updated = new EventEmitter<IUploadingFile[]>();\n\n  subscription = new Subscription();\n\n  constructor(\n    private filesService: FilesService,\n    private translateService: TranslateService,\n    private notifierService: NotifierService\n  ) {}\n\n  ngOnInit() {\n    this.uploadingFiles = [];\n    \n    this.subscription.add(\n      this.filesService.uploading$.subscribe((files) => {\n        files.forEach((file) => {\n          if (!this.isSupportedFormat(file.name)) {\n            this.notifierService.notify(\n              'warning',\n              this.translateService.instant(\n                'FILES.IS_NOT_SUPPORTED_FORMAT_ERROR',\n                {\n                  acceptedFormats: this.acceptedFormats,\n                }\n              )\n            );\n            return;\n          }\n\n          if (!this.isSupportedSize(file.size)) {\n            this.notifierService.notify(\n              'warning',\n              this.translateService.instant('FILES.MAX_SIZE_ERROR')\n            );\n            return;\n          }\n\n          this.prepareUpload(file);\n        });\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.updated.emit([]);\n    this.filesService.uploading$.next([]);\n    this.uploadingFiles = [];\n    this.subscription.unsubscribe();\n  }\n\n  onFileDelete(file: IUploadingFile) {\n    this.uploadingFiles = this.uploadingFiles.filter((item) => {\n      return item != file;\n    });\n    this.updated.emit(this.uploadingFiles);\n  }\n\n  mapTranslate(key: string) {\n    return `FILES.${key}`;\n  }\n\n  private async prepareUpload(file: File) {\n    const textContent = await (file as any).text();\n\n    if (\n      this.uploadingFiles\n        .map((uploading) => uploading.textContent)\n        .includes(textContent)\n    ) {\n      this.notifierService.notify(\n        'default',\n        this.translateService.instant('FILES.ALREADY_UPLOADING', {\n          fileName: file.name,\n        })\n      );\n      return;\n    }\n\n    this.uploadFile(file, textContent);\n  }\n\n  private uploadFile(file: File, textContent: string) {\n    this.uploadingFiles.push({\n      textContent,\n      isLoading: true,\n    });\n\n    const lastUploadedIndex = this.uploadingFiles.length - 1;\n\n    this.subscription.add(\n      this.filesService\n        .uploadFile(file)\n        .pipe(\n          catchError((error, caught) => {\n            const errorMessage =\n              error.status === STATUSES.ENTITY_TOO_LARGE\n                ? 'MAX_SIZE_ERROR'\n                : 'DEFAULT_ERROR';\n\n            this.uploadingFiles[lastUploadedIndex] = {\n              textContent: textContent,\n              isLoading: false,\n              progress: 100,\n              error: this.mapTranslate(errorMessage),\n              file: { name: file.name },\n            };\n            return throwError(error);\n          })\n        )\n        .subscribe((uploadingFile: IUploadingFile) => {\n          this.mapFile(lastUploadedIndex, uploadingFile);\n          this.updated.emit(this.uploadingFiles);\n        })\n    );\n  }\n\n  private mapFile(index: number, newFile: IUploadingFile) {\n    if (!this.uploadingFiles[index]) {\n      return;\n    }\n\n    if (newFile.error) {\n      this.uploadingFiles[index].error = newFile.error;\n    }\n\n    if (newFile.isLoading != this.uploadingFiles[index].isLoading) {\n      this.uploadingFiles[index].isLoading = newFile.isLoading;\n    }\n\n    if (newFile.file && !this.uploadingFiles[index].file) {\n      this.uploadingFiles[index].file = newFile.file;\n    }\n\n    if (newFile.progress) {\n      this.uploadingFiles[index].progress = newFile.progress;\n    }\n  }\n\n  private isSupportedSize(size: number) {\n    if (!this.maxSize) {\n      return true;\n    }\n\n    return size <= this.maxSize;\n  }\n\n  private isSupportedFormat(filename: string) {\n    if (!this.acceptedFormats) {\n      return true;\n    }\n\n    const re = /(?:\\.([^.]+))?$/;\n    const extension = re.exec(filename)[1] ? `.${re.exec(filename)[1]}` : '';\n\n    return this.acceptedFormats.split(', ').includes(extension);\n  }\n}\n","import { YaConfig } from 'angular8-yandex-maps';\n\nexport const MAP_CONFIG: YaConfig = {\n  apikey: '8231bd19-19ef-41fe-ae7f-21dbf80afb43',\n  lang: 'ru_RU',\n};\n\nexport const SEARCH_BASE_URL = 'https://search-maps.yandex.ru/v1';\nexport const SEARCH_API_KEY = 'b0d8f97c-8d1d-4a16-bbd4-874ef6a2f637';\nexport const GEOCODER_BASE_URL = 'https://geocode-maps.yandex.ru/1.x/';\n\nexport const DEFAULT_COORDS = [43.34101, 76.949005];\n","import {\n  Component,\n  EventEmitter, Input,\n  OnDestroy,\n  OnInit,\n  Output\n} from '@angular/core';\nimport { YaApiLoaderService, YaGeocoderService, YaReadyEvent } from 'angular8-yandex-maps';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { DEFAULT_COORDS, MAP_CONFIG, SEARCH_API_KEY, SEARCH_BASE_URL } from './config';\nimport { IAddressByQuery } from './yandex-maps.models';\nimport { debounceTime, skip } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\n\n\n\n\n@Component({\n  selector: 'j-yandex-maps',\n  templateUrl: './yandex-maps.component.html',\n  styleUrls: ['./yandex-maps.component.scss'],\n})\nexport class YandexMapsComponent implements OnDestroy, OnInit {\n  searchForm: FormGroup = new FormGroup({\n    query: new FormControl('')\n  });\n\n  @Output() applyClickFn = new EventEmitter();\n  @Output() backClickFn = new EventEmitter();\n  @Input() addressFromPosAction = '';\n\n  center = null;\n  zoom = 17;\n  coordinates;\n  address;\n  results = null;\n  showResultList = false;\n  isPickedAddressFromList = false;\n  selectedItem = null;\n  searchQuerySub: Subscription;\n\n  placemarkOptions: ymaps.IPlacemarkOptions = {\n    iconLayout: 'default#image',\n    iconImageHref: './assets/img/yandex-maps/picker.svg',\n    iconImageSize: [80, 80],\n    draggable: true,\n  };\n\n  formCtrlSub: Subscription;\n\n\n  constructor(\n    private yaGeocoderService: YaGeocoderService,\n    private yaApiLoaderService: YaApiLoaderService,\n    private router: Router,\n    private http: HttpClient) {\n    this.yaApiLoaderService.load();\n  }\n\n  ngOnInit() {\n    this.formCtrlSub = this.searchForm.valueChanges.pipe(debounceTime(1000), skip(1)).subscribe(newValue => {\n      if (!this.isPickedAddressFromList) {\n        this.loadAddressFromSearchForm(`${this.addressFromPosAction} ${newValue.query}`);\n      }\n      this.isPickedAddressFromList = false;\n    });\n  }\n\n  // zoomChange(n) {\n  //   this.zoom += n;\n  // }\n\n  onMapReady(event: YaReadyEvent<ymaps.Map>): void {\n    if (this.addressFromPosAction) {\n      this.getAddressFromPosActionCoords(this.addressFromPosAction);\n    }\n  }\n\n\n  loadAddressFromSearchForm(query: string) {\n    const params = new HttpParams()\n      .set('text', query)\n      .set('lang', MAP_CONFIG.lang)\n      .set('apikey', SEARCH_API_KEY);\n\n    this.http.get<IAddressByQuery>(SEARCH_BASE_URL, {\n      params\n    }).subscribe((response) => {\n      this.results = response.features.slice(0, 5);\n      this.showResultList = true;\n    });\n  }\n\n  onDrag(position) {\n    this.showResultList = false;\n    const coords = position.target.geometry.getCoordinates();\n    this.yaGeocoderService.geocode(coords)\n      .subscribe((res) => {\n        // @ts-ignore\n        this.address = res.geoObjects.get(0).properties.get('text');\n        this.searchForm.patchValue({ query: this.address });\n      });\n  }\n\n\n  onClick(val) {\n    this.coordinates = val.event.get('coords');\n    this.center = this.coordinates;\n    this.yaGeocoderService.geocode(this.coordinates)\n      .subscribe(res => {\n        // @ts-ignore\n        this.address = res.geoObjects.get(0).properties.get('text');\n        this.searchForm.patchValue({ query: this.address });\n      });\n  }\n\n  onChooseFromResultList(result) {\n    const address = result.properties.name;\n    this.selectedItem = result;\n    this.searchForm.patchValue({ query: address });\n    this.showResultList = false;\n    this.isPickedAddressFromList = true;\n    this.yaGeocoderService.geocode(address)\n      .subscribe(res => {\n        // @ts-ignore\n        const firstGeoObject = res.geoObjects.get(0);\n        const coords = firstGeoObject.geometry.getCoordinates();\n        this.coordinates = coords;\n        this.center = coords;\n      });\n  }\n\n  onApplyClick() {\n    this.applyClickFn.emit(this.selectedItem);\n  }\n\n  onBackClick() {\n    this.backClickFn.emit();\n  }\n\n  ngOnDestroy() {\n    this.formCtrlSub.unsubscribe();\n  }\n\n  getAddressFromPosActionCoords(addressFromPosAction: string) {\n    this.yaGeocoderService.geocode(addressFromPosAction)\n      .subscribe(res => {\n        // @ts-ignore\n        const firstGeoObject = res.geoObjects.get(0);\n        const coords = firstGeoObject?.geometry?.getCoordinates();\n        this.coordinates = coords;\n        this.center = coords;\n        this.searchForm.patchValue({query: addressFromPosAction});\n      });\n  }\n\n}\n","import { CURRENCY } from '@shared/currency/currency.model';\nimport { Observable, of } from 'rxjs';\n\nexport type currencyCode =  keyof typeof CURRENCY;\n\nexport type Currency = {\n    code: currencyCode,\n    isPossible: boolean,\n    possible?: boolean,\n};\n\nexport type CurrencyWithName = Currency & { name: string };\n\nexport abstract class CurrenciesListServiceAbstract {\n\n    public abstract loadCurrencyList(): Observable<Currency[]>;\n\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/api.service';\nimport { CompanyService } from '@company/company.service';\nimport { Observable, of } from 'rxjs';\nimport { CurrenciesListServiceAbstract, Currency } from './currencies-list.service.abstract';\n\n@Injectable()\nexport class CurrenciesListService extends CurrenciesListServiceAbstract {\n\n    constructor(\n        private apiService: ApiService,\n        private companyService: CompanyService\n    ) {\n        super();\n    }\n\n    loadCurrencyList(): Observable<Currency[]> {\n        const url = `/companies/${this.companyService.currentId}/additional-accounts/currencies`;\n        return this.apiService.getObservable(url);\n    }\n\n}\n","export enum CURRENCY {\n  KZT = 'KZT',\n  RUB = 'RUB',\n  USD = 'USD',\n  EUR = 'EUR',\n  AUD = 'AUD',\n  AZN = 'AZN',\n  BYN = 'BYN',\n  DKK = 'DKK',\n  SAR = 'SAR',\n  SGD = 'SGD',\n  XAU = 'XAU',\n  KGS = 'KGS',\n  GBP = 'GBP',\n  CNY = 'CNY',\n  CHF = 'CHF',\n  HKD = 'HKD',\n  GEL = 'GEL',\n  AED = 'AED',\n  INR = 'INR',\n  CAD = 'CAD',\n  MYR = 'MYR',\n  PLN = 'PLN',\n  THB = 'THB',\n  TRY = 'TRY',\n  UZS = 'UZS',\n  UAH = 'UAH',\n  CZK = 'CZK',\n  SEK = 'SEK',\n  KRW = 'KRW',\n  JPY = 'JPY',\n}\n\nexport interface IMoney {\n  amount: number;\n  currency: CURRENCY;\n}\n","import {\r\n  OnInit,\r\n  Component,\r\n  EventEmitter,\r\n  Output,\r\n  ViewChild,\r\n  Input,\r\n  forwardRef,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnDestroy,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\n\r\nimport {\r\n  FormControl,\r\n  NG_VALUE_ACCESSOR,\r\n  ControlValueAccessor,\r\n} from '@angular/forms';\r\nimport { generateUniqueId, ngbStructToISO } from '@utils/index';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport {\r\n  NgbInputDatepicker,\r\n  NgbDateStruct,\r\n  NgbDate,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport { coerceElement } from '@shared/form-field/utils';\r\nimport { JFormFieldControl } from '@shared/form-field/form-field-control';\r\n@Component({\r\n  selector: 'j-date-picker',\r\n  templateUrl: './date-picker.component.html',\r\n  styleUrls: ['./date-picker.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => JDatePickerComponent),\r\n      multi: true,\r\n    },\r\n    // {provide: NgbDateAdapter, useClass: NgbDateNativeAdapter},\r\n    // { provide: NgbDatepickerI18n, useClass: DatepickerFormatterService },\r\n  ],\r\n  host: {\r\n    class: 'j-form-field j-form-field-datepicker',\r\n    '[class.j-form-field-open]': 'isOpen',\r\n    '[class.j-form-field-should-float]': 'shouldFloat',\r\n    '[class.j-date-picker-invalid]': 'hasError',\r\n    '[class.j-date-picker-auto]': 'allowAuto',\r\n    '[class.j-date-picker-disabled]': 'isDisabled',\r\n    '[class.j-focused]': 'focused',\r\n  },\r\n})\r\nexport class JDatePickerComponent\r\n  extends JFormFieldControl<NgbDateStruct>\r\n  implements OnInit, ControlValueAccessor, OnChanges, OnDestroy\r\n{\r\n  @Input() autofocus: boolean;\r\n  @Input() datesEnabled?: string[];\r\n  @Input() id = generateUniqueId();\r\n  @Input() formControl: FormControl;\r\n  @Input() label = '';\r\n  @Input() name = '';\r\n  @Input() errorText = null;\r\n\r\n  @Input() errorMessages?: {\r\n    error: string;\r\n    message: string;\r\n  }[];\r\n  @Input() helperText = null;\r\n  @Input() value = null;\r\n\r\n  @Input() allowAuto: boolean;\r\n\r\n  @Input() minDate;\r\n  @Input() maxDate;\r\n\r\n  @Input() formatValue: boolean;\r\n  @Output() changeEvent = new EventEmitter<NgbDateStruct>();\r\n\r\n  @ViewChild('inputControl') inputControl: HTMLInputElement;\r\n  @ViewChild(NgbInputDatepicker) datepicker: NgbInputDatepicker;\r\n  controlType = 'date-picker';\r\n  focused = false;\r\n  isDisabled = false;\r\n  helperClasses = '';\r\n  isOpen = false;\r\n  empty = true;\r\n  placeholder = '';\r\n  shouldLabelFloat = false;\r\n\r\n  readonly stateChanges = new Subject<void>();\r\n\r\n  protected readonly subs = new Subscription();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get isFilled() {\r\n    return !!this.formControl.value;\r\n  }\r\n\r\n  get hasError() {\r\n    return (\r\n      this.formControl.invalid && this.formControl.touched && !this.focused\r\n    );\r\n  }\r\n\r\n  get shouldFloat() {\r\n    return this.allowAuto || this.isOpen || this.focused;\r\n  }\r\n\r\n  get isClearable() {\r\n    return this.formControl.value !== null;\r\n  }\r\n\r\n  onClear() {\r\n    this.formControl.setValue(null);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.subs.add(\r\n      this.formControl.valueChanges.subscribe((value) => {\r\n        this.changeEvent.emit(value);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs.unsubscribe();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {}\r\n\r\n  onChange(_: any) {}\r\n\r\n  onContainerClick(e?: MouseEvent) {\r\n    // if (this.isOpen && this.focused) {\r\n    //   this.datepicker.close();\r\n    //   this.isOpen = false;\r\n    // }\r\n    // else {\r\n    //   this.datepicker.close();\r\n    //   this.isOpen = false;\r\n    // }\r\n  }\r\n\r\n  setDescribedByIds(ids: string[]) {}\r\n\r\n  writeValue(value: any) {\r\n    this.value = value;\r\n  }\r\n\r\n  registerOnChange(fn) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched() {}\r\n\r\n  onFocus() {\r\n    this.focused = true;\r\n    if (!this.isOpen) {\r\n      this.datepicker.open();\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  onBlur() {\r\n    // this.focused = false;\r\n    // this.blur.emit();\r\n  }\r\n\r\n  onToggle(e?: MouseEvent) {\r\n    e && e.stopPropagation();\r\n    // only close event is emitted by datepicker\r\n    if (!this.isOpen) {\r\n      this.datepicker.open();\r\n      this.isOpen = true;\r\n    } else {\r\n      this.datepicker.close();\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  onClosed() {\r\n    setTimeout(() => {\r\n      this.isOpen = false;\r\n      this.focused = false;\r\n      coerceElement(this.inputControl).blur();\r\n    }, 0);\r\n  }\r\n\r\n  onDateSelection(event) {\r\n    this.datepicker.close();\r\n    this.changeEvent.next(event);\r\n  }\r\n\r\n  focus() {\r\n    coerceElement(this.inputControl).focus();\r\n  }\r\n\r\n  clear() {}\r\n\r\n  markDisabled = (\r\n    date: NgbDate,\r\n    current?: { year: number; month: number }\r\n  ): boolean => {\r\n    if (this.datesEnabled) {\r\n      const currentDate = ngbStructToISO(date);\r\n      return !this.datesEnabled.some((day) => currentDate === day);\r\n    }\r\n    return false;\r\n  };\r\n}\r\n","import { Directive, ElementRef, Inject, Input, OnChanges, OnDestroy, SimpleChanges } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\nconst enum BadgeSettings {\n  Selector = 'jBadge',\n  Element = 'span',\n  ClassName = 'j-badge'\n}\n\n@Directive({\n  selector: '[jBadge]'\n})\n\nexport class BadgeDirective implements OnChanges, OnDestroy {\n  @Input() jBadge: string;\n\n  badgeElement: HTMLElement | null;\n\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    private elRef: ElementRef<HTMLElement>\n  ) {}\n  ngOnChanges(changes: SimpleChanges): void {\n    if (BadgeSettings.Selector in changes) {\n      const value = `${changes[BadgeSettings.Selector].currentValue}`.trim();\n      if (value?.length) { this.updateBadgeText(value); }\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.badgeElement) { this.badgeElement.remove(); }\n  }\n\n  private updateBadgeText(value: string) {\n    if (!this.badgeElement) { return this.createBadge(value); }\n    this.badgeElement.textContent = value;\n  }\n\n  private createBadge(value: string): HTMLElement {\n    const badgeElement = this.document.createElement(BadgeSettings.Element);\n    badgeElement.textContent = value;\n    badgeElement.className = BadgeSettings.ClassName;\n    this.elRef.nativeElement.appendChild(badgeElement);\n    return badgeElement;\n  }\n}\n","import { Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[jClamp]',\r\n})\r\nexport class ClampDirective implements AfterViewInit {\r\n  @Input() jClamp: number;\r\n  constructor(public elem: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    window['$clamp'](this.elem.nativeElement, { clamp: this.jClamp });\r\n  }\r\n}\r\n","import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[jCollapsibleBody]',\n})\nexport class CollapsibleBodyDirective {\n  constructor(public elem: ElementRef) {}\n}\n","import {\n  Directive,\n  Input,\n  ElementRef,\n  Output,\n  EventEmitter,\n  HostListener,\n} from '@angular/core';\n\n@Directive({\n  selector: '[jCollapsibleTrigger]',\n})\nexport class CollapsibleTriggerDirective {\n  @Output() clicked = new EventEmitter();\n  constructor(public elem: ElementRef) {}\n\n  @HostListener('click')\n  onClick() {\n    this.clicked.emit();\n  }\n}\n","import {\n  Directive,\n  AfterViewInit,\n  ContentChild,\n  Input,\n  OnDestroy,\n  Renderer2,\n  ElementRef,\n  OnChanges,\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\n\nimport { CollapsibleBodyDirective } from './collapsible-body.directive';\nimport { CollapsibleTriggerDirective } from './collapsible-trigger.directive';\n\n@Directive({\n  selector: '[jCollapsible]',\n})\nexport class CollapsibleDirective implements AfterViewInit, OnDestroy {\n  @ContentChild(CollapsibleBodyDirective) contentBody: CollapsibleBodyDirective;\n  @ContentChild(CollapsibleTriggerDirective)\n  contentTrigger;\n\n  @Input() jCollapsible;\n\n  maxHeight: number;\n  bodyStyleRef;\n  isCollapsed: boolean;\n\n  subscription = new Subscription();\n\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) {}\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  ngAfterViewInit() {\n    this.init();\n  }\n\n  public close() {\n    this.isCollapsed = false;\n    this.onCollapse();\n  }\n\n  private init() {\n    this.isCollapsed = this.jCollapsible;\n    this.maxHeight = this.contentBody.elem.nativeElement.scrollHeight;\n    this.bodyStyleRef = this.contentBody.elem.nativeElement.style;\n\n    this.appendTransitions();\n    this.onCollapse();\n\n    const clickTriggerSubscription = this.contentTrigger.clicked.subscribe(\n      (event) => {\n        this.isCollapsed = !this.isCollapsed;\n        this.onCollapse();\n      }\n    );\n    this.subscription.add(clickTriggerSubscription);\n  }\n\n  private onCollapse() {\n    this.onCollapseHost(this.isCollapsed);\n    this.onCollapseBody(this.isCollapsed);\n  }\n\n  private appendTransitions() {\n    this.bodyStyleRef.transition = 'all 0.3s ease-in-out';\n  }\n\n  private onCollapseHost(isCollapsed: boolean) {\n    if (isCollapsed) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'j-collapsed');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'j-collapsed');\n    }\n  }\n\n  private onCollapseBody(isCollapsed: boolean) {\n    if (isCollapsed) {\n      this.setBodyStyles('unset', 1, this.maxHeight);\n    } else {\n      this.setBodyStyles('hidden', 0, 0);\n    }\n  }\n\n  private setBodyStyles(overflow: string, opacity: number, maxHeight: number) {\n    this.bodyStyleRef.overflowY = overflow;\n    this.bodyStyleRef.opacity = opacity;\n    this.bodyStyleRef.maxHeight = `${maxHeight}px`;\n  }\n}\n","import {\n  Directive,\n  HostBinding,\n  ChangeDetectorRef,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { UserService } from '@shared/services/user.service';\nimport { Subscription } from 'rxjs';\nimport { MaskPhonePipe } from '@shared/pipes/mask-phone.pipe';\nimport { distinctUntilChanged } from 'rxjs/operators';\n\n@Directive({\n  selector: '[jCurrentUserPhone]',\n})\nexport class CurrentUserPhoneDirective implements OnDestroy, OnInit {\n  private readonly s = new Subscription();\n  constructor(\n    private user: UserService,\n    private cd: ChangeDetectorRef,\n    private maskPhone: MaskPhonePipe\n  ) {}\n  @HostBinding('innerText') phone = '';\n\n  ngOnInit() {\n    this.s.add(\n      this.user.getUser().pipe(distinctUntilChanged()).subscribe((u) => {\n        if (u && u.phone) {\n          this.phone = this.maskPhone.transform(u.phone);\n        } else {\n          this.phone = '';\n        }\n        this.cd.markForCheck();\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.s.unsubscribe();\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Optional,\n  Self,\n  Input,\n  HostListener,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\n@Directive({\n  selector: '[jCursorBound]',\n  // host: {\n  //   '(click)': 'setCursorToEnd',\n  //   '(keyup)': 'setCursorToEnd',\n  // },\n})\nexport class CursorBoundDirective {\n  positionFromEnd: number;\n  previousValue: string;\n\n  // @Input() jCursorBound?: string;\n  @Input() suffix?: string;\n  @HostListener('keyup', ['$event']) onKeyUp = this.setCursorToEnd;\n  @HostListener('click', ['$event']) onClick = this.setCursorToEnd;\n  constructor(\n    private ref: ElementRef,\n    @Optional() @Self() private control: NgControl\n  ) {\n  }\n\n  setCursorToEnd(event: any) {\n    const selectionMaxIndex = this.value.replace(this.suffix, '').length;\n\n    if (this.positionFromEnd && event.target.value?.length !== this.previousValue?.length) {\n      this.element.setSelectionRange(\n        event.target.selectionStart,\n        selectionMaxIndex - this.positionFromEnd\n      );\n    }\n\n    if (event.target.selectionEnd > selectionMaxIndex) {\n      this.element.setSelectionRange(\n        event.target.selectionStart,\n        selectionMaxIndex\n      );\n    }\n\n    this.positionFromEnd = selectionMaxIndex - event.target.selectionEnd;\n    this.previousValue = event.target.value;\n  }\n\n  get value() {\n    return this.element.value || '';\n  }\n\n  get element() {\n    return this.ref.nativeElement;\n  }\n}\n","import {\n  Directive,\n  Output,\n  Input,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n} from '@angular/core';\n\n@Directive({\n  selector: '[jDnd]',\n})\nexport class DndDirective {\n  @HostBinding('class.fileover') fileOver: boolean;\n  @Output() fileDropped = new EventEmitter<any>();\n\n  // Dragover listener\n  @HostListener('dragover', ['$event']) onDragOver(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = true;\n  }\n\n  // Dragleave listener\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = false;\n  }\n\n  // Drop listener\n  @HostListener('drop', ['$event']) public ondrop(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.fileOver = false;\n    let files = evt.dataTransfer.files;\n    if (files.length > 0) {\n      this.fileDropped.emit(files);\n    }\n  }\n}\n","import {\n  Directive,\n  HostListener,\n  ElementRef,\n  Input,\n  AfterContentInit,\n  Optional,\n  Self,\n  SimpleChanges,\n  SimpleChange,\n  OnInit,\n  OnDestroy,\n} from '@angular/core';\nimport { MaskDirective } from 'ngx-mask';\nimport {\n  NgModel,\n  NgControl,\n  FormControlDirective,\n  FormControl,\n} from '@angular/forms';\nimport { first, debounceTime, filter, skip } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\n/**\n * @description dynamic prefix fo ngx-mask\n * fixed issue with changedAfterChecked error in employee form with dynamic prefix in FormArray\n */\n@Directive({\n  selector: '[jDynamicPrefix]',\n})\nexport class DynamicPrefixDirective implements OnInit, OnDestroy {\n  @Input() jDynamicPrefix: string;\n  @Input() with?: string;\n  @HostListener('focus', ['$event']) onFocus(event: any) {\n    // fixed issue with changedAfterChecked error in employee form with dynamic prefix in FormArray\n    if (this.controlDirective && !this.maskDirective.prefix) {\n      this.updatePrefix();\n    }\n  }\n  // hide prefix on blur if needed\n  // @HostListener('blur', ['$event']) onBlue(event: any) {\n  //   if (!this.controlDirective.control.value) {\n  //     this.controlDirective.control.markAsUntouched();\n  //     // setTimeout(() => {\n  //     //   this.maskDirective.ngOnChanges({\n  //     //     prefix: {\n  //     //       previousValue: this.maskDirective.prefix,\n  //     //       currentValue:  this.maskDirective.prefix = '',\n  //     //       firstChange: false,\n  //     //       isFirstChange: () => false\n  //     //     },\n  //     //   });\n  //     // }, 0);\n  //   }\n  // }\n\n  private subscription = new Subscription();\n\n  constructor(\n    private elem: ElementRef<HTMLInputElement>,\n    @Optional() @Self() private controlDirective: FormControlDirective,\n    @Optional() @Self() private maskDirective: MaskDirective\n  ) {}\n\n  ngOnInit() {\n    if (this.controlDirective) {\n      if (this.controlDirective.value && !this.maskDirective.prefix) {\n        this.updatePrefix();\n      }\n      this.subscription.add(\n        this.controlDirective.valueChanges\n          .pipe(\n            skip(1),\n            debounceTime(300)\n            // filter((v) => !!v)\n          )\n          .subscribe((v: string) => {\n            if (\n              !this.maskDirective.prefix ||\n              v.includes(this.maskDirective.prefix, 0)\n            ) {\n              this.updatePrefix();\n            } else if (!v && this.controlDirective.control.touched) {\n              // Handle input clear (direct HTmLInput manipulation)\n              this.updatePrefix();\n            }\n          })\n      );\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  updatePrefix() {\n    setTimeout(() => {\n      this.maskDirective.ngOnChanges({\n        prefix: new SimpleChange(\n          this.maskDirective.prefix,\n          (this.maskDirective.prefix = this.jDynamicPrefix),\n          false\n        ),\n      });\n      // patched suffix is making control dirty, which violates rule for error highilght - touched, but not changed\n      this.controlDirective.control.markAsPristine();\n    }, 0);\n  }\n}\n","import { DynamicPrefixDirective } from './dynamic-prefix.directive';\n\nimport { CursorBoundDirective } from './cursor-bound.directive';\n\nimport { LockKeyboardInputDirective } from './lock-keyboard-input.directive';\n\nimport { NormalizeAmountDirective } from './normalize-amount.directive';\n\nimport {\n  FocusOnReturnDirective,\n  FocusableContainerDirective,\n} from './on-return.directive';\n\nimport { ReplaceDotDirective } from './replace-dot.directive';\nimport { ReplaceOnPasteDirective } from './replace-on-paste.directive';\n\nimport { UppercaseInputDirective } from './uppercase-input.directive';\n\nimport { ShadowControlDirective } from './shadow.directive';\n\nimport {\n  InvalidControlScrollDirective,\n  InvalidControlScrollContainerDirective,\n} from './invalid-control-scroll.directive';\n\nimport { CurrentUserPhoneDirective } from './current-user-phone.directive';\n\nimport { CollapsibleDirective } from './collapsible/collapsible.directive';\nimport { CollapsibleTriggerDirective } from './collapsible/collapsible-trigger.directive';\nimport { CollapsibleBodyDirective } from './collapsible/collapsible-body.directive';\n\nimport { ClampDirective } from './clamp.directive';\nimport { DndDirective } from './dnd.directive';\nimport { BadgeDirective } from './badge.directive';\n\nexport const DIRECTIVES = [\n  FocusableContainerDirective,\n  CursorBoundDirective,\n  ReplaceOnPasteDirective,\n  ReplaceDotDirective,\n  LockKeyboardInputDirective,\n  NormalizeAmountDirective,\n  UppercaseInputDirective,\n  FocusOnReturnDirective,\n  ShadowControlDirective,\n  InvalidControlScrollDirective,\n  InvalidControlScrollContainerDirective,\n  DynamicPrefixDirective,\n\n  CurrentUserPhoneDirective,\n\n  ClampDirective,\n  BadgeDirective,\n  // Collapsible\n  CollapsibleDirective,\n  CollapsibleTriggerDirective,\n  CollapsibleBodyDirective,\n\n  DndDirective,\n];\n\nexport * from './cursor-bound.directive';\nexport * from './lock-keyboard-input.directive';\nexport * from './normalize-amount.directive';\nexport * from './on-return.directive';\nexport * from './replace-dot.directive';\nexport * from './replace-on-paste.directive';\nexport * from './uppercase-input.directive';\nexport * from './shadow.directive';\nexport * from './dynamic-prefix.directive';\n\nexport * from './current-user-phone.directive';\n\n// Collapsible\nexport * from './collapsible/collapsible.directive';\nexport * from './collapsible/collapsible-trigger.directive';\nexport * from './collapsible/collapsible-body.directive';\n\nexport * from './clamp.directive';\nexport * from './badge.directive';\n\nexport * from './dnd.directive';\n","import { Directive, HostListener, ElementRef, Optional } from '@angular/core';\nimport { FormGroupDirective } from '@angular/forms';\nimport { fromEvent } from 'rxjs';\nimport { debounceTime, take } from 'rxjs/operators';\n\n@Directive({\n  selector: '[jInvalidControlScrollContainer]',\n})\nexport class InvalidControlScrollContainerDirective {\n  readonly containerEl: HTMLElement = this.el.nativeElement;\n\n  constructor(private el: ElementRef) {}\n}\n\n/**\n * @todo cannot get container from projected content\n * remove fPage\n */\n@Directive({\n  selector: '[jInvalidControlScroll]',\n})\nexport class InvalidControlScrollDirective {\n  private get containerEl() {\n    return this.scrollContainerDir\n      ? this.scrollContainerDir.containerEl\n      : this.window;\n  }\n\n  constructor(\n    private el: ElementRef,\n    private formGroupDir: FormGroupDirective,\n    private window: Window,\n    @Optional()\n    private scrollContainerDir: InvalidControlScrollContainerDirective\n  ) {}\n\n  @HostListener('ngSubmit') onSubmit(e) {\n    if (this.formGroupDir.invalid) {\n      this.scrollToFirstInvalidControl();\n    }\n  }\n\n  private scrollToFirstInvalidControl() {\n    const firstInvalidControl: HTMLElement = this.el.nativeElement.querySelector(\n      '.ng-invalid'\n    );\n    if (firstInvalidControl) {\n      this.containerEl.scroll({\n        top: this.getTopOffset(firstInvalidControl),\n        left: 0,\n        behavior: 'smooth',\n      });\n    }\n    // fromEvent(this.containerEl, 'scroll')\n    //   .pipe(debounceTime(100), take(1))\n    //   .subscribe(() => {\n    //     firstInvalidControl.focus();\n    //   });\n  }\n\n  private getTopOffset(controlEl: HTMLElement): number {\n    const labelOffset = 50;\n    const controlElTop = controlEl?.getBoundingClientRect().top;\n\n\n    if (controlElTop && this.containerEl instanceof HTMLElement) {\n      const containerTop = this.containerEl.getBoundingClientRect()\n        .top;\n      const absoluteControlElTop =\n        controlElTop + this.containerEl.scrollTop;\n\n      return absoluteControlElTop - containerTop - labelOffset;\n    } else {\n      const absoluteControlElTop = controlElTop + this.window.scrollY;\n\n      return absoluteControlElTop - labelOffset;\n    }\n  }\n}\n","import { Directive, HostListener } from '@angular/core';\n\nconst keys = {\n  8: 'BACKSPACE',\n  46: 'DELETE ',\n  9: 'TAB',\n  37: 'LEFT',\n  38: 'UP',\n  39: 'RIGHT',\n  40: 'DOWN',\n  35: 'END',\n};\n\n@Directive({\n  selector: '[jLockKeyboardInput]',\n})\nexport class LockKeyboardInputDirective {\n  @HostListener('keydown', ['$event']) onKeyEvent(event: any) {\n    const e = event || window.event; // get event object\n    if (e.defaultPrevented) {\n      return;\n    }\n    //  e.key || e.code not a number as usual - just string \"Tab\" or \"Enter\"\n    const key = e.which || e.key || e.code;\n    if (e.key.length <= 1 || !(e.metaKey || e.ctrlKey || e.altKey) || !keys[key]) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n  constructor() {\n  }\n}\n","import { Directive, HostListener, ElementRef } from '@angular/core';\nimport { MaskedService } from '@shared/masked/masked.service';\n\n@Directive({\n  selector: '[jNormalizeAmount]',\n})\nexport class NormalizeAmountDirective {\n  @HostListener('paste', ['$event']) onPasteEvent(event: any) {\n    try {\n      event.preventDefault();\n      const clipboardData =\n        event.clipboardData || (window as any).clipboardData;\n      const pastedText = clipboardData.getData('text');\n      const toPasteRaw = this.maskedService.getMaskedAmount(pastedText);\n      this.elem.nativeElement.value = toPasteRaw;\n    } catch (error) {}\n  }\n  @HostListener('input', ['$event']) normalize() {}\n  constructor(\n    private elem: ElementRef<HTMLInputElement>,\n    private maskedService: MaskedService\n  ) {}\n}\n","import {\n  Directive,\n  ElementRef,\n  HostListener,\n  SkipSelf,\n  forwardRef,\n  Inject,\n  ContentChildren,\n  QueryList,\n  Input,\n  Component,\n  Optional,\n  Self,\n  OnInit,\n  EventEmitter,\n  OnDestroy,\n} from '@angular/core';\nimport { coerceElement } from '@shared/form-field/utils';\nimport { JFormFieldControl } from '@shared/form-field/form-field-control';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n/**\n * @todo check possible ways to manipulate with focus on custom elements\n * tabindex or focusable iteration\n * inject focusable container marker and iterate there?\n */\n@Directive({\n  selector: '[jFocusOnReturn]',\n})\nexport class FocusOnReturnDirective implements OnInit, OnDestroy {\n  readonly subs = new Subscription();\n  @Input() jFocusOnReturn?: JFormFieldControl<any>;\n  @HostListener('keydown', ['$event']) onKeyDown(e) {\n    if (e.which === 13 || e.keyCode === 13) {\n      if (this.focusNext()) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  }\n  @HostListener('focus', ['$event']) onFocus(e) {\n    this.container.currentTarget = this;\n  }\n  constructor(\n    public el: ElementRef,\n    @Optional()\n    @Self()\n    public hostComponent: JFormFieldControl<any>,\n    @Inject(forwardRef(() => FocusableContainerDirective))\n    private container: FocusableContainerDirective\n  ) {}\n\n  ngOnInit() {\n    const host = this.jFocusOnReturn || this.hostComponent;\n    if (host) {\n      // handle select next for select component\n      if (host.changeEvent) {\n        this.subs.add(\n          (host.changeEvent as EventEmitter<any>)\n            .pipe(debounceTime(100))\n            .subscribe((v) => {\n              if (v) {\n                this.focusNext();\n              }\n            })\n        );\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n    if (this.container.currentTarget === this) {\n      this.container.currentTarget = null;\n    }\n  }\n\n  focusNext(): boolean {\n    const focusable = this.container.targets.toArray();\n    const currentIndex = focusable.indexOf(this);\n    const nextIndex = currentIndex + 1;\n    if (nextIndex >= 0 && nextIndex < focusable.length) {\n      const next = focusable[nextIndex];\n      let targetTrigger;\n      if (next.jFocusOnReturn) {\n        targetTrigger = coerceElement(next.jFocusOnReturn);\n      } else {\n        targetTrigger = coerceElement(next.el);\n      }\n      targetTrigger.focus();\n\n      return true;\n    }\n    return false;\n  }\n}\n/**\n * @todo expensive checking descendants\n */\n@Directive({\n  selector: '[jFocusableContainer]',\n})\nexport class FocusableContainerDirective {\n  @ContentChildren(FocusOnReturnDirective, {\n    descendants: true,\n    // read: true\n  })\n  targets: QueryList<FocusOnReturnDirective>;\n  currentTarget: FocusOnReturnDirective;\n  constructor(public elem: ElementRef) {}\n\n  focusNext() {\n    this.currentTarget && this.currentTarget.focusNext();\n  }\n}\n","import { Directive, HostListener, Input, Optional, Self } from '@angular/core';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { MaskPipe } from 'ngx-mask';\nimport { FormControlDirective } from '@angular/forms';\n\n@Directive({\n  selector: '[jReplaceDot]',\n})\nexport class ReplaceDotDirective {\n  @Input() applyFormatAmount?: string;\n\n  @HostListener('keydown', ['$event']) onKeyEvent(event: any) {\n    const e = event || window.event; // get event object\n    if (e.defaultPrevented) {\n      return;\n    }\n    //  e.key || e.code not a number as usual - just string \"Tab\" or \"Enter\"\n    const key = e.key || e.code;\n    if (key === '.') {\n      if (e.preventDefault) {\n        // get old value\n        const start = e.target.selectionStart;\n        const end = e.target.selectionEnd;\n        const oldValue = e.target.value;\n\n        if (!oldValue.includes(',')) {\n          // replace point and change input value\n          let newValue = oldValue.slice(0, start) + ',' + oldValue.slice(end);\n\n          if (this.applyFormatAmount) {\n            newValue = this.maskedService.getMaskedAmount(\n              newValue,\n              this.applyFormatAmount\n            );\n          }\n\n          e.target.value = newValue;\n\n          // replace cursor\n          e.target.selectionStart = e.target.selectionEnd = start + 1;\n        }\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n  }\n  @HostListener('paste', ['$event']) onPaste(event: any) {\n    event.preventDefault();\n    const clipboardData = event.clipboardData || (window as any).clipboardData;\n    const pastedText = clipboardData.getData('text');\n    const toPasteRaw = this.maskedService.getMaskedAmount(pastedText);\n    this.controlDirective && this.controlDirective.control.setValue(toPasteRaw);\n  }\n  constructor(\n    private maskedService: MaskedService,\n    @Optional() @Self() private controlDirective?: FormControlDirective\n  ) {}\n}\n","import {\n  Directive,\n  HostListener,\n  ElementRef,\n  Input,\n  AfterContentInit,\n  Optional,\n  Self,\n} from '@angular/core';\nimport { MaskDirective } from 'ngx-mask';\nimport { NgModel, NgControl, FormControlDirective } from '@angular/forms';\n\n/**\n * @description Helper directive for fixing pasting data from clipboard with ngx mask prefix directive attached\n * Strip prefixied string and prevent cutting last letters\n */\n@Directive({\n  selector: '[jReplaceOnPaste]',\n})\nexport class ReplaceOnPasteDirective {\n  @Input() jReplaceOnPaste: string;\n  @Input() with?: string;\n  @HostListener('paste', ['$event']) onPasteEvent(event: any) {\n    try {\n      let clipboardData, pastedData;\n      clipboardData = event.clipboardData || (window as any).clipboardData;\n      pastedData = clipboardData.getData('Text');\n\n      this.elem.nativeElement.value = pastedData.replace(\n        this.jReplaceOnPaste,\n        this.with || ''\n      );\n    } catch (error) {}\n  }\n  constructor(private elem: ElementRef<HTMLInputElement>) {}\n}\n","import {\n  Directive,\n  Self,\n  Input,\n  OnInit,\n  OnDestroy,\n  ViewContainerRef,\n  OnChanges,\n  ComponentRef,\n  ComponentFactoryResolver,\n  ChangeDetectorRef,\n  HostListener,\n  Optional,\n  ElementRef,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { InputShadowComponent } from '@shared/input-shadow/input-shadow.component';\nimport {\n  Subscription,\n  combineLatest,\n  BehaviorSubject,\n  Observable,\n  fromEvent,\n} from 'rxjs';\nimport { startWith, map } from 'rxjs/operators';\n\n@Directive({\n  selector: '[jShadow]',\n})\nexport class ShadowControlDirective implements OnInit, OnDestroy, OnChanges {\n  @Input() jShadow: string;\n  @Input() jDynamicPrefix: string;\n  focused$ = new BehaviorSubject(false);\n  vChange$: Observable<string>;\n  ref: ComponentRef<InputShadowComponent>;\n  readonly subs = new Subscription();\n\n  @HostListener('blur') onBlur() {\n    this.focused$.next(false);\n  }\n\n  @HostListener('focus') onFocus() {\n    this.focused$.next(true);\n  }\n\n  constructor(\n    @Optional() @Self() public ngControl: NgControl,\n    private element: ElementRef,\n    private vcr: ViewContainerRef,\n    private resolver: ComponentFactoryResolver,\n    public cd: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    if (this.jShadow) {\n      const factory = this.resolver.resolveComponentFactory(\n        InputShadowComponent\n      );\n      if (this.ngControl) {\n        this.vChange$ = this.ngControl.valueChanges.pipe(\n          startWith(this.ngControl.value)\n        );\n      } else {\n        this.vChange$ = fromEvent(this.element.nativeElement, 'input').pipe(\n          startWith(this.element.nativeElement.value),\n          map((e) => this.element.nativeElement.value)\n        );\n      }\n      this.ref = this.vcr.createComponent(factory);\n      const instance = this.ref.instance;\n      instance.shadow = this.jShadow;\n      this.subs.add(\n        combineLatest(this.vChange$, this.focused$).subscribe(([v, f]) => {\n          const nextVisibility = (f) || (f && this.jDynamicPrefix);\n          if (nextVisibility || !!nextVisibility !== !instance.hidden) {\n            instance.hidden = !nextVisibility;\n            instance.value = this.jDynamicPrefix ? this.jDynamicPrefix + v : v;\n            instance.ngOnChanges();\n          }\n        })\n      );\n    }\n  }\n\n  ngOnChanges() {}\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n    this.vcr.clear();\n  }\n}\n","import { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[jUppercase]',\n  host: {\n    '(input)': 'ref.nativeElement.value=$event.target.value.toUpperCase()',\n  },\n})\nexport class UppercaseInputDirective {\n  constructor(private ref: ElementRef) {}\n}\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ViewEncapsulation,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { combineLatest, Observable, of } from 'rxjs';\r\nimport { map, distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MaskPipe } from 'ngx-mask';\r\n\r\nimport { CURRENCY } from '@shared/currency/currency.model';\r\nimport { FormGroupTypeSafe } from '@utils/index';\r\n\r\nimport { EmployeeItemModel, EmployeesItem } from '../../employee.model';\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\n@Component({\r\n  selector: 'j-employee-edit-item',\r\n  templateUrl: './employee-edit-item.component.html',\r\n  styleUrls: ['./employee-edit-item.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class EmployeeEditItemComponent implements OnInit {\r\n  @Input() birthDateRequired: boolean;\r\n  @Input() additionalPeriodEnabled: boolean;\r\n  @Input() index: number;\r\n  @Input() item: EmployeesItem;\r\n  @Input() masks;\r\n  @Input() group: FormGroup;\r\n  @Input() errors?: any;\r\n  @Input() isSubmitted: boolean;\r\n  @Output() remove = new EventEmitter();\r\n  @Output() cancelRemove = new EventEmitter();\r\n  @Output() autocomplete = new EventEmitter();\r\n  @Output() addPeriod = new EventEmitter();\r\n\r\n  @Input() minAmount = 0.01;\r\n  @Input() maxAmount = 212500;\r\n\r\n  CURRENCY = CURRENCY;\r\n\r\n  minDate = new Date(1900, 0, 0);\r\n  maxDate = new Date();\r\n\r\n  /**\r\n   * combine parent removing and own removing stream to avoid\r\n   * case when child can loose parent (additional period)\r\n   */\r\n  hideStream$: Observable<boolean>;\r\n  showCancel$: Observable<boolean>;\r\n  hideControls$: Observable<boolean>;\r\n\r\n  constructor(\r\n    public element: ElementRef,\r\n    private maskPipe: MaskPipe,\r\n    private maskedService: MaskedService,\r\n    private translateService: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.hideStream$ = this.item.linkedWith\r\n      ? combineLatest([\r\n          this.item.removing$,\r\n          this.item.linkedWith.removing$,\r\n        ]).pipe(map(([parent, child]) => parent !== null || child !== null))\r\n      : this.item.removing$.pipe(map((item) => item !== null));\r\n\r\n    this.showCancel$ = this.item.removing$.pipe(\r\n      map((item) => item !== null),\r\n      distinctUntilChanged()\r\n    );\r\n\r\n    this.hideControls$ =\r\n      this.item.linkedWith &&\r\n      this.item.linkedWith.removing$.pipe(map((item) => item !== null));\r\n\r\n    this.group.patchValue({\r\n      lastName: this.form.lastName?.value?.trim() || '',\r\n    });\r\n    this.group.patchValue({\r\n      firstName: this.form.firstName?.value?.trim() || '',\r\n    });\r\n    this.group.patchValue({\r\n      middleName: this.form.middleName?.value?.trim() || '',\r\n    });\r\n    this.group.patchValue({\r\n      amount: this.form.amount?.value\r\n        ? this.maskedService.formatAmount(this.form.amount.value)\r\n        : '',\r\n    });\r\n  }\r\n\r\n  get form(): FormGroupTypeSafe<EmployeeItemModel>['controls'] {\r\n    return (this.group as FormGroupTypeSafe<EmployeeItemModel>).controls;\r\n  }\r\n\r\n  get amountError$() {\r\n    if (this.form?.amount?.value && this.form?.amount?.errors?.invalidAmount) {\r\n      return this.translateService.get(`PAYMENTS.EMPLOYEES.INVALID_AMOUNT`);\r\n    }\r\n    return of(null);\r\n  }\r\n\r\n  get removeLabel(): string {\r\n    return `PAYMENTS.EMPLOYEES.${\r\n      this.item.linkedWith ? 'REMOVE_PERIOD_PAYMENT' : 'REMOVE_FROM_PAYMENT'\r\n    }`;\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit(this.item);\r\n  }\r\n\r\n  onCancel() {\r\n    this.cancelRemove.emit(this.item);\r\n  }\r\n\r\n  onAutocomplete(event?: Event) {\r\n    if (\r\n      this.form.iin.valid &&\r\n      this.item.autocomplete$.getValue() !== this.form.iin.value\r\n    ) {\r\n      this.autocomplete.emit(this.item);\r\n    }\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  onAddPeriod() {\r\n    this.addPeriod.emit(this.item);\r\n  }\r\n\r\n  private getMaskedAmount(amount) {\r\n    const maskedAmount = this.maskPipe.transform(\r\n      amount,\r\n      this.masks.amount.mask\r\n    );\r\n    return `${maskedAmount}${this.masks.amount.suffix}`;\r\n  }\r\n}\r\n","import {\n  Component,\n  forwardRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Self,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {\n  AbstractControl,\n  FormGroupDirective,\n  NgControl,\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor,\n  Validator,\n} from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { PAYMENT_TYPE } from '@shared/models';\nimport { Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  startWith,\n  throttleTime,\n} from 'rxjs/operators';\nimport { EmployeesModalComponent } from '../../modals/employees-modal/employees-modal.component';\nimport { BOOTSTRAP_BREAKPOINTS } from '@shared/responsive-toolkit/constants';\nimport { errors } from '@shared/validators';\nimport { EmployeeFormModel } from '@payments/services/form-model';\nimport { EmployeeItemModel } from '@shared/employee/employee.model';\nimport { ErrorsConfiguration } from '@ngspot/ngx-errors';\nimport {\n  isoDateToPeriodInputSafe,\n  isoDateToDateSafe,\n  periodInputDateToISODateSafe,\n  ibanPrefix,\n} from '@utils/index';\nimport { CURRENCY } from '@shared/currency/currency.model';\n\n@Component({\n  selector: 'j-employee-group-control',\n  templateUrl: './employee-group-control.component.html',\n  styleUrls: ['./employee-group-control.component.scss'],\n  host: {\n    class: 'employee-group',\n  },\n  providers: [\n    // {\n    //   provide: NG_VALUE_ACCESSOR,\n    //   useExisting: forwardRef(() => EmployeeGroupControlComponent),\n    //   multi: true,\n    // },\n    {\n      provide: ErrorsConfiguration,\n      useValue: {\n        showErrorsOnlyIfInputDirty: true,\n        showErrorsWhenFormSubmitted: true,\n      },\n    },\n  ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class EmployeeGroupControlComponent\n  implements OnInit, OnDestroy, ControlValueAccessor\n{\n  @Input() paymentType: PAYMENT_TYPE;\n\n  @Input() isSubmitted: boolean;\n  @Input() ibanRequired?: boolean;\n  @Input() birthDateRequired?: boolean = true;\n  @Input() periodRequired?: boolean;\n  @Input() additionalPeriodEnabled?: boolean;\n  // @Input() disablePeriod?: boolean;\n\n  //       ,   \n  @Input() minAmount = 0.01;\n  @Input() maxAmount = 212500;\n  @Input() currency: CURRENCY = CURRENCY.KZT;\n\n  errors = errors.employees;\n  value = undefined;\n  disabled = false;\n  readonly subs = new Subscription();\n  constructor(\n    private modalService: NgbModal,\n    private maskedService: MaskedService,\n    @Optional() @Self() public ngControl: NgControl,\n    @Optional() private parentGroup: FormGroupDirective\n  ) {\n    if (this.ngControl !== null) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  ngOnInit(): void {\n    if (this.periodRequired) {\n      this.listenCommonPeriod();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n  }\n\n  get commonPeriodEnabled(): AbstractControl {\n    return this.parentGroup?.form.controls.commonPeriodEnabled;\n  }\n\n  get commonPeriod(): AbstractControl {\n    return this.parentGroup?.form.controls.period;\n  }\n\n  get selectedCount(): number {\n    return (this.value && this.value.length) || 0;\n  }\n\n  listenCommonPeriod() {\n    this.subs.add(\n      this.commonPeriodEnabled.valueChanges\n        .pipe(\n          startWith(this.commonPeriodEnabled.value),\n          throttleTime(100, undefined, { leading: true, trailing: true }),\n          distinctUntilChanged()\n        )\n        .subscribe((v) => {\n          if (v) {\n            this.commonPeriod.enable();\n            // this.formArray.controls.forEach((group) =>\n            //   (group as FormGroup).controls.period.disable()\n            // );\n          } else {\n            this.commonPeriod.disable();\n            this.commonPeriod.patchValue(null);\n            // this.formArray.controls.forEach((group) =>\n            //   (group as FormGroup).controls.period.enable()\n            // );\n          }\n        })\n    );\n    this.subs.add(\n      this.commonPeriod.valueChanges\n        .pipe(\n          filter((v) => !!v),\n          throttleTime(100, undefined, { leading: true, trailing: true }),\n          distinctUntilChanged()\n        )\n        .subscribe((v) => {\n          // this.formArray.controls.forEach((group) =>\n          //   (group as FormGroup).controls.period.patchValue(v)\n          // );\n        })\n    );\n  }\n\n  showPicker() {\n    let modal = this.modalService.open(EmployeesModalComponent, {\n      backdropClass: 'backdrop_light',\n      backdrop: 'static',\n      windowClass: 'modal_light modal-adaptive',\n      size: 'lg',\n      centered: false,\n    });\n\n    this.ngControl && this.ngControl.control.markAsTouched();\n    Object.assign(modal.componentInstance as EmployeesModalComponent, {\n      additionalPeriodEnabled: this.additionalPeriodEnabled,\n      initialEmployees: this.normalizeForInnerModel(this.value || []),\n      parentForm: this.parentGroup,\n      birthDateRequired: this.birthDateRequired,\n      ibanRequired: this.ibanRequired,\n      periodRequired: this.periodRequired,\n      paymentType: this.paymentType,\n      minAmount: this.minAmount,\n      maxAmount: this.maxAmount,\n    });\n\n    modal.result\n      .then((result) => {\n        this.value = this.normalizeModel(result);\n        this.ngControl.control.setValue(this.value);\n        this.ngControl.control.markAsDirty();\n      })\n      .catch(() => {\n        /*  no selection or dismiss */\n      })\n      .finally(() => (modal = undefined));\n  }\n\n  writeValue(value: any): void {\n    this.value = value;\n  }\n\n  registerOnChange(fn: (value: any) => void): void {\n    this._onChange = fn;\n  }\n\n  registerOnTouched(fn: () => {}): void {\n    this._onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    // this._changeDetectorRef.markForCheck()\n  }\n  /** `View -> model callback called when value changes` */\n  _onChange: (value: any) => void = (c) => {};\n\n  /** `View -> model callback called when select has been touched` */\n  _onTouched = () => {};\n\n  private normalizeModel(employees: EmployeeItemModel[]) {\n    const result = employees.map((rawItem) => {\n      const item = {\n        ...rawItem,\n        amount: this.maskedService.getNumberedAmount(rawItem.amount || '0'),\n        period: periodInputDateToISODateSafe(rawItem.period),\n        birthDate: periodInputDateToISODateSafe(rawItem.birthDate),\n      };\n      if (this.ibanRequired) {\n        item.iban = ibanPrefix(item.iban, this.currency);\n      }\n      delete item.id;\n      delete item.linkedWith;\n      return item;\n    });\n    return result;\n  }\n\n  normalizeForInnerModel(list) {\n    const result = list.reduce(\n      (acc, rawItem) => {\n        let linkWith;\n        let newItem: EmployeeItemModel;\n        if (rawItem.iin && (linkWith = acc.equalIin[rawItem.iin])) {\n          newItem = new EmployeeItemModel(rawItem, {\n            additionalPeriod: linkWith.id,\n          });\n        } else {\n          newItem = new EmployeeItemModel(rawItem);\n          this.additionalPeriodEnabled && (acc.equalIin[newItem.iin] = newItem);\n        }\n        newItem.period = isoDateToDateSafe(newItem.period);\n        newItem.birthDate = isoDateToPeriodInputSafe(newItem.birthDate);\n        if (this.ibanRequired) {\n          // remove iban prefix\n          newItem.iban = newItem.iban && newItem.iban.slice(2);\n        }\n        acc.list.push(newItem);\n        return acc;\n      },\n      {\n        list: [],\n        equalIin: {},\n      } as {\n        list: Array<EmployeeItemModel>;\n        equalIin: Record<string, EmployeeItemModel>;\n      }\n    );\n\n    return result.list;\n  }\n}\n","import {\n  Component,\n  Output,\n  EventEmitter,\n  Input,\n  SimpleChanges,\n  OnChanges,\n} from '@angular/core';\nimport { Employee } from '@shared/employee/employee.model';\nimport { PAYMENT_TYPE } from '@shared/models';\n\n@Component({\n  selector: 'j-saved-employee',\n  templateUrl: './saved-employee.component.html',\n  styleUrls: ['./saved-employee.component.scss'],\n})\nexport class SavedEmployeeComponent implements OnChanges {\n  @Output() selected = new EventEmitter();\n  @Output() edited = new EventEmitter();\n\n  @Output() deleted = new EventEmitter();\n  @Output() deleteConfirmed = new EventEmitter();\n  @Output() deleteCancelled = new EventEmitter();\n\n  @Input() employee: Employee;\n  @Input() ibanRequired?: boolean;\n  @Input() birthDateRequired?: boolean;\n  @Input() index: number;\n  @Input() isDeletingBulk: number;\n\n  @Input() paymentType: PAYMENT_TYPE;\n\n  timer?;\n  timerValue?: number;\n\n  constructor() {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.isDeletingBulk && this.employee.isDeleting) {\n      this.startTimer();\n    }\n  }\n\n  onSelect() {\n    this.employee.isSelected = !this.employee.isSelected;\n    this.selected.emit(this.employee);\n  }\n\n  onEdit(event: Event) {\n    event.preventDefault();\n    this.edited.emit({\n      employee: this.employee,\n      index: this.index,\n    });\n  }\n\n  onDelete(event: Event) {\n    event.preventDefault();\n    this.employee.isDeleting = true;\n    this.deleted.emit({\n      employee: this.employee,\n      index: this.index,\n    });\n    this.startTimer();\n  }\n\n  onDeleteCancelled(event: Event) {\n    event.preventDefault();\n    this.stopTimer(true);\n  }\n\n  get id() {\n    return `employee${this.index}`;\n  }\n\n  get fio(): string {\n    const fio = [];\n\n    if (this.employee.lastName) {\n      fio.push(this.employee.lastName);\n    }\n    if (this.employee.firstName) {\n      fio.push(this.employee.firstName);\n    }\n    if (this.employee.middleName) {\n      fio.push(this.employee.middleName);\n    }\n\n    return fio.join(' ');\n  }\n\n  private startTimer() {\n    this.timerValue = 5;\n    this.timer = setInterval(() => {\n      this.timerValue--;\n\n      if (this.timerValue === 0) {\n        this.stopTimer();\n      }\n    }, 1000);\n  }\n\n  private stopTimer(cancelled = false) {\n    clearInterval(this.timer);\n    this.employee.isDeleting = false;\n    if (cancelled) {\n      this.deleteCancelled.emit({\n        employee: this.employee,\n        index: this.index,\n      });\n    } else {\n      this.deleteConfirmed.emit({\n        employee: this.employee,\n        index: this.index,\n      });\n    }\n  }\n}\n","import { FormGroup, FormArray } from '@angular/forms';\n\nimport { Subject, BehaviorSubject } from 'rxjs';\n\nimport { IMoney, CURRENCY } from '@shared/currency/currency.model';\nimport { PAYMENT_TYPE } from '@shared/models';\n\nimport { FormGroupTypeSafe, generateUniqueId } from '@utils/index';\n\nexport interface EmployeeName {\n  lastName?: string;\n  firstName?: string;\n  middleName?: string;\n}\n\nexport class Employee implements EmployeeName {\n  id: string;\n  companyId: string;\n  fio: string;\n  lastName?: string;\n  firstName?: string;\n  middleName?: string;\n\n  ocmcSum: IMoney;\n  pensionSum: IMoney;\n  salarySum: IMoney;\n  socialSum: IMoney;\n\n  iin: string; // 12 symbols numeric\n  period: Date; // mm/yyyy\n  amount: number; //  = 212 500 ,  = 0,01 \n  currency: CURRENCY;\n  birthDate?: string;\n  name?: string;\n  iban?: string;\n\n  isDeleting?: boolean;\n  isSelected?: boolean;\n  isHidden?: boolean;\n  index?: number;\n\n  formGroup?: FormGroup;\n\n  constructor(employee?: Employee) {\n    Object.assign(this, employee);\n\n    this.name = `${employee.lastName} ${employee.firstName} ${employee.middleName}`;\n    // const body = {\n    //   ...this,\n    //   ...employee,\n    //   iin: '',\n    //   period: this.getDefaultPeriod(),\n    //   amount: null,\n    //   name: '',\n    // } as Employee;\n\n    this.isDeleting = false;\n    this.isSelected = false;\n    this.isHidden = false;\n    this.index = null;\n\n    // this.formGroup = this.generateFormGroup(body);\n  }\n\n  public getShortName?() {\n    const [surname, name, middlename] = this.name.split(' ');\n    if (middlename) {\n      return `${surname || ''} ${name[0] || ''}. ${middlename[0] || ''}.`;\n    } else if (name) {\n      return `${surname || ''} ${name[0] || ''}.`;\n    } else {\n      return `${surname || ''}`;\n    }\n  }\n\n  public getBalance(paymentType: PAYMENT_TYPE) {\n    switch (paymentType) {\n      case PAYMENT_TYPE.PENSION:\n        return this.pensionSum;\n      case PAYMENT_TYPE.MEDICAL:\n        return this.ocmcSum;\n      case PAYMENT_TYPE.SOCIAL:\n        return this.socialSum;\n      case PAYMENT_TYPE.SALARY:\n        return this.salarySum;\n    }\n  }\n\n  // private getDefaultPeriod() {\n  //   return moment().subtract(1, 'month').date(1).toDate();\n  // }\n}\n\nexport class EmployeeItemModel {\n  id: string; // internal id to link additional period\n  iin?: string; // 12 symbols numeric\n  period?: Date; // mm/yyyy\n  amount?: number; //  = 212 500 ,  = 0,01 \n  currency: CURRENCY;\n  birthDate?: string;\n  fio?: string;\n  iban?: string;\n  linkedWith?: string; //  additional period for linked item with iin\n  firstName?: string;\n  middleName?: string;\n  lastName?: string;\n\n  constructor(\n    blueprint: Partial<EmployeeItemModel> = {},\n    opts: { additionalPeriod?: string } = {}\n  ) {\n    Object.assign(\n      this,\n      {\n        currency: CURRENCY.KZT,\n      },\n      blueprint\n    );\n    this.linkedWith = undefined;\n    if (opts.additionalPeriod) {\n      this.linkedWith = opts.additionalPeriod;\n      delete this.id;\n    }\n    if (!this.id) {\n      this.id = generateUniqueId();\n    }\n  }\n}\n\nexport class EmployeesItem {\n  group: FormGroupTypeSafe<EmployeeItemModel>;\n  // index: number;\n  cancelRemove$ = new Subject();\n  removing$ = new BehaviorSubject(null);\n  updating$ = new BehaviorSubject(false);\n  blueprint?: Employee | EmployeeItemModel;\n  children?: EmployeesItem[];\n  linkedWith?: EmployeesItem;\n  destroy$ = new Subject();\n  autocomplete$ = new BehaviorSubject<string>(null);\n  constructor(opts?: Partial<EmployeesItem>) {\n    opts && Object.assign(this, opts);\n  }\n\n  destroy() {\n    this.destroy$.next(Date.now());\n    this.destroy$.complete();\n    this.removing$.complete();\n    this.autocomplete$.complete();\n    this.cancelRemove$.complete();\n\n    let parentFormArray = this.group.parent as FormArray;\n    parentFormArray.removeAt(\n      parentFormArray.controls.findIndex((group) => group === this.group)\n    );\n    parentFormArray = undefined;\n    this.group = undefined;\n    if (this.linkedWith) {\n      this.linkedWith.children = this.linkedWith.children.filter(\n        (item) => item !== this\n      );\n      this.linkedWith = undefined;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Employee, EmployeeName } from './employee.model';\nimport { ApiService, ERRORS } from '@api/index';\nimport { CompanyService } from '@company/company.service';\nimport { HttpParams, HttpHeaders } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EmployeeService {\n  constructor(private api: ApiService, private company: CompanyService) {}\n\n  async createEmployee(employee: Employee) {\n    const url = `companies/${this.company.currentId}/employees`;\n    const newEmployee = await this.api.post<Employee>(\n      url,\n      employee,\n      new HttpHeaders()\n    );\n\n    return new Employee(newEmployee);\n  }\n\n  async getNameByIin(iin: string): Promise<EmployeeName> {\n    const url = `companies/${this.company.currentId}/employees/fullname`;\n    const headers = new HttpHeaders();\n    const params = new HttpParams().set('iin', iin);\n\n    try {\n      const retrievedData = await this.api.get<EmployeeName>(\n        url,\n        headers,\n        params\n      );\n      if (retrievedData?.lastName) {\n        return {\n          lastName: retrievedData.lastName,\n          firstName: retrievedData.firstName,\n          middleName: retrievedData.middleName\n        };\n      } else {\n        throw ERRORS.RESOURCE_NOT_FOUND;\n      }\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async getEmployees(): Promise<Employee[]> {\n    const url = `companies/${this.company.currentId}/employees`;\n    const retrievedEmployees = await this.api.get<Employee[]>(url);\n\n    return retrievedEmployees.map((employee) => {\n      const mappedEmployee = new Employee(employee);\n      return mappedEmployee;\n    });\n  }\n  async deleteEmployee(iins: string[] | string) {\n    let toDelete: string[]\n    if (Array.isArray(iins)) {\n      toDelete = iins;\n    } else {\n      toDelete = [iins];\n    }\n    const url = `companies/${this.company.currentId}/employees`;\n    let params = new HttpParams();\n\n    toDelete.forEach((iin) => {\n      params = params.append('iins', iin);\n    });\n\n    const removeResult = await this.api.delete<Employee>(\n      url,\n      new HttpHeaders(),\n      params\n    );\n\n    return removeResult;\n  }\n\n  async editEmployee(employee: Employee) {\n    const url = `companies/${this.company.currentId}/employees`;\n\n    const employeeBody = {\n      birthDate: employee.birthDate,\n      fio: employee.fio,\n      firstName: employee.firstName,\n      middleName: employee.middleName,\n      lastName: employee.lastName,\n      iban: employee.iban,\n      iin: employee.iin,\n      ocmcSum: employee.ocmcSum,\n      pensionSum: employee.pensionSum,\n      salarySum: employee.salarySum,\n      socialSum: employee.socialSum,\n    };\n\n    const editResult = await this.api.put<Employee>(\n      url,\n      employeeBody,\n      new HttpHeaders()\n    );\n\n    return new Employee(editResult);\n  }\n\n  public filterEmployee(employee: Employee, term: string) {\n    return ['iban', 'fio', 'firstName', 'middleName', 'lastName', 'iin'].some((key: keyof Employee) =>\n      (employee[key]) && (employee[key] as string).toLocaleLowerCase().includes(term)\n    );\n  }\n}\n","import { SavedEmployeeComponent } from './components/saved-employee/saved-employee.component';\n\nimport { SavedEmployeeListComponent } from './modals/saved-employee-list/saved-employee-list.component';\nimport { EditSavedEmployeeComponent } from './modals/edit-saved-employee/edit-saved-employee.component';\nimport { EmployeesModalComponent } from './modals/employees-modal/employees-modal.component';\n\nimport { EmployeeGroupControlComponent } from './components/employee-group-control/employee-group-control.component';\nimport { EmployeeEditItemComponent } from './components/employee-edit-item/employee-edit-item.component';\n\nexport const EMPLOYEE_COMPONENTS = [\n  SavedEmployeeListComponent,\n  SavedEmployeeComponent,\n  EditSavedEmployeeComponent,\n  EmployeesModalComponent,\n  EmployeeGroupControlComponent,\n  EmployeeEditItemComponent,\n];\n\nexport * from './components/saved-employee/saved-employee.component';\nexport * from './components/employee-group-control/employee-group-control.component';\nexport * from './components/employee-edit-item/employee-edit-item.component';\n\nexport * from './modals/saved-employee-list/saved-employee-list.component';\nexport * from './modals/edit-saved-employee/edit-saved-employee.component';\nexport * from './modals/employees-modal/employees-modal.component';\n\nexport * from './employee.model';\nexport * from './employee.service';\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { MaskPipe } from 'ngx-mask';\n\nimport * as moment from 'moment';\n\nimport { convertDateToString, ISO_8061, ibanPrefix } from '@utils/index';\n\nimport { ERRORS } from '@api/index';\n\nimport { PERIOD_FORMAT_INPUT } from '@filter/filter.model';\n\nimport { PaymentsService } from '@payments/services/payments.service';\n\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { errors } from '@shared/validators';\nimport { PAYMENT_TYPE } from '@shared/models';\nimport { CURRENCY } from '@shared/currency/currency.model';\n\nimport { EmployeeService } from '../../../employee/employee.service';\nimport { Employee } from '../../../employee/employee.model';\nimport { Masks } from '@shared/masked/masked';\n\n@Component({\n  selector: 'j-edit-saved-employee',\n  templateUrl: './edit-saved-employee.component.html',\n  styleUrls: ['./edit-saved-employee.component.scss'],\n})\nexport class EditSavedEmployeeComponent implements OnInit {\n  @Input() employee: Employee;\n  @Input() index: number;\n  @Input() birthDateRequired?: boolean;\n  @Input() ibanRequired?: boolean;\n  @Input() paymentType: PAYMENT_TYPE;\n\n  @Output() deleted = new EventEmitter();\n  @Output() closed = new EventEmitter();\n  @Output() saved = new EventEmitter();\n\n  employeeForm: FormGroup;\n\n  isSubmitted = false;\n\n  minAmount = 4250;\n  iinMaskConfig = this.maskedService.getConfig('iin');\n  ibanMaskConfig = this.maskedService.getConfig('tengeAccount');\n\n  errors = errors;\n  errorText: string;\n\n  constructor(\n    private maskedService: MaskedService,\n    private maskPipe: MaskPipe,\n    private employeeService: EmployeeService,\n    private spinner: NgxSpinnerService,\n    private paymentsService: PaymentsService\n  ) {}\n\n  ngOnInit(): void {\n    let iin = this.employee?.iin || '';\n    const lastName = this.employee?.lastName || '';\n    const firstName = this.employee?.firstName || '';\n    const middleName = this.employee?.middleName || '';\n    let amount = this.employee?.getBalance(this.paymentType)?.amount || '';\n\n    if (amount) {\n      amount = this.maskedService.formatAmount(amount);\n    }\n\n    iin = this.maskPipe.transform(iin, this.iinMaskConfig.mask);\n\n    this.employeeForm = new FormGroup({\n      iin: new FormControl({ value: iin, disabled: true }),\n      lastName: new FormControl(lastName, Validators.required),\n      firstName: new FormControl(firstName, Validators.required),\n      middleName: new FormControl(middleName),\n      amount: new FormControl(amount, [\n        Validators.required,\n        (control) => {\n          if (parseFloat(control.value) > 0) {\n            return null;\n          } else {\n            return {\n              minAmount: true,\n            };\n          }\n        },\n      ]),\n    });\n\n    if (this.birthDateRequired) {\n      const mappedBirthDate = this.employee?.birthDate\n        ? this.mapBirthDateToInput(this.employee?.birthDate)\n        : '';\n      this.employeeForm.addControl(\n        'birthDate',\n        new FormControl(mappedBirthDate, Validators.required)\n      );\n    }\n\n    if (this.ibanRequired) {\n      this.employeeForm.addControl(\n        'iban',\n        new FormControl(this.employee.iban ? this.employee.iban.slice(2) : '', [\n          Validators.required,\n          (control) =>\n            this.paymentsService.bankExist(\n              ibanPrefix(control.value, CURRENCY.KZT)\n            ),\n        ])\n      );\n    }\n\n    this.employeeForm.valueChanges.subscribe((value) => {\n      this.isSubmitted = false;\n    });\n  }\n\n  get minDate() {\n    return new Date(1900, 0, 0);\n  }\n\n  get maxDate() {\n    return new Date();\n  }\n\n  get currency() {\n    return (\n      this.employee?.getBalance(this.paymentType)?.currency || CURRENCY.KZT\n    );\n  }\n\n  async deleteEmployee(event: Event) {\n    event.preventDefault();\n\n    this.spinner.show();\n\n    const deleted = await this.employeeService.deleteEmployee([\n      this.employee.iin,\n    ]);\n\n    this.deleted.emit({\n      employee: deleted,\n      index: this.index,\n    });\n\n    this.spinner.hide();\n\n    this.close();\n  }\n\n  close() {\n    this.closed.emit();\n  }\n\n  async save() {\n    this.isSubmitted = true;\n\n    if (this.employeeForm.invalid) {\n      return;\n    }\n\n    this.spinner.show();\n\n    const newEmployee = new Employee(this.employee);\n    newEmployee.iin = newEmployee.iin.replace(/ /g, '');\n\n    const formValue = this.employeeForm.getRawValue();\n    let amount = formValue.amount;\n    if (typeof amount == 'string') {\n      amount = parseFloat(amount.replace(',', '.').replace(/ /g, ''));\n    }\n\n    switch (this.paymentType) {\n      case PAYMENT_TYPE.PENSION:\n        newEmployee.pensionSum = {\n          amount: amount,\n          currency: CURRENCY.KZT,\n        };\n        break;\n      case PAYMENT_TYPE.MEDICAL:\n        newEmployee.ocmcSum = {\n          amount: amount,\n          currency: CURRENCY.KZT,\n        };\n        break;\n      case PAYMENT_TYPE.SOCIAL:\n        newEmployee.socialSum = {\n          amount: amount,\n          currency: CURRENCY.KZT,\n        };\n        break;\n      case PAYMENT_TYPE.SALARY:\n        newEmployee.salarySum = {\n          amount: amount,\n          currency: CURRENCY.KZT,\n        };\n        break;\n    }\n\n    newEmployee.fio = formValue.name;\n\n    if (this.ibanRequired) {\n      const unmaskedIban = this.maskedService.getPastedIban(\n        formValue.iban,\n        Masks.iban.prefix\n      );\n      newEmployee.iban = unmaskedIban;\n    }\n\n    if (this.birthDateRequired) {\n      const eBirthDate = moment(formValue.birthDate, PERIOD_FORMAT_INPUT);\n      newEmployee.birthDate = eBirthDate.format(ISO_8061);\n    }\n\n    try {\n      const saved = await this.employeeService.editEmployee(newEmployee);\n      this.saved.emit({\n        employee: saved,\n        index: this.index,\n      });\n      this.close();\n    } catch (error) {\n      if (error.code === ERRORS.BAD_REQUEST) {\n        this.errorText = 'ERRORS.INVALID_INPUT';\n      } else {\n        this.errorText = error.description || error.code;\n      }\n    } finally {\n      this.spinner.hide();\n    }\n  }\n\n  get f() {\n    return (this.employeeForm.controls as { [key: string]: FormControl; });\n  }\n\n  get hasLastNameError(): boolean {\n    return this.isSubmitted && !!this.f.lastName.errors;\n  }\n\n  get hasFirstNameError(): boolean {\n    return this.isSubmitted && !!this.f.firstName.errors;\n  }\n\n  get hasMiddleNameError(): boolean {\n    return this.isSubmitted && !!this.f.middleName.errors;\n  }\n\n  get hasBirthdayError() {\n    return this.isSubmitted && this.f.birthDate.errors;\n  }\n\n  get hasAmountError() {\n    return this.isSubmitted && this.f.amount.errors;\n  }\n\n  get hasIbanError() {\n    return this.isSubmitted && this.f.iban.errors;\n  }\n\n  private mapBirthDateToInput(isoDate: string) {\n    const date = new Date(isoDate);\n    return convertDateToString(date);\n  }\n}\n","import {\n  AbstractControl,\n  FormArray,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  NgForm,\n  Validators,\n} from '@angular/forms';\nimport {\n  BehaviorSubject,\n  combineLatest,\n  from,\n  interval,\n  merge,\n  Observable,\n  of,\n  Subscription,\n  timer,\n} from 'rxjs';\nimport { BOOTSTRAP_BREAKPOINTS } from '@shared/responsive-toolkit/constants';\nimport {\n  catchError,\n  debounceTime,\n  delay,\n  distinctUntilChanged,\n  filter,\n  map,\n  skip,\n  startWith,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n  throttleTime,\n} from 'rxjs/operators';\nimport {\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { CURRENCY } from '@shared/currency/currency.model';\nimport {\n  Employee,\n  EmployeeItemModel,\n  EmployeesItem,\n} from '../../employee.model';\nimport { EmployeeEditItemComponent } from '@shared/employee/components/employee-edit-item/employee-edit-item.component';\nimport { EmployeeService } from '../../employee.service';\nimport {\n  EntitiesStore,\n  FormControlTypeSafe,\n  FormGroupTypeSafe,\n  generateUniqueId,\n  getGroupRawValue,\n  ibanPrefix,\n  isoDateToDateSafe,\n  isoDateToPeriodInputSafe,\n  safeUnmaskAmount,\n} from '@utils/index';\nimport {\n  ErrorStateMatcher,\n  ShowOnDirtyErrorStateMatcher,\n} from '@shared/form-field/utils';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NotifierService } from 'angular-notifier';\nimport { PAYMENT_TYPE } from '@shared/models';\nimport { PaymentsService } from '@payments/services/payments.service';\nimport { SavedEmployeeListComponent } from '../saved-employee-list/saved-employee-list.component';\n\nconst autocompleteLock: Array<keyof EmployeeItemModel> = [\n  'iin',\n  'amount',\n  // 'period',\n  'fio',\n  'birthDate',\n  'firstName',\n  'lastName',\n  'middleName',\n];\n\n@Component({\n  selector: 'j-employees-modal',\n  templateUrl: './employees-modal.component.html',\n  styleUrls: ['./employees-modal.component.scss'],\n  host: {\n    class: 'employees-modal',\n  },\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: ErrorStateMatcher,\n      useClass: ShowOnDirtyErrorStateMatcher,\n    },\n  ],\n})\nexport class EmployeesModalComponent implements OnInit, OnDestroy {\n  @Input() parentForm?: NgForm;\n  @Input() initialEmployees?: EmployeeItemModel[];\n  @Input() paymentType: PAYMENT_TYPE = PAYMENT_TYPE.PENSION;\n  @Input() ibanRequired: boolean;\n  @Input() birthDateRequired = true;\n  @Input() additionalPeriodEnabled: boolean;\n  @Input() periodRequired;\n\n  @Input() minAmount = 0.01;\n  @Input() maxAmount = 212500;\n\n  @ViewChild('scrollContainer') scrollContainer: ElementRef<HTMLElement>;\n\n  currency: CURRENCY = CURRENCY.KZT;\n\n  store = new EntitiesStore<Employee>([]);\n  employeesForm = new FormArray([]);\n  term: FormControlTypeSafe<string>;\n  term$: Observable<string>;\n\n  listSubject$ = new BehaviorSubject<EmployeesItem[]>([]);\n  visibleList$: Observable<EmployeesItem[]>;\n\n  currentPage$ = new BehaviorSubject(1);\n\n  collectionSize$ = new BehaviorSubject(0);\n\n  showNotFound$: Observable<boolean>;\n\n  iinEqualsControls = {};\n\n  masks: Record<string, any> = {\n    iin: 'iin',\n    amount: 'amount',\n    date: 'namedDate',\n    iban: 'tengeAccount',\n    firstName: 'firstName',\n    lastName: 'lastName',\n    middleName: 'middleName',\n  };\n\n  pageSize = 30;\n\n  errors;\n\n  @ViewChild('form') form: NgForm;\n  @ViewChildren(EmployeeEditItemComponent)\n  editItemList: QueryList<EmployeeEditItemComponent>;\n  readonly total$ = new BehaviorSubject(0);\n  readonly breakpoint: BOOTSTRAP_BREAKPOINTS;\n  private subs = new Subscription();\n  private lockOnAutocomplete: Array<keyof EmployeeItemModel>;\n  private lockChildFields: Array<keyof EmployeeItemModel> = [\n    'iin',\n    'fio',\n    'birthDate',\n    'firstName',\n    'middleName',\n    'lastName',\n  ];\n  private lockParentFields: Array<keyof EmployeeItemModel> = [];\n  private defaultGroupOpts: Record<string, any> = {};\n\n  constructor(\n    public modal: NgbActiveModal,\n    private modalService: NgbModal,\n    private employeeService: EmployeeService,\n    private paymentsService: PaymentsService,\n    private maskService: MaskedService,\n    private fb: FormBuilder,\n    private notify: NotifierService\n  ) {}\n\n  ngOnInit(): void {\n    this.setInitialConfig();\n    this.fetchEmployeeList();\n\n    this.visibleList$ = this.combineVisibleEmployeesList();\n\n    this.subs.add(\n      this.employeesForm.valueChanges\n        .pipe(throttleTime(200, undefined, { leading: true, trailing: true }))\n        .subscribe((arr) => {\n          this.initialEmployees = this.initialEmployees.map((employee) => {\n            return {\n              ...employee,\n              ...arr.find((item) => item.id === employee.id),\n            };\n          });\n\n          const total = arr.reduce((acc, item: EmployeeItemModel) => {\n            let itemAmount: number = safeUnmaskAmount(item.amount);\n            return acc + +itemAmount;\n          }, 0);\n          this.total$.next(total);\n        })\n    );\n\n    if (this.initialEmployees) {\n      // TODO check additional period by adding linked with iin\n      // order is matter to find additional periods\n      this.initialEmployees.reduce((dictionary, employeeModel) => {\n        if (employeeModel.linkedWith && this.additionalPeriodEnabled) {\n          const newItem = this.addItem(dictionary[employeeModel.linkedWith]);\n          newItem.group.patchValue({\n            ...employeeModel,\n            period: isoDateToDateSafe(employeeModel.period),\n          });\n        } else {\n          const newItem = this.addItem(employeeModel);\n          dictionary[employeeModel.id] = newItem;\n        }\n        return dictionary;\n      }, {} as Record<string, EmployeesItem>);\n    }\n\n    this.showNotFound$ = combineLatest([this.term$, this.visibleList$]).pipe(\n      map(([term, list]) => {\n        return term && list.length === 0;\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n    this.list.forEach((item) => {\n      item.destroy();\n    });\n  }\n\n  ngAfterViewInit() {\n    // navigate to first invalid row on open for filled array\n    if (this.initialEmployees.length) {\n      this.subs.add(\n        this.editItemList.changes\n          .pipe(\n            filter((list) => list.length > 1),\n            take(1),\n            // wait for async validation\n            delay(300),\n            delay(0)\n          )\n          .subscribe(() => {\n            if (this.employeesForm.invalid) {\n              this.searchAndNavigateToInvalidControl();\n              this.emulateSubmit();\n            }\n          })\n      );\n    }\n  }\n\n  get list(): EmployeesItem[] {\n    return this.listSubject$.getValue();\n  }\n\n  set list(newList: EmployeesItem[]) {\n    this.listSubject$.next(newList);\n  }\n\n  get currentPage() {\n    return this.currentPage$.getValue();\n  }\n\n  set currentPage(next: number) {\n    this.currentPage$.next(next);\n  }\n\n  async openSavedEmployees(event: Event) {\n    event.preventDefault();\n    const modalRef = this.modalService.open(SavedEmployeeListComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass: 'modal_max-height',\n      backdrop: 'static',\n    });\n\n    Object.assign(modalRef.componentInstance as SavedEmployeeListComponent, {\n      birthDateRequired: this.birthDateRequired,\n      ibanRequired: this.ibanRequired,\n      paymentType: this.paymentType,\n    });\n    try {\n      let selectedEmployees = await modalRef.result;\n      if (selectedEmployees?.length) {\n        selectedEmployees\n          .map((item) => {\n            return {\n              ...item,\n              amount: item.getBalance(this.paymentType)?.amount || '',\n              iin: this.maskService.getUnmaskedAmount(item.iin),\n              fio: item.fio?.trim() || '',\n              firstName: item.firstName?.trim() || '',\n              middleName: item.middleName?.trim() || '',\n              lastName: item.lastName?.trim() || '',\n              birthDate: isoDateToPeriodInputSafe(item.birthDate),\n            };\n          })\n          .forEach((item) => {\n            this.addItem(item);\n            const group = this.employeesForm.at(\n              this.employeesForm.length - 1\n            ) as FormGroup;\n            // Object.values(group.controls).forEach((control: AbstractControl) => {\n            //   control.markAsDirty();\n            // });\n          });\n      }\n    } catch (error) {\n      error && this.notify.notify('error', error);\n    }\n  }\n\n  closeModal() {\n    this.modal.close();\n  }\n\n  public addItem(origin?: EmployeesItem | EmployeeItemModel) {\n    let newItem: EmployeesItem;\n    // debugger;\n\n    if (origin) {\n      if (origin instanceof EmployeesItem) {\n        // additional period for existing item in list\n        newItem = new EmployeesItem();\n        this.assignChildForAdditionalPeriod(origin, newItem);\n\n        const newItemValue = new EmployeeItemModel(\n          {\n            ...newItem.linkedWith.group.value,\n          },\n          { additionalPeriod: newItem.linkedWith.group.value.id }\n        );\n        delete newItemValue.period;\n        newItem.group = this.createEmployeeControl(newItemValue, {\n          additionalPeriod: true,\n          disabled: this.lockChildFields,\n          item: newItem,\n        }) as FormGroupTypeSafe<EmployeeItemModel>;\n        // link child item with parent\n        this.listenParentGroupInAdditionalPeriod(newItem.linkedWith, newItem);\n        this.pushToList(newItem, origin);\n      } else {\n        // copy item from blueprint (add from dictionary)\n        newItem = new EmployeesItem();\n        newItem.blueprint = origin;\n        newItem.group = this.createEmployeeControl(\n          Object.assign(\n            new EmployeeItemModel({\n              ...origin,\n              period: isoDateToDateSafe(origin.period),\n            }),\n            this.defaultGroupOpts\n          ),\n          {\n            disabled: origin.linkedWith\n              ? this.lockChildFields\n              : this.lockParentFields,\n            item: newItem,\n          }\n        ) as FormGroupTypeSafe<EmployeeItemModel>;\n\n        if ((origin as EmployeeItemModel).linkedWith) {\n          const link = this.list.find(\n            (employeesItem) =>\n              employeesItem.group.value.iin === origin.linkedWith\n          );\n\n          if (link) {\n            newItem.linkedWith = link;\n            link.children\n              ? link.children.push(newItem)\n              : (link.children = [newItem]);\n            this.listenParentGroupInAdditionalPeriod(link, newItem);\n          }\n        }\n\n        this.pushToList(newItem);\n      }\n    } else {\n      // new item from scratch;\n      newItem = new EmployeesItem();\n      newItem.group = this.createEmployeeControl(\n        new EmployeeItemModel(this.defaultGroupOpts),\n        {\n          disabled: this.lockParentFields,\n          item: newItem,\n        }\n      ) as FormGroupTypeSafe<EmployeeItemModel>;\n      this.pushToList(newItem);\n    }\n\n    return newItem;\n  }\n  /**\n   * @param item\n   */\n  public removeItem(item: EmployeesItem) {\n    const lockKeys = item.children\n      ? this.lockParentFields\n      : this.lockChildFields;\n    const toDisable = item.children\n      ? [item.group, ...item.children.map((child) => child.group)]\n      : [item.group];\n    toDisable.forEach((g) => g.disable());\n    item.removing$.next(5);\n    interval(1000)\n      .pipe(\n        takeUntil(\n          merge(\n            ...[\n              // enable groups on cancel remove\n              item.cancelRemove$.pipe(\n                tap((cancel) => {\n                  if (cancel) {\n                    toDisable.forEach((g) => {\n                      g.enable();\n                      // preserve controls disabled state\n                      lockKeys.forEach((lockKey) =>\n                        g.controls[lockKey].disable()\n                      );\n                    });\n                  }\n                })\n              ),\n              item.destroy$,\n            ]\n          )\n        ),\n        tap((i) => {\n          item.removing$.next(item.removing$.getValue() - 1);\n        })\n      )\n      .subscribe({\n        next: (i) => {\n          if (i === 4) {\n            this.finishItemRemove(item);\n          }\n        },\n        complete: () => {\n          !item.destroy$.closed && item.removing$.next(null);\n        },\n      });\n  }\n\n  public cancelRemove(item: EmployeesItem) {\n    item.cancelRemove$.next(Date.now());\n  }\n  /**\n   * Listen iin and trigger row autocomplete;\n   * @param item\n   */\n  public onAutocomplete(item: EmployeesItem) {\n    if (item.linkedWith) {\n      return;\n    }\n\n    const group = item.group;\n    const iin = group.value.iin;\n    item.autocomplete$.next(iin);\n\n    this.switchControlsStateOnAutoComplete(item, false);\n    this.store.fetched$\n      .pipe(\n        filter((loaded) => loaded),\n        switchMap(() => {\n          const savedEmpl = this.store.getItemByKey(iin, 'iin');\n          if (savedEmpl) {\n            return of({\n              ...savedEmpl,\n              amount:\n                savedEmpl.getBalance(this.paymentType).amount ||\n                group.value.amount,\n              birthDate: isoDateToPeriodInputSafe(savedEmpl.birthDate),\n            });\n          }\n          return from(this.employeeService.getNameByIin(iin)).pipe(\n            map(({ lastName, firstName, middleName }) => ({\n              lastName,\n              firstName,\n              middleName,\n            })),\n            catchError(() => of(undefined))\n          );\n        }),\n        takeUntil(merge(item.destroy$, item.autocomplete$.pipe(skip(1))))\n      )\n      .subscribe((result) => {\n        if (result) {\n          group.patchValue(result);\n        }\n        item.autocomplete$.next(null);\n        this.lockOnAutocomplete.forEach((k) => {\n          if (group.controls[k]) {\n            group.controls[k].enable();\n          }\n        });\n        this.switchControlsStateOnAutoComplete(item, true);\n      });\n  }\n\n  onAddItem() {\n    this.addItem();\n    this.checkNewPageNavigation();\n  }\n\n  onAddPeriod(origin: EmployeesItem) {\n    this.addItem(origin);\n    this.checkNewPageNavigation();\n  }\n\n  onSubmit() {\n    if (this.employeesForm.invalid) {\n      this.emulateSubmit();\n      this.searchAndNavigateToInvalidControl();\n      return;\n    }\n    // pick disabledInputs for additional period\n    const rawValue = this.list.reduce((list, item) => {\n      if (item.group.enabled) {\n        const model = getGroupRawValue(item.group) as EmployeeItemModel;\n        // linkedWith iin to allow additional period with the same iin, as existing item (bypass uniq validation)\n        if (item.linkedWith) {\n          model.linkedWith = item.linkedWith.group.value.iin;\n        }\n        list.push(model);\n      }\n      return list;\n    }, [] as Array<EmployeeItemModel>);\n    this.modal.close(rawValue);\n  }\n\n  checkNewPageNavigation() {\n    if (this.pageSize * this.currentPage < this.list.length) {\n      ++this.currentPage;\n    }\n  }\n\n  private combineVisibleEmployeesList() {\n    let savedPageWithoutSearch = null;\n    let searchInProgress = false;\n    return combineLatest([\n      this.listSubject$,\n      this.term$.pipe(throttleTime(100, undefined, { trailing: true })),\n      this.currentPage$.pipe(distinctUntilChanged()),\n    ]).pipe(\n      filter(([list, search, page]) => {\n        // preserve current page before search\n        if (!search && searchInProgress) {\n          this.currentPage = savedPageWithoutSearch;\n          searchInProgress = false;\n          return true;\n        } else if (!search) {\n          savedPageWithoutSearch = page;\n          searchInProgress = false;\n          return true;\n        } else if (search && !searchInProgress) {\n          searchInProgress = true;\n          if (this.currentPage === 1) {\n            return true;\n          }\n          this.currentPage = 1;\n          return false;\n        }\n        return true;\n      }),\n      map(([list, search, page]) => {\n        const filtered = this.filterEmployees(list, search);\n\n        if (!this.parentForm.value.commonPeriodEnabled) {\n          filtered.find((item) => {\n            const initial = this.initialEmployees.find((employee) => {\n              return item.group.value.id === employee.id;\n            });\n\n            if (initial) {\n              item.group.patchValue(initial);\n            }\n          });\n        }\n\n        this.collectionSize$.next(filtered.length);\n        return filtered.slice((page - 1) * this.pageSize, page * this.pageSize);\n      })\n    );\n  }\n\n  private listenParentGroupInAdditionalPeriod(\n    parent: EmployeesItem,\n    child: EmployeesItem\n  ) {\n    parent.group.valueChanges\n      .pipe(debounceTime(100), takeUntil(child.destroy$))\n      .subscribe((v) => {\n        const cleared = { ...v };\n        delete cleared.amount;\n        delete cleared.period;\n        child.group.patchValue(cleared);\n      });\n  }\n\n  private switchControlsStateOnAutoComplete(\n    item: EmployeesItem,\n    newState: boolean\n  ) {\n    const method = newState ? 'enable' : 'disable';\n    this.lockOnAutocomplete.forEach((k) => {\n      if (item.group.controls[k]) {\n        item.group.controls[k][method]();\n      }\n    });\n    if (item.children) {\n      item.children.forEach((child) => {\n        const controls = child.group.controls;\n        ['amount', 'period'].forEach(\n          (k) => controls[k] && controls[k][method]()\n        );\n      });\n    }\n  }\n\n  private async fetchEmployeeList() {\n    this.store.fetching = true;\n    try {\n      const list = await this.employeeService.getEmployees();\n      this.store.setState(list);\n    } catch (e) {}\n    this.store.fetching = false;\n    this.store.fetched = true;\n  }\n\n  private filterEmployees(list: EmployeesItem[], term = ''): EmployeesItem[] {\n    if (!term) {\n      return list;\n    }\n    const normalizedTerm = term.trim().toLocaleLowerCase();\n\n    return list.filter((item) => {\n      const { iin, fio } = item.group.controls;\n      return [iin.value || '', fio.value || ''].some((controlValue) =>\n        controlValue.toLocaleLowerCase().includes(normalizedTerm)\n      );\n    });\n  }\n\n  private createEmployeeControl(\n    value: Partial<EmployeeItemModel> = {},\n    options: {\n      item?: EmployeesItem;\n      disabled?: string[];\n      additionalPeriod?: boolean;\n      ibanRequired?: boolean;\n    } = {}\n  ) {\n    const defaults = Object.assign(\n      {\n        id: generateUniqueId(),\n        iin: '',\n        amount: '',\n        currency: CURRENCY.KZT,\n        fio: '',\n        firstName: '',\n        middleName: '',\n        lastName: '',\n        iban: '',\n        period: this.defaultGroupOpts.period,\n      },\n      value\n    );\n\n    const form = this.fb.group(\n      {\n        id: value.id || defaults.id,\n        linkedWith: value.linkedWith,\n        amount: [\n          defaults.amount,\n          [\n            Validators.required,\n            (control: AbstractControl) => {\n              if (control.value) {\n                const value = safeUnmaskAmount(control.value);\n                return value > 0 ? null : { invalidAmount: true };\n              }\n\n              //   if (this.minAmount && value < this.minAmount) {\n              //     return { minAmount: true };\n              //   }\n              //   if (this.maxAmount && value > this.maxAmount) {\n              //     return { maxAmount: true };\n              //   }\n              return null;\n            },\n          ],\n        ],\n        iin: [\n          {\n            value: defaults.iin,\n            disabled: options.additionalPeriod,\n          },\n          [Validators.required],\n        ],\n        currency: [defaults.currency],\n        fio: [\n          {\n            value: defaults.fio,\n            disabled: options.additionalPeriod,\n          },\n        ],\n        firstName: [\n          {\n            value: defaults.firstName,\n            disabled: options.additionalPeriod,\n          },\n          [Validators.required],\n        ],\n        lastName: [\n          {\n            value: defaults.lastName,\n            disabled: options.additionalPeriod,\n          },\n          [Validators.required],\n        ],\n        middleName: [\n          {\n            value: defaults.middleName,\n            disabled: options.additionalPeriod,\n          },\n        ],\n      },\n      []\n    );\n\n    if (this.birthDateRequired) {\n      form.addControl(\n        'birthDate',\n        new FormControl(\n          {\n            value: defaults.birthDate,\n            disabled: options.additionalPeriod,\n          },\n          [Validators.required]\n        )\n      );\n    }\n\n    if (this.periodRequired) {\n      form.addControl(\n        'period',\n        new FormControl(defaults.period, [Validators.required])\n      );\n    }\n\n    if (this.ibanRequired) {\n      this.addIbanControl(defaults, form);\n    }\n\n    if (options.disabled) {\n      options.disabled.forEach((key) => form.get(key).disable());\n    }\n    const { iin } = form.controls;\n    if (iin.enabled) {\n      this.setExtendedIinValidation(iin, form);\n    }\n\n    return form;\n  }\n\n  private addIbanControl(defaults, form) {\n    const ibanControl = new FormControl(defaults.iban, [\n      Validators.required,\n      (control) => {\n        if (control.value && control.value.length === 18) {\n          const bankExist = this.paymentsService.bankExist(\n            ibanPrefix(control.value, this.currency)\n          );\n          if (bankExist) {\n            return { bankExist };\n          }\n        }\n        return null;\n      },\n    ]);\n    form.addControl('iban', ibanControl);\n  }\n\n  /**\n   * Mutation\n   * @param origin\n   * @param newItem\n   */\n  private assignChildForAdditionalPeriod(\n    origin: EmployeesItem,\n    newItem: EmployeesItem\n  ) {\n    if (origin.linkedWith) {\n      // additional period triggered for item which is additional period itself\n      origin.linkedWith.children.push(newItem);\n      // link with parent to link with origin for additional period and watch changes\n      newItem.linkedWith = origin.linkedWith;\n    } else {\n      origin.children\n        ? origin.children.push(newItem)\n        : (origin.children = [newItem]);\n      newItem.linkedWith = origin;\n    }\n    return newItem;\n  }\n\n  private finishItemRemove(item: EmployeesItem) {\n    const listToUpdate = [...this.list];\n    const toDestroy = [item];\n    if (item.children) {\n      toDestroy.push(...item.children);\n    }\n    const removeIndexes = toDestroy.reduce((acc, item) => {\n      const index = this.list.findIndex((elem) => elem === item);\n      acc.push(index);\n      return acc;\n    }, []);\n    removeIndexes.sort((a, b) => b - a);\n    removeIndexes.forEach((index) => {\n      listToUpdate.splice(index, 1);\n    });\n    this.list = listToUpdate;\n    toDestroy.reverse().forEach((item) => {\n      item.destroy();\n    });\n  }\n\n  private pushToList(newItem: EmployeesItem, relativeTo?: EmployeesItem) {\n    if (relativeTo) {\n      const formIndex = this.employeesForm.controls.findIndex(\n        (group) => group === relativeTo.group\n      );\n      const listIndex = this.list.findIndex((item) => relativeTo === item);\n      if (~formIndex && ~listIndex) {\n        this.employeesForm.insert(formIndex + 1, newItem.group);\n        const newList = [].concat(this.list);\n        newList.splice(listIndex + 1, 0, newItem);\n        this.list = newList;\n      }\n    } else {\n      this.employeesForm.push(newItem.group);\n      this.listSubject$.next([...this.list, newItem]);\n    }\n  }\n\n  private searchAndNavigateToInvalidControl() {\n    const invalidIndex = this.employeesForm.controls.findIndex(\n      (control) => control.invalid\n    );\n    if (!~invalidIndex) {\n      return;\n    }\n    const page = Math.ceil((invalidIndex + 1) / this.pageSize);\n    if (page !== this.currentPage) {\n      this.currentPage = page;\n    }\n\n    setTimeout(() => {\n      const container = this.scrollContainer.nativeElement;\n      const containerCoords = container.getBoundingClientRect();\n      const containerHeight = container.offsetHeight;\n      const currentScroll = container.scrollTop;\n\n      const elemIndexOnPage = invalidIndex % this.pageSize;\n      const firstErrorComponent = this.editItemList.toArray()[elemIndexOnPage];\n      const elemCoords = (\n        firstErrorComponent.element.nativeElement as HTMLElement\n      ).getBoundingClientRect();\n\n      let offset = containerCoords.top - elemCoords.top;\n      if (offset <= 0 && Math.abs(offset) <= containerHeight - 30) {\n        // elem in viewport;\n        return;\n      } else if (offset < 0) {\n        // element lower bottom edge\n        container.scrollTop = container.scrollTop + Math.abs(offset) + 30;\n      } else {\n        // element is higher than upper edge\n        container.scrollTop = container.scrollTop - offset - 30;\n      }\n    }, 0);\n  }\n\n  private emulateSubmit() {\n    (this.form as any).submitted = true;\n    this.form.ngSubmit.emit();\n    this.employeesForm.markAllAsTouched();\n  }\n\n  private updateUniqIinArrayValidity(forIin: string, skipGroup?: FormGroup) {\n    let alreadyExistIins: AbstractControl[] = [];\n    this.employeesForm.controls.forEach((groupToCheck) => {\n      if (groupToCheck === skipGroup) {\n        return false;\n      }\n      const { iin: iinToCheck, linkedWith } =\n        groupToCheck.value as EmployeeItemModel;\n      if (!linkedWith && forIin === iinToCheck) {\n        alreadyExistIins.push((groupToCheck as FormGroup).controls.iin);\n      }\n    });\n\n    if (alreadyExistIins.length > 1) {\n      alreadyExistIins.forEach((control) => control.setErrors({ uniq: true }));\n    } else if (alreadyExistIins.length) {\n      const control = alreadyExistIins[0];\n      delete this.iinEqualsControls[forIin];\n      if (control.errors && control.errors['uniq']) {\n        control.updateValueAndValidity();\n      }\n    }\n  }\n\n  private setInitialConfig() {\n    this.errors = this.paymentsService.errors;\n    const now = new Date();\n    let defaultPeriod = new Date(\n      now.getFullYear(),\n      now.getMonth() - 1,\n      0,\n      0,\n      0,\n      1\n    );\n\n    const parentFormValue = this.parentForm.value;\n    this.lockOnAutocomplete = [...autocompleteLock];\n    if (this.periodRequired) {\n      if (parentFormValue.commonPeriodEnabled) {\n        // don't enable period field on autocomplete end\n        defaultPeriod = parentFormValue.period || defaultPeriod;\n        this.lockParentFields.push('period');\n      } else {\n        this.lockOnAutocomplete.push('period');\n      }\n      this.defaultGroupOpts = {\n        period: defaultPeriod,\n      };\n    }\n    if (!this.additionalPeriodEnabled) {\n      this.lockChildFields = [];\n      this.lockParentFields = [];\n    }\n\n    if (this.ibanRequired) {\n      this.lockOnAutocomplete.push('iban');\n    }\n\n    Object.entries(this.masks).forEach(\n      ([k, v]) => (this.masks[k] = this.maskService.getConfig(v))\n    );\n\n    this.term = new FormControl('');\n    this.term$ = this.term.valueChanges.pipe(startWith(''));\n  }\n\n  private setExtendedIinValidation(iin: AbstractControl, form: FormGroup) {\n    let prevInvalidIin = '';\n    const formArray = this.employeesForm;\n    iin.setAsyncValidators([\n      (control: AbstractControl) => {\n        return timer(300).pipe(\n          switchMap(() => {\n            const value = control.value;\n\n            if (value && value.length === 12) {\n              const alreadyExistIin = formArray.controls.some(\n                (groupToCheck) => {\n                  // current control from clojure, skip\n                  if (groupToCheck === form) {\n                    return false;\n                  }\n                  // avoid linked groups for disabled period\n                  const { iin: iinToCheck, linkedWith } =\n                    groupToCheck.value as EmployeeItemModel;\n                  if (!linkedWith && value === iinToCheck) {\n                    prevInvalidIin = value;\n                    this.iinEqualsControls[value] = true;\n                    return true;\n                  }\n                }\n              );\n              if (alreadyExistIin) {\n                prevInvalidIin = value;\n                this.iinEqualsControls[value];\n                return of({ uniq: true });\n              }\n              if (prevInvalidIin && this.iinEqualsControls[prevInvalidIin]) {\n                this.updateUniqIinArrayValidity(prevInvalidIin, form);\n              }\n              prevInvalidIin = '';\n\n              return of(null);\n            }\n          }),\n          take(1)\n        );\n      },\n    ]);\n  }\n}\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\n\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\nimport { Employee } from '@shared/employee/employee.model';\nimport { EmployeeService } from '@shared/employee/employee.service';\nimport { MaskPipe } from 'ngx-mask';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { PAYMENT_TYPE } from '@shared/models';\nimport { CompanyService } from '@company/company.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'j-saved-employee-list',\n  templateUrl: './saved-employee-list.component.html',\n  styleUrls: ['./saved-employee-list.component.scss'],\n})\nexport class SavedEmployeeListComponent implements OnInit, OnDestroy {\n  list: Employee[];\n  search = '';\n  isAllSelected = false;\n  isDeletingBulk = false;\n  isLoading = true;\n  isEditing = false;\n  editEmployee: Employee;\n  editEmployeeIndex: Employee;\n\n  deletingEmployees = [];\n\n  iinMaskConfig = this.maskedService.getConfig('iin');\n\n  @Input() paymentType: PAYMENT_TYPE;\n  @Input() birthDateRequired?: boolean;\n  @Input() ibanRequired?: boolean;\n\n  subscription = new Subscription();\n\n  constructor(\n    private maskedService: MaskedService,\n    private employeeService: EmployeeService,\n    private modal: NgbActiveModal,\n    private maskPipe: MaskPipe,\n    private spinner: NgxSpinnerService,\n    private companyService: CompanyService\n  ) {\n    const companySubscription = this.companyService.refresh$.subscribe(\n      (refreshResult) => {\n        this.init();\n      }\n    );\n    this.subscription.add(companySubscription);\n  }\n\n  ngOnDestroy() {\n    this.removeDeletingEmployees();\n    this.subscription.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  closeModal(event: Event) {\n    event.preventDefault();\n    this.modal.close(this.selectedItems);\n  }\n\n  selectAll() {\n    this.isAllSelected = !this.isAllSelected;\n    this.filteredList.forEach((item) => {\n      item.isSelected = this.isAllSelected;\n    });\n  }\n\n  deleteBulk(event: Event) {\n    event.preventDefault();\n    this.selectedItems.forEach((item, index) => {\n      if (index === 0) {\n        item.isDeleting = true;\n      } else {\n        item.isHidden = true;\n      }\n      this.deletingEmployees.push(item);\n      return item;\n    });\n    this.isDeletingBulk = true;\n  }\n\n  onSelect(employee: Employee) {\n    this.isAllSelected = this.selectedItems.length == this.filteredList.length;\n  }\n\n  onEdit(editResult) {\n    this.editEmployee = editResult.employee;\n    this.editEmployeeIndex = editResult.index;\n    this.isEditing = true;\n  }\n\n  onEditClose() {\n    this.isEditing = false;\n  }\n\n  onEditSave(editResult) {\n    this.list[editResult.index] = editResult.employee;\n    this.isEditing = false;\n  }\n\n  onDelete(deleteResult) {\n    const { employee, index } = deleteResult;\n    this.deletingEmployees.push(employee);\n  }\n\n  onDeleteCancelled(deleteResult) {\n    if (this.isDeletingBulk) {\n      this.list = this.list.map((item) => {\n        item.isHidden = false;\n        item.isDeleting = false;\n        return item;\n      });\n\n      this.deletingEmployees = [];\n      this.isDeletingBulk = false;\n    } else {\n      const { employee, index } = deleteResult;\n      this.deletingEmployees.filter((item) => item.id != employee.id);\n    }\n  }\n\n  async onDeleteConfirmed(deleteResult) {\n    let toRemove;\n    if (this.isDeletingBulk) {\n      toRemove = this.selectedItems;\n      this.list = this.list.filter((item) => item.isSelected == false);\n      this.isDeletingBulk = false;\n\n      toRemove.forEach((employee) => {\n        this.deletingEmployees.filter((item) => item.id != employee.id);\n      });\n    } else {\n      const { employee, index } = deleteResult;\n      this.deletingEmployees.filter((item) => item.id != employee.id);\n      toRemove = [employee];\n      this.list.splice(index, 1);\n    }\n\n    const removeResult = await this.employeeService.deleteEmployee(\n      this.retrieveIinsFromEmployees(toRemove)\n    );\n    return removeResult;\n  }\n\n  async init() {\n    this.isLoading = true;\n    this.spinner.show();\n    this.list = await this.employeeService.getEmployees();\n    this.spinner.hide();\n    this.isLoading = false;\n  }\n\n  get filteredList() {\n    if (!this.search) {\n      return this.list;\n    }\n    return this.list.filter(\n      (item) =>\n        item.name.toLowerCase().indexOf(this.search.toLowerCase()) > -1 ||\n        item.iin.toLowerCase().indexOf(this.search.toLowerCase()) > -1\n    );\n  }\n\n  get selectedItems() {\n    if (!this.filteredList) {\n      return [];\n    }\n    return this.filteredList\n      .filter((item) => item.isSelected == true)\n      .map((item) => {\n        item.iin = this.maskPipe.transform(item.iin, this.iinMaskConfig.mask);\n        return item;\n      });\n  }\n\n  private retrieveIinsFromEmployees(employees: Employee[]) {\n    return employees.map((employee) => {\n      const unmaskedIin = this.maskedService.getUnmaskedNumber(employee.iin);\n      return unmaskedIin;\n    });\n  }\n\n  private async removeDeletingEmployees() {\n    if (this.deletingEmployees.length > 0) {\n      try {\n        await this.employeeService.deleteEmployee(\n          this.retrieveIinsFromEmployees(this.deletingEmployees)\n        );\n      } catch (error) {}\n    }\n  }\n}\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'j-bank-dropdown',\n  templateUrl: './bank-dropdown.component.html',\n  styleUrls: ['./bank-dropdown.component.scss']\n})\nexport class BankDropdownComponent implements OnInit {\n  @Output() selected = new EventEmitter<string>()\n  banks = ['DOMESTIC_BANK', 'NATIONAL_BANK'];\n  isCollapsed = false;\n  selectedBank = 'DOMESTIC_BANK';\n  today = new Date();\n  constructor() { }\n\n  ngOnInit(): void {\n    this.selected.emit(this.selectedBank);\n  }\n\n  onClickOutside() {\n    this.isCollapsed = false;\n  }\n\n  onTriggerClick(event = null) {\n    event?.preventDefault();\n    this.isCollapsed = !this.isCollapsed;\n  }\n\n  isSelected(bank) {\n    return bank === this.selectedBank;\n  }\n\n  onClick(event: Event, bank) {\n    event.preventDefault();\n\n    this.selectedBank = bank;\n    this.selected.emit(bank);\n\n    this.isCollapsed = false;\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IExchangeRates } from '@shared/exchange-rates/exchange-rates.model';\nimport { ExchangeRatesService } from '@shared/exchange-rates/exchange-rates.service';\nimport { NotifierService } from 'angular-notifier';\n\n@Component({\n  selector: 'j-currency-selector',\n  templateUrl: './currency-selector.component.html',\n  styleUrls: ['./currency-selector.component.scss']\n})\nexport class CurrencySelectorComponent implements OnInit {\n  @Input() exchangeRates: IExchangeRates[];\n  @Output() closed = new EventEmitter();\n  currencies: IExchangeRates[];\n  searchText = '';\n  error: string;\n\n  constructor(\n    private exchangeRatesService: ExchangeRatesService,\n    private notifierService: NotifierService,\n    private translateService: TranslateService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadAllCurrencies();\n  }\n\n  async loadAllCurrencies() {\n    try {\n      this.error = null;\n      const currencies = await this.exchangeRatesService.getAllExchangeRates();\n      this.currencies = this.mapIsActiveCurrencies(currencies);\n    } catch (error) {\n      this.error = error.code || 'error';\n    }\n  }\n\n  mapIsActiveCurrencies(currencies) {\n    return currencies.map(currency => {\n      currency.isActive = this.exchangeRates.some(el => el.code === currency.code);\n      return currency;\n    }).filter(currency => {\n      currency.isDefault = this.exchangeRates.find(el => el.code === currency.code)?.isDefault || false;\n      return currency;\n    })\n  }\n\n  onClose(event: Event) {\n    event.preventDefault();\n    this.closed.emit();\n  }\n\n  async onChange(event, currency) {\n    try {\n      const params = {\n        code: currency.code,\n        status: event.target.value\n      }\n      await this.exchangeRatesService.setUserExchangeRates(params);\n      this.showNotification(params);\n    } catch (error) {\n      this.notifierService.notify('error', error.description || error.code || this.translateService.instant('EXCHANGE_RATES.SET_ERROR'));\n    }\n  }\n\n  showNotification(params) {\n    const currencyName = this.translateService.instant(`SHARED.CURRENCY_DESCRIPTION.${params.code}`);\n    this.notifierService.notify(\n      'default',\n      this.translateService.instant(params.status === 'true' ? 'EXCHANGE_RATES.CURRENCY_ADDED' : 'EXCHANGE_RATES.CURRENCY_DELETED', \n          {currency: currencyName})\n    );\n  }\n\n  onSearch(event){\n    this.searchText = event.target.value;\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { IExchangeRates } from '@shared/exchange-rates/exchange-rates.model';\nimport { ExchangeRatesService } from '@shared/exchange-rates/exchange-rates.service';\n\n@Component({\n  selector: 'j-exchange-rates-list',\n  templateUrl: './exchange-rates-list.component.html',\n  styleUrls: ['./exchange-rates-list.component.scss']\n})\nexport class ExchangeRatesListComponent implements OnInit {\n  @Input() selectedBank: string;\n  @Input() exchangeRates: IExchangeRates[];\n  @Input() error: string;\n  @Output() currencySelectorOpened = new EventEmitter();\n  @Output() updateClicked = new EventEmitter();\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onCurrencySelectorOpen(event = null) {\n    event?.preventDefault();\n    this.currencySelectorOpened.emit();\n  }\n\n  onUpdate() {\n    this.updateClicked.emit();\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Component, Inject, OnDestroy, OnInit } from '@angular/core';\nimport { IExchangeRates } from './exchange-rates.model';\nimport { ExchangeRatesService } from './exchange-rates.service';\n\n@Component({\n  selector: 'j-exchange-rates',\n  templateUrl: './exchange-rates.component.html',\n  styleUrls: ['./exchange-rates.component.scss']\n})\nexport class ExchangeRatesComponent implements OnInit, OnDestroy {\n  selectedBank: string;\n  isAnimating: boolean = false;\n  wrapperClasses = '';\n  selectorClasses = '';\n  isSelectorShown: boolean = false;\n  exchangeRates: IExchangeRates[];\n  error: string;\n\n  constructor(\n    private exchangeRatesService: ExchangeRatesService,\n    @Inject(DOCUMENT) private document: Document\n  ) { }\n\n  ngOnInit(): void {\n    this.loadUserExchangeRates();\n  }\n  \n  ngOnDestroy(): void {\n    this.document.body.classList.remove('overflow-hidden');\n  }\n\n  showCurrencySelector() {\n    if (!this.isAnimating) {\n      this.isAnimating = true;\n      this.isSelectorShown = true;\n      this.wrapperClasses = 'animate__animated zoomInJ';\n\n      setTimeout(() => {\n        this.document.body.classList.add('overflow-hidden');\n        this.selectorClasses = 'is-shown';\n      }, 250);\n\n      setTimeout(() => {\n        this.wrapperClasses = '';\n        this.isAnimating = false;\n      }, 300);\n    }\n  }\n\n  async loadUserExchangeRates() {\n    this.error = null;\n    try {\n      this.exchangeRates = await this.exchangeRatesService.getUserExchangeRates();\n    } catch (error) {\n      this.error = error.status || 'error';\n    }\n  }\n\n  hideSelector() {\n    this.loadUserExchangeRates();\n    if (!this.isAnimating) {\n      this.isAnimating = true;\n      this.selectorClasses = '';\n\n      setTimeout(() => {\n        this.document.body.classList.remove('overflow-hidden');\n        this.wrapperClasses = 'animate__animated zoomOutJ';\n      }, 250);\n\n      setTimeout(() => {\n        this.wrapperClasses = '';\n        this.isSelectorShown = false;\n        this.isAnimating = false;\n      }, 300);\n    }\n  }\n}\n","export interface IExchangeRates {\n    id: string;\n    code: string;\n    bank: string;\n    purchase_rate: string;\n    sales_rate: string;\n    priority: number;\n    isDefault: boolean;\n}\n","import { HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ApiService } from '@api/index';\nimport { IExchangeRates } from './exchange-rates.model';\n\nconst URL = 'currency/rates';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExchangeRatesService {\n\n  constructor(private api: ApiService) { }\n\n  async getUserExchangeRates() {\n    const exchangeRates = await this.api.get<IExchangeRates[]>(`${URL}/active-and-default`);\n    return exchangeRates;\n  }\n\n  async getAllExchangeRates() {\n    const exchangeRates = await this.api.get<IExchangeRates[]>(`${URL}/all`);\n    return exchangeRates;\n  }\n\n  async setUserExchangeRates(body) {\n    const url = `${URL}/set/status`;\n    const headers = new HttpHeaders();\n    const statement = await this.api.post<IExchangeRates>(url, body, headers);\n    return statement;\n  }\n}\n","import { BankDropdownComponent } from \"./components/bank-dropdown/bank-dropdown.component\";\nimport { ExchangeRatesListComponent } from \"./components/exchange-rates-list/exchange-rates-list.component\";\nimport { CurrencySelectorComponent } from \"./components/currency-selector/currency-selector.component\";\nimport { ExchangeRatesComponent } from \"./exchange-rates.component\";\n\nexport const EXCHANGE_RATES_COMPONENTS = [\n    ExchangeRatesComponent,\n    ExchangeRatesListComponent,\n    CurrencySelectorComponent,\n    BankDropdownComponent\n]\n\nexport * from './exchange-rates.component';\nexport * from './components/exchange-rates-list/exchange-rates-list.component';\nexport * from './components/currency-selector/currency-selector.component';\nexport * from './components/bank-dropdown/bank-dropdown.component';\n\nexport * from './exchange-rates.service';\nexport * from './exchange-rates.model';","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'f-page-body',\n  templateUrl: './f-page-body.component.html',\n  styleUrls: ['./f-page-body.component.scss']\n})\nexport class FPageBodyComponent implements OnInit {\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'f-page-extra',\n  templateUrl: './f-page-extra.component.html',\n  styleUrls: ['./f-page-extra.component.scss']\n})\nexport class FPageExtraComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'f-page-header',\n  templateUrl: './f-page-header.component.html',\n  styleUrls: ['./f-page-header.component.scss']\n})\nexport class FPageHeaderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnInit, Output, EventEmitter, Input, ViewEncapsulation, ContentChild, TemplateRef } from '@angular/core';\r\n\r\nexport enum CLOSE_POSITION{\r\n  INSIDE = 'inside',\r\n  OUTSIDE = 'outside'\r\n}\r\n\r\n@Component({\r\n  selector: 'f-page',\r\n  templateUrl: './f-page.component.html',\r\n  styleUrls: ['./f-page.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class FPageComponent implements OnInit {\r\n  @Output() closed = new EventEmitter();\r\n\r\n  @Input() containerClassList = `container`;\r\n  @Input() colsClassList = 'offset-md-1 col-md-10 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6';\r\n  @Input() headerClassList = '';\r\n  @Input() bodyClassList = '';\r\n\r\n  @Input() closePosition = CLOSE_POSITION.INSIDE;\r\n  closePositions = CLOSE_POSITION;\r\n\r\n  @ContentChild('contentTemplate', { static: false })\r\n  contentTemplate: TemplateRef<any>;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  close() {\r\n    this.closed.emit();\r\n  }\r\n\r\n  get pageClasses() {\r\n    return {\r\n      container: `${this.containerClassList} f-page-container`,\r\n      header: `${this.headerClassList} f-page-header`,\r\n      row: 'row',\r\n      cols: this.colsClassList,\r\n      body: `${this.bodyClassList} f-page-body`\r\n    };\r\n  }\r\n}\r\n","import { FPageComponent } from './f-page.component';\nimport { FPageHeaderComponent } from './f-page-header/f-page-header.component';\nimport { FPageBodyComponent } from './f-page-body/f-page-body.component';\nimport { FPageExtraComponent } from './f-page-extra/f-page-extra.component';\n\nexport const FPAGE_COMPONENTS = [\n    FPageComponent,\n    FPageHeaderComponent,\n    FPageBodyComponent,\n    FPageExtraComponent,\n]\n\nexport * from './f-page.component';\nexport * from './f-page-header/f-page-header.component';\nexport * from './f-page-body/f-page-body.component';\nexport * from './f-page-extra/f-page-extra.component';\n\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[jBottomLine]',\n})\nexport class JBottomLineDirective {}\n","import { Input, Component } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\nlet nextUniqueId = 0;\n\n@Component({\n  selector: 'j-error',\n  templateUrl: './error.component.html',\n  host: {\n    class: 'j-error',\n    role: 'alert',\n    '[attr.id]': 'id',\n  },\n})\nexport class JErrorComponent {\n  @Input() id = `j-error-${nextUniqueId++}`;\n  @Input() params;\n  @Input() errorMessages?: {\n    error: string;\n    message: string;\n  }[];\n\n  /**\n   * Parent formGroup or form required to get abstract control if provided only control name\n   */\n  @Input() control: AbstractControl | string;\n\n  constructor() {}\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  FormControl,\n  FormGroupDirective,\n  NgControl,\n  NgForm,\n} from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { ErrorStateMatcher, Constructor } from './utils';\nimport { JFormFieldControl } from './form-field-control';\n\n/** @docs-private */\nexport interface CanUpdateErrorState {\n  updateErrorState(): void;\n  readonly stateChanges: Subject<void>;\n  errorState: boolean;\n  errorStateMatcher: ErrorStateMatcher;\n}\n\n/** @docs-private */\nexport type CanUpdateErrorStateCtor = Constructor<CanUpdateErrorState>;\n\n/** @docs-private */\nexport interface HasErrorState {\n  _parentFormGroup: FormGroupDirective;\n  _parentForm: NgForm;\n  _defaultErrorStateMatcher: ErrorStateMatcher;\n  ngControl: NgControl;\n}\n\n/**\n * Mixin to augment a directive with updateErrorState method.\n * For component with `errorState` and need to update `errorState`.\n */\nexport function mixinErrorState<T extends Constructor<HasErrorState>>(\n  base: T\n): CanUpdateErrorStateCtor & T {\n  return class extends base {\n    /** Whether the component is in an error state. */\n    errorState: boolean = false;\n\n    /**\n     * Stream that emits whenever the state of the input changes such that the wrapping\n     * `MatFormField` needs to run change detection.\n     */\n    readonly stateChanges = new Subject<void>();\n\n    errorStateMatcher: ErrorStateMatcher;\n\n    updateErrorState() {\n      const oldState = this.errorState;\n      const parent = this._parentFormGroup || this._parentForm;\n      const matcher = this.errorStateMatcher || this._defaultErrorStateMatcher;\n      const control = this.ngControl\n        ? (this.ngControl.control as FormControl)\n        : null;\n      const newState = matcher.isErrorState(control, parent, this as any);\n\n      if (newState !== oldState) {\n        this.errorState = newState;\n        this.stateChanges.next();\n      }\n    }\n\n    constructor(...args: any[]) {\n      super(...args);\n    }\n  };\n}\n","\nimport { Observable } from 'rxjs';\nimport { NgControl } from '@angular/forms';\nimport { Directive } from '@angular/core';\n\n/** An interface which allows a control to work inside of a `JFormField`. */\n@Directive()\nexport abstract class JFormFieldControl<T> {\n\n  /** The value of the control. */\n  value: T | null;\n\n\n  readonly changeEvent?: Observable<T>\n  /**\n   * Stream that emits whenever the state of the control changes such that the parent `JFormField`\n   * needs to run change detection.\n   */\n  readonly stateChanges: Observable<void>;\n\n  /** The element ID for this control. */\n  readonly id: string;\n\n  /** The placeholder for this control. */\n  readonly placeholder: string;\n\n  /** Gets the NgControl for this control. */\n  readonly ngControl: NgControl | null;\n\n  /** Whether the control is focused. */\n  readonly focused: boolean;\n\n  /** Whether the control is empty. */\n  readonly empty: boolean;\n\n  /** Whether the `JFormField` label should try to float. */\n  readonly shouldLabelFloat: boolean;\n\n  /** Whether the control is required. */\n  readonly required: boolean;\n\n  /** Whether the control is disabled. */\n  readonly disabled: boolean;\n\n  /** Whether the control is in an error state. */\n  readonly errorState: boolean;\n\n  /**\n   * An optional name for the control type that can be used to distinguish `j-form-field` elements\n   * based on their control type. The form field will add a class,\n   * `j-form-field-type-{{controlType}}` to its root element.\n   */\n  readonly controlType?: string;\n\n  /**\n   * Whether the input is currently in an autofilled state. If property is not present on the\n   * control it is assumed to be false.\n   */\n  readonly autofilled?: boolean;\n\n  abstract clear?(): void;\n\n  abstract focus?(): void;\n\n  /** Sets the list of element IDs that currently describe this control. */\n  abstract setDescribedByIds?(ids: string[]): void;\n\n  /** Handles a click on the control's container. */\n  abstract onContainerClick?(event?: MouseEvent): void;\n}\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n  AnimationTriggerMetadata,\n} from '@angular/animations';\n\n/**\n * @docs-private\n */\nexport const jFormFieldAnimations: {\n  readonly transitionMessages: AnimationTriggerMetadata\n} = {\n  /** Animation that transitions the form field's error and hint messages. */\n  transitionMessages: trigger('transitionMessages', [\n    state('enter', style({ opacity: 1, transform: 'translateY(0%)', height: '*' })),\n    transition('void => enter', [\n      style({ opacity: 0, transform: 'translateY(-100%)', height: '0' }),\n      animate('300ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)'),\n    ]),\n  ])\n};\n","import {\r\n  AfterContentChecked,\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Inject,\r\n  InjectionToken,\r\n  Input,\r\n  NgZone,\r\n  Optional,\r\n  QueryList,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n  OnDestroy,\r\n  PLATFORM_ID,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport isUndefined from 'lodash/isUndefined';\r\nimport { JErrorComponent } from './error.component';\r\nimport { JLabelDirective } from './label.directive';\r\nimport { JHintDirective } from './hint.directive';\r\n\r\nimport {\r\n  fromEvent,\r\n  merge,\r\n  Subject,\r\n  from,\r\n  BehaviorSubject,\r\n  ReplaySubject,\r\n  Observable,\r\n  EMPTY,\r\n  Subscription,\r\n} from 'rxjs';\r\nimport {\r\n  startWith,\r\n  take,\r\n  takeUntil,\r\n  delay,\r\n  switchMapTo,\r\n  debounceTime,\r\n  map,\r\n  mergeMap,\r\n  share,\r\n  shareReplay,\r\n  distinctUntilChanged,\r\n} from 'rxjs/operators';\r\n\r\nimport { JPrefixDirective } from './prefix.directive';\r\nimport { JSuffixDirective } from './suffix.directive';\r\n\r\nimport { NgControl } from '@angular/forms';\r\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\r\nimport { JFormFieldControl } from './form-field-control';\r\nimport { jFormFieldAnimations } from './form-field.animations';\r\nimport { JBottomLineDirective } from './bottom-line';\r\n\r\nlet nextUniqueId = 0;\r\n\r\n/** Possible appearance styles for the form field. */\r\nexport type JFormFieldAppearance = 'standard' | 'fill' | 'outline';\r\n\r\n/** Possible values for the \"floatLabel\" form-field input. */\r\nexport type FloatLabelType = 'always' | 'never' | 'auto';\r\n\r\n/**\r\n * Represents the default options for the form field that can be configured\r\n * using the `MAT_FORM_FIELD_DEFAULT_OPTIONS` injection token.\r\n */\r\nexport interface JFormFieldDefaultOptions {\r\n  appearance?: JFormFieldAppearance;\r\n  hideRequiredMarker?: boolean;\r\n  /**\r\n   * Whether the label for form-fields should by default float `always`,\r\n   * `never`, or `auto` (only when necessary).\r\n   */\r\n  floatLabel?: FloatLabelType;\r\n}\r\n\r\n/**\r\n * Injection token that can be used to configure the\r\n * default options for all form field within an app.\r\n */\r\nexport const J_FORM_FIELD_DEFAULT_OPTIONS = new InjectionToken<JFormFieldDefaultOptions>(\r\n  'J_FORM_FIELD_DEFAULT_OPTIONS'\r\n);\r\n\r\n/**\r\n * Injection token that can be used to inject an instances of `JFormField`. It serves\r\n * as alternative token to the actual `JFormField` class which would cause unnecessary\r\n * retention of the `JFormField` class and its component metadata.\r\n */\r\nexport const J_FORM_FIELD = new InjectionToken<JFormFieldComponent>(\r\n  'JFormField'\r\n);\r\n\r\n/** Container for form controls that applies Material Design styling and behavior. */\r\n@Component({\r\n  selector: 'j-form-field',\r\n  exportAs: 'jFormField',\r\n  templateUrl: 'form-field.component.html',\r\n  styleUrls: [\r\n    'form-field.component.scss',\r\n    // 'form-field-fill.css',\r\n    // 'form-field-input.css',\r\n    // 'form-field-legacy.css',\r\n    // 'form-field-outline.css',\r\n    // 'form-field-standard.css',\r\n  ],\r\n  animations: [jFormFieldAnimations.transitionMessages],\r\n  host: {\r\n    class: 'j-form-field',\r\n    '[class.j-form-field-appearance-standard]': 'appearance === \"standard\"',\r\n    '[class.j-form-field-appearance-fill]': 'appearance ===\"fill\"',\r\n    '[class.j-form-field-appearance-outline]': 'appearance === \"outline\"',\r\n    '[class.j-form-field-invalid]': '_control.errorState',\r\n    '[class.j-form-field-can-float]': 'canLabelFloat',\r\n    '[class.j-form-field-should-float]': '_shouldLabelFloat()',\r\n    '[class.j-form-field-has-label]': 'hasFloatingLabel()',\r\n    '[class.j-form-field-disabled]': '_control.disabled',\r\n    '[class.j-form-field-autofilled]': '_control.autofilled',\r\n    '[class.j-focused]': '_control.focused',\r\n    '[class.j-accent]': 'color === \"accent\"',\r\n    '[class.j-warn]': 'color === \"warn\"',\r\n    '[class.ng-untouched]': '_shouldForward(\"untouched\")',\r\n    '[class.ng-touched]': '_shouldForward(\"touched\")',\r\n    '[class.ng-pristine]': '_shouldForward(\"pristine\")',\r\n    '[class.ng-dirty]': '_shouldForward(\"dirty\")',\r\n    '[class.ng-valid]': '_shouldForward(\"valid\")',\r\n    '[class.ng-invalid]': '_shouldForward(\"invalid\")',\r\n    '[class.ng-pending]': '_shouldForward(\"pending\")',\r\n    '[class._animation-noopable]': '!_animationsEnabled',\r\n  },\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [{ provide: J_FORM_FIELD, useExisting: JFormFieldComponent }],\r\n})\r\nexport class JFormFieldComponent\r\n  implements\r\n    AfterContentInit,\r\n    AfterContentChecked,\r\n    AfterViewInit,\r\n    OnInit,\r\n    OnDestroy {\r\n  @Input() color: string;\r\n\r\n  /** The form-field appearance style. */\r\n  @Input()\r\n  get appearance(): JFormFieldAppearance {\r\n    return this._appearance;\r\n  }\r\n  set appearance(value: JFormFieldAppearance) {\r\n    const oldValue = this._appearance;\r\n\r\n    this._appearance =\r\n      value || (this._defaults && this._defaults.appearance) || 'fill';\r\n\r\n    if (this._appearance === 'outline' && oldValue !== value) {\r\n      this.outlineGapCalculationNeededOnStable = true;\r\n    }\r\n  }\r\n  _appearance: JFormFieldAppearance;\r\n\r\n  /** Whether the floating label should always float or not. */\r\n  get shouldAlwaysFloat(): boolean {\r\n    return this.floatLabel === 'always' && !this._showAlwaysAnimate;\r\n  }\r\n\r\n  /** Whether the label can float or not. */\r\n  get canLabelFloat(): boolean {\r\n    return this.floatLabel !== 'never';\r\n  }\r\n\r\n  /** State of the hint and error animations. */\r\n  subscriptAnimationState = '';\r\n\r\n  /** Text for the form field hint. */\r\n  @Input()\r\n  get hintLabel(): string {\r\n    return this._hintLabel;\r\n  }\r\n  set hintLabel(value: string) {\r\n    this._hintLabel = value;\r\n    this._processHints();\r\n  }\r\n  private _hintLabel = '';\r\n\r\n  // Unique id for the hint label.\r\n  hintLabelId: string = `j-hint-${nextUniqueId++}`;\r\n\r\n  // Unique id for the internal form field label.\r\n  labelId = `j-form-field-label-${nextUniqueId++}`;\r\n\r\n  /**\r\n   * Whether the label should always float, never float or float as the user types.\r\n   *\r\n   * Note: only the legacy appearance supports the `never` option. `never` was originally added as a\r\n   * way to make the floating label emulate the behavior of a standard input placeholder. However\r\n   * the form field now supports both floating labels and placeholders. Therefore in the non-legacy\r\n   * appearances the `never` option has been disabled in favor of just using the placeholder.\r\n   */\r\n  @Input()\r\n  get floatLabel(): FloatLabelType {\r\n    return this._floatLabel === 'never' ? 'auto' : this._floatLabel;\r\n  }\r\n  set floatLabel(value: FloatLabelType) {\r\n    if (value !== this._floatLabel) {\r\n      this._floatLabel = value || this._getDefaultFloatLabelState();\r\n      this.changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n  private _floatLabel: FloatLabelType;\r\n\r\n  /** Whether the Angular animations are enabled. */\r\n  _animationsEnabled: boolean;\r\n\r\n  @ViewChild('connectionContainer', { static: true })\r\n  connectionContainerRef: ElementRef;\r\n  @ViewChild('inputContainer') _inputContainerRef: ElementRef;\r\n  @ViewChild('label') private _label: ElementRef;\r\n\r\n  @ContentChild(JFormFieldControl)\r\n  _controlNonStatic: JFormFieldControl<any>;\r\n  @ContentChild(JFormFieldControl, { static: true })\r\n  _controlStatic: JFormFieldControl<any>;\r\n  get _control() {\r\n    // TODO(crisbeto): we need this workaround in order to support both Ivy and ViewEngine.\r\n    //  We should clean this up once Ivy is the default renderer.\r\n    return (\r\n      this._explicitFormFieldControl ||\r\n      this._controlNonStatic ||\r\n      this._controlStatic\r\n    );\r\n  }\r\n  set _control(value) {\r\n    this._explicitFormFieldControl = value;\r\n  }\r\n  private _explicitFormFieldControl: JFormFieldControl<any>;\r\n\r\n  @ContentChild(JLabelDirective) _labelChildNonStatic: JLabelDirective;\r\n  @ContentChild(JLabelDirective, { static: true })\r\n  _labelChildStatic: JLabelDirective;\r\n  get _labelChild() {\r\n    return this._labelChildNonStatic || this._labelChildStatic;\r\n  }\r\n\r\n  @ContentChildren(JErrorComponent, { descendants: true })\r\n  _errorChildren: QueryList<JErrorComponent>;\r\n  @ContentChildren(JHintDirective, { descendants: true })\r\n  _hintChildren: QueryList<JHintDirective>;\r\n  @ContentChildren(JPrefixDirective, { descendants: true })\r\n  _prefixChildren: QueryList<JPrefixDirective>;\r\n  @ContentChildren(JSuffixDirective, { descendants: true })\r\n  _suffixChildren: QueryList<JSuffixDirective>;\r\n  @ContentChildren(JBottomLineDirective, { descendants: true })\r\n  _bottomLineChildren: QueryList<JBottomLineDirective>;\r\n\r\n  @Input() clearable?: boolean;\r\n\r\n  clearVisible$ = new BehaviorSubject(false);\r\n\r\n  clear(event?: Event) {\r\n    if (!isUndefined(this._control.clear)) {\r\n      this._control.clear();\r\n    } else {\r\n      this._control.value = '';\r\n    }\r\n    // this._control.focus && this._control.focus();\r\n  }\r\n\r\n  private labelOptions: FloatLabelType;\r\n\r\n  /**\r\n   * Whether the outline gap needs to be calculated\r\n   * immediately on the next change detection run.\r\n   */\r\n  private outlineGapCalculationNeededImmediately = false;\r\n\r\n  /** Whether the outline gap needs to be calculated next time the zone has stabilized. */\r\n  private outlineGapCalculationNeededOnStable = false;\r\n\r\n  private destroyed = new Subject<void>();\r\n\r\n  /** Override for the logic that disables the label animation in certain cases. */\r\n  private _showAlwaysAnimate = false;\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n    @Optional()\r\n    @Inject(J_FORM_FIELD_DEFAULT_OPTIONS)\r\n    private _defaults: JFormFieldDefaultOptions,\r\n    private _ngZone: NgZone,\r\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) animationMode: string\r\n  ) {\r\n    // super(elementRef);\r\n    this.floatLabel = this._getDefaultFloatLabelState();\r\n    this._animationsEnabled = animationMode !== 'NoopAnimations';\r\n\r\n    // Set the default through here so we invoke the setter on the first run.\r\n    this.appearance =\r\n      _defaults && _defaults.appearance ? _defaults.appearance : 'fill';\r\n  }\r\n\r\n  ngOnInit() {\r\n    merge(\r\n      this._control?.stateChanges || EMPTY,\r\n      this._control?.ngControl.valueChanges || EMPTY\r\n    )\r\n      .pipe(\r\n        debounceTime(200),\r\n        map(\r\n          () => this.clearable && !this._control.empty && this._control.focused\r\n        ),\r\n        distinctUntilChanged(),\r\n        takeUntil(this.destroyed)\r\n      )\r\n      .subscribe(this.clearVisible$);\r\n  }\r\n\r\n  /**\r\n   * Gets an ElementRef for the element that a overlay attached to the form-field should be\r\n   * positioned relative to.\r\n   */\r\n  getConnectedOverlayOrigin(): ElementRef {\r\n    return this.connectionContainerRef || this.elementRef;\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    this._validateControlChild();\r\n\r\n    const control = this._control;\r\n\r\n    if (control.controlType) {\r\n      this.elementRef.nativeElement.classList.add(\r\n        `j-form-field-type-${control.controlType}`\r\n      );\r\n    }\r\n\r\n    // Subscribe to changes in the child control state in order to update the form field UI.\r\n    control.stateChanges.pipe(startWith(null!)).subscribe(() => {\r\n      this._syncDescribedByIds();\r\n      this.changeDetectorRef.markForCheck();\r\n    });\r\n\r\n    // Run change detection if the value changes.\r\n    if (control.ngControl && control.ngControl.valueChanges) {\r\n      control.ngControl.valueChanges\r\n        .pipe(takeUntil(this.destroyed))\r\n        .subscribe(() => this.changeDetectorRef.markForCheck());\r\n    }\r\n\r\n    // Note that we have to run outside of the `NgZone` explicitly,\r\n    // in order to avoid throwing users into an infinite loop\r\n    // if `zone-patch-rxjs` is included.\r\n    // this._ngZone.runOutsideAngular(() => {\r\n    //   this._ngZone.onStable\r\n    //     .asObservable()\r\n    //     .pipe(takeUntil(this.destroyed))\r\n    //     .subscribe(() => {\r\n    //       if (this.outlineGapCalculationNeededOnStable) {\r\n    //         this.updateOutlineGap();\r\n    //       }\r\n    //     });\r\n    // });\r\n\r\n    // Run change detection and update the outline if the suffix or prefix changes.\r\n    merge(this._prefixChildren.changes, this._suffixChildren.changes).subscribe(\r\n      () => {\r\n        this.outlineGapCalculationNeededOnStable = true;\r\n        this.changeDetectorRef.markForCheck();\r\n      }\r\n    );\r\n\r\n    // Re-validate when the number of hints changes.\r\n    this._hintChildren.changes.pipe(startWith(null)).subscribe(() => {\r\n      this._processHints();\r\n      this.changeDetectorRef.markForCheck();\r\n    });\r\n\r\n    // Update the aria-described by when the number of errors changes.\r\n    this._errorChildren.changes.pipe(startWith(null)).subscribe(() => {\r\n      this._syncDescribedByIds();\r\n      this.changeDetectorRef.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    this._validateControlChild();\r\n    // if (this.outlineGapCalculationNeededImmediately) {\r\n    //   this.updateOutlineGap();\r\n    // }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // Avoid animations on load.\r\n    this.subscriptAnimationState = 'enter';\r\n    this.changeDetectorRef.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed.next();\r\n    this.destroyed.complete();\r\n  }\r\n\r\n  /** Determines whether a class from the NgControl should be forwarded to the host element. */\r\n  _shouldForward(prop: keyof NgControl): boolean {\r\n    const ngControl = this._control ? this._control.ngControl : null;\r\n    return ngControl && ngControl[prop];\r\n  }\r\n\r\n  _hasLabel() {\r\n    return !!this._labelChild;\r\n  }\r\n\r\n  _shouldLabelFloat() {\r\n    return (\r\n      this.canLabelFloat &&\r\n      (this._control.shouldLabelFloat || this.shouldAlwaysFloat)\r\n    );\r\n  }\r\n\r\n  hasFloatingLabel() {\r\n    // In the legacy appearance the placeholder is promoted to a label if no label is given.\r\n    return this._hasLabel();\r\n  }\r\n\r\n  /** Determines whether to display hints or errors. */\r\n  _getDisplayedMessages(): 'error' | 'hint' {\r\n    return this._errorChildren &&\r\n      this._errorChildren.length > 0 &&\r\n      this._control.errorState\r\n      ? 'error'\r\n      : 'hint';\r\n  }\r\n\r\n  /** Animates the placeholder up and locks it in position. */\r\n  _animateAndLockLabel(): void {\r\n    if (this.hasFloatingLabel() && this.canLabelFloat) {\r\n      // If animations are disabled, we shouldn't go in here,\r\n      // because the `transitionend` will never fire.\r\n      if (this._animationsEnabled && this._label) {\r\n        this._showAlwaysAnimate = true;\r\n\r\n        fromEvent(this._label.nativeElement, 'transitionend')\r\n          .pipe(take(1))\r\n          .subscribe(() => {\r\n            this._showAlwaysAnimate = false;\r\n          });\r\n      }\r\n\r\n      this.floatLabel = 'always';\r\n      this.changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  /** Does any extra processing that is required when handling the hints. */\r\n  private _processHints() {\r\n    this._validateHints();\r\n    this._syncDescribedByIds();\r\n  }\r\n\r\n  /**\r\n   * Ensure that there is a maximum of one of each `<hint>` alignment specified, with the\r\n   * attribute being considered as `align=\"start\"`.\r\n   */\r\n  private _validateHints() {\r\n    if (this._hintChildren) {\r\n      let startHint: JHintDirective;\r\n      let endHint: JHintDirective;\r\n      this._hintChildren.forEach((hint: JHintDirective) => {\r\n        if (hint.align === 'start') {\r\n          if (startHint || this.hintLabel) {\r\n            throw new Error('hint start');\r\n          }\r\n          startHint = hint;\r\n        } else if (hint.align === 'end') {\r\n          if (endHint) {\r\n            throw new Error('hint end');\r\n          }\r\n          endHint = hint;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /** Gets the default float label state. */\r\n  private _getDefaultFloatLabelState(): FloatLabelType {\r\n    return (this._defaults && this._defaults.floatLabel) || 'auto';\r\n  }\r\n\r\n  /**\r\n   * Sets the list of element IDs that describe the child control. This allows the control to update\r\n   * its `aria-describedby` attribute accordingly.\r\n   */\r\n  private _syncDescribedByIds() {\r\n    if (this._control) {\r\n      let ids: string[] = [];\r\n\r\n      if (this._getDisplayedMessages() === 'hint') {\r\n        const startHint = this._hintChildren\r\n          ? this._hintChildren.find((hint) => hint.align === 'start')\r\n          : null;\r\n        const endHint = this._hintChildren\r\n          ? this._hintChildren.find((hint) => hint.align === 'end')\r\n          : null;\r\n\r\n        if (startHint) {\r\n          ids.push(startHint.id);\r\n        } else if (this._hintLabel) {\r\n          ids.push(this.hintLabelId);\r\n        }\r\n\r\n        if (endHint) {\r\n          ids.push(endHint.id);\r\n        }\r\n      } else if (this._errorChildren) {\r\n        ids = this._errorChildren.map((error) => error.id);\r\n      }\r\n\r\n      this._control.setDescribedByIds(ids);\r\n    }\r\n  }\r\n\r\n  /** Throws an error if the form field's control is missing. */\r\n  protected _validateControlChild() {\r\n    if (!this._control) {\r\n      throw new Error('control is missing');\r\n    }\r\n  }\r\n\r\n  /** Gets the start end of the rect considering the current directionality. */\r\n  // private _getStartEnd(rect: ClientRect): number {\r\n  //   // return this._dir && this._dir.value === 'rtl' ? rect.right : rect.left;\r\n  //   return rect.left;\r\n  // }\r\n\r\n  /** Checks whether the form field is attached to the DOM. */\r\n  // private _isAttachedToDOM(): boolean {\r\n  //   const element: HTMLElement = this.elementRef.nativeElement;\r\n\r\n  //   if (element.getRootNode) {\r\n  //     const rootNode = element.getRootNode();\r\n  //     // If the element is inside the DOM the root node will be either the document\r\n  //     // or the closest shadow root, otherwise it'll be the element itself.\r\n  //     return rootNode && rootNode !== element;\r\n  //   }\r\n\r\n  //   // Otherwise fall back to checking if it's in the document. This doesn't account for\r\n  //   // shadow DOM, however browser that support shadow DOM should support `getRootNode` as well.\r\n  //   return document.documentElement!.contains(element);\r\n  // }\r\n\r\n  /**\r\n   * Updates the width and position of the gap in the outline. Only relevant for the outline\r\n   * appearance.\r\n   */\r\n  // updateOutlineGap() {\r\n  //   const labelEl = this._label ? this._label.nativeElement : null;\r\n\r\n  //   if (\r\n  //     this.appearance !== 'outline' ||\r\n  //     !labelEl ||\r\n  //     !labelEl.children.length ||\r\n  //     !labelEl.textContent.trim()\r\n  //   ) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   if (!isPlatformBrowser(PLATFORM_ID)) {\r\n  //     // getBoundingClientRect isn't available on the server.\r\n  //     return;\r\n  //   }\r\n  //   // If the element is not present in the DOM, the outline gap will need to be calculated\r\n  //   // the next time it is checked and in the DOM.\r\n  //   if (!this._isAttachedToDOM()) {\r\n  //     this.outlineGapCalculationNeededImmediately = true;\r\n  //     return;\r\n  //   }\r\n\r\n  //   let startWidth = 0;\r\n  //   let gapWidth = 0;\r\n\r\n  //   const container = this.connectionContainerRef.nativeElement;\r\n  //   const startEls = container.querySelectorAll('.j-form-field-outline-start');\r\n  //   const gapEls = container.querySelectorAll('.j-form-field-outline-gap');\r\n\r\n  //   if (this._label && this._label.nativeElement.children.length) {\r\n  //     const containerRect = container.getBoundingClientRect();\r\n\r\n  //     // If the container's width and height are zero, it means that the element is\r\n  //     // invisible and we can't calculate the outline gap. Mark the element as needing\r\n  //     // to be checked the next time the zone stabilizes. We can't do this immediately\r\n  //     // on the next change detection, because even if the element becomes visible,\r\n  //     // the `ClientRect` won't be reclaculated immediately. We reset the\r\n  //     // `outlineGapCalculationNeededImmediately` flag some we don't run the checks twice.\r\n  //     if (containerRect.width === 0 && containerRect.height === 0) {\r\n  //       this.outlineGapCalculationNeededOnStable = true;\r\n  //       this.outlineGapCalculationNeededImmediately = false;\r\n  //       return;\r\n  //     }\r\n\r\n  //     const containerStart = this._getStartEnd(containerRect);\r\n  //     const labelStart = this._getStartEnd(\r\n  //       labelEl.children[0].getBoundingClientRect()\r\n  //     );\r\n  //     let labelWidth = 0;\r\n\r\n  //     for (const child of labelEl.children) {\r\n  //       labelWidth += child.offsetWidth;\r\n  //     }\r\n  //     startWidth = Math.abs(labelStart - containerStart) - outlineGapPadding;\r\n  //     gapWidth =\r\n  //       labelWidth > 0\r\n  //         ? labelWidth * floatingLabelScale + outlineGapPadding * 2\r\n  //         : 0;\r\n  //   }\r\n\r\n  //   for (let i = 0; i < startEls.length; i++) {\r\n  //     startEls[i].style.width = `${startWidth}px`;\r\n  //   }\r\n  //   for (let i = 0; i < gapEls.length; i++) {\r\n  //     gapEls[i].style.width = `${gapWidth}px`;\r\n  //   }\r\n\r\n  //   this.outlineGapCalculationNeededOnStable = this.outlineGapCalculationNeededImmediately = false;\r\n  // }\r\n}\r\n","// import {AutofillMonitor} from 'text-field';\nimport {\n  Directive,\n  DoCheck,\n  ElementRef,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Self,\n  HostListener,\n  InjectionToken,\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { FormGroupDirective, NgControl, NgForm } from '@angular/forms';\nimport {\n  CanUpdateErrorState,\n  CanUpdateErrorStateCtor,\n  mixinErrorState,\n} from '../form-field/error.status';\n\nimport { JFormFieldControl } from './form-field-control';\nimport { ErrorStateMatcher, BooleanInput } from './utils';\nimport { Platform } from '@shared/services/platform';\n\n// import { getMatInputUnsupportedTypeError } from './input-errors';\n/**\n * This token is used to inject the object whose value should be set into `MatInput`. If none is\n * provided, the native `HTMLInputElement` is used. Directives like `MatDatepickerInput` can provide\n * themselves for this token, in order to make `MatInput` delegate the getting and setting of the\n * value to them.\n */\nexport const INPUT_VALUE_ACCESSOR = new InjectionToken<{ value: any }>(\n  'INPUT_VALUE_ACCESSOR'\n);\n\nlet nextUniqueId = 0;\n\n// Boilerplate for applying mixins to MatInput.\n/** @docs-private */\nclass InputBase {\n  constructor(\n    public _defaultErrorStateMatcher: ErrorStateMatcher,\n    public _parentForm: NgForm,\n    public _parentFormGroup: FormGroupDirective,\n    /** @docs-private */\n    public ngControl: NgControl\n  ) {}\n}\nconst InputMixinBase: CanUpdateErrorStateCtor &\n  typeof InputBase = mixinErrorState(InputBase);\n/* tslint:disable:no-conflicting-lifecycle directive-selector no-host-metadata-property */\n/** Directive that allows a native input to work inside a `jFormField`. */\n@Directive({\n  selector: `input[jFormInput], textarea[jFormInput], select[jFormInput]`,\n  exportAs: 'jFormInput',\n  host: {\n    /**\n     * @breaking-change 8.0.0 remove .mat-form-field-autofill-control in favor of AutofillMonitor.\n     */\n    class: 'j-input-element j-form-field-autofill-control',\n    '[class.j-input-server]': '_isServer',\n    // Native input properties that are overwritten by Angular inputs need to be synced with\n    // the native input element. Otherwise property bindings for those don't work.\n    '[attr.id]': 'id',\n    '[attr.placeholder]': 'placeholder',\n    '[disabled]': 'disabled',\n    '[required]': 'required',\n    '[attr.readonly]': 'readonly && !_isNativeSelect || null',\n    '[attr.aria-describedby]': '_ariaDescribedby || null',\n    '[attr.aria-invalid]': 'errorState',\n    '[attr.aria-required]': 'required.toString()',\n  },\n  providers: [{ provide: JFormFieldControl, useExisting: JFormInput }],\n})\nexport class JFormInput\n  extends InputMixinBase\n  implements\n    JFormFieldControl<any>,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    DoCheck,\n    CanUpdateErrorState {\n  protected _uid = `j-input-${nextUniqueId++}`;\n  protected _previousNativeValue: any;\n  private _inputValueAccessor: { value: any };\n  /** The aria-describedby attribute on the input for improved a11y. */\n  _ariaDescribedby: string;\n\n  /** Whether the component is being rendered on the server. */\n  readonly _isServer: boolean;\n\n  /** Whether the component is a native html select. */\n  readonly _isNativeSelect: boolean;\n\n  /** Whether the component is a textarea. */\n  readonly _isTextarea: boolean;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  focused: boolean = false;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  controlType: string = 'j-input';\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  autofilled = false;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  @Input()\n  get disabled(): boolean {\n    if (this.ngControl && this.ngControl.disabled !== null) {\n      return this.ngControl.disabled;\n    }\n    return this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = !!value;\n\n    // Browsers may not fire the blur event if the input is disabled too quickly.\n    // Reset from here to ensure that the element doesn't become stuck.\n    if (this.focused) {\n      this.focused = false;\n      this.stateChanges.next();\n    }\n  }\n  protected _disabled = false;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  @Input()\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    this._id = value || this._uid;\n  }\n  protected _id: string;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  @Input() placeholder: string;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  @Input()\n  get required(): boolean {\n    return this._required;\n  }\n  set required(value: boolean) {\n    this._required = !!value;\n  }\n  protected _required = false;\n\n  /** Input type of the element. */\n  @Input()\n  get type(): string {\n    return this._type;\n  }\n  set type(value: string) {\n    this._type = value || 'text';\n    this._validateType();\n\n    // When using Angular inputs, developers are no longer able to set the properties on the native\n    // input element. To ensure that bindings for `type` work, we need to sync the setter\n    // with the native property. Textarea elements don't support the type property or attribute.\n    if (!this._isTextarea) {\n      (this._elementRef.nativeElement as HTMLInputElement).type = this._type;\n    }\n  }\n  protected _type = 'text';\n\n  /** An object used to control when error messages are shown. */\n  @Input() errorStateMatcher: ErrorStateMatcher;\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  @Input()\n  get value(): string {\n    return this._inputValueAccessor.value;\n  }\n  set value(value: string) {\n    if (value !== this.value) {\n      this._inputValueAccessor.value = value;\n      this.stateChanges.next();\n    }\n  }\n\n  /** Whether the element is readonly. */\n  @Input()\n  get readonly(): boolean {\n    return this._readonly;\n  }\n  set readonly(value: boolean) {\n    this._readonly = !!value;\n  }\n  private _readonly = false;\n\n  protected _neverEmptyInputTypes = [\n    'date',\n    'datetime',\n    'datetime-local',\n    'month',\n    'time',\n    'week',\n  ];\n\n  constructor(\n    protected _elementRef: ElementRef<\n      HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\n    >,\n    protected _platform: Platform,\n    /** @docs-private */\n    @Optional() @Self() public ngControl: NgControl,\n    @Optional() _parentForm: NgForm,\n    @Optional() _parentFormGroup: FormGroupDirective,\n    _defaultErrorStateMatcher: ErrorStateMatcher,\n    @Optional()\n    @Self()\n    @Inject(INPUT_VALUE_ACCESSOR)\n    inputValueAccessor: any,\n    // private _autofillMonitor: AutofillMonitor,\n    ngZone: NgZone\n  ) {\n    super(_defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl);\n    const element = this._elementRef.nativeElement;\n    const nodeName = element.nodeName.toLowerCase();\n    // If no input value accessor was explicitly specified, use the element as the input value\n    // accessor.\n    this._inputValueAccessor = inputValueAccessor || element;\n\n    this._previousNativeValue = this.value;\n\n    // Force setter to be called in case id was not specified.\n    this.id = this.id;\n\n    // On some versions of iOS the caret gets stuck in the wrong place when holding down the delete\n    // key. In order to get around this we need to \"jiggle\" the caret loose. Since this bug only\n    // exists on iOS, we only bother to install the listener on iOS.\n    if (_platform.IOS) {\n      ngZone.runOutsideAngular(() => {\n        _elementRef.nativeElement.addEventListener('keyup', (event: Event) => {\n          let el = event.target as HTMLInputElement;\n          if (!el.value && !el.selectionStart && !el.selectionEnd) {\n            // Note: Just setting `0, 0` doesn't fix the issue. Setting\n            // `1, 1` fixes it for the first time that you type text and\n            // then hold delete. Toggling to `1, 1` and then back to\n            // `0, 0` seems to completely fix it.\n            el.setSelectionRange(1, 1);\n            el.setSelectionRange(0, 0);\n          }\n        });\n      });\n    }\n\n    this._isServer = !this._platform.isBrowser;\n    this._isNativeSelect = nodeName === 'select';\n    this._isTextarea = nodeName === 'textarea';\n\n    if (this._isNativeSelect) {\n      this.controlType = (element as HTMLSelectElement).multiple\n        ? 'j-native-select-multiple'\n        : 'j-native-select';\n    }\n  }\n\n  ngOnInit() {\n    if (this._platform.isBrowser) {\n      // this._autofillMonitor\n      //   .monitor(this._elementRef.nativeElement)\n      //   .subscribe((event) => {\n      //     this.autofilled = event.isAutofilled;\n      //     this.stateChanges.next();\n      //   });\n    }\n  }\n\n  ngOnChanges() {\n    this.stateChanges.next();\n  }\n\n  ngOnDestroy() {\n    this.stateChanges.complete();\n\n    if (this._platform.isBrowser) {\n      // this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement);\n    }\n  }\n\n  ngDoCheck() {\n    if (this.ngControl) {\n      // We need to re-evaluate this on every change detection cycle, because there are some\n      // error triggers that we can't subscribe to (e.g. parent form submissions). This means\n      // that whatever logic is in here has to be super lean or we risk destroying the performance.\n      this.updateErrorState();\n    }\n\n    // We need to dirty-check the native element's value, because there are some cases where\n    // we won't be notified when it changes (e.g. the consumer isn't using forms or they're\n    // updating the value using `emitEvent: false`).\n    this._dirtyCheckNativeValue();\n  }\n\n  /** Focuses the input. */\n  focus(options?: FocusOptions): void {\n    this._elementRef.nativeElement.focus(options);\n  }\n\n  // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n  // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n  // ViewEngine they're overwritten.\n  // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n  /** Callback for the cases where the focused state of the input changes. */\n  // tslint:disable:no-host-decorator-in-concrete\n  @HostListener('focus', ['true'])\n  @HostListener('blur', ['false'])\n  // tslint:enable:no-host-decorator-in-concrete\n  _focusChanged(isFocused: boolean) {\n    if (isFocused !== this.focused && (!this.readonly || !isFocused)) {\n      this.focused = isFocused;\n      this.stateChanges.next();\n    }\n  }\n\n  // We have to use a `HostListener` here in order to support both Ivy and ViewEngine.\n  // In Ivy the `host` bindings will be merged when this class is extended, whereas in\n  // ViewEngine they're overwritten.\n  // TODO(crisbeto): we move this back into `host` once Ivy is turned on by default.\n  // tslint:disable-next-line:no-host-decorator-in-concrete\n  @HostListener('input')\n  _onInput() {\n    // This is a noop function and is used to let Angular know whenever the value changes.\n    // Angular will run a new change detection each time the `input` event has been dispatched.\n    // It's necessary that Angular recognizes the value change, because when floatingLabel\n    // is set to false and Angular forms aren't used, the placeholder won't recognize the\n    // value changes and will not disappear.\n    // Listening to the input event wouldn't be necessary when the input is using the\n    // FormsModule or ReactiveFormsModule, because Angular forms also listens to input events.\n  }\n\n  /** Does some manual dirty checking on the native input `value` property. */\n  protected _dirtyCheckNativeValue() {\n    const newValue = this._elementRef.nativeElement.value;\n\n    if (this._previousNativeValue !== newValue) {\n      this._previousNativeValue = newValue;\n      this.stateChanges.next();\n    }\n  }\n\n  /** Make sure the input is a supported type. */\n  protected _validateType() {\n    // if (MAT_INPUT_INVALID_TYPES.indexOf(this._type) > -1) {\n    //   throw getMatInputUnsupportedTypeError(this._type);\n    // }\n  }\n\n  /** Checks whether the input type is one of the types that are never empty. */\n  protected _isNeverEmpty() {\n    return this._neverEmptyInputTypes.indexOf(this._type) > -1;\n  }\n\n  /** Checks whether the input is invalid based on the native validation. */\n  protected _isBadInput() {\n    // The `validity` property won't be present on platform-server.\n    let validity = (this._elementRef.nativeElement as HTMLInputElement)\n      .validity;\n    return validity && validity.badInput;\n  }\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  get empty(): boolean {\n    return (\n      !this._isNeverEmpty() &&\n      !this._elementRef.nativeElement.value &&\n      !this._isBadInput() &&\n      !this.autofilled\n    );\n  }\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  get shouldLabelFloat(): boolean {\n    if (this._isNativeSelect) {\n      // For a single-selection `<select>`, the label should float when the selected option has\n      // a non-empty display value. For a `<select multiple>`, the label *always* floats to avoid\n      // overlapping the label with the options.\n      const selectElement = this._elementRef.nativeElement as HTMLSelectElement;\n      const firstOption: HTMLOptionElement | undefined =\n        selectElement.options[0];\n\n      // On most browsers the `selectedIndex` will always be 0, however on IE and Edge it'll be\n      // -1 if the `value` is set to something, that isn't in the list of options, at a later point.\n      return (\n        this.focused ||\n        selectElement.multiple ||\n        !this.empty ||\n        !!(selectElement.selectedIndex > -1 && firstOption && firstOption.label)\n      );\n    } else {\n      return this.focused || !this.empty;\n    }\n  }\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  setDescribedByIds(ids: string[]) {\n    this._ariaDescribedby = ids.join(' ');\n  }\n\n  /**\n   * Implemented as part of JFormFieldControl.\n   * @docs-private\n   */\n  onContainerClick() {\n    // Do not re-focus the input element if the element is already focused. Otherwise it can happen\n    if (!this.focused) {\n      this.focus();\n    }\n  }\n\n  clear() {\n    if (this.ngControl) {\n      this.ngControl.control.setValue('');\n      this.ngControl.control.markAsPristine();\n      // this.stateChanges.next();\n    }\n    // ngxMask ignoring this.ngControl.control.setValue('')\n    this._elementRef.nativeElement.value = '';\n  }\n\n  static ngAcceptInputType_disabled: BooleanInput;\n\n  // Accept `any` to avoid conflicts with other directives on `<input>` that may\n  // accept different types.\n  static ngAcceptInputType_value: any;\n}\n","import { Directive, Input } from '@angular/core';\n\nlet nextUniqueId = 0;\n@Directive({\n  selector: 'j-hint',\n  host: {\n    class: 'j-hint',\n    '[class.j-hint-right]': 'align === \"end\"',\n    '[attr.id]': 'id',\n    // Remove align attribute to prevent it from interfering with layout.\n    '[attr.align]': 'null',\n  },\n})\nexport class JHintDirective {\n  @Input() align: 'start' | 'end' = 'start';\n  @Input() id = `j-hint-${nextUniqueId++}`;\n}\n","import { Directive } from '@angular/core';\nimport {InjectionToken} from '@angular/core';\n\n@Directive({\n  selector: 'j-label',\n})\nexport class JLabelDirective {}\n","import {Directive} from '@angular/core';\n\n@Directive({\n  selector: '[jPrefix]',\n})\nexport class JPrefixDirective {}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[jSuffix]',\n})\nexport class JSuffixDirective {}\n","import { Injectable } from '@angular/core';\nimport { FormGroupDirective, NgForm, FormControl } from '@angular/forms';\nimport { ElementRef } from '@angular/core';\nimport { JFormFieldControl } from './form-field-control';\n\n/** Error state matcher that matches when a control is invalid and dirty. */\n@Injectable()\nexport class ShowOnDirtyErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(\n    control: FormControl | null,\n    form: FormGroupDirective | NgForm | null,\n    component?: JFormFieldControl<any>\n  ): boolean {\n    return !!(\n      control &&\n      control.invalid &&\n      ((control.dirty && component && !component.focused) ||\n        (form && form.submitted && control.touched))\n    );\n  }\n}\n\n/** Provider that defines how form controls behave with regards to displaying error messages. */\n@Injectable({ providedIn: 'root' })\nexport class ErrorStateMatcher {\n  isErrorState(\n    control: FormControl | null,\n    form: FormGroupDirective | NgForm | null,\n    component?: JFormFieldControl<any>\n  ): boolean {\n    return !!(\n      control &&\n      control.invalid &&\n      (control.touched || (form && form.submitted))\n    );\n  }\n}\n\n/** @docs-private */\nexport type Constructor<T> = new (...args: any[]) => T;\n\n/**\n * Coerces an ElementRef or an Element into an element.\n * Useful for APIs that can accept either a ref or the native element itself.\n */\nexport function coerceElement<T>(elementOrRef: ElementRef<T> | T): T {\n  return elementOrRef instanceof ElementRef\n    ? elementOrRef.nativeElement\n    : elementOrRef;\n}\n\n/** Cached result of whether the user's browser supports passive event listeners. */\nlet supportsPassiveEvents: boolean;\n\n/**\n * Checks whether the user's browser supports passive event listeners.\n * See: https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nexport function supportsPassiveEventListeners(): boolean {\n  if (supportsPassiveEvents == null && typeof window !== 'undefined') {\n    try {\n      window.addEventListener(\n        'test',\n        null!,\n        Object.defineProperty({}, 'passive', {\n          get: () => (supportsPassiveEvents = true),\n        })\n      );\n    } finally {\n      supportsPassiveEvents = supportsPassiveEvents || false;\n    }\n  }\n\n  return supportsPassiveEvents;\n}\n\n/**\n * Normalizes an `AddEventListener` object to something that can be passed\n * to `addEventListener` on any browser, no matter whether it supports the\n * `options` parameter.\n * @param options Object to be normalized.\n */\nexport function normalizePassiveListenerOptions(\n  options: AddEventListenerOptions\n): AddEventListenerOptions | boolean {\n  return supportsPassiveEventListeners() ? options : !!options.capture;\n}\n\nexport type BooleanInput = string | boolean | null | undefined;\n\n/** Coerces a data-bound value (typically a string) to a boolean. */\nexport function coerceBooleanProperty(value: any): boolean {\n  return value != null && `${value}` !== 'false';\n}\n","import { Injectable } from '@angular/core';\nimport {\n  CanActivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n  UrlTree,\n  Router,\n} from '@angular/router';\nimport { Observable, NEVER, of } from 'rxjs';\nimport { AuthService } from '@auth/auth.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IsAuthenticatedGuard implements CanActivate {\n  constructor(private auth: AuthService, private router: Router) {}\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ):\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree>\n    | boolean\n    | UrlTree {\n    if (!this.auth.isAuthenticated) {\n      this.router.navigate(['auth', 'login'], {\n        queryParams: next.queryParams,\n      });\n      return NEVER;\n    }\n    return of(true);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  CanActivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n  UrlTree,\n  Router,\n} from '@angular/router';\nimport { Observable, NEVER, of } from 'rxjs';\nimport { AuthService } from '@auth/auth.service';\nimport { homeRoutes } from '@home/home-routes';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IsNotAuthenticatedGuard implements CanActivate {\n  constructor(private auth: AuthService, private router: Router) {}\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ):\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree>\n    | boolean\n    | UrlTree {\n\n    if (this.auth.isAuthenticated) {\n      this.router.navigate(['accounts'], {\n        queryParamsHandling: 'merge',\n      });\n      return NEVER;\n    }\n    return of(true);\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  HostBinding,\n  AfterViewInit,\n  Renderer2,\n  ElementRef,\n} from '@angular/core';\nimport { SafeHtml, DomSanitizer } from '@angular/platform-browser';\n\nimport { Icons } from './icon';\n\nexport enum ICON_SIZE {\n  DEFAULT = 'sm',\n  MEDIUM = 'md',\n}\n\n@Component({\n  selector: 'j-icon',\n  templateUrl: './icon.component.html',\n  styleUrls: ['./icon.component.scss'],\n})\nexport class IconComponent implements OnInit, AfterViewInit {\n  @Input() name: string;\n  @Input() color = 'default';\n  @Input() isStroke: boolean;\n  @Input() size: ICON_SIZE = ICON_SIZE.DEFAULT;\n\n  ICON_SIZE = ICON_SIZE;\n  svg: SafeHtml;\n\n  constructor(\n    private sanitizer: DomSanitizer,\n    private renderer: Renderer2,\n    private elementRef: ElementRef\n  ) {}\n\n  ngOnInit() {\n    this.svg = this.sanitizer.bypassSecurityTrustHtml(Icons[this.name] || '');\n  }\n\n  ngAfterViewInit() {\n    if (this.size == ICON_SIZE.MEDIUM) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'size-md');\n    }\n  }\n\n  get iconClass() {\n    let iconClass = `color-${this.color}`;\n    if (this.isStroke) {\n      iconClass += ' stroke';\n    }\n\n    return iconClass;\n  }\n}\n","export const Icons = {\n  // tslint:disable:max-line-length\n  clear: `<path d=\"M8 16C12.3765 16 16 12.3765 16 8C16 3.63137 12.3686 0 7.99216 0C3.62353 0 0 3.63137 0 8C0 12.3765 3.63137 16 8 16ZM5.18431 11.4824C4.82353 11.4824 4.52549 11.1843 4.52549 10.8157C4.52549 10.6353 4.59608 10.4784 4.72157 10.3608L7.06667 8.00784L4.72157 5.6549C4.59608 5.5451 4.52549 5.38039 4.52549 5.2C4.52549 4.83922 4.82353 4.54902 5.18431 4.54902C5.37255 4.54902 5.52157 4.61961 5.63922 4.7451L7.99216 7.0902L10.3608 4.73725C10.4941 4.59608 10.6431 4.53333 10.8157 4.53333C11.1843 4.53333 11.4745 4.83137 11.4745 5.19216C11.4745 5.37255 11.4196 5.52157 11.2784 5.64706L8.92549 8.00784L11.2706 10.3451C11.3961 10.4706 11.4667 10.6275 11.4667 10.8157C11.4667 11.1843 11.1765 11.4824 10.8078 11.4824C10.6196 11.4824 10.4549 11.4039 10.3373 11.2863L7.99216 8.93333L5.6549 11.2863C5.53725 11.4118 5.37255 11.4824 5.18431 11.4824Z\"/>`,\n  eyeClosed: `<path d=\"M12.4919 13.2225C12.5784 13.3076 12.6996 13.3529 12.8092 13.3529C13.04 13.3529 13.2535 13.1488 13.2535 12.9164C13.2535 12.803 13.2074 12.6896 13.1208 12.6045L3.46772 3.12473C3.38118 3.03969 3.26578 3 3.15038 3C2.91958 3 2.70609 3.20411 2.70609 3.4309C2.70609 3.54996 2.74648 3.66336 2.83303 3.74274L12.4919 13.2225ZM8.00288 3.44791C6.99892 3.44791 6.09304 3.618 5.24486 3.89582L6.00072 4.63855C6.64118 4.45145 7.28741 4.34373 8.00288 4.34373C11.9149 4.34373 14.9903 7.63218 14.9903 8.30687C14.9903 8.76612 13.9805 10.0021 12.3823 10.966L13.092 11.6634C14.9153 10.5011 16 8.9759 16 8.30687C16 7.14458 12.7804 3.44791 8.00288 3.44791ZM8.00288 13.1658C9.07609 13.1658 10.057 12.9787 10.9513 12.6782L10.1955 11.9355C9.50883 12.1453 8.78182 12.27 8.00288 12.27C4.09088 12.27 1.00974 9.10631 1.00974 8.30687C1.00974 7.90999 2.08294 6.58894 3.7793 5.5854L3.06383 4.88235C1.14244 6.05032 0 7.62084 0 8.30687C0 9.4635 3.28309 13.1658 8.00288 13.1658ZM10.9629 9.54855C11.1417 9.16867 11.2398 8.74344 11.2398 8.30687C11.2398 6.53225 9.79733 5.13182 8.00288 5.13182C7.54706 5.13182 7.12009 5.22821 6.7335 5.39263L10.9629 9.54855ZM8.00288 11.4819C8.51064 11.4819 8.98954 11.3572 9.41652 11.1531L5.09484 6.90078C4.87559 7.32034 4.76019 7.7966 4.76019 8.30687C4.76019 10.0361 6.1969 11.4819 8.00288 11.4819Z\"/>`,\n  eyeOpened: `<path d=\"M8.00293 13C12.7333 13 16 9.1902 16 8C16 6.80397 12.7274 3 8.00293 3C3.33699 3 0 6.80397 0 8C0 9.1902 3.33114 13 8.00293 13ZM8.00293 12.0782C4.15075 12.0782 1.02452 8.82264 1.02452 8C1.02452 7.30572 4.15075 3.92182 8.00293 3.92182C11.8434 3.92182 14.9755 7.30572 14.9755 8C14.9755 8.82264 11.8434 12.0782 8.00293 12.0782ZM8.00293 11.2672C9.82364 11.2672 11.2872 9.77946 11.2872 8C11.2872 6.17386 9.82364 4.73279 8.00293 4.73279C6.17051 4.73279 4.70106 6.17386 4.71277 8C4.71862 9.77946 6.17051 11.2672 8.00293 11.2672ZM8.00293 9.08518C7.39407 9.08518 6.90231 8.5951 6.90231 8C6.90231 7.39907 7.39407 6.91482 8.00293 6.91482C8.60593 6.91482 9.0977 7.39907 9.0977 8C9.0977 8.5951 8.60593 9.08518 8.00293 9.08518Z\"/>`,\n  info: `<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.96875 15.9375C12.3203 15.9375 15.9375 12.3281 15.9375 7.96875C15.9375 3.61719 12.3125 0 7.96094 0C3.60156 0 0 3.61719 0 7.96875C0 12.3281 3.60938 15.9375 7.96875 15.9375ZM7.89844 5.1875C7.32812 5.1875 6.88281 4.73438 6.88281 4.17188C6.88281 3.60156 7.32812 3.14844 7.89844 3.14844C8.46875 3.14844 8.91406 3.60156 8.91406 4.17188C8.91406 4.73438 8.46875 5.1875 7.89844 5.1875ZM7.89844 6.49219C8.28906 6.49219 8.50781 6.77344 8.50781 7.19531V12.2656H7.26562V7.21094C7.26562 6.76562 7.50781 6.49219 7.89844 6.49219Z\" />`,\n  arrowLeft: `<path d=\"M11 3L5 8.28846L11 14\" stroke-width=\"1.4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>`,\n  arrowRight: `<path d=\"M8.00048 6.71051C8.00615 6.85919 7.97857 7.00726 7.91975 7.14393C7.86093 7.2806 7.77235 7.40242 7.66048 7.50051L1.66048 12.7905C1.45981 12.9521 1.20449 13.0301 0.947763 13.0081C0.691036 12.986 0.452714 12.8658 0.28249 12.6723C0.112266 12.4789 0.0232793 12.2272 0.0340833 11.9698C0.0448873 11.7123 0.154649 11.469 0.340481 11.2905L5.50048 6.68051L0.290481 1.68051C0.121718 1.49286 0.0301522 1.24833 0.0341501 0.995985C0.038148 0.743638 0.137414 0.502135 0.312036 0.319921C0.486659 0.137706 0.723721 0.0282583 0.975669 0.0135307C1.22762 -0.00119691 1.47582 0.0798845 1.67048 0.240513L7.67048 5.95051C7.7766 6.04625 7.86097 6.16363 7.9179 6.29473C7.97482 6.42583 8.00298 6.56761 8.00048 6.71051Z\" fill=\"#666C72\"/>`,\n  done: `<path d=\"M14 2L6.23529 13L2 8.1875\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>`,\n  fail: `<path d=\"M8 2C11.2824 2 14 4.71765 14 8C14 11.2765 11.2824 14 8 14C4.72353 14 2 11.2824 2 8.00588C2 4.72353 4.72353 2 8 2Z\"/><rect x=\"4\" y=\"7.5\" width=\"8\" height=\"1\" rx=\"0.5\" fill=\"white\"/>`,\n  close: `<rect x=\"19.7773\" y=\"2.80762\" width=\"2\" height=\"24\" rx=\"1\" transform=\"rotate(45 19.7773 2.80762)\"/><rect x=\"21.1914\" y=\"19.7782\" width=\"2\" height=\"24\" rx=\"1\" transform=\"rotate(135 21.1914 19.7782)\"/>`,\n  chevronLeft: `<path d=\"M11 3L5 8.28846L11 14\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.4\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>`,\n  search: `<path d=\"M7.00781 13.0156C8.30469 13.0156 9.51562 12.5938 10.5 11.8906L14.2031 15.5938C14.375 15.7656 14.6016 15.8516 14.8359 15.8516C15.3438 15.8516 15.7109 15.4609 15.7109 14.9609C15.7109 14.7266 15.6328 14.5078 15.4609 14.3359L11.7812 10.6484C12.5547 9.63281 13.0156 8.375 13.0156 7.00781C13.0156 3.70312 10.3125 1 7.00781 1C3.69531 1 1 3.70312 1 7.00781C1 10.3125 3.69531 13.0156 7.00781 13.0156ZM7.00781 11.7188C4.42188 11.7188 2.29688 9.58594 2.29688 7.00781C2.29688 4.42969 4.42188 2.29688 7.00781 2.29688C9.58594 2.29688 11.7188 4.42969 11.7188 7.00781C11.7188 9.58594 9.58594 11.7188 7.00781 11.7188Z\" fill=\"currentColor\"/>`,\n  question: `<path d=\"M8 16C12.3686 16 16 12.3765 16 8C16 3.63137 12.3608 0 7.99216 0C3.61569 0 0 3.63137 0 8C0 12.3765 3.62353 16 8 16ZM8 14.6667C4.29804 14.6667 1.34118 11.702 1.34118 8C1.34118 4.30588 4.2902 1.33333 7.99216 1.33333C11.6863 1.33333 14.6588 4.30588 14.6667 8C14.6745 11.702 11.6941 14.6667 8 14.6667ZM7.83529 9.62353C8.22745 9.62353 8.47059 9.38039 8.47059 9.06667V8.97255C8.47059 8.53333 8.72157 8.25882 9.27059 7.89804C10.0314 7.39608 10.5725 6.93333 10.5725 6C10.5725 4.6902 9.41177 3.99216 8.07843 3.99216C6.72941 3.99216 5.84314 4.62745 5.63137 5.34902C5.59216 5.48235 5.56078 5.60784 5.56078 5.74118C5.56078 6.08627 5.84314 6.28235 6.10196 6.28235C6.54902 6.28235 6.61961 6.03922 6.87059 5.74902C7.12941 5.31765 7.50588 5.05882 8.03137 5.05882C8.7451 5.05882 9.20784 5.45882 9.20784 6.06275C9.20784 6.59608 8.87843 6.8549 8.19608 7.32549C7.63137 7.71765 7.20784 8.13333 7.20784 8.90196V9.00392C7.20784 9.41961 7.43529 9.62353 7.83529 9.62353ZM7.81961 11.9686C8.27451 11.9686 8.66667 11.6078 8.66667 11.1529C8.66667 10.6902 8.28235 10.3373 7.81961 10.3373C7.35686 10.3373 6.97255 10.698 6.97255 11.1529C6.97255 11.6 7.36471 11.9686 7.81961 11.9686Z\" fill=\"currentColor\"/> `,\n  cross: `<rect x=\"19.7773\" y=\"2.80762\" width=\"2\" height=\"24\" rx=\"1\" transform=\"rotate(45 19.7773 2.80762)\" fill=\"currentColor\"/>\n  <rect x=\"21.1914\" y=\"19.7782\" width=\"2\" height=\"24\" rx=\"1\" transform=\"rotate(135 21.1914 19.7782)\" fill=\"currentColor\"/>`,\n  calendar: `<path d=\"M10.7987 15.6659H5.1987C4.17894 15.6659 3.20046 15.2631 2.47627 14.5452C1.75208 13.8273 1.34082 12.8523 1.33203 11.8326V6.25924C1.33203 5.23374 1.73941 4.25024 2.46455 3.5251C3.18969 2.79996 4.17319 2.39258 5.1987 2.39258H10.7987C11.8242 2.39258 12.8077 2.79996 13.5328 3.5251C14.258 4.25024 14.6654 5.23374 14.6654 6.25924V11.8326C14.6566 12.8523 14.2453 13.8273 13.5211 14.5452C12.7969 15.2631 11.8185 15.6659 10.7987 15.6659ZM5.1987 3.72591C4.52682 3.72591 3.88245 3.99282 3.40736 4.46791C2.93227 4.943 2.66536 5.58736 2.66536 6.25924V11.8326C2.66536 12.5045 2.93227 13.1488 3.40736 13.6239C3.88245 14.099 4.52682 14.3659 5.1987 14.3659H10.7987C11.4706 14.3659 12.1149 14.099 12.59 13.6239C13.0651 13.1488 13.332 12.5045 13.332 11.8326V6.25924C13.332 5.58736 13.0651 4.943 12.59 4.46791C12.1149 3.99282 11.4706 3.72591 10.7987 3.72591H5.1987Z\" fill=\"currentColor\"/>\n  <path d=\"M10.9753 4.78065C10.7984 4.78065 10.6289 4.71041 10.5039 4.58539C10.3788 4.46036 10.3086 4.2908 10.3086 4.11398V2.00065C10.3086 1.82384 10.3788 1.65427 10.5039 1.52925C10.6289 1.40422 10.7984 1.33398 10.9753 1.33398C11.1521 1.33398 11.3216 1.40422 11.4467 1.52925C11.5717 1.65427 11.6419 1.82384 11.6419 2.00065V4.11398C11.6419 4.2908 11.5717 4.46036 11.4467 4.58539C11.3216 4.71041 11.1521 4.78065 10.9753 4.78065Z\" fill=\"currentColor\"/>\n  <path d=\"M5.02604 4.78065C4.84923 4.78065 4.67966 4.71041 4.55464 4.58539C4.42961 4.46036 4.35938 4.2908 4.35938 4.11398V2.00065C4.35937 1.9131 4.37662 1.82641 4.41012 1.74553C4.44363 1.66465 4.49273 1.59115 4.55464 1.52925C4.61654 1.46734 4.69004 1.41823 4.77092 1.38473C4.8518 1.35123 4.93849 1.33398 5.02604 1.33398C5.11359 1.33398 5.20028 1.35123 5.28116 1.38473C5.36205 1.41823 5.43554 1.46734 5.49745 1.52925C5.55935 1.59115 5.60846 1.66465 5.64196 1.74553C5.67546 1.82641 5.69271 1.9131 5.69271 2.00065V4.11398C5.69271 4.2908 5.62247 4.46036 5.49745 4.58539C5.37242 4.71041 5.20285 4.78065 5.02604 4.78065Z\" fill=\"currentColor\"/>\n  <path d=\"M10.8404 13.087C11.4663 13.087 11.9737 12.5796 11.9737 11.9536C11.9737 11.3277 11.4663 10.8203 10.8404 10.8203C10.2144 10.8203 9.70703 11.3277 9.70703 11.9536C9.70703 12.5796 10.2144 13.087 10.8404 13.087Z\" fill=\"currentColor\"/>\n  <path d=\"M13.9984 5.75977H2.01172V7.0931H13.9984V5.75977Z\" fill=\"currentColor\"/>`,\n  list: `<path d=\"M0.874698 4.22016H2.2061C2.68602 4.22016 3.08853 3.83539 3.08853 3.36008C3.08853 2.88477 2.68602 2.5 2.2061 2.5H0.874698C0.394775 2.5 0 2.88477 0 3.36008C0 3.83539 0.394775 4.22016 0.874698 4.22016ZM5.48041 4.08436H15.2492C15.6672 4.08436 16 3.76749 16 3.36008C16 2.95267 15.6749 2.6358 15.2492 2.6358H5.48041C5.06241 2.6358 4.7373 2.95267 4.7373 3.36008C4.7373 3.76749 5.06241 4.08436 5.48041 4.08436ZM0.874698 8.86008H2.2061C2.68602 8.86008 3.08853 8.47531 3.08853 8C3.08853 7.52469 2.68602 7.13992 2.2061 7.13992H0.874698C0.394775 7.13992 0 7.52469 0 8C0 8.47531 0.394775 8.86008 0.874698 8.86008ZM5.48041 8.72428H15.2492C15.6672 8.72428 16 8.40741 16 8C16 7.59259 15.6749 7.27572 15.2492 7.27572H5.48041C5.06241 7.27572 4.7373 7.59259 4.7373 8C4.7373 8.40741 5.06241 8.72428 5.48041 8.72428ZM0.874698 13.5H2.2061C2.68602 13.5 3.08853 13.1152 3.08853 12.6399C3.08853 12.1646 2.68602 11.7798 2.2061 11.7798H0.874698C0.394775 11.7798 0 12.1646 0 12.6399C0 13.1152 0.394775 13.5 0.874698 13.5ZM5.48041 13.3642H15.2492C15.6672 13.3642 16 13.0473 16 12.6399C16 12.2325 15.6749 11.9156 15.2492 11.9156H5.48041C5.06241 11.9156 4.7373 12.2325 4.7373 12.6399C4.7373 13.0473 5.06241 13.3642 5.48041 13.3642Z\"/>`,\n  delete: `<path d=\"M12.8336 14.3105L13.3275 3.8443H14.0434C14.3369 3.8443 14.5732 3.60089 14.5732 3.30738C14.5732 3.01387 14.3369 2.76331 14.0434 2.76331H10.915V1.68949C10.915 0.665772 10.2206 0 9.11812 0H6.44072C5.33825 0 4.65101 0.665772 4.65101 1.68949V2.76331H1.53691C1.25056 2.76331 1 3.01387 1 3.30738C1 3.60089 1.25056 3.8443 1.53691 3.8443H2.2528L2.74676 14.3177C2.79687 15.3485 3.47696 16 4.50783 16H11.0725C12.0962 16 12.7834 15.3414 12.8336 14.3105ZM5.79642 1.76107C5.79642 1.35302 6.09709 1.06667 6.52662 1.06667H9.03937C9.47606 1.06667 9.77673 1.35302 9.77673 1.76107V2.76331H5.79642V1.76107ZM4.61521 14.9262C4.2 14.9262 3.89217 14.6112 3.87069 14.196L3.36958 3.8443H12.1821L11.7096 14.196C11.6881 14.6183 11.3875 14.9262 10.9651 14.9262H4.61521ZM9.91275 13.6662C10.149 13.6662 10.328 13.4729 10.3351 13.2009L10.5499 5.64116C10.557 5.36913 10.3709 5.16868 10.1275 5.16868C9.90559 5.16868 9.71946 5.37629 9.7123 5.634L9.49754 13.2009C9.49038 13.4586 9.66935 13.6662 9.91275 13.6662ZM5.66756 13.6662C5.91096 13.6662 6.08993 13.4586 6.08277 13.2009L5.86801 5.634C5.86085 5.37629 5.66756 5.16868 5.44564 5.16868C5.20224 5.16868 5.02327 5.36913 5.03043 5.64116L5.25235 13.2009C5.25951 13.4729 5.43132 13.6662 5.66756 13.6662ZM8.22327 13.2009V5.634C8.22327 5.37629 8.02998 5.16868 7.79374 5.16868C7.55749 5.16868 7.35705 5.37629 7.35705 5.634V13.2009C7.35705 13.4586 7.55749 13.6662 7.79374 13.6662C8.02282 13.6662 8.22327 13.4586 8.22327 13.2009Z\"/>`,\n  edit: `\n    <g clip-path=\"url(#clip0)\">\n      <path d=\"M14.6421 0.718945C13.6835 -0.239648 12.1294 -0.239648 11.1708 0.718945L1.43958 10.4502C1.37289 10.5169 1.32473 10.5995 1.29959 10.6903L0.0199041 15.3103C-0.0327237 15.4997 0.0207563 15.7025 0.159677 15.8417C0.29881 15.9806 0.501651 16.0341 0.691068 15.9816L5.31102 14.7017C5.40179 14.6766 5.48446 14.6284 5.55115 14.5618L15.2822 4.8303C16.2393 3.87107 16.2393 2.31823 15.2822 1.359L14.6421 0.718945ZM2.62807 10.8047L10.5923 2.84025L13.1609 5.40878L5.19639 13.3733L2.62807 10.8047ZM2.115 11.8343L4.16706 13.8865L1.32857 14.673L2.115 11.8343ZM14.5109 4.059L13.9324 4.63748L11.3636 2.06873L11.9423 1.49025C12.4748 0.957794 13.3381 0.957794 13.8706 1.49025L14.5109 2.13031C15.0425 2.6634 15.0425 3.52611 14.5109 4.059Z\"/>\n    </g>\n    <defs>\n      <clipPath id=\"clip0\">\n        <rect width=\"16\" height=\"16\" fill=\"white\"/>\n      </clipPath>\n    </defs>`,\n  filter: `\n    <rect x=\"5\" y=\"2\" width=\"20\" height=\"2\" rx=\"1\" transform=\"rotate(90 5 2)\" fill=\"currentColor\"/>\n    <rect x=\"13\" y=\"2\" width=\"20\" height=\"2\" rx=\"1\" transform=\"rotate(90 13 2)\" fill=\"currentColor\"/>\n    <rect x=\"21\" y=\"2\" width=\"20\" height=\"2\" rx=\"1\" transform=\"rotate(90 21 2)\" fill=\"currentColor\"/>\n    <circle cx=\"12\" cy=\"8\" r=\"3\" fill=\"#F6F7F8\" stroke=\"currentColor\" stroke-width=\"2\"/>\n    <circle cx=\"4\" cy=\"16\" r=\"3\" fill=\"#F6F7F8\" stroke=\"currentColor\" stroke-width=\"2\"/>\n    <circle cx=\"20\" cy=\"15\" r=\"3\" fill=\"#F6F7F8\" stroke=\"currentColor\" stroke-width=\"2\"/>\n  `,\n  pdf: `\n    <path d=\"M19.7002 7.12964C19.4349 7.12964 19.1806 7.02428 18.993 6.83675C18.8055 6.64921 18.7002 6.39486 18.7002 6.12964V4.79964C18.6563 4.06734 18.3247 3.38206 17.7778 2.89316C17.2308 2.40426 16.5128 2.15138 15.7802 2.18964H8.57016C7.83922 2.1541 7.12375 2.40821 6.57897 2.89682C6.03419 3.38544 5.70404 4.06916 5.66016 4.79964V6.12964C5.66016 6.39486 5.5548 6.64921 5.36726 6.83675C5.17973 7.02428 4.92537 7.12964 4.66016 7.12964C4.39494 7.12964 4.14059 7.02428 3.95305 6.83675C3.76551 6.64921 3.66016 6.39486 3.66016 6.12964V4.79964C3.70194 3.53789 4.2422 2.34417 5.16255 1.48005C6.08291 0.615927 7.30828 0.151896 8.57016 0.18964H15.7802C17.043 0.151857 18.2695 0.615577 19.1914 1.47943C20.1133 2.34328 20.6558 3.537 20.7002 4.79964V6.12964C20.7002 6.39486 20.5948 6.64921 20.4073 6.83675C20.2197 7.02428 19.9654 7.12964 19.7002 7.12964Z\" fill=\"currentColor\"/>\n    <path d=\"M15.7806 23.8108H8.57061C7.45557 23.8365 6.36585 23.4764 5.48576 22.7913C4.60566 22.1061 3.98919 21.1381 3.74061 20.0508C3.6907 19.7909 3.74582 19.5219 3.89389 19.3026C4.04197 19.0833 4.27093 18.9316 4.53061 18.8808C4.78904 18.8306 5.05682 18.8844 5.27586 19.0304C5.49489 19.1765 5.64752 19.403 5.70061 19.6608C5.85878 20.2946 6.23058 20.8544 6.75336 21.2461C7.27614 21.6377 7.91794 21.8371 8.57061 21.8108H15.7806C16.4382 21.8395 17.0851 21.6373 17.6093 21.2391C18.1335 20.841 18.5018 20.272 18.6506 19.6308C18.6997 19.3656 18.8521 19.1307 19.0743 18.9779C19.2965 18.825 19.5704 18.7667 19.8356 18.8158C20.1008 18.8649 20.3357 19.0173 20.4885 19.2395C20.6414 19.4617 20.6997 19.7356 20.6506 20.0008C20.4126 21.1051 19.795 22.0911 18.9052 22.7872C18.0154 23.4833 16.9098 23.8455 15.7806 23.8108Z\" fill=\"currentColor\"/>\n    <path d=\"M3.12891 16.9991C2.86369 16.9991 2.60934 16.8938 2.4218 16.7062C2.23426 16.5187 2.12891 16.2644 2.12891 15.9991V9.99914C2.12891 9.73392 2.23426 9.47957 2.4218 9.29203C2.60934 9.1045 2.86369 8.99914 3.12891 8.99914H5.31891C5.68663 8.97673 6.05504 9.02981 6.40148 9.15511C6.74792 9.28042 7.06505 9.47529 7.33336 9.72774C7.60166 9.98019 7.81547 10.2849 7.96161 10.6231C8.10775 10.9612 8.18315 11.3257 8.18315 11.6941C8.18315 12.0625 8.10775 12.427 7.96161 12.7652C7.81547 13.1034 7.60166 13.4081 7.33336 13.6605C7.06505 13.913 6.74792 14.1079 6.40148 14.2332C6.05504 14.3585 5.68663 14.4116 5.31891 14.3891H4.12891V15.9991C4.12891 16.2644 4.02355 16.5187 3.83601 16.7062C3.64848 16.8938 3.39412 16.9991 3.12891 16.9991ZM4.12891 12.4391H5.31891C5.41717 12.4509 5.51683 12.4418 5.61129 12.4123C5.70576 12.3827 5.79289 12.3335 5.86693 12.2678C5.94098 12.2021 6.00025 12.1215 6.04084 12.0312C6.08143 11.941 6.10242 11.8431 6.10242 11.7441C6.10242 11.6452 6.08143 11.5473 6.04084 11.457C6.00025 11.3668 5.94098 11.2861 5.86693 11.2205C5.79289 11.1548 5.70576 11.1056 5.61129 11.076C5.51683 11.0465 5.41717 11.0373 5.31891 11.0491H4.12891V12.4391Z\" fill=\"currentColor\"/>\n    <path d=\"M11.2812 17H10.2812C10.016 17 9.76168 16.8946 9.57414 16.7071C9.38661 16.5196 9.28125 16.2652 9.28125 16V10C9.28125 9.73478 9.38661 9.48043 9.57414 9.29289C9.76168 9.10536 10.016 9 10.2812 9H11.2812C12.0294 9.0053 12.7599 9.2285 13.3832 9.6423C14.0066 10.0561 14.4959 10.6426 14.7913 11.33C15.0139 11.8428 15.1288 12.3959 15.1288 12.955C15.1288 13.5141 15.0139 14.0672 14.7913 14.58C14.5085 15.2835 14.0249 15.8882 13.4007 16.3186C12.7765 16.7489 12.0393 16.9859 11.2812 17ZM11.2812 15C11.6554 14.9962 12.0197 14.8796 12.3265 14.6655C12.6334 14.4515 12.8685 14.1498 13.0013 13.8C13.1099 13.542 13.1658 13.2649 13.1658 12.985C13.1658 12.7051 13.1099 12.428 13.0013 12.17C12.862 11.825 12.623 11.5294 12.3148 11.321C12.0066 11.1126 11.6433 11.0008 11.2713 11L11.2812 15Z\" fill=\"currentColor\"/>\n    <path d=\"M17.4219 17C17.1567 17 16.9023 16.8946 16.7148 16.7071C16.5272 16.5196 16.4219 16.2652 16.4219 16V10C16.4219 9.73478 16.5272 9.48043 16.7148 9.29289C16.9023 9.10536 17.1567 9 17.4219 9H21.2319C21.4971 9 21.7514 9.10536 21.939 9.29289C22.1265 9.48043 22.2319 9.73478 22.2319 10C22.2319 10.2652 22.1265 10.5196 21.939 10.7071C21.7514 10.8946 21.4971 11 21.2319 11H18.4219V16C18.4219 16.2652 18.3165 16.5196 18.129 16.7071C17.9414 16.8946 17.6871 17 17.4219 17Z\" fill=\"currentColor\"/>\n    <path d=\"M20.3319 14.3906H17.4219C17.1567 14.3906 16.9023 14.2853 16.7148 14.0977C16.5272 13.9102 16.4219 13.6558 16.4219 13.3906C16.4219 13.1254 16.5272 12.8711 16.7148 12.6835C16.9023 12.496 17.1567 12.3906 17.4219 12.3906H20.3319C20.5971 12.3906 20.8514 12.496 21.039 12.6835C21.2265 12.8711 21.3319 13.1254 21.3319 13.3906C21.3319 13.6558 21.2265 13.9102 21.039 14.0977C20.8514 14.2853 20.5971 14.3906 20.3319 14.3906Z\" fill=\"currentColor\"/>\n  `,\n  copy: `\n    <path d=\"M13.1416 18.4894H6.46156C5.37152 18.4894 4.32613 18.0564 3.55535 17.2856C2.78458 16.5148 2.35156 15.4694 2.35156 14.3794V5.46937C2.35156 4.37933 2.78458 3.33394 3.55535 2.56317C4.32613 1.79239 5.37152 1.35938 6.46156 1.35938H13.1416C14.2316 1.35938 15.277 1.79239 16.0478 2.56317C16.8185 3.33394 17.2516 4.37933 17.2516 5.46937V14.3794C17.2516 15.4694 16.8185 16.5148 16.0478 17.2856C15.277 18.0564 14.2316 18.4894 13.1416 18.4894ZM6.46156 3.35937C5.90196 3.35937 5.36527 3.58168 4.96957 3.97738C4.57387 4.37308 4.35156 4.90977 4.35156 5.46937V14.3794C4.35419 14.9382 4.57734 15.4733 4.97247 15.8685C5.36761 16.2636 5.90277 16.4867 6.46156 16.4894H13.1416C13.7004 16.4867 14.2355 16.2636 14.6307 15.8685C15.0258 15.4733 15.2489 14.9382 15.2516 14.3794V5.46937C15.2516 4.90977 15.0293 4.37308 14.6336 3.97738C14.2379 3.58168 13.7012 3.35937 13.1416 3.35937H6.46156Z\" fill=\"currentColor\"/>\n    <path d=\"M17.54 22.6398H10.86C9.76996 22.6398 8.72457 22.2067 7.95379 21.436C7.18302 20.6652 6.75 19.6198 6.75 18.5298V17.5298H8.75V18.5298C8.75 19.0894 8.9723 19.6261 9.368 20.0218C9.76371 20.4175 10.3004 20.6398 10.86 20.6398H17.54C18.0996 20.6398 18.6363 20.4175 19.032 20.0218C19.4277 19.6261 19.65 19.0894 19.65 18.5298V9.61977C19.6474 9.06097 19.4242 8.52581 19.0291 8.13068C18.634 7.73554 18.0988 7.5124 17.54 7.50977H16.25V5.50977H17.54C18.63 5.50977 19.6754 5.94278 20.4462 6.71356C21.217 7.48433 21.65 8.52973 21.65 9.61977V18.5298C21.65 19.6198 21.217 20.6652 20.4462 21.436C19.6754 22.2067 18.63 22.6398 17.54 22.6398Z\" fill=\"currentColor\"/>\n    <path d=\"M11.59 8.78906H8C7.73478 8.78906 7.48043 8.68371 7.29289 8.49617C7.10536 8.30863 7 8.05428 7 7.78906C7 7.52385 7.10536 7.26949 7.29289 7.08196C7.48043 6.89442 7.73478 6.78906 8 6.78906H11.58C11.8452 6.78906 12.0996 6.89442 12.2871 7.08196C12.4746 7.26949 12.58 7.52385 12.58 7.78906C12.58 8.05428 12.4746 8.30863 12.2871 8.49617C12.0996 8.68371 11.8452 8.78906 11.58 8.78906H11.59Z\" fill=\"currentColor\"/>\n    <path d=\"M11.59 12.5801H8C7.73478 12.5801 7.48043 12.4747 7.29289 12.2872C7.10536 12.0996 7 11.8453 7 11.5801C7 11.3149 7.10536 11.0605 7.29289 10.873C7.48043 10.6854 7.73478 10.5801 8 10.5801H11.58C11.8452 10.5801 12.0996 10.6854 12.2871 10.873C12.4746 11.0605 12.58 11.3149 12.58 11.5801C12.58 11.8453 12.4746 12.0996 12.2871 12.2872C12.0996 12.4747 11.8452 12.5801 11.58 12.5801H11.59Z\" fill=\"currentColor\"/>\n  `,\n  arrowUp: `\n    <path d=\"M13.5 11L8.21154 5L2.5 11\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n  `,\n  addEmployee: `<g clip-path=\"url(#clip0)\"><mask id=\"path-1-inside-1\" fill=\"white\"><path d=\"M3.5 5V7H5.5V8H3.5V10H2.5V8H0.5V7H2.5V5H3.5Z\"/></mask><path d=\"M3.5 5V7H5.5V8H3.5V10H2.5V8H0.5V7H2.5V5H3.5Z\" fill=\"transparent\"/><path d=\"M3.5 7H2V8.5H3.5V7ZM3.5 5H5V3.5H3.5V5ZM2.5 5V3.5H1V5H2.5ZM2.5 7V8.5H4V7H2.5ZM0.5 7V5.5H-1V7H0.5ZM0.5 8H-1V9.5H0.5V8ZM2.5 8H4V6.5H2.5V8ZM2.5 10H1V11.5H2.5V10ZM3.5 10V11.5H5V10H3.5ZM3.5 8V6.5H2V8H3.5ZM5.5 8V9.5H7V8H5.5ZM5.5 7H7V5.5H5.5V7ZM5 7V5H2V7H5ZM3.5 3.5H2.5V6.5H3.5V3.5ZM1 5V7H4V5H1ZM2.5 5.5H0.5V8.5H2.5V5.5ZM-1 7V8H2V7H-1ZM0.5 9.5H2.5V6.5H0.5V9.5ZM1 8V10H4V8H1ZM2.5 11.5H3.5V8.5H2.5V11.5ZM5 10V8H2V10H5ZM3.5 9.5H5.5V6.5H3.5V9.5ZM7 8V7H4V8H7ZM5.5 5.5H3.5V8.5H5.5V5.5Z\" fill=\"#666C72\" mask=\"url(#path-1-inside-1)\"/><path d=\"M5.16602 12.6667C5.16602 10.8933 8.71935 10 10.4993 10C12.2793 10 15.8327 10.8933 15.8327 12.6667V14H5.16602V12.6667Z\" fill=\"transparent\" stroke=\"#666C72\" stroke-width=\"1.2\"/><path d=\"M13.1673 4.66667C13.1673 6.14 11.974 7.33333 10.5007 7.33333C9.02732 7.33333 7.83398 6.14 7.83398 4.66667C7.83398 3.19333 9.02732 2 10.5007 2C11.974 2 13.1673 3.19333 13.1673 4.66667Z\" fill=\"transparent\" stroke=\"#666C72\" stroke-width=\"1.2\"/></g><defs><clipPath id=\"clip0\"><rect width=\"16\" height=\"16\" fill=\"white\" transform=\"translate(0.5)\"/></clipPath></defs>`\n};\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnChanges,\r\n  Input,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\n\r\nconst specialCharacters = ' ()';\r\n\r\n@Component({\r\n  selector: 'j-input-shadow',\r\n  templateUrl: './input-shadow.component.html',\r\n  styleUrls: ['./input-shadow.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class InputShadowComponent implements OnInit, OnChanges {\r\n  @Input() value: string;\r\n  @Input() shadow: string;\r\n  @Input() hidden: boolean;\r\n\r\n  shadowArr = [];\r\n\r\n  constructor(public cd: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    // if (this.shadow) {\r\n    //   this.shadowArr = this.checkShadow(this.value, this.shadow);\r\n    // }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.shadow) {\r\n      this.shadowArr = this.checkShadow(this.value, this.shadow);\r\n      this.cd.markForCheck();\r\n    }\r\n  }\r\n\r\n  checkShadow(inputValue = '', shadow: string) {\r\n    const result = [];\r\n    let valueIndex = 0;\r\n    let i = 0;\r\n\r\n    for (; i < shadow.length; i++) {\r\n      const maskChar = shadow[i];\r\n      let inputChar;\r\n\r\n      if (specialCharacters.includes(maskChar)) {\r\n        inputChar = maskChar;\r\n      } else {\r\n        inputChar = inputValue && inputValue[valueIndex];\r\n        valueIndex++;\r\n      }\r\n\r\n      const resultChar = inputChar || maskChar;\r\n\r\n      result.push({\r\n        invisible: resultChar === inputChar,\r\n        placeholder: resultChar === '_',\r\n        value: resultChar,\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  forwardRef,\r\n  Input,\r\n  HostListener,\r\n  ChangeDetectorRef,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { MaskPipe } from 'ngx-mask';\r\n\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\nimport { CURRENCY } from '@shared/currency/currency.model';\r\nimport { CurSymbolPipe } from '@shared/pipes/cur-symbol.pipe';\r\n\r\nimport { JInputComponent, InputType } from '../input.component';\r\n\r\n@Component({\r\n  selector: 'j-amount-input',\r\n  templateUrl: './amount-input.component.html',\r\n  styleUrls: ['./amount-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AmountInputComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class AmountInputComponent extends JInputComponent {\r\n  @Input() label = 'SHARED.AMOUNT';\r\n  @Input() minAmount = 0;\r\n\r\n  @Input() currency: CURRENCY = CURRENCY.KZT;\r\n\r\n  @Input() type = InputType.text;\r\n  maskType = 'amountSeparated';\r\n\r\n  regexStr = '^[0-9 ,]*$';\r\n\r\n  isMinAmountShown = false;\r\n  currencySymbol: string;\r\n\r\n  constructor(\r\n    public maskedService: MaskedService,\r\n    private maskPipe: MaskPipe,\r\n    private cdr: ChangeDetectorRef,\r\n    private curSymbolPipe: CurSymbolPipe\r\n  ) {\r\n    super(maskedService);\r\n  }\r\n\r\n  @HostListener('keypress', ['$event']) onKeyPress(event) {\r\n    return new RegExp(this.regexStr).test(event.key);\r\n  }\r\n\r\n  onPaste(event: ClipboardEvent) {\r\n    event.preventDefault();\r\n\r\n    const clipboardData = event.clipboardData || (window as any).clipboardData;\r\n    const pastedText = clipboardData.getData('text');\r\n    const toPasteRaw = this.maskedService.getMaskedAmount(pastedText);\r\n\r\n    this.formControl.setValue(toPasteRaw);\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (typeof this.formControl.value != 'string') {\r\n      this.formControl.setValue(`${this.formControl.value}`);\r\n    }\r\n\r\n    this.currencySymbol = this.curSymbolPipe.transform(this.currency);\r\n    this.maskConfig = this.maskedService.getConfig(\r\n      this.maskType,\r\n      ` ${this.currencySymbol}`\r\n    );\r\n\r\n    this.cdr.detectChanges();\r\n\r\n    const formSubscription = this.formControl.valueChanges.subscribe(\r\n      (value) => {\r\n        if (this.unmaskedValue) {\r\n          this.valueChanged.emit(this.unmaskedValue);\r\n        }\r\n      }\r\n    );\r\n\r\n    this.subscription.add(formSubscription);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.currency) {\r\n      const prevPristine = this.formControl.pristine;\r\n      this.currencySymbol = this.curSymbolPipe.transform(this.currency);\r\n\r\n      if (prevPristine) {\r\n        this.formControl.markAsPristine();\r\n      }\r\n\r\n      this.cdr.detectChanges();\r\n    } else {\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  onBackspaceClick(event) {\r\n    const selectionMaxIndex =\r\n      this.getMaskedAmount(this.formControl.value).length - 2;\r\n\r\n    if (\r\n      event.target.selectionEnd >= selectionMaxIndex &&\r\n      event.target.selectionEnd - event.target.selectionStart <= 2\r\n    ) {\r\n      this.formControl.setValue(\r\n        this.formControl.value?.substring(0, this.formControl.value.length - 1)\r\n      );\r\n    }\r\n  }\r\n\r\n  onFocus() {\r\n    this.isFocused = true;\r\n    this.isMinAmountShown = true;\r\n    this.focused.emit();\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  onBlur() {\r\n    this.isFocused = false;\r\n    this.blurred.emit();\r\n\r\n    setTimeout(() => {\r\n      if (!this.isFocused) {\r\n        this.isMinAmountShown = false;\r\n      }\r\n\r\n      this.cdr.detectChanges();\r\n    }, 200);\r\n  }\r\n\r\n  setCursorToEnd(event) {\r\n    // const selectionMaxIndex = this.getMaskedAmount(this.formControl.value)\r\n    //   .length;\r\n    // if (event.target.selectionEnd > selectionMaxIndex) {\r\n    //   this.input.nativeElement.setSelectionRange(\r\n    //     event.target.selectionStart,\r\n    //     selectionMaxIndex\r\n    //   );\r\n    // }\r\n  }\r\n\r\n  setMinAmount(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.formControl.setValue(`${this.minAmount}`);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  get isFilled() {\r\n    return `${this.formControl.value}`?.length > 0;\r\n  }\r\n\r\n  get isClearEnabled() {\r\n    return this.unmaskedValue && this.isMinAmountShown;\r\n  }\r\n\r\n  get unmaskedValue() {\r\n    return this.maskedService.getNumberedAmount(this.formControl.value);\r\n  }\r\n\r\n  get maskedMinAmount() {\r\n    return this.getMaskedAmount(this.minAmount);\r\n  }\r\n\r\n  private getMaskedAmount(amount) {\r\n    return `${this.maskedService.formatAmount(amount)} ${this.currencySymbol}`;\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ICountryCode } from '@shared/models';\n\n@Component({\n  selector: 'j-country-codes',\n  templateUrl: './country-codes.component.html',\n  styleUrls: ['./country-codes.component.scss']\n})\nexport class CountryCodesComponent {\n  @Input() countryCodes: ICountryCode[];\n  searchText = '';\n\n  constructor(\n    public modal: NgbActiveModal,\n  ) { }\n\n  onQueryChange(event) {\n    this.searchText = event;\n  }\n\n  onCodeSelected(el) {\n    this.modal.close(el);\n  }\n\n  get filteredCountryCodes() {\n    return this.countryCodes?.filter(el => el.country.toLowerCase().includes(this.searchText.toLowerCase()) || el.code.includes(this.searchText));\n  }\n}\n","import {\r\n  Component,\r\n  forwardRef,\r\n  Input,\r\n  ViewChild,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatePipe } from '@angular/common';\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport {\r\n  NgbDate,\r\n  NgbDatepicker,\r\n  NgbDatepickerI18n,\r\n  NgbDropdown,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { CustomDatepickerI18n } from '@core/components';\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\nimport { PERIOD_FORMAT_INPUT } from '@filter/filter.model';\r\n\r\nimport { JInputComponent } from '../input.component';\r\n\r\n@Component({\r\n  selector: 'j-date-input',\r\n  templateUrl: './date-input.component.html',\r\n  styleUrls: ['./date-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => DateInputComponent),\r\n      multi: true,\r\n    },\r\n    { provide: NgbDatepickerI18n, useClass: CustomDatepickerI18n },\r\n  ],\r\n})\r\nexport class DateInputComponent\r\n  extends JInputComponent\r\n  implements ControlValueAccessor\r\n{\r\n  @Input() name = 'date';\r\n  @Input() label = 'SHARED.DATE';\r\n  @Input() maskType = 'date';\r\n\r\n  @Input() isErrorsHidden: boolean = false;\r\n  @Input() isCalendarShown: boolean = true;\r\n\r\n  @Input() minDate = new Date(1991, 1, 1);\r\n  @Input() maxDate = new Date();\r\n\r\n  datepickerModel;\r\n\r\n  @ViewChild('datepicker') datepicker: NgbDatepicker;\r\n  @ViewChild('dropdown') dropdown: NgbDropdown;\r\n\r\n  constructor(\r\n    public i18n: NgbDatepickerI18n,\r\n    public maskedService: MaskedService,\r\n    private datePipe: DatePipe\r\n  ) {\r\n    super(maskedService);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.maskConfig = this.maskedService.getConfig(this.maskType);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {}\r\n\r\n  onDateSelect(pickedDate: NgbDate) {\r\n    const newDate = new Date(\r\n      pickedDate.year,\r\n      pickedDate.month - 1,\r\n      pickedDate.day\r\n    );\r\n    const newValue = this.datePipe.transform(newDate, `dd.MM.yyyy`);\r\n    this.formControl.setValue(newValue);\r\n    this.hideDatepicker();\r\n  }\r\n\r\n  onKeyUp() {\r\n    this.errorText = '';\r\n\r\n    if (this.formControl.errors?.max) {\r\n      this.errorText = 'ERRORS.INVALID_INPUT';\r\n    }\r\n\r\n    if (!this.formControl.valid) {\r\n      return;\r\n    }\r\n\r\n    const [day, month, year] = this.formControl.value.split('.');\r\n\r\n    if (this.isDateValid()) {\r\n      this.datepicker?.navigateTo({\r\n        day: parseInt(day),\r\n        month: parseInt(month),\r\n        year: parseInt(year),\r\n      });\r\n\r\n      this.datepickerModel = {\r\n        day: parseInt(day),\r\n        month: parseInt(month),\r\n        year: parseInt(year),\r\n      };\r\n    } else {\r\n      this.errorText = 'ERRORS.INVALID_INPUT';\r\n    }\r\n  }\r\n\r\n  showDatepicker() {\r\n    this.dropdown?.open();\r\n  }\r\n\r\n  hideDatepicker() {\r\n    this.dropdown?.close();\r\n  }\r\n\r\n  onFocus() {\r\n    super.onFocus();\r\n    this.showDatepicker();\r\n  }\r\n\r\n  get ngbMinDate() {\r\n    const mapped = {\r\n      day: this.minDate.getDate(),\r\n      month: this.minDate.getMonth() + 1,\r\n      year: this.minDate.getFullYear(),\r\n    };\r\n\r\n    return mapped;\r\n  }\r\n\r\n  get ngbMaxDate() {\r\n    const mapped = {\r\n      day: this.maxDate.getDate(),\r\n      month: this.maxDate.getMonth() + 1,\r\n      year: this.maxDate.getFullYear(),\r\n    };\r\n\r\n    return mapped;\r\n  }\r\n\r\n  setDisabledState(state: boolean) {\r\n    this.isDisabled = state;\r\n  }\r\n\r\n  private isDateValid() {\r\n    const newDate = moment(this.formControl.value, PERIOD_FORMAT_INPUT);\r\n    const maxDate = moment(this.maxDate);\r\n    const minDate = moment(this.minDate);\r\n\r\n    return (\r\n      newDate.isValid() &&\r\n      newDate.isSameOrBefore(maxDate) &&\r\n      newDate.isSameOrAfter(minDate)\r\n    );\r\n  }\r\n}\r\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\nimport {\n  Component,\n  ContentChild,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  TemplateRef,\n  ViewEncapsulation,\n} from '@angular/core';\n\nexport enum KEYBOARD_KEY {\n  ARROW_DOWN = 'ArrowDown',\n  ARROW_UP = 'ArrowUp',\n  ENTER = 'Enter',\n  ESC = 'Escape',\n  SPACE = 'Space',\n}\n\n@Component({\n  selector: 'j-dropdown-input',\n  templateUrl: './dropdown-input.component.html',\n  styleUrls: ['./dropdown-input.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('smoothCollapse', [\n      state(\n        'initial',\n        style({\n          height: '0',\n          overflow: 'hidden',\n          opacity: '0.5',\n        })\n      ),\n      state(\n        'final',\n        style({\n          overflow: 'auto',\n          opacity: '1',\n          maxHeight: '300px',\n        })\n      ),\n      transition('initial=>final', animate('300ms ease-in-out')),\n      transition('final=>initial', animate('300ms ease-in-out')),\n    ]),\n  ],\n})\nexport class DropdownInputComponent {\n  @Input() label: string;\n  @Input() inputClass: string;\n  @Input() isLoading: boolean = false;\n  @Input() hasError: boolean = false;\n\n  @Input() isDisabled: boolean = false;\n  @Input() isLabelHidden: boolean = false;\n  @Input() labelShowAnyWay: boolean = false;\n  @Input() options: any[] = [];\n\n  @Input() emptyLabel: string = 'ACCOUNTS.EMPTY';\n\n  @Input() blockedFn: Function;\n\n  @Input() nonClosingAfterSelection = false;\n\n  @Input() selectedItem: any;\n  @Output() selected = new EventEmitter();\n\n  hoveredItem = null;\n  isCollapsed = false;\n\n  @ContentChild('selectedTemplate', { static: false })\n  selectedTemplate: TemplateRef<any>;\n  @ContentChild('optionTemplate', { static: false })\n  optionTemplate: TemplateRef<any>;\n\n  constructor() {}\n\n  public clearSelected() {\n    this.selectedItem = null;\n  }\n\n  public selectItem(item: any) {\n    if (!item) {\n      return;\n    }\n\n    this.selectedItem = item;\n\n    this.isCollapsed = this.isCollapsed = !!this.nonClosingAfterSelection;;\n  }\n\n  isBlocked(item: any) {\n    if (!this.blockedFn) {\n      return false;\n    }\n\n    return this.blockedFn(item);\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.isCollapsed) {\n      return;\n    }\n\n    switch (event.key) {\n      case KEYBOARD_KEY.ARROW_DOWN:\n        event.preventDefault();\n        this.handleArrowDown();\n        break;\n\n      case KEYBOARD_KEY.ARROW_UP:\n        event.preventDefault();\n        this.handleArrowUp();\n        break;\n\n      case KEYBOARD_KEY.ENTER:\n        event.preventDefault();\n        this.handleEnter();\n        break;\n\n      default:\n        this.close();\n        break;\n    }\n  }\n\n  close() {\n    this.isCollapsed = false;\n  }\n\n  toggleCollapse() {\n    if (this.isDisabled) {\n      return;\n    }\n    this.isCollapsed = !this.isCollapsed;\n  }\n\n  onClickOutside() {\n    this.isCollapsed = false;\n  }\n\n  onSelect(item) {\n    if (this.isBlocked(item)) {\n      return;\n    }\n\n    this.selectItem(item);\n    this.selected.emit(item);\n  }\n\n  get selectableOptions() {\n    return this.options.filter((option) => !this.isBlocked(option));\n  }\n\n  private handleArrowDown() {\n    if (!this.hoveredItem) {\n      this.hoveredItem = this.selectableOptions[0];\n    } else {\n      let index = this.selectableOptions.indexOf(this.hoveredItem);\n      if (index < this.selectableOptions.length - 1) {\n        this.hoveredItem = this.selectableOptions[++index];\n      } else {\n        this.hoveredItem = this.selectableOptions[0];\n      }\n    }\n  }\n\n  private handleArrowUp() {\n    if (!this.hoveredItem) {\n      this.hoveredItem = this.selectableOptions[0];\n    } else {\n      let index = this.selectableOptions.indexOf(this.hoveredItem);\n      if (index > 0) {\n        this.hoveredItem = this.selectableOptions[--index];\n      } else {\n        this.hoveredItem = this.selectableOptions[this.options.length - 1];\n      }\n    }\n  }\n\n  private handleEnter() {\n    if (!this.hoveredItem) {\n      return;\n    }\n    this.onSelect(this.hoveredItem);\n  }\n}\n","import { Component, forwardRef, Input, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { BankFromAccountPipe } from '@shared/pipes';\nimport { MaskPipe } from 'ngx-mask';\nimport { JInputComponent } from '../input.component';\n\n@Component({\n  selector: 'j-iban-input',\n  templateUrl: './iban-input.component.html',\n  styleUrls: ['./iban-input.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => IbanInputComponent),\n      multi: true,\n    },\n  ],\n})\nexport class IbanInputComponent extends JInputComponent {\n  @Input() label = 'IBAN';\n  @Input() isLoading = false;\n  @Input()\n  maskType = 'iban';\n\n  constructor(\n    public maskedService: MaskedService,\n    private maskPipe: MaskPipe,\n    private bankFromAccountPipe: BankFromAccountPipe\n  ) {\n    super(maskedService);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  onPaste(event: ClipboardEvent) {\n    event.preventDefault();\n    const clipboardData = event.clipboardData || (window as any).clipboardData;\n    const pastedText = clipboardData.getData('text');\n    const toPasteRaw = this.maskedService.getPastedIban(pastedText);\n    this.formControl.setValue(this.getMaskedIban(toPasteRaw));\n  }\n\n  onBackspaceClick(event) {\n    const selectionMinIndex = this.maskConfig.prefix.length;\n    if (event.target.selectionStart < selectionMinIndex) {\n      this.input.nativeElement.setSelectionRange(\n        selectionMinIndex,\n        event.target.selectionEnd\n      );\n    }\n  }\n\n  onKeyUp() {\n    if (this.hasInternalError) {\n      this.triggerHelperAnimation();\n    }\n  }\n\n  get internalError() {\n    if (this.hasWrongBicError) {\n      return 'ERRORS.WRONG_BIC';\n    } else if (this.hasMaxLengthError) {\n      return 'ERRORS.IBAN_LENGTH';\n    }\n    return null;\n  }\n\n  get hasInternalError() {\n    return this.hasWrongBicError || this.hasMaxLengthError;\n  }\n\n  get hasWrongBicError() {\n    return !this.formControl.errors?.mask && this.formControl.errors?.bankExist;\n  }\n\n  get hasMaxLengthError() {\n    return this.formControl.errors?.mask && this.hasError;\n  }\n\n  get shadow() {\n    const maskedValue = this.maskPipe.transform(\n      this.formControl.value,\n      this.maskConfig.mask\n    );\n    return this.maskedService.getShadow(this.maskType, maskedValue);\n  }\n\n  get hasBankLogo() {\n    return this.bic ? true : false;\n  }\n\n  get isShadowHidden() {\n    return !this.isFilled && !this.isFocused;\n  }\n\n  get isPrefixHidden() {\n    return !this.isFilled && !this.isFocused;\n  }\n\n  get bic() {\n    const fullIban = this.getFullIban(this.formControl.value);\n    return this.bankFromAccountPipe.transform(fullIban, 'bic');\n  }\n\n  clear() {\n    if (this.isDisabled) {\n      return;\n    }\n    this.formControl.setValue('');\n\n    const selectionIndex =\n      this.formControl.value.length + this.maskConfig.prefix.length;\n    this.focus(selectionIndex);\n  }\n\n  private getFullIban(ibanWithoutPrefix: string) {\n    return `${this.maskConfig.prefix}${ibanWithoutPrefix}`;\n  }\n\n  private getMaskedIban(unmaskedIban: string) {\n    const maskedValue = this.maskPipe.transform(\n      unmaskedIban,\n      this.maskConfig.mask\n    );\n    return maskedValue;\n  }\n}\n","import {\r\n  Component,\r\n  forwardRef,\r\n  Input,\r\n  SimpleChanges,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { MaskPipe } from 'ngx-mask';\r\n\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\nimport { JInputComponent } from '../input.component';\r\n\r\n@Component({\r\n  selector: 'j-iin-input',\r\n  templateUrl: './iin-input.component.html',\r\n  styleUrls: ['./iin-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => IinInputComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class IinInputComponent extends JInputComponent {\r\n  @Input() label = 'SHARED.IIN';\r\n  @Input() isLoading = false;\r\n  @Input()\r\n  maskType = 'iin';\r\n\r\n  @Input() iinName: string;\r\n\r\n  @ViewChild('nameSuffix', { static: true }) nameSuffix;\r\n\r\n  iinMaskConfig = this.maskedService.getConfig('iin');\r\n\r\n  constructor(public maskedService: MaskedService, private maskPipe: MaskPipe) {\r\n    super(maskedService);\r\n  }\r\n\r\n  onPaste(event: ClipboardEvent) {\r\n    const clipboardData = event.clipboardData || (window as any).clipboardData;\r\n    const pastedText = clipboardData.getData('text');\r\n    const maskedText = this.maskPipe.transform(\r\n      pastedText,\r\n      this.iinMaskConfig.mask\r\n    );\r\n\r\n    setTimeout(() => {\r\n      this.input.nativeElement.setSelectionRange(\r\n        maskedText.length,\r\n        maskedText.length\r\n      );\r\n    }, 0);\r\n  }\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (\r\n      this.nameSuffix &&\r\n      changes.iinName &&\r\n      changes.iinName.currentValue == '' &&\r\n      changes.iinName.previousValue != ''\r\n    ) {\r\n      this.iinName = '';\r\n    }\r\n  }\r\n\r\n  get isShadowHidden() {\r\n    return (this.isValueEmpty() && !this.isFocused) || this.isValueMaxWidth();\r\n  }\r\n\r\n  get shadow() {\r\n    const maskedValue = this.maskPipe.transform(\r\n      this.formControl.value,\r\n      this.iinMaskConfig.mask\r\n    );\r\n    return this.maskedService.getShadow(this.maskType, maskedValue);\r\n  }\r\n\r\n  private isValueEmpty() {\r\n    return !this.formControl.value || this.formControl.value.length === 0;\r\n  }\r\n\r\n  private isValueMaxWidth() {\r\n    return (\r\n      this.formControl.value &&\r\n      this.formControl.value.length === this.maskConfig.shadow.length\r\n    );\r\n  }\r\n}\r\n","import { AmountInputComponent } from './amount-input/amount-input.component';\nimport { DateInputComponent } from './date-input/date-input.component';\nimport { IinInputComponent } from './iin-input/iin-input.component';\nimport { PasswordInputComponent } from './password-input/password-input.component';\nimport { PeriodInputComponent } from './period-input/period-input.component';\nimport { PhoneInputComponent } from './phone-input/phone-input.component';\nimport { RangeInputComponent } from './range-input/range-input.component';\nimport { SearchInputComponent } from './search-input/search-input.component';\nimport { SmsInputComponent } from './sms-input/sms-input.component';\nimport { JInputComponent } from './input.component';\nimport { IbanInputComponent } from './iban-input/iban-input.component';\nimport { DropdownInputComponent } from './dropdown-input/dropdown-input.component';\nimport { CountryCodesComponent } from './country-codes/country-codes.component';\nimport { PhonePrefixInputComponent } from './phone-prefix-input/phone-prefix-input.component';\nimport { MultiSelectDropdownInputComponent } from './multi-select-dropdown-input/multi-select-dropdown-input.component';\n\nexport const INPUT_COMPONENTS = [\n  AmountInputComponent,\n  DateInputComponent,\n  IinInputComponent,\n  PasswordInputComponent,\n  PeriodInputComponent,\n  PhoneInputComponent,\n  RangeInputComponent,\n  SearchInputComponent,\n  SmsInputComponent,\n  IbanInputComponent,\n  DropdownInputComponent,\n  JInputComponent,\n  CountryCodesComponent,\n  PhonePrefixInputComponent,\n  MultiSelectDropdownInputComponent,\n];\n\nexport * from './amount-input/amount-input.component';\nexport * from './date-input/date-input.component';\nexport * from './iin-input/iin-input.component';\nexport * from './password-input/password-input.component';\nexport * from './period-input/period-input.component';\nexport * from './phone-input/phone-input.component';\nexport * from './range-input/range-input.component';\nexport * from './search-input/search-input.component';\nexport * from './sms-input/sms-input.component';\nexport * from './iban-input/iban-input.component';\nexport * from './dropdown-input/dropdown-input.component';\nexport * from './input.component';\nexport * from './country-codes/country-codes.component';\nexport * from './phone-prefix-input/phone-prefix-input.component';\nexport * from './multi-select-dropdown-input/multi-select-dropdown-input.component';","import {\r\n  OnInit,\r\n  Component,\r\n  EventEmitter,\r\n  Output,\r\n  ViewChild,\r\n  Input,\r\n  forwardRef,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnDestroy,\r\n  ElementRef,\r\n  AfterViewInit,\r\n} from '@angular/core';\r\n\r\nimport {\r\n  FormControl,\r\n  NG_VALUE_ACCESSOR,\r\n  ControlValueAccessor,\r\n} from '@angular/forms';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { generateUniqueId } from '@utils/index';\r\n\r\nimport { MaskedService } from '../masked/masked.service';\r\nimport { MaskedConfig } from '../masked/masked';\r\n\r\nexport enum InputType {\r\n  textarea = 'textarea',\r\n  text = 'text',\r\n  number = 'number',\r\n}\r\n\r\n@Component({\r\n  selector: 'j-input',\r\n  templateUrl: './input.component.html',\r\n  styleUrls: ['./input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => JInputComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class JInputComponent\r\n  implements OnInit, ControlValueAccessor, OnChanges, OnDestroy, AfterViewInit\r\n{\r\n  @Input() id = generateUniqueId();\r\n  @Input() label = '';\r\n  @Input() name = '';\r\n  @Input() type: InputType;\r\n  @Input() maxLength: number;\r\n  @Input() maskType = null;\r\n  @Input() dropSpecialCharacters = true;\r\n  @Input() computeSuffix: (inputValue: any) => string = null;\r\n\r\n  @Input() errorText = null;\r\n  @Input() errorParams = null;\r\n  @Input() errorMessages?: {\r\n    error: string;\r\n    message: string;\r\n  }[];\r\n  @Input() helperText = null;\r\n  @Input() helperTextParams = {};\r\n\r\n  @Input() hasError = false;\r\n  @Input() isActive = false;\r\n  @Input() isClearable = true;\r\n  @Input() shadowClass = '';\r\n  @Input() inputClass = '';\r\n\r\n  @Input() inputExtra;\r\n\r\n  @Input() value = '';\r\n  @Output() valueChanged = new EventEmitter<any>();\r\n\r\n  @Input() formControl: FormControl = new FormControl(this.value || '');\r\n  @Input() autofocus: boolean;\r\n\r\n  @Input() isDisabled: boolean;\r\n\r\n  @ViewChild('input') input: ElementRef;\r\n  @ViewChild('link') link: ElementRef;\r\n  @ViewChild('button') button: ElementRef;\r\n\r\n  @Output() blurred = new EventEmitter<any>();\r\n  @Output() focused = new EventEmitter<any>();\r\n  @Output() keyup = new EventEmitter<any>();\r\n\r\n  helperClasses = '';\r\n\r\n  isFocused = false;\r\n\r\n  maskConfig: MaskedConfig;\r\n\r\n  types = InputType;\r\n\r\n  subscription: Subscription = new Subscription();\r\n\r\n  constructor(public maskedService: MaskedService) {}\r\n\r\n  ngOnInit() {\r\n    this.maskConfig = this.maskedService.getConfig(this.maskType);\r\n\r\n    const formSubscription = this.formControl.valueChanges.subscribe(\r\n      (value) => {\r\n        this.valueChanged.emit(value);\r\n      }\r\n    );\r\n\r\n    this.subscription.add(formSubscription);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // this.detectAutofill();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.triggerHelperAnimation();\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    this.keyup.emit(event);\r\n  }\r\n\r\n  onChange(_: any) {}\r\n  onTouched(_?: any) {}\r\n\r\n  writeValue(value: any) {\r\n    this.value = value;\r\n  }\r\n\r\n  registerOnChange(fn) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  onFocus() {\r\n    this.isFocused = true;\r\n    this.focused.emit();\r\n  }\r\n\r\n  onBlur() {\r\n    this.isFocused = false;\r\n    this.onTouched();\r\n    this.blurred.emit();\r\n  }\r\n\r\n  blur() {\r\n    this.input.nativeElement.blur();\r\n  }\r\n\r\n  clear() {\r\n    if (this.isDisabled) {\r\n      return;\r\n    }\r\n    this.formControl.setValue('');\r\n    this.focus();\r\n  }\r\n\r\n  focus(selectionIndex = 5) {\r\n    setTimeout(() => {\r\n      this.input.nativeElement.focus();\r\n      this.input.nativeElement.setSelectionRange(\r\n        selectionIndex,\r\n        selectionIndex\r\n      );\r\n    }, 0);\r\n  }\r\n\r\n  // detectAutofill() {\r\n  //   setTimeout(() => {\r\n  //     window\r\n  //       .getComputedStyle(this.input.nativeElement, null)\r\n  //       .getPropertyValue('appearance');\r\n  //   }, 600);\r\n  // }\r\n\r\n  public triggerHelperAnimation() {\r\n    this.helperClasses = 'animate__animated animate__shakeX';\r\n    setTimeout(() => {\r\n      this.helperClasses = '';\r\n    }, 1000);\r\n  }\r\n\r\n  get hasMask() {\r\n    return this.maskType !== null && this.maskConfig !== null;\r\n  }\r\n\r\n  get isFilled() {\r\n    const hasAutoFill =\r\n      this.input?.nativeElement &&\r\n      window\r\n        .getComputedStyle(this.input.nativeElement, null)\r\n        .getPropertyValue('appearance') === 'menulist-button';\r\n    return `${this.formControl.value}`?.length || hasAutoFill ? true : false;\r\n  }\r\n\r\n  get isShadowHidden() {\r\n    // if (!this.formControl.value) {\r\n    //   return true;\r\n    // }\r\n    return !this.formControl.value && !this.isFocused;\r\n  }\r\n\r\n  get suffix() {\r\n    if (this.maskConfig.suffix) return this.maskConfig.suffix;\r\n    if (this.computeSuffix) {\r\n      return this.computeSuffix(this.formControl.value);\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get shadow() {\r\n    return this.maskedService.getShadow(this.maskType, this.formControl.value);\r\n  }\r\n}\r\n","import {\n  animate,\n  state,\n  style,\n  transition,\n  trigger,\n} from '@angular/animations';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  HostListener,\n  Input,\n  Output,\n  Provider,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { KEYBOARD_KEY } from '../dropdown-input/dropdown-input.component';\n\nconst TO_SHOW: number = 2;\n\nexport interface IMultiSelectDropdownOption {\n  value: unknown;\n  label: string;\n}\n\nconst MSDI_VALUE_ACCESSOR: Provider = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MultiSelectDropdownInputComponent),\n  multi: true,\n};\n\nconst SMOOTH_COLLAPSE = trigger('smoothCollapse', [\n  state(\n    'initial',\n    style({\n      height: '0',\n      overflow: 'hidden',\n      opacity: '0.5',\n    })\n  ),\n  state(\n    'final',\n    style({\n      overflow: 'auto',\n      opacity: '1',\n      maxHeight: '300px',\n    })\n  ),\n  transition('initial=>final', animate('300ms ease-in-out')),\n  transition('final=>initial', animate('300ms ease-in-out')),\n]);\n\n@Component({\n  selector: 'j-multi-select-dropdown-input',\n  templateUrl: './multi-select-dropdown-input.component.html',\n  styleUrls: ['./multi-select-dropdown-input.component.scss'],\n  providers: [MSDI_VALUE_ACCESSOR],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [SMOOTH_COLLAPSE],\n})\nexport class MultiSelectDropdownInputComponent implements ControlValueAccessor {\n  @Input()\n  options: IMultiSelectDropdownOption[] = [];\n\n  @Input()\n  focusIndex: number = 0;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  isCollapsed: boolean = false;\n\n  @Input()\n  loading: boolean = false;\n\n  @Input()\n  openUnder: boolean = true;\n\n  @Input()\n  disabled: boolean = false;\n\n  @Output()\n  changed: EventEmitter<unknown[]> = new EventEmitter();\n\n  selectedItems: IMultiSelectDropdownOption[] = [];\n\n  touched: boolean = false;\n\n  @HostListener('document:click', ['$event'])\n  clickOutside(event: MouseEvent) {\n    if (!this.eRef.nativeElement.contains(event.target)) {\n      this.isCollapsed = false;\n      this.cdr.detectChanges();\n    }\n  }\n\n  @HostListener('document:keydown', ['$event'])\n  keydown(event: KeyboardEvent) {\n    const allowedKeys: string[] = Object.values(KEYBOARD_KEY);\n\n    if (!this.isCollapsed || !allowedKeys.includes(event.code)) {\n      return;\n    } else {\n      event.preventDefault();\n    }\n\n    switch (event.code) {\n      case KEYBOARD_KEY.ARROW_DOWN:\n        this.arrowDown();\n        break;\n      case KEYBOARD_KEY.ARROW_UP:\n        this.arrowUp();\n        break;\n      case KEYBOARD_KEY.ESC:\n        this.close();\n        break;\n      case KEYBOARD_KEY.ENTER:\n        this.finish();\n        break;\n      case KEYBOARD_KEY.SPACE:\n        this.toggleSelect(this.options[this.focusIndex]);\n        break;\n    }\n  }\n\n  // TODO: It's just a draft will be optimized & refactored\n  @Input()\n  displaySelectedFn(selectedItems: IMultiSelectDropdownOption[]): string {\n    let result: string = this.translateService.instant(this.placeholder);\n\n    const stringify: string = selectedItems\n      ?.slice(0, TO_SHOW)\n      .map((item) => this.translateService.instant(item.label))\n      .join(', ');\n\n    if (selectedItems?.length > TO_SHOW) {\n      result =\n        stringify +\n        ' ' +\n        this.translateService.instant('SHARED.AND') +\n        ' ' +\n        (selectedItems.length - TO_SHOW);\n    } else if (selectedItems?.length > 0) {\n      result = stringify;\n    }\n\n    return result;\n  }\n\n  @Input()\n  displayItemFn(item: IMultiSelectDropdownOption): string {\n    const toString = this.translateService.instant(item.label);\n\n    return toString;\n  }\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    private eRef: ElementRef,\n    private translateService: TranslateService\n  ) {}\n\n  private findItemIndex(option: IMultiSelectDropdownOption): number {\n    return this.selectedItems.findIndex((item) => item.value == option.value);\n  }\n\n  private arrowDown(): void {\n    if (this.focusIndex < this.options.length - 1) {\n      this.focusIndex++;\n    } else {\n      this.focusIndex = 0;\n    }\n\n    this.cdr.markForCheck();\n  }\n\n  private arrowUp(): void {\n    if (this.focusIndex > 0) {\n      this.focusIndex--;\n    } else {\n      this.focusIndex = this.options.length - 1;\n    }\n\n    this.cdr.markForCheck();\n  }\n\n  writeValue(items: unknown[]): void {\n    const rawByValue = this.options.filter((item) =>\n      items?.includes(item.value)\n    );\n    this.selectedItems = rawByValue ?? [];\n\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n\n    this.cdr.markForCheck();\n  }\n\n  onChange(_: any) {}\n\n  onTouched = () => {};\n\n  markAsTouched() {\n    if (!this.touched) {\n      this.onTouched();\n      this.touched = true;\n    }\n\n    this.cdr.markForCheck();\n  }\n\n  isItemActive(option: IMultiSelectDropdownOption): boolean {\n    return this.findItemIndex(option) !== -1;\n  }\n\n  toggleSelect(option: IMultiSelectDropdownOption): void {\n    if (this.isItemActive(option)) {\n      const index = this.findItemIndex(option);\n      this.selectedItems.splice(index, 1);\n    } else {\n      this.selectedItems.push(option);\n    }\n\n    const values = this.selectedItems.map((item) => item.value);\n\n    this.onChange(values);\n    this.changed.emit(values);\n    this.cdr.markForCheck();\n  }\n\n  finish(): void {\n    this.close();\n  }\n\n  toggleCollapse(): void {\n    if (this.disabled) {\n      return;\n    }\n\n    this.isCollapsed = !this.isCollapsed;\n  }\n\n  close(): void {\n    this.isCollapsed = false;\n  }\n\n  trackByLabel(\n    index: number,\n    obj: IMultiSelectDropdownOption\n  ): string | number {\n    return obj.label;\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  forwardRef,\n  HostListener,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { JInputComponent } from '../input.component';\nimport { MaskedService } from '../../masked/masked.service';\n\nexport const PASSWORD_ALLOWED_REGEX = /[a-zA-Z0-9.!#$%^&*@]/;\nexport const PASSWORD_RESTRICTED_REGEX = /[^a-zA-Z0-9.!#$%^&*@]/;\n@Component({\n  selector: 'j-password-input',\n  templateUrl: './password-input.component.html',\n  styleUrls: ['./password-input.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => PasswordInputComponent),\n      multi: true,\n    },\n  ],\n})\nexport class PasswordInputComponent extends JInputComponent implements OnInit {\n  @Input() label = 'SHARED.PASSWORD';\n  @Input() isAuth = false;\n\n  @Input() hasCyrillicCheck = false;\n  @Input() hasCapsLockCheck = false;\n\n  isPasswordVisible = false;\n\n  @Input() regexStr = PASSWORD_ALLOWED_REGEX;\n  @Input() pasteRegexStr = PASSWORD_RESTRICTED_REGEX;\n\n  isCyrillicEntered: boolean = false;\n  isCapsLockEnabled: boolean = false;\n\n  constructor(public maskedService: MaskedService) {\n    super(maskedService);\n  }\n\n  @HostListener('keyup', ['$event']) onKeyUp(event: KeyboardEvent) {\n    if (this.hasCyrillicCheck) {\n      this.isCyrillicEntered =\n        PASSWORD_RESTRICTED_REGEX.test(this.formControl.value) ||\n        PASSWORD_RESTRICTED_REGEX.test(event.key);\n    }\n    if (this.hasCapsLockCheck) {\n      try {\n        this.isCapsLockEnabled = event.getModifierState('CapsLock');\n      } catch (error) {}\n    }\n  }\n\n  @HostListener('keypress', ['$event']) onKeyPress(event) {\n    return this.regexStr.test(event.key);\n  }\n\n  @HostListener('paste', ['$event']) blockPaste(event: KeyboardEvent) {\n    this.validateFields(event);\n  }\n\n  validateFields(event) {\n    setTimeout(() => {\n      this.input.nativeElement.value = this.input.nativeElement.value\n        .replace(this.pasteRegexStr, '')\n        .replace(/\\s/g, '')\n        .replace(/ /g, '');\n      event.preventDefault();\n    }, 100);\n  }\n\n  ngOnInit(): void {\n    this.maskConfig = this.maskedService.getConfig(this.maskType);\n  }\n\n  togglePasswordVisibility(event: Event): void {\n    event.preventDefault();\n    this.isPasswordVisible = !this.isPasswordVisible;\n    this.focus();\n  }\n\n  get passwordInputType(): string {\n    return this.isPasswordVisible ? 'text' : 'password';\n  }\n\n  get passwordIconName(): string {\n    return this.isPasswordVisible ? 'eyeOpened' : 'eyeClosed';\n  }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\nimport {\r\n  BsDatepickerConfig,\r\n  BsDatepickerViewMode,\r\n  BsLocaleService,\r\n} from 'ngx-bootstrap/datepicker';\r\n\r\nimport { defineLocale } from 'ngx-bootstrap/chronos';\r\nimport { ruLocale } from 'ngx-bootstrap/locale';\r\nimport { kkLocale } from 'ngx-bootstrap/locale';\r\n\r\nimport { JInputComponent } from '../input.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n(ruLocale.months = {\r\n  format:\r\n    '___________'.split(\r\n      '_'\r\n    ),\r\n  standalone:\r\n    '___________'.split(\r\n      '_'\r\n    ),\r\n}),\r\n  defineLocale('ru', ruLocale);\r\n\r\n(ruLocale.months = {\r\n  format:\r\n    '___________'.split(\r\n      '_'\r\n    ),\r\n  standalone:\r\n    '___________'.split(\r\n      '_'\r\n    ),\r\n}),\r\n  defineLocale('kk', kkLocale);\r\n\r\n@Component({\r\n  selector: 'j-period-input',\r\n  templateUrl: './period-input.component.html',\r\n  styleUrls: ['./period-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => PeriodInputComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class PeriodInputComponent extends JInputComponent {\r\n  @Input() label = 'SHARED.PERIOD.TITLE';\r\n  @Input() formControl;\r\n\r\n  locale = this.translateService.currentLang;\r\n\r\n  colorTheme = 'theme-jysan';\r\n  minMode: BsDatepickerViewMode = 'month';\r\n  bsValue: Date;\r\n  bsConfig: Partial<BsDatepickerConfig>;\r\n\r\n  minDate = new Date('1991-01-01');\r\n  maxDate = new Date();\r\n\r\n  constructor(\r\n    public maskedService: MaskedService,\r\n    private localeService: BsLocaleService,\r\n    private translateService: TranslateService,\r\n    private bsDatepickerConfig: BsDatepickerConfig\r\n  ) {\r\n    super(maskedService);\r\n\r\n    this.maxDate.setFullYear(this.maxDate.getFullYear() + 1);\r\n    this.maxDate.setMonth(11);\r\n\r\n    this.bsConfig = Object.assign(\r\n      {},\r\n      {\r\n        minDate: this.minDate,\r\n        maxDate: this.maxDate,\r\n        isAnimated: true,\r\n        dateInputFormat: 'MMMM YYYY',\r\n        minMode: this.minMode,\r\n        containerClass: this.colorTheme,\r\n      }\r\n    );\r\n    this.bsDatepickerConfig.dateInputFormat = 'MMMM YYYY';\r\n    this.localeService.use(this.locale);\r\n\r\n    this.subscription.add(\r\n      this.translateService.onLangChange.subscribe((locale) => {\r\n        this.localeService.use(locale.lang);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.formControl.value && this.value) {\r\n      this.formControl.setValue(this.value);\r\n    }\r\n    const formSubscription = this.formControl.valueChanges.subscribe(\r\n      (value) => {\r\n        this.valueChanged.emit(value);\r\n      }\r\n    );\r\n\r\n    this.subscription.add(formSubscription);\r\n  }\r\n\r\n  onBsChange(selectedDate: Date) {\r\n    if (selectedDate) {\r\n      // this.formControl.setValue(selectedDate);\r\n      setTimeout(() => {\r\n        this.onChange(selectedDate);\r\n      });\r\n    }\r\n  }\r\n\r\n  get isFilled() {\r\n    return this.formControl.value ? true : false;\r\n  }\r\n}\r\n","import { Component, Input, forwardRef, AfterViewInit, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\nimport { MaskPipe } from 'ngx-mask';\n\nimport { JInputComponent } from '../input.component';\nimport { MaskedService } from '../../masked/masked.service';\nimport { ICountryCode } from '@shared/models';\n\n@Component({\n  selector: 'j-phone-input',\n  templateUrl: './phone-input.component.html',\n  styleUrls: ['./phone-input.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => PhoneInputComponent),\n      multi: true,\n    },\n  ],\n})\n\nexport class PhoneInputComponent extends JInputComponent implements AfterViewInit {\n  @Input() label = 'SHARED.PHONE';\n  @Input() value = '';\n  @Input() defaultFocus = true;\n  @Input() countryCodes: ICountryCode[];\n  @Input() set countryCode(value: ICountryCode | { id: 'phone', code: '', countryCode: '' }) {\n    if (value?.code) {\n      this.formControl.setValue(value?.code);\n    }\n    if (value?.countryCode === 'KZ') {\n        this.maskType = 'loginPhoneKz';\n      } else {\n        this.maskType = 'foreignPhone';\n      }\n    this.phoneMaskConfig = this.maskedService.getConfig(this.maskType);\n  }\n  @Output() countrySelected = new EventEmitter<ICountryCode>();\n\n  maskType = 'loginPhoneKz';\n  phoneMaskConfig = this.maskedService.getConfig('loginPhoneKz');\n  phoneInputSpecialCharacters = ['(', ')', '+', ' '];\n\n  constructor(public maskedService: MaskedService, private maskPipe: MaskPipe) {\n    super(maskedService);\n  }\n\n  ngAfterViewInit() {\n    if (this.defaultFocus) {\n      this.focus(5);\n    }\n  }\n\n  inputChange() {\n    this.formControl.setValue(this.formControl.value.replace(/\\D/g, ''));\n    const value = '+' + this.formControl.value;\n    let found;\n    if (this.countryCodes) {\n      found = this.countryCodes.find((code) => code.code === value && code.countryCode);\n    }\n    if (found || value.length < 2) {\n      this.countrySelected.emit(found);\n    }\n  }\n\n  onPaste(event: ClipboardEvent) {\n    event.preventDefault();\n    const clipboardData = event.clipboardData || (window as any).clipboardData;\n    const pastedText = clipboardData.getData('text');\n    const toPasteRaw = this.maskedService.getPastedPhone(pastedText);\n    this.formControl.setValue(this.getMaskedPhone(toPasteRaw));\n  }\n\n  onBackspace(event) {\n    setTimeout(() => {\n      if (this.formControl.value.length === 0) {\n        this.focus(5);\n      }\n    }, 0);\n  }\n\n  clear() {\n    super.clear();\n    this.focus(5);\n  }\n\n  get isFilled() {\n    return true;\n  }\n\n  get isShadowHidden() {\n    return false;\n  }\n\n  get isClearEnabled() {\n    const value = this.maskedService.getUnmaskedNumber(this.formControl.value);\n    return value.length > 0;\n  }\n\n  get shadow() {\n    //            \n    const valueWithPrefix = `${this.phoneMaskConfig.prefix || ''}${this.getMaskedPhone(this.formControl.value)}`;\n    return this.maskedService.getShadow(\n      this.maskType,\n      valueWithPrefix\n    );\n  }\n\n  private getMaskedPhone(unmasked: string) {\n    const maskedValue = this.maskPipe.transform(\n      unmasked,\n      this.phoneMaskConfig.mask\n    );\n    return maskedValue;\n  }\n}\n","import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { ICountryCode } from '@shared/models';\nimport { CountryCodesComponent } from '../country-codes/country-codes.component';\nimport { JInputComponent } from '../input.component';\n\n@Component({\n  selector: 'j-phone-prefix-input',\n  templateUrl: './phone-prefix-input.component.html',\n  styleUrls: ['./phone-prefix-input.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => PhonePrefixInputComponent),\n      multi: true,\n    },\n  ],\n})\nexport class PhonePrefixInputComponent extends JInputComponent {\n  countryCodeValue: ICountryCode;\n  imageUrl = '/assets/countryflags/$blank_flag.png';\n  @Input() countryCodes: ICountryCode[];\n\n  @Input() label = 'COUNTRIES.CODE';\n\n  @Input() set countryCode(value: ICountryCode) {\n    this.countryCodeValue = value;\n    const imageName = this.countryCodeValue?.countryCode ? this.countryCodeValue.countryCode.toLowerCase() : 'blank_flag';\n    this.imageUrl = `/assets/countryflags/$${imageName}.png`;\n  }\n  @Output() countrySelected = new EventEmitter<ICountryCode>();\n\n  constructor(\n    public maskedService: MaskedService,\n    private modalService: NgbModal,\n  ) {\n    super(maskedService);\n  }\n\n  clear() {\n  }\n\n  get isFilled() {\n    return true;\n  }\n\n  async onFocusCountryCode() {\n    const modalRef = this.modalService.open(CountryCodesComponent, {\n      backdropClass: 'backdrop_light',\n      windowClass:\n        'modal_light modal-adaptive_sm modal_max-height modal-adaptive modal_md',\n      backdrop: 'static',\n    });\n    modalRef.componentInstance.countryCodes = this.countryCodes;\n    try {\n      this.countryCode = await modalRef.result;\n      const imageName = this.countryCodeValue?.countryCode ? this.countryCodeValue.countryCode.toLowerCase() : 'blank_flag';\n      this.imageUrl = `/assets/countryflags/$${imageName}.png`;\n      this.countrySelected.emit(this.countryCodeValue);\n    } catch (error) {\n    }\n  }\n}\n","import {\n  Component,\n  Output,\n  EventEmitter,\n  Input,\n  ViewChild,\n  OnDestroy,\n} from '@angular/core';\nimport {\n  FormGroup,\n  FormControl,\n  AbstractControl,\n  Validators,\n} from '@angular/forms';\n\nimport { Subscription } from 'rxjs';\n\nimport { NgbDate, NgbDatepicker } from '@ng-bootstrap/ng-bootstrap';\n\nimport dayjs from 'dayjs';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport isBetween from 'dayjs/plugin/isBetween';\n\nimport { MaskedService } from '@shared/masked/masked.service';\n\nimport { JInputComponent } from '../input.component';\n\nconst TODAY = new Date();\n\nconst DATE_VALIDATOR = (control: AbstractControl) => {\n  if (!control.value) {\n    return null;\n  }\n\n  if (!dayjs(control.value, 'DD.MM.YYYY', true).isValid()) {\n    return { dateInvalid: true };\n  }\n\n  return null;\n};\n\n@Component({\n  selector: 'j-range-input',\n  templateUrl: './range-input.component.html',\n  styleUrls: ['./range-input.component.scss'],\n})\nexport class RangeInputComponent implements OnDestroy {\n  maskConfig;\n\n  @Input() submitLabel: string = 'SHARED.APPLY';\n  @Input() hideBorders: boolean = false;\n\n  @Input() minDate = {\n    year: 1970,\n    month: 1,\n    day: 1,\n  };\n\n  @Input() maxDate = {\n    year: TODAY.getFullYear(),\n    month: TODAY.getMonth() + 1,\n    day: TODAY.getDate(),\n  };\n\n  @Input() formGroup: FormGroup;\n\n  @Output() closed = new EventEmitter();\n  @Output() submitted = new EventEmitter();\n\n  hoveredDate: NgbDate | null = null;\n  fromDate: NgbDate;\n  toDate: NgbDate | null = null;\n  datepickerModel;\n\n  isFromActive = true;\n  isToActive = false;\n\n  @ViewChild('datepicker') datepicker: NgbDatepicker;\n  @ViewChild('fromInput') fromInput: JInputComponent;\n  @ViewChild('toInput') toInput: JInputComponent;\n\n  subscription = new Subscription();\n\n  constructor(private maskedService: MaskedService) {\n    dayjs.extend(isBetween);\n    dayjs.extend(customParseFormat);\n\n    this.maskConfig = this.maskedService.getConfig('date');\n\n    this.formGroup = new FormGroup(\n      {\n        from: new FormControl('', [\n          Validators.required,\n          (control) => {\n            return DATE_VALIDATOR(control);\n          },\n        ]),\n        to: new FormControl('', [Validators.required, DATE_VALIDATOR]),\n      },\n      (formGroup: FormGroup) => {\n        return this.isRangeValid(formGroup);\n      }\n    );\n\n    const formSubscription =\n      this.formGroup.controls.from.valueChanges.subscribe((fromValue) => {\n        if (fromValue.length == 0) {\n          this.fromDate = null;\n\n          if (this.toDate) {\n            this.datepickerModel = this.toDate;\n          }\n        }\n      });\n\n    this.subscription.add(formSubscription);\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  onFromFocus() {\n    this.isFromActive = true;\n  }\n\n  onToFocus() {\n    this.isToActive = true;\n  }\n\n  onFromBlur() {\n    this.isFromActive = false;\n  }\n\n  onToBlur() {\n    this.isToActive = false;\n  }\n\n  onKeyUpFrom() {\n    if (this.formGroup.controls.from.valid) {\n      this.navigateDatepicker(this.formGroup.controls.from.value);\n      this.fromInput.blur();\n      this.toInput.focus();\n    }\n  }\n\n  onKeyUpTo() {\n    if (this.formGroup.controls.to.valid) {\n      this.navigateDatepicker(this.formGroup.controls.to.value);\n      this.toInput.blur();\n    }\n  }\n\n  onDateSelection(date: NgbDate, updateInputs: boolean = true) {\n    if (!this.fromDate && !this.toDate) {\n      this.fromDate = date;\n      updateInputs &&\n        this.setDateInput(this.fromDate, this.formGroup.controls.from);\n\n      this.isFromActive = false;\n      this.isToActive = true;\n    } else if (this.fromDate && !this.toDate && date.equals(this.fromDate)) {\n      this.toDate = this.fromDate;\n      updateInputs &&\n        this.setDateInput(this.toDate, this.formGroup.controls.to);\n    } else if (this.fromDate && !this.toDate && date.after(this.fromDate)) {\n      this.toDate = date;\n      updateInputs &&\n        this.setDateInput(this.toDate, this.formGroup.controls.to);\n\n      this.isFromActive = false;\n      this.isToActive = false;\n    } else {\n      this.toDate = null;\n      this.fromDate = date;\n\n      updateInputs &&\n        this.setDateInput(this.toDate, this.formGroup.controls.to);\n      updateInputs &&\n        this.setDateInput(this.fromDate, this.formGroup.controls.from);\n\n      this.isFromActive = false;\n      this.isToActive = true;\n    }\n  }\n\n  isHovered(date: NgbDate) {\n    return (\n      this.fromDate &&\n      !this.toDate &&\n      this.hoveredDate &&\n      date.after(this.fromDate) &&\n      date.before(this.hoveredDate)\n    );\n  }\n\n  isInside(date: NgbDate) {\n    return this.toDate && date.after(this.fromDate) && date.before(this.toDate);\n  }\n\n  isRange(date: NgbDate) {\n    return (\n      date.equals(this.fromDate) ||\n      (this.toDate && date.equals(this.toDate)) ||\n      this.isInside(date) ||\n      this.isHovered(date)\n    );\n  }\n\n  isRangeStart(date: NgbDate) {\n    return date.equals(this.fromDate) && this.fromDate && this.toDate;\n  }\n\n  isRangeEnd(date: NgbDate) {\n    return date.equals(this.toDate) && this.fromDate && this.toDate;\n  }\n\n  close() {\n    this.fromDate = null;\n    this.toDate = null;\n    this.formGroup.controls.from.setValue('');\n    this.formGroup.controls.to.setValue('');\n    this.closed.emit();\n  }\n\n  submit() {\n    let result: any = {};\n\n    if (this.fromDate) {\n      result.from = this.convertNgbToDate(this.fromDate);\n    }\n    if (this.toDate) {\n      result.to = this.convertNgbToDate(this.toDate);\n    }\n\n    this.submitted.emit(result);\n  }\n\n  private setDateInput(date: NgbDate, control: AbstractControl) {\n    const newValue = date\n      ? dayjs(new Date(date.year, date.month - 1, date.day)).format(\n          'DD.MM.YYYY'\n        )\n      : '';\n\n    control.setValue(newValue);\n  }\n\n  private isValidDate(dateString: string) {\n    return dayjs(dateString, 'DD.MM.YYYY', true).isValid();\n  }\n\n  private isRangeValid(formGroup: FormGroup) {\n    if (!formGroup.value) {\n      return null;\n    }\n\n    const from = formGroup.get('from').value;\n    const to = formGroup.get('to').value;\n\n    const fromDate = dayjs(from, 'DD.MM.YYYY', true);\n    const toDate = dayjs(to, 'DD.MM.YYYY', true);\n\n    const minDate = dayjs(\n      new Date(this.minDate.year, this.minDate.month - 1, this.minDate.day)\n    );\n    const maxDate = dayjs(\n      new Date(this.maxDate.year, this.maxDate.month - 1, this.maxDate.day)\n    );\n\n    if (\n      !(\n        (fromDate.isSame(toDate) ||\n          fromDate.isBetween(minDate, toDate) ||\n          fromDate.isSame(minDate)) &&\n        (toDate.isSame(fromDate) ||\n          toDate.isBetween(fromDate, maxDate) ||\n          toDate.isSame(maxDate))\n      )\n    ) {\n      return { dateRange: true };\n    }\n\n    return null;\n  }\n\n  private navigateDatepicker(dateString: string) {\n    if (this.isValidDate(dateString)) {\n      const [day, month, year] = dateString.split('.');\n      this.datepicker.navigateTo({\n        day: parseInt(day),\n        month: parseInt(month),\n        year: parseInt(year),\n      });\n\n      const ngbDate = new NgbDate(\n        parseInt(year),\n        parseInt(month),\n        parseInt(day)\n      );\n\n      this.datepickerModel = ngbDate;\n      this.onDateSelection(ngbDate, false);\n    }\n  }\n\n  private convertNgbToDate(ngbDate: NgbDate) {\n    return dayjs(\n      new Date(ngbDate.year, ngbDate.month - 1, ngbDate.day)\n    ).toDate();\n  }\n}\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\nimport { JInputComponent } from '../input.component';\nimport { MaskedService } from '@shared/masked/masked.service';\n\n@Component({\n  selector: 'j-search-input',\n  templateUrl: './search-input.component.html',\n  styleUrls: ['./search-input.component.scss'],\n})\nexport class SearchInputComponent extends JInputComponent implements OnInit, OnDestroy {\n  @Input() placeholder: string = '';\n  public isClearEnabled = false;\n  constructor(public maskedService: MaskedService) {\n    super(maskedService);\n  }\n\n  ngOnInit(): void {\n    this.isClearEnabled = this.value.length > 0;\n    const formSubscription = this.formControl.valueChanges.subscribe((value) => {\n      this.valueChanged.emit(value);\n      this.isClearEnabled = value.length > 0;\n    });\n\n    this.subscription.add(formSubscription);\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  clear() {\n    super.clear();\n    this.focus(5);\n  }\n}\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { JInputComponent } from '@shared/input/input.component';\r\nimport { MaskedService } from '@shared/masked/masked.service';\r\n\r\n@Component({\r\n  selector: 'j-sms-input',\r\n  templateUrl: './sms-input.component.html',\r\n  styleUrls: ['./sms-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SmsInputComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class SmsInputComponent extends JInputComponent {\r\n  @Input() errorTranslateParams;\r\n  @Input() maskType = 'sms';\r\n\r\n  constructor(public maskedService: MaskedService) {\r\n    super(maskedService);\r\n  }\r\n\r\n  get smsSelectionIndex() {\r\n    return this.formControl?.value?.length || 0;\r\n  }\r\n\r\n  focus(selectionIndex = this.smsSelectionIndex) {\r\n    // setTimeout(() => {\r\n    this.input.nativeElement.addEventListener('onload', () => {\r\n      this.input.nativeElement.focus();\r\n      this.input.nativeElement.setSelectionRange(\r\n        selectionIndex,\r\n        selectionIndex\r\n      );\r\n    });\r\n    // }, 0);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { PAYMENTS_STEPS } from '@payments/models/steps';\nimport { HeaderService } from '@shared/services/header.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'j-layout-home',\n  templateUrl: './layout-home.component.html',\n  styleUrls: ['./layout-home.component.scss'],\n})\nexport class LayoutHomeComponent {\n  currentStep = PAYMENTS_STEPS.NONE;\n  steps = PAYMENTS_STEPS;\n\n  subscription: Subscription = new Subscription();\n\n  constructor(private headerService: HeaderService) {\n    this.headerService.setCurrentStep(this.steps.NONE);\n\n    const headerSubscription = this.headerService\n      .getCurrentStep()\n      // .pipe(distinctUntilChanged())\n      .subscribe((newStep) => {\n        this.currentStep = newStep;\n      });\n\n    this.subscription.add(headerSubscription);\n  }\n\n  setStep(step: number) {\n    this.headerService.setCurrentStep(step);\n  }\n}\n","import { Component, Input, HostBinding, OnChanges } from '@angular/core';\n\n@Component({\n  selector: 'j-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss'],\n})\nexport class MainComponent implements OnChanges{\n  @Input() isCentered: boolean = false;\n  @HostBinding('class.is-centered') isCenteredActive: boolean = false;\n\n  constructor() {}\n\n  ngOnChanges(){\n    this.isCenteredActive = this.isCentered;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'j-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.scss']\n})\nexport class LoadingComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import {\r\n  Directive,\r\n  Input,\r\n  Renderer2,\r\n  ElementRef,\r\n  AfterViewInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[jLoading]',\r\n})\r\nexport class LoadingDirective implements AfterViewInit, OnChanges {\r\n  @Input() jLoading = false;\r\n  @Input() jLoadingInverted = false;\r\n  loadingTemplate = `\r\n    <div class=\"spinner\">\r\n      <div class=\"bounce1\"></div>\r\n      <div class=\"bounce2\"></div>\r\n      <div class=\"bounce3\"></div>\r\n    </div>\r\n  `;\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.el.nativeElement.insertAdjacentHTML('beforeend', this.loadingTemplate);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.jLoading) {\r\n      this.renderer.addClass(this.el.nativeElement, 'is-loading');\r\n    } else {\r\n      this.renderer.removeClass(this.el.nativeElement, 'is-loading');\r\n    }\r\n\r\n    if (this.jLoadingInverted) {\r\n      this.renderer.addClass(this.el.nativeElement, 'is-loading-inverted');\r\n    } else {\r\n      this.renderer.removeClass(this.el.nativeElement, 'is-loading-inverted');\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\n\nimport { Masks } from './masked';\nimport { MaskPipe } from 'ngx-mask';\nimport { toFixedTrunc, toFixedTrim } from '@utils/index';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MaskedService {\n  constructor(public maskPipe: MaskPipe) {}\n\n  getConfig(\n    maskType: string,\n    changeSuffix: string = null,\n    changePrefix: string = null\n  ) {\n    const foundConfig = Masks[maskType];\n\n    if (changeSuffix) {\n      foundConfig.suffix = changeSuffix;\n    }\n\n    if (changePrefix) {\n      foundConfig.prefix = changePrefix;\n    }\n\n    return foundConfig || null;\n  }\n\n  getShadow(inputMask: string, inputValue: unknown) {\n    if (!Masks[inputMask]) {\n      return;\n    }\n\n    const maskShadow = Masks[inputMask].shadow;\n    const result = [];\n\n    if (maskShadow && typeof inputValue === 'string') {\n      for (let i = 0; i < maskShadow.length; i++) {\n        const inputChar = inputValue[i];\n\n        const maskChar = maskShadow[i];\n\n        const resultChar = inputChar || maskChar;\n\n        result.push({\n          isInvisible: resultChar === inputChar,\n          hasPadding: resultChar === '_',\n          value: resultChar,\n        });\n      }\n    }\n    return result;\n  }\n\n  getUnmaskedAmount(value: string) {\n    return value && value.replace(/ /g, '').replace(/,/g, '.');\n  }\n\n  getUnmaskedNumber(value: string) {\n    return value && value.replace(/\\D+/g, '');\n  }\n\n  getUnmaskedKZNumber(value: string) {\n    return value && value\n      .replace(/\\D+\\(\\)\\s\\-/g, '')\n      .replace(/^8/, '7')\n      .padStart(11, '7');\n  }\n\n  isKZPhoneNumber(phone: string): boolean {\n    const isKZPhoneNumber = /^(\\+7|7|8)?[\\s\\-]?\\(?[7][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/;\n    return isKZPhoneNumber.test(phone);\n  }\n\n  getUnmaskedPhone(value: string) {\n    const result = value.replace(/\\D+/g, '');\n    return result;\n  }\n\n  getPastedPhone(value: string) {\n    const unmasked = this.isKZPhoneNumber(value) \n      ? this.getUnmaskedKZNumber(value)\n      : this.getUnmaskedNumber(value);\n    return unmasked;\n  }\n\n  getMaskedPhone(value: string) {\n    const phoneWithCode = this.getPastedPhone(value);\n\n    if (phoneWithCode?.[0] === '7' && phoneWithCode.length === 11) {\n      return `+${phoneWithCode[0]} ${this.maskPipe.transform(\n        phoneWithCode.substring(1),\n        Masks.phone.mask\n      )}`;\n    } else {\n      return value;\n    }\n  }\n\n  getPastedIban(value: string, prefix: string = '') {\n    const unmasked = value.replace(/ /g, '');\n    if (unmasked.length > 18) {\n      return unmasked.substring(unmasked.length - 18);\n    }\n    return `${prefix}${unmasked}`;\n  }\n\n  getMaskedAmount(amount: number | string, suffix: string = '') {\n    const unmaskedValue = this.getNumberedAmount(amount);\n    const prefix = unmaskedValue < 1 ? '0' : '';\n\n    return `${prefix}${this.formatAmount(unmaskedValue, true)}${suffix}`;\n  }\n\n  getNumberedAmount(amount: string | number): number {\n    let numberedValue = `${amount}`;\n\n    if (typeof amount == 'string') {\n      numberedValue = amount.replace(',', '.');\n    }\n\n    const numberedAmount = parseFloat(this.getUnmaskedAmount(numberedValue));\n    return Math.round(numberedAmount * 100) / 100;\n  }\n\n  // formatAmount(amount: number | string, fixedZeroes?: boolean): string {\n  //   if (amount) {\n  //     // separator.2 issue with digits after dot\n  //     return this.maskPipe\n  //       .transform(\n  //         fixedZeroes ? toFixedTrunc(amount, 2) : toFixedTrim(amount, 2),\n  //         'separator.2'\n  //       )\n  //       .replace('.', ',');\n  //   }\n  //   return `0`;\n  // }\n  formatAmount(amount: number | string, fixedZeroes?: boolean): string {\n    if (amount) {\n      // separator.2 issues with digits after dot:\n      // https://github.com/JsDaddy/ngx-mask/issues?q=is%3Aissue+is%3Aopen+separator.2\n      const [integers, decimals] = (fixedZeroes ? toFixedTrunc(amount, 2) : toFixedTrim(amount, 2))\n        .split('.');\n\n      return this.maskPipe.transform(integers, 'separator') + ',' + (decimals ?? '00');\n    }\n    return `0`;\n  }\n}\n","export interface MaskedConfig {\n  prefix?: string;\n  suffix?: string;\n  shadow: string;\n  mask: string;\n  pipe?: string;\n}\n\nexport const Masks = {\n  amount: {\n    mask: '0*,99',\n    separator: ' ',\n    /**\n     * @todo how about USD amount?\n     */\n    suffix: ' ',\n  },\n  amountSeparated: {\n    mask: 'separator.2',\n    separator: ' ',\n    /**\n     * @todo how about USD amount?\n     */\n    suffix: ' ',\n  },\n  phone: {\n    mask: '(000) 000 00 00',\n    shadow: '(___) ___ __ __',\n  },\n  phoneKz: {\n    prefix: '+7',\n    mask: ' (000) 000 00 00',\n    shadow: '+7 (___) ___ __ __',\n  },\n  foreignPhone: {\n    prefix: '+',\n    mask: '9{14}'\n  },\n  loginPhoneKz: {\n    prefix: '+',\n    mask: '0 (000) 000 00 00',\n    shadow: '+7 (___) ___ __ __'\n  },\n  sms: {\n    mask: '000000',\n    shadow: '',\n  },\n  jmartSms: {\n    mask: '0000',\n    shadow: '',\n  },\n  iin: {\n    prefix: '',\n    mask: '0000 0000 0000',\n    shadow: '____ ____ ____',\n  },\n  account: {\n    prefix: '',\n    shadow: '____ ____ ____ ____ ____',\n    mask: 'II00 000I IIII IIII IIII',\n  },\n  tengeAccount: {\n    prefix: 'KZ',\n    shadow: '____ ____ ____ ____ ____',\n    mask: '00 000I IIII IIII IIII',\n  },\n  foreignAccount: {\n    prefix: '',\n    mask: 'a*',\n  },\n  russianAccount: {\n    prefix: '',\n    mask: '0000 0000 0000 0000 0000',\n  },\n  iban: {\n    prefix: 'KZ',\n    shadow: '__ ____ ____ ____ ____',\n    mask: '00 IIII IIII IIII IIII',\n  },\n  kbe: {\n    shadow: '__',\n    mask: '00',\n  },\n  knp: {\n    shadow: '___',\n    mask: '000',\n  },\n  kbk: {\n    shadow: '______',\n    mask: '000000',\n  },\n  /**\n   * @todo vin format?\n   */\n  vin: {\n    shadow: '',\n    mask: 'aaaaaaaaaaaaaaaaa',\n  },\n  protocol: {\n    mask: 'c*',\n  },\n  /**\n   * @todo six or eight digits max?\n   */\n  paymentNum: {\n    mask: '099999',\n  },\n  date: {\n    mask: '00.00.0000',\n    shadow: '__.__.____',\n  },\n  foreignLatin: {\n    mask: 'f*',\n  },\n  foreignCyrillic: {\n    mask: 'F*',\n  },\n  latin: {\n    mask: 's*',\n  },\n  namedDate: {\n    mask: '..',\n    shadow: '__.__.____',\n  },\n  kvo: {\n    mask: '00000',\n  },\n  kio: {\n    mask: '0*',\n  },\n  kpp: {\n    mask: '000000000',\n    shadow: '_________',\n  },\n  oktmo: {\n    mask: '00000000',\n    shadow: '________',\n  },\n  basis: {\n    mask: 'rr',\n    shadow: '__',\n  },\n  budgetDocNumber: {\n    mask: 'FFFFFFFFFFFFFFF',\n    shadow: '_______________',\n  },\n  budgetPeriod: {\n    mask: 'RR.00.0000',\n    shadow: '__.__.____',\n  },\n  dayTime: {\n    mask: '00:00',\n  },\n  daysCount: {\n    mask: '00',\n  }\n};\n","import { Component, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'j-import-error',\n  templateUrl: './import-error.component.html',\n  styleUrls: ['./import-error.component.scss'],\n})\nexport class ImportErrorComponent {\n  @Input() filesCount: number;\n  @Input() errorText: string;\n  @Input() descriptionKey: string = 'FAILED';\n\n  constructor(public modal: NgbActiveModal) {}\n\n  dismissModal() {\n    this.modal.dismiss();\n  }\n\n  closeModal() {\n    this.modal.close();\n  }\n\n  get title() {\n    return `IMPORT.${this.descriptionKey}.TITLE`;\n  }\n\n  get errorDescription() {\n    if (this.filesCount === 1) {\n      return `IMPORT.${this.descriptionKey}.ONE`;\n    } else {\n      return `IMPORT.${this.descriptionKey}.OTHER`;\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\r\n\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { IImportResult, IImportError, IMPORT_STATUS } from '@shared/models';\r\n\r\n@Component({\r\n  selector: 'j-import-partial-error',\r\n  templateUrl: './import-partial-error.component.html',\r\n  styleUrls: ['./import-partial-error.component.scss'],\r\n})\r\nexport class ImportPartialErrorComponent {\r\n  @Input() importResultList: IImportResult[];\r\n  @Input() invalidFilesCount: number;\r\n  @Input() draftedOperationsCount: number;\r\n  @Input() erroredOperationsCount: number;\r\n\r\n  constructor(public modal: NgbActiveModal) {}\r\n\r\n  dismissModal() {\r\n    this.modal.dismiss();\r\n  }\r\n\r\n  closeModal() {\r\n    this.modal.close();\r\n  }\r\n\r\n  get draftedText() {\r\n    switch (this.draftedOperationsCount % 20) {\r\n      case 1:\r\n        return 'IMPORT.DRAFTED.ONE';\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n        return 'IMPORT.DRAFTED.FEW';\r\n      default:\r\n        return 'IMPORT.DRAFTED.OTHER';\r\n    }\r\n  }\r\n\r\n  get draftedTranslateParams() {\r\n    return {\r\n      operationsCount: this.draftedOperationsCount,\r\n    };\r\n  }\r\n\r\n  get erroredText() {\r\n    switch (this.erroredOperationsCount % 20) {\r\n      case 1:\r\n        return 'IMPORT.ERRORED.ONE';\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n        return 'IMPORT.ERRORED.FEW';\r\n      default:\r\n        return 'IMPORT.ERRORED.OTHER';\r\n    }\r\n  }\r\n\r\n  get erroredTranslateParams() {\r\n    return {\r\n      operationsCount: this.erroredOperationsCount,\r\n    };\r\n  }\r\n\r\n  get invalidText() {\r\n    switch (this.invalidFilesCount % 20) {\r\n      case 1:\r\n        return 'IMPORT.INVALID.ONE';\r\n      case 2:\r\n      case 3:\r\n      case 4:\r\n        return 'IMPORT.INVALID.FEW';\r\n      default:\r\n        return 'IMPORT.INVALID.OTHER';\r\n    }\r\n  }\r\n\r\n  get hasInvalidDateWarning() {\r\n    let result = false;\r\n\r\n    this.importResultList.forEach((item) => {\r\n      if (result) {\r\n        return result;\r\n      }\r\n      if (item.hasInvalidValueDate) {\r\n        result = true;\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  get alreadyImported() {\r\n    const alreadyImportedCount = this.alreadyImportedList.length;\r\n    switch (alreadyImportedCount) {\r\n      case 1:\r\n        return 'IMPORT.ALREADY_IMPORTED_WARNING.ONE';\r\n      default:\r\n        return 'IMPORT.ALREADY_IMPORTED_WARNING.OTHER';\r\n    }\r\n  }\r\n\r\n  get alreadyImportedParams() {\r\n    return {\r\n      fileNames: this.alreadyImportedList.map((item, index) => {\r\n        return `\"${item.filename}\"`;\r\n      }),\r\n    };\r\n  }\r\n\r\n  get alreadyImportedList() {\r\n    return (\r\n      this.importResultList.filter(\r\n        (item) => item.status === IMPORT_STATUS.ALREADY_IMPORTED\r\n      ) || []\r\n    );\r\n  }\r\n\r\n  get hasAlreadyImportedWarning() {\r\n    return this.alreadyImportedList.length > 0;\r\n  }\r\n\r\n  get invalidTranslateParams() {\r\n    return {\r\n      filesCount: this.invalidFilesCount,\r\n    };\r\n  }\r\n\r\n  fileTranslateParams(error: IImportError) {\r\n    return {\r\n      fileName: error?.filename,\r\n    };\r\n  }\r\n\r\n  getCollectedErrors(importResultList: IImportResult[]) {\r\n    let collected: IImportError[] = [];\r\n\r\n    importResultList.forEach((importResult) => {\r\n      collected = collected.concat(\r\n        importResult.failed?.map((error) => {\r\n          error.filename = importResult.filename;\r\n          return error;\r\n        })\r\n      );\r\n    });\r\n\r\n    return collected;\r\n  }\r\n\r\n  mapError(error: string) {\r\n    return `IMPORT.ERRORS.${error}`;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ImportPartialErrorComponent } from '../import-partial-error/import-partial-error.component';\n\n@Component({\n  selector: 'j-import-partial-success',\n  templateUrl: './import-partial-success.component.html',\n  styleUrls: ['./import-partial-success.component.scss'],\n})\nexport class ImportPartialSuccessComponent extends ImportPartialErrorComponent {\n  @Input() successOperationsCount: number;\n\n  constructor(public modal: NgbActiveModal) {\n    super(modal);\n  }\n\n  get successText() {\n    switch (this.successOperationsCount % 20) {\n      case 1:\n        return 'IMPORT.SUCCESS.ONE';\n      case 2:\n      case 3:\n      case 4:\n        return 'IMPORT.SUCCESS.FEW';\n      default:\n        return 'IMPORT.SUCCESS.OTHER';\n    }\n  }\n\n  get successTranslateParams() {\n    return {\n      operationsCount: this.successOperationsCount,\n    };\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'j-import-success',\n  templateUrl: './import-success.component.html',\n  styleUrls: ['./import-success.component.scss'],\n})\nexport class ImportSuccessComponent {\n  @Input() operationsCount: number = 0;\n\n  constructor(public modal: NgbActiveModal, private router: Router) {}\n\n  dismissModal() {\n    this.modal.dismiss();\n  }\n\n  closeModal() {\n    this.modal.close();\n  }\n\n  get successDescription() {\n    switch (this.operationsCount % 20) {\n      case 1:\n        return 'IMPORT.SUCCESS.ONE';\n      case 2:\n      case 3:\n      case 4:\n        return 'IMPORT.SUCCESS.FEW';\n      default:\n        return 'IMPORT.SUCCESS.OTHER';\n    }\n  }\n\n  get translateParams() {\n    return {\n      operationsCount: this.operationsCount,\n    };\n  }\n  \n  navigateToSigned(){\n    this.router.navigate(['/history/tenge',{}])\n  }\n}\n","import { ImportSuccessComponent } from './import-success/import-success.component';\nimport { ImportPartialSuccessComponent } from './import-partial-success/import-partial-success.component';\nimport { ImportPartialErrorComponent } from './import-partial-error/import-partial-error.component';\nimport { ImportErrorComponent } from './import-error/import-error.component';\nimport { ListModalComponent } from './list-modal/list-modal.component';\nimport { MaintenanceModalComponent } from './maintenance-modal/maintenance-modal.component';\n\nexport const SHARED_MODALS = [\n  ImportSuccessComponent,\n  ImportPartialSuccessComponent,\n  ImportPartialErrorComponent,\n  ImportErrorComponent,\n  ListModalComponent,\n  MaintenanceModalComponent,\n];\n\nexport * from './import-success/import-success.component';\nexport * from './import-partial-success/import-partial-success.component';\nexport * from './import-partial-error/import-partial-error.component';\nexport * from './import-error/import-error.component';\nexport * from './list-modal/list-modal.component';\nexport * from './maintenance-modal/maintenance-modal.component';\n","import { Input } from '@angular/core';\nimport { Component, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport {\n  BULK_OPERATION_STATUS,\n  IBulkOperationItem,\n  IBulkOperationResult,\n} from '@shared/models';\n\n@Component({\n  selector: 'j-list-modal',\n  templateUrl: './list-modal.component.html',\n  styleUrls: ['./list-modal.component.scss'],\n})\nexport class ListModalComponent implements OnInit {\n  @Input() imagePrefix = '/assets/img/history/modals';\n  @Input() translatePrefix = 'LIST.MODAL';\n\n  @Input() partialTitleFn: Function;\n\n  @Input() key: string;\n  @Input() result: IBulkOperationResult;\n  @Input() list: any[];\n\n  BULK_OPERATION_STATUS = BULK_OPERATION_STATUS;\n\n  title: string;\n  imgSrc: string;\n\n  constructor(public modal: NgbActiveModal) {}\n\n  ngOnInit() {\n    switch (this.result.status) {\n      case BULK_OPERATION_STATUS.FAILED:\n        this.title = this.mapTranslate(`${this.key}.FAILED.TITLE`);\n        this.imgSrc = `${this.imagePrefix}/error.svg`;\n        break;\n\n      case BULK_OPERATION_STATUS.PARTLY_SUCCESS:\n        this.title = this.mapTranslate(`${this.key}.PARTIAL`);\n        this.imgSrc = `${this.imagePrefix}/partial.svg`;\n        break;\n\n      case BULK_OPERATION_STATUS.SUCCESS:\n        this.title = this.mapTranslate(`${this.key}.SUCCESS.TITLE`);\n        this.imgSrc = `${this.imagePrefix}/success.svg`;\n        break;\n    }\n  }\n\n  get successText() {\n    switch (this.result?.numberOfSuccess % 10) {\n      case 1:\n        return this.mapTranslate(`${this.key}.SUCCESS.ONE`);\n      case 2:\n      case 3:\n      case 4:\n        return this.mapTranslate(`${this.key}.SUCCESS.FEW`);\n      default:\n        return this.mapTranslate(`${this.key}.SUCCESS.OTHER`);\n    }\n  }\n\n  get successParams() {\n    return {\n      count: this.result?.numberOfSuccess,\n    };\n  }\n\n  get failedText() {\n    switch (this.result?.numberOfFailed % 10) {\n      case 1:\n        return this.mapTranslate(`${this.key}.FAILED.ONE`);\n      case 2:\n      case 3:\n      case 4:\n        return this.mapTranslate(`${this.key}.FAILED.FEW`);\n      default:\n        return this.mapTranslate(`${this.key}.FAILED.OTHER`);\n    }\n  }\n\n  get failedParams() {\n    return {\n      count: this.result?.numberOfFailed,\n    };\n  }\n\n  get failedItems() {\n    return this.result?.results?.filter((item) => {\n      return item.status === BULK_OPERATION_STATUS.FAILED;\n    });\n  }\n\n  getItemTitle(bulkItem: IBulkOperationItem) {\n    const foundItem = this.list.find((item) => {\n      return item.id === bulkItem.itemId;\n    });\n\n    if (foundItem) {\n      return this.partialTitleFn(foundItem);\n    }\n\n    return '';\n  }\n\n  dismissModal() {\n    this.modal.dismiss();\n  }\n\n  closeModal() {\n    this.modal.close();\n  }\n\n  retrieveErrors(bulkItem: IBulkOperationItem) {\n    if (bulkItem.errorData) {\n      const errors = Object.entries(bulkItem.errorData);\n      const mappedErrors = errors.map((item) => {\n        return item[1];\n      });\n\n      return mappedErrors;\n    } else if (bulkItem.errorMsg) {\n      return [bulkItem.errorMsg];\n    }\n  }\n\n  mapTranslate(value: string) {\n    return `${this.translatePrefix}.${value}`;\n  }\n}\n","import { Component } from '@angular/core';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'j-maintenance-modal',\r\n  templateUrl: './maintenance-modal.component.html',\r\n  styleUrls: ['./maintenance-modal.component.scss'],\r\n})\r\nexport class MaintenanceModalComponent {\r\n  title = 'SHARED.MAINTENANCE.TITLE';\r\n  description = 'SHARED.MAINTENANCE.DESCRIPTION';\r\n\r\n  constructor(public modal: NgbActiveModal) {}\r\n\r\n  dismissModal() {\r\n    this.modal.dismiss();\r\n  }\r\n}\r\n","import { IMoney } from '@shared/currency/currency.model';\n\nexport enum BULK_OPERATION_STATUS {\n  FAILED = 'FAILED',\n  SUCCESS = 'SUCCESS',\n  PARTLY_SUCCESS = 'PARTLY_SUCCESS',\n}\n\nexport interface IBulkOperationItem {\n  errorData: { [s: string]: unknown } | ArrayLike<unknown>;\n  errorMsg: string;\n  itemId: string;\n  result: any;\n  status: BULK_OPERATION_STATUS;\n\n  documentNumber?: string;\n}\n\nexport interface IBulkOperationResult {\n  numberOfFailed: number;\n  numberOfSuccess: number;\n\n  results?: IBulkOperationItem[];\n  status?: BULK_OPERATION_STATUS;\n\n  totalBalance?: IMoney;\n}\n","import { IMoney } from '@shared/currency/currency.model';\nimport { IDictionaryValue } from './dictionary';\nimport { ICountry } from './payment';\n\nexport interface IContractor {\n  address: string;\n\n  bank: IDictionaryValue;\n  bankCityName: string;\n  bankCountryCode: any;\n\n  colvirId: string;\n  country: IDictionaryValue;\n  name: string;\n  cityName: string;\n  defaultCityName: string;\n  iinOrBin: string;\n}\n\nexport interface IFxContractType {\n  colvirCode: string;\n  description: string;\n  id: string;\n}\n\nexport interface IFileObject {\n  base64: string;\n  bytes: string;\n  created: string;\n  extension: string;\n  id: string;\n  name: string;\n  serverFileId: string;\n  sizeInBytes: number;\n}\n\nexport enum FX_CONTRACT_ATTACHMENT_TYPE {\n  CONTRACT_TYPE = 'CONTRACT_TYPE',\n  UNK = 'UNK',\n}\n\nexport interface IFxContractAttachment {\n  created: string;\n  file: IFileObject;\n  fileId: string;\n  fxContractId: string;\n  id: string;\n  sent: boolean;\n  type: FX_CONTRACT_ATTACHMENT_TYPE;\n\n  isLoading?: boolean;\n}\n\nexport enum FX_CONTRACT_STATUS {\n  PROCESSING = 'PROCESSING',\n  REGISTERED = 'REGISTERED',\n  REGED = 'REGED',\n  REJECTED = 'REJECTED',\n  CLOSED = 'CLOSED',\n  ON_SIGN = 'ON_SIGN',\n}\n\nexport interface IFxContractRecipient {\n  bankBic: string;\n  bankCityName: string;\n  bankCountryCode: string;\n  bankName: string;\n  cityName: string;\n  colvirId: string;\n  country: ICountry;\n  countryCode: string;\n  created: Date;\n  defaultCityName: string;\n  fxContractId: string;\n  iban: string;\n  id: string;\n  kbe: string;\n  name: string;\n  primary: boolean;\n}\n\nexport interface IFxContract {\n  amount: IMoney;\n  colvirId: string;\n  companyId: string;\n  contractNumber: string;\n  contractor: IContractor;\n  created: Date;\n  documentDate: Date;\n  dateFrom: Date;\n  dateTo: Date;\n  iban: string;\n  id: string;\n  permittedCurrencies: any;\n  registrationNumberContract: string;\n  remainder: IMoney;\n\n  status: FX_CONTRACT_STATUS;\n\n  typeId: string;\n  type: IFxContractType;\n\n  statusMessage: string;\n  attachments: IFxContractAttachment[];\n\n  recipients: IFxContractRecipient[];\n  repatriationPeriod: number;\n  userId: string;\n\n  isCollapsed: boolean;\n}\n","import { COUNTRY } from '@payments/services';\nimport { PAYMENT_TYPE } from './payment';\n\nexport interface IKNP {\n  code: string;\n  name: string;\n  label?: string;\n}\n\nexport interface IKBK {\n  code: string;\n  name: string;\n}\n\nexport interface IKbe {\n  code: string;\n  name: string;\n}\n\nexport interface DictionaryResponse {\n  additional: { map: {\n    paymentType?: string;\n    paymentTypes?: PAYMENT_TYPE[];\n    };\n  };\n  value: {\n    code: string;\n    name: string;\n    description: string;\n  };\n}\n\nexport interface KNP extends IKNP {\n  id: string;\n  // code: string;\n  // name: string;\n  label?: string;\n  type: { [key in PAYMENT_TYPE]: boolean };\n  favourite?: { [key in PAYMENT_TYPE]: boolean };\n}\nexport interface UGD {\n  code: string;\n  bin: string;\n  name: string;\n  id: string;\n  label?: string;\n}\nexport interface KBK extends IKBK {\n  id: string;\n  // code: string;\n  // name: string;\n  label?: string;\n  type: { [key in PAYMENT_TYPE]: boolean };\n  favourite?: { [key in PAYMENT_TYPE]: boolean };\n  associatedKnpList?: string[];\n}\n\nexport interface Bank {\n  id: string;\n  bic: string;\n  bin: string;\n  ibanBankCode: string;\n  salaryTransitIban?: string;\n  name: string;\n  transferAllowed?: boolean;\n}\n\nexport interface IDictionaryValue {\n  code: string;\n  name: string;\n}\n\nexport interface ICodeWord extends IDictionaryValue {\n  countryCode: COUNTRY;\n}\n\nexport interface ICountryCodeResponseObj {\n  value: {\n    code: string;\n    description: string;\n    name: string;\n  };\n  id: string;\n}\n\nexport interface ICountryCode {\n  countryCode: string;\n  code: string;\n  country: string;\n  id: string;\n}\n","export interface IUploadingFile {\n  isLoading: boolean;\n  textContent?: string;\n  progress?: number;\n  error?: string;\n  file?: IFile;\n}\n\nexport interface IFile {\n  name: string;\n  base64?: string;\n  bytes?: string;\n  created?: Date;\n  extension?: string;\n  id?: string;\n  serverFileId?: string;\n  sizeInBytes?: number;\n}\n","import { PAYMENT_TYPE } from './payment';\r\n\r\nexport enum IMPORT_ERROR_STATUS {\r\n  FAILED = 'FAILED',\r\n  DRAFT = 'DRAFT',\r\n}\r\n\r\nexport interface IImportError {\r\n  documentNumber: string;\r\n  invalidFieldsNames: string[];\r\n  paymentType: PAYMENT_TYPE;\r\n  status: IMPORT_ERROR_STATUS;\r\n\r\n  filename?: string;\r\n}\r\n\r\nexport enum IMPORT_STATUS {\r\n  ALREADY_IMPORTED = 'ALREADY_IMPORTED',\r\n  INVALID_FORMAT = 'INVALID_FORMAT',\r\n  SUCCESS = 'SUCCESS',\r\n}\r\nexport interface IImportResult {\r\n  failed: IImportError[];\r\n  filename: string;\r\n  success: number;\r\n  total: number;\r\n  drafted: number;\r\n  hasInvalidValueDate: boolean;\r\n\r\n  status: IMPORT_STATUS;\r\n}\r\n","export * from './dictionary';\r\nexport * from './user';\r\nexport * from './payment';\r\nexport * from './sms';\r\nexport * from './token';\r\nexport * from './import';\r\nexport * from './contracts';\r\nexport * from './file';\r\nexport * from './statuses';\r\nexport * from './bulk';\r\nexport * from './letter';\r\nexport * from './signature';\r\nexport * from './otp';\r\n","export enum LETTER_STATUS {\n  DRAFT = 'DRAFT',\n  ON_SIGN = 'ON_SIGN',\n  READY_TO_SEND = 'READY_TO_SEND',\n  SENT = 'SENT',\n}\n","import { User } from './user';\r\n\r\nexport enum OTP_STATUS {\r\n  ASSIGNED = 'ASSIGNED',\r\n  UNASSIGNED = 'UNASSIGNED',\r\n  NOT_ENOUGH_DATA = 'NOT_ENOUGH_DATA',\r\n}\r\n\r\nexport interface IOtp {\r\n  activated: Date;\r\n  created: Date;\r\n  id: string;\r\n  serial: string;\r\n  status: OTP_STATUS;\r\n  user: User;\r\n  userId: string;\r\n}\r\n","import { CURRENCY, IMoney } from '../currency/currency.model';\n\nimport { SIGNATURE_SCHEME } from './user';\nimport { IFxContract } from './contracts';\nimport { IKbe, KBK, KNP } from './dictionary';\nimport { ISignature } from './signature';\n\nexport enum PAYMENT_STATUS {\n  // \n  DRAFT = 'DRAFT',\n\n  //  \n  CREATED = 'CREATED',\n\n  //  \n  READY_TO_SEND = 'READY_TO_SEND',\n  IN_BANK = 'IN_BANK',\n  BANK_PROCESSING = 'BANK_PROCESSING',\n  BANK_SENT = 'BANK_SENT',\n\n  // \n  BANK_COMPLETED = 'BANK_COMPLETED',\n\n  // \n  REJECTED = 'REJECTED',\n  TRANSFER_ROLLBACK = 'TRANSFER_ROLLBACK',\n}\n\nexport enum PAYMENT_CATEGORY {\n  ALL = 'ALL',\n  DOMESTIC = 'DOMESTIC',\n  FOREIGN = 'FOREIGN',\n  CONVERSION = 'CONVERSION',\n}\n\nexport enum PAYMENT_TYPE {\n  INTERNAL = 'INTERNAL',\n  EXTERNAL = 'EXTERNAL',\n  TAX = 'TAX',\n  PENSION = 'PENSION',\n  SOCIAL = 'SOCIAL',\n  MEDICAL = 'MEDICAL',\n  SALARY = 'SALARY',\n  // internal. Pick knp from dict;\n  REGULAR_PAYMENT_ORDER = 'REGULAR_PAYMENT_ORDER',\n  // transfers\n  IN_BETWEEN = 'IN_BETWEEN',\n  CARD_TO_ACCOUNT = 'CARD_TO_ACCOUNT',\n  ACCOUNT_TO_CARD = 'ACCOUNT_TO_CARD',\n  CARD_TO_CARD = 'CARD_TO_CARD',\n  FOREIGN = 'FOREIGN',\n  CONVERSION = 'CONVERSION',\n  DEPOSIT_WITHDRAWAL = 'DEPOSIT_WITHDRAWAL',\n  DEPOSIT_REPLENISHMENT = 'DEPOSIT_REPLENISHMENT',\n}\n\nexport interface IPaymentStatusHistory {\n  status: PAYMENT_STATUS;\n  time: Date;\n\n  label: string;\n  textClass: string;\n}\n\nexport enum SPECIAL_ACCOUNTS {\n  TAX_ACCOUNT = 'KZ24070105KSN0000000',\n}\n\nexport interface IPaymentEmployee {\n  amount: IMoney;\n  birthDate: string; // YYYY-MM-DD\n  firstname: string;\n  iin: string;\n  lastname: string;\n  middlename: string;\n  period: string; // YYYY-MM-DD\n}\n\nexport interface IConversionPurpose {\n  code: string;\n  description: string;\n}\n\nexport interface IExchangeRate {\n  currencyFrom: CURRENCY;\n  currencyTo: CURRENCY;\n  sum: {\n    amount: number;\n    currency: CURRENCY;\n  };\n\n  calculatedSum?: number;\n  rate?: number;\n  date?: string;\n\n  equation?: {\n    from: IMoney;\n    to: IMoney;\n  };\n\n  commissionWithdrawalIban?: string;\n}\n\nexport enum HISTORY_PAYMENT_STATE {\n  WAITING_FOR_TRANSACTION = 'WAITING_FOR_TRANSACTION',\n  WAITING_FOR_DEPOSIT = 'WAITING_FOR_DEPOSIT',\n  WAITING_FOR_UNLOCK = 'WAITING_FOR_UNLOCK',\n  WAITING_FOR_VALUE_DATE = 'WAITING_FOR_VALUE_DATE',\n  REJECTED_FOR_UNSUFFICIENT_SIGNATURES = 'REJECTED_FOR_UNSUFFICIENT_SIGNATURES',\n  REJECTED_FOR_EXPIRATION = 'REJECTED_FOR_EXPIRATION',\n  MIGRATED = 'MIGRATED',\n  AML_VERIFICATION = 'AML_VERIFICATION',\n  AML_VERIFICATION_FAILED = 'AML_VERIFICATION_FAILED',\n}\n\nexport enum FOREIGN_PAYMENT_TYPE {\n  OUR = 'OUR',\n  SHA = 'SHA',\n}\n\nexport enum COLVIR_CODE {\n  NOT_BOOKED = 'NOT_BOOKED',\n}\n\nexport interface IForeignPaymentDetails {\n  budgetDocNumber: string;\n  codeWord: {\n    code: string;\n    countryCode: string;\n    name: string;\n  };\n  commissionWithdrawalIban: string;\n  currencyTransactionCode: string;\n  fxContract: IFxContract;\n  fxContractId: string;\n  intermediaryBankBic: string;\n  intermediaryBankIban: string;\n  intermediaryBankName: string;\n  oktmo: string;\n  payerInn: string;\n  payerKpp: string;\n  payerStatus: string;\n  paymentBasis: string;\n  period: string;\n  type: FOREIGN_PAYMENT_TYPE;\n  uip: string;\n}\n\nexport interface IHistoryPaymentDetails {\n  associatedField: any;\n  commission: IMoney;\n  createDate: Date;\n  description: string;\n  documentId: string;\n  issueDate: Date;\n  knp: KNP;\n  kbk: KBK;\n  payerIban: string;\n  paymentAmount: IMoney;\n  urgent: true;\n  valueDate: Date;\n  vat: true;\n  exchangeRate: IExchangeRate;\n  conversionPurpose: IConversionPurpose;\n\n  foreignPaymentDetails?: IForeignPaymentDetails;\n}\n\nexport interface IHistoryPaymentStatus {\n  code: PAYMENT_STATUS;\n  state: HISTORY_PAYMENT_STATE;\n  message: string;\n  timestamp: Date;\n}\n\nexport interface IRefundDetails {\n  refundRef: string;\n  parentRef: string;\n  firstName: string;\n  lastName: string;\n  middleName: string;\n  birthDate: any;\n  period: any;\n  amount: IMoney;\n  description: string;\n  knp: string;\n  bin: string;\n  iban: string;\n  account: string;\n  date: any;\n}\n\nexport interface ICountry {\n  code: string;\n  id: string;\n\n  nameEn: string;\n  nameKk: string;\n  nameRu: string;\n  name?: string;\n\n  osmId: number;\n  defaultCityName: string;\n}\nexport interface IHistoryPayment {\n  category: string;\n  colvirId: string;\n  colvirResultCode: COLVIR_CODE;\n  colvirResultDescription: string;\n\n  id: string;\n  companyId: string;\n\n  imported: boolean;\n  status: IHistoryPaymentStatus;\n  type: PAYMENT_TYPE;\n\n  signatureScheme: SIGNATURE_SCHEME;\n  signatures: ISignature[];\n\n  paymentEmployees: IPaymentEmployee[];\n  paymentRecipient: {\n    iinOrBin: string;\n    country: ICountry;\n    countryCode: string;\n    cityName: string;\n    kbe: IKbe;\n    name: string;\n    recipientAccount: {\n      bankName: string;\n      bic: string;\n      iban: string;\n    };\n  };\n\n  emailOnSuccess: string;\n\n  details: IHistoryPaymentDetails;\n}\n","import { IMoney } from '../currency/currency.model';\nimport { AUTHORITY_TYPE } from './user';\n\nexport enum SIGNATURE_TYPE {\n  LETTER = 'LETTER',\n  PAYMENT = 'PAYMENT',\n}\n\nexport interface ISignature {\n  amount: IMoney;\n  authority: AUTHORITY_TYPE;\n  created: Date;\n\n  itemType: SIGNATURE_TYPE;\n  firstname: string;\n  fullName: string;\n  id: string;\n  itemId: string;\n  lastname: string;\n  middlename: string;\n  userId: string;\n}\n","export enum SMS_ERROR_TYPES {\n  EXPIRED = 'expired',\n  FORBIDDEN = 'forbidden',\n  UNKNOWN = 'unknown',\n}\n\nexport enum SMS_TABS {\n  FORM = 'form',\n  EXPIRED = 'expired',\n  FORBIDDEN = 'forbidden',\n  FORBIDDEN_BLOCKED = 'forbidden_blocked',\n  ERRORED = 'errored',\n}\n\nexport const SMS_CODE_LENGTH = 6;\nexport const SMS_TIMER_COUNTDOWN = 60;\n","export interface IStatus {\r\n  label: string;\r\n  value: any;\r\n  count?: number;\r\n  classList?: string;\r\n  isDisabled?: boolean;\r\n  isSelected?: boolean;\r\n}\r\n","export enum TOKEN_TYPE {\n  SMS = 'PHONE',\n  OTP = 'OTP',\n  EMAIL = 'EMAIL',\n}\n\nexport interface IAuthToken {\n  id?: string;\n\n  timestamp?: Date;\n  type?: TOKEN_TYPE;\n\n  signature?: string;\n\n  phone: string;\n  code: string;\n  text?: string;\n}\n\nexport interface ISmsToken extends IAuthToken {\n  actionIds?: string[];\n}\n\nexport interface IEmailToken extends IAuthToken {\n  type: TOKEN_TYPE.EMAIL;\n  email: string;\n  iin: string;\n}\n","import { Company } from '@company/company.model';\n\nimport { ACTION_TYPE, ACTION_SUBJECT_TYPE } from '../../../../projects/admin/src/app/actions/actions.model';\n\nexport class User {\n  id: string;\n  colvirId: string;\n\n  // Status\n  accountNonExpired: boolean;\n  accountNonLocked: boolean;\n  status: USER_STATUS;\n  enabled: boolean;\n  incorrectTries: number;\n\n  // Data\n  iin: string;\n  phone: string;\n  email: string;\n  password: string;\n  firstname: string;\n  middlename: string;\n  lastname: string;\n\n  // Authorities\n  authorities: IUserAuthority[];\n  userAuthorities: IUserAuthority[];\n\n  username: string;\n\n  // Ignorable\n  roles: any;\n}\n\nexport interface IUserAuthority {\n  id: string;\n  authority: AUTHORITY_TYPE;\n\n  company: Company;\n  companyColvirId: string;\n  companyId: string;\n\n  fromDate: Date;\n  toDate: Date;\n\n  userId: string;\n  userColvirId: null;\n\n  firstname: string;\n  lastname: string;\n  middlename: string;\n  position: string;\n}\n\nexport enum USER_STATUS {\n  ACTIVE = 'ACTIVE',\n  INACTIVE = 'INACTIVE',\n}\n\nexport enum AUTHORITY_TYPE {\n  PRIMARY_SIGNATURE = 'PRIMARY_SIGNATURE',\n  SECONDARY_SIGNATURE = 'SECONDARY_SIGNATURE',\n  NO_SIGNATURE = 'NO_SIGNATURE',\n}\n\nexport enum SIGNATURE_SCHEME {\n  MULTIPLE_SIGN = 'MULTIPLE_SIGN',\n  SINGLE_SIGN = 'SINGLE_SIGN',\n}\n\n\nexport interface IUserLastSession {\n  ipAddress: string,\n  timestamp: string,\n  id: string,\n  deviceInfo: string,\n  actionType: ACTION_TYPE.LOGIN | ACTION_TYPE,\n  subjectType: ACTION_SUBJECT_TYPE.USER | ACTION_SUBJECT_TYPE,\n}","import { NavAuthComponent } from './nav-auth/nav-auth.component';\nimport { NavItemComponent } from './nav-item/nav-item.component';\nimport { NavMainComponent } from './nav-main/nav-main.component';\n\nexport const NAV_COMPONENTS = [NavAuthComponent, NavMainComponent, NavItemComponent];\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { NavService, NavItem } from '../nav.service';\r\n\r\n@Component({\r\n  selector: 'j-nav-auth',\r\n  templateUrl: './nav-auth.component.html',\r\n  styleUrls: ['./nav-auth.component.scss'],\r\n})\r\nexport class NavAuthComponent implements OnDestroy, OnInit {\r\n  navList: NavItem[] = this.navService.registerList;\r\n\r\n  showNoAccount: boolean;\r\n  showNoEmail: boolean;\r\n  showUserBlocked: boolean;\r\n  showPhoneNotMatch: boolean;\r\n\r\n  readonly subs = new Subscription();\r\n\r\n  constructor(private navService: NavService) {}\r\n\r\n  ngOnInit() {\r\n    const navSubscription = this.navService\r\n      .getRegisterList()\r\n      .subscribe((navList) => {\r\n        this.navList = navList;\r\n      });\r\n    this.subs.add(navSubscription);\r\n\r\n    const showNoAccountSubscription = this.navService.showNoAccount.subscribe(\r\n      (data) => {\r\n        this.showNoAccount = data;\r\n      }\r\n    );\r\n    this.subs.add(showNoAccountSubscription);\r\n\r\n    const showNoEmailSubscription = this.navService.showNoEmail.subscribe(\r\n      (data) => {\r\n        this.showNoEmail = data;\r\n      }\r\n    );\r\n    this.subs.add(showNoEmailSubscription);\r\n\r\n    const showUserBlockedSubscription =\r\n      this.navService.showUserBlocked.subscribe((data) => {\r\n        this.showUserBlocked = data;\r\n      });\r\n    this.subs.add(showUserBlockedSubscription);\r\n\r\n    const showPhoneNotMatchSubscription =\r\n      this.navService.showPhoneNotMatch.subscribe((data) => {\r\n        this.showPhoneNotMatch = data;\r\n      });\r\n    this.subs.add(showPhoneNotMatchSubscription);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs.unsubscribe();\r\n  }\r\n\r\n  navItemClick(event: Event): void {\r\n    event.preventDefault();\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { NavService } from '../nav.service';\r\n\r\n@Component({\r\n  selector: 'j-nav-item',\r\n  templateUrl: './nav-item.component.html',\r\n  styleUrls: ['./nav-item.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class NavItemComponent implements OnDestroy {\r\n  @Input() navItem;\r\n  @Input() depth = 0;\r\n  state = null;\r\n\r\n  subscription = new Subscription();\r\n\r\n  constructor(private navService: NavService) {}\r\n\r\n  ngOnDestroy() {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n  onItemClick() {\r\n    this.navService.updateBadges();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport {\n  FeatureFlagsService,\n  FEATURE_FLAG,\n} from '@feature-flags/index';\n\nimport { Subscription } from 'rxjs';\n\nimport { NavService } from '../nav.service';\n\nconst NAV_LIST = [\n  {\n    id: 'home',\n    title: 'HOME.TITLE',\n    url: '/accounts',\n    disabled: false,\n    badge: 0,\n  },\n  {\n    id: 'history',\n    title: 'HISTORY.TITLE',\n    url: '/history',\n    disabled: false,\n    badge: 0,\n  },\n  // {\n  //   id: 'history2',\n  //   title: 'HISTORY.TITLE',\n  //   url: '/history2',\n  //   disabled: false,\n  //   badge: 0,\n  // },\n  {\n    id: 'contracts',\n    title: 'CONTRACTS.TITLE',\n    url: '/contracts',\n    disabled: false,\n    badge: 0,\n  },\n  {\n    id: 'letters',\n    title: 'LETTERS.TITLE',\n    url: '/letters',\n    disabled: false,\n    badge: 0,\n  },\n  {\n    id: 'directory',\n    title: 'DIRECTORY.TITLE',\n    url: '/directory',\n    disabled: false,\n    badge: 0,\n  },\n  {\n    id: 'settings',\n    title: 'SETTINGS.TITLE',\n    url: '/settings',\n    disabled: false,\n    badge: 0,\n  },\n  {\n    id: 'landing',\n    title: 'JMART.NAV.TITLE',\n    url: '/jmart/landing',\n    disabled: false,\n    badge: 'new',\n  },\n  {\n    id: 'extraSettings',\n    title: 'EXTRA_SETTINGS.TITLE',\n    url: '/extraSettings',\n    disabled: false,\n    badge: 0,\n    isCollapsed: false,\n    children: [{\n      id: 'faq',\n      title: 'SETTINGS.FAQ.TITLE',\n      url: '/extraSettings/faq',\n      disabled: false,\n      badge: 0\n    },\n    {\n      id: 'feature-request',\n      title: 'SETTINGS.FEATURE_REQUEST.TITLE',\n      url: '/extraSettings/feature-request',\n      disabled: false,\n      badge: 0\n    }]\n  },\n];\n\n@Component({\n  selector: 'j-nav-main',\n  templateUrl: './nav-main.component.html',\n  styleUrls: ['./nav-main.component.scss'],\n})\nexport class NavMainComponent {\n  navList = NAV_LIST;\n\n  subscription = new Subscription();\n\n  constructor(\n    private navService: NavService,\n    private featureFlagsService: FeatureFlagsService,\n    private router: ActivatedRoute\n  ) {\n\n    this.checkAndClearIfDisabled([\n      [ FEATURE_FLAG.LETTER, 'letters' ],\n      [ FEATURE_FLAG.JUSAN_MARKET, 'landing' ],\n    ]);\n\n    this.navService.getLetterBadges().subscribe((badges) => {\n      this.updateNavItem('letters', {\n        badge: badges ? badges.unread + badges.onSignForMe : null,\n      });\n    });\n\n    this.navService.getContractBadges().subscribe((badges) => {\n      this.updateNavItem('contracts', {\n        badge: badges ? badges.onSignForMe : null,\n      });\n    });\n  }\n\n  private checkAndClearIfDisabled(flags: Array<[ FEATURE_FLAG, typeof NAV_LIST[number]['id']]>) {\n    if (this.featureFlagsService.featureFlags$.isStopped) {\n      flags.forEach(([ flag, navItemId ]) => {\n        const isDisabled = this.featureFlagsService.isDisabled(flag);\n        if (isDisabled) {\n          this.navList = this.navList.filter((navItem) => navItem.id != navItemId);\n        }\n      });\n    } else {\n      this.featureFlagsService.featureFlags$.subscribe({\n        complete: () => {\n          this.checkAndClearIfDisabled(flags);\n        }\n      });\n    }\n  }\n\n  private updateNavItem(id: string, values: any) {\n    if (this.featureFlagsService.isDisabled(FEATURE_FLAG.LETTER)) {\n      return;\n    }\n\n    Object.assign(\n      this.navList.find((navItem) => navItem.id === id),\n      { ...values }\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\r\nimport { ApiService } from '@api/api.service';\r\nimport { CompanyService } from '@company/company.service';\r\n\r\nimport { Subject, Observable, BehaviorSubject, combineLatest } from 'rxjs';\r\nimport { distinctUntilChanged, filter } from 'rxjs/operators';\r\n\r\nexport class NavItem {\r\n  id: string;\r\n  label: string;\r\n  isPassed: boolean;\r\n  isActive: boolean;\r\n  isShown: boolean;\r\n  isShownDefault?: boolean;\r\n  hasError?: boolean;\r\n}\r\n\r\nexport interface ILetterBadges {\r\n  unread: number;\r\n  draft: number;\r\n  onSignForOthers: number;\r\n  onSignForMe: number;\r\n}\r\n\r\nexport interface IContractBadges {\r\n  onSignForOthers: number;\r\n  onSignForMe: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NavService {\r\n  registerList: NavItem[] = [\r\n    {\r\n      id: 'iin',\r\n      label: 'SHARED.IIN',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n    {\r\n      id: 'phone',\r\n      label: 'SHARED.PHONE',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n    {\r\n      id: 'sms',\r\n      label: 'SHARED.SMS.TITLE',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n    {\r\n      id: 'email',\r\n      label: 'AUTH.EMAIL.CONFIRM',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n    {\r\n      id: 'password',\r\n      label: 'AUTH.PASSWORD.TITLE',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n    {\r\n      id: 'result',\r\n      label: 'SHARED.DONE',\r\n      isPassed: false,\r\n      isActive: false,\r\n      isShown: true,\r\n    },\r\n  ];\r\n\r\n  private showNoAccount$ = new Subject<boolean>();\r\n  private showNoEmail$ = new Subject<boolean>();\r\n  private showNoIin$ = new Subject<boolean>();\r\n  private showPhoneNotMatch$ = new Subject<boolean>();\r\n  private showUserBlocked$ = new Subject<boolean>();\r\n  private showAlreadyOpened$ = new Subject<boolean>();\r\n\r\n  private registerList$ = new Subject<NavItem[]>();\r\n\r\n  private letterBadges$ = new BehaviorSubject<ILetterBadges>(null);\r\n  private contractBadges$ = new BehaviorSubject<IContractBadges>(null);\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private apiService: ApiService,\r\n    private companyService: CompanyService\r\n  ) {\r\n    this.companyService.refresh$.subscribe((companyRefresh) => {\r\n      // const [routerEvent, companyRefresh] = values;\r\n      const [user, company, isAuthorized] = companyRefresh;\r\n\r\n      // if (routerEvent instanceof NavigationEnd) {\r\n      if (isAuthorized) {\r\n        this.retrieveLetterBadges();\r\n        this.retrieveContractBadges();\r\n      } else {\r\n        this.updateNavigationLists();\r\n      }\r\n      //   if (\r\n      //     this.shouldUpdateBadges(routerEvent, 'letters') ||\r\n      //     this.letterBadges$.value === null\r\n      //   ) {\r\n      //     this.retrieveLetterBadges();\r\n      //   }\r\n\r\n      //   if (\r\n      //     this.shouldUpdateBadges(routerEvent, 'contracts') ||\r\n      //     this.contractBadges$.value === null\r\n      //   ) {\r\n      //     this.retrieveContractBadges();\r\n      //   }\r\n      // }\r\n      // }\r\n    });\r\n  }\r\n\r\n  getLetterBadges() {\r\n    return this.letterBadges$.asObservable().pipe(filter((badges) => !!badges));\r\n  }\r\n\r\n  getContractBadges() {\r\n    return this.contractBadges$\r\n      .asObservable()\r\n      .pipe(filter((badges) => !!badges));\r\n  }\r\n\r\n  async retrieveLetterBadges() {\r\n    try {\r\n      const url = `companies/${this.companyService.currentId}/letters/badges`;\r\n      const badges = await this.apiService.get<ILetterBadges>(url);\r\n      this.letterBadges$.next(badges);\r\n    } catch (error) {\r\n      this.letterBadges$.next({\r\n        unread: 0,\r\n        draft: 0,\r\n        onSignForOthers: 0,\r\n        onSignForMe: 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  async retrieveContractBadges() {\r\n    try {\r\n      const url = `companies/${this.companyService.currentId}/fx-contracts/badges`;\r\n      const badges = await this.apiService.get<IContractBadges>(url);\r\n      this.contractBadges$.next(badges);\r\n    } catch (error) {\r\n      this.contractBadges$.next({\r\n        onSignForOthers: 0,\r\n        onSignForMe: 0,\r\n      });\r\n    }\r\n  }\r\n\r\n  getRegisterList(): Observable<NavItem[]> {\r\n    return this.registerList$.asObservable();\r\n  }\r\n\r\n  triggerRegisterError(itemId: string, hasError = true) {\r\n    this.registerList = this.triggerListError(\r\n      this.registerList,\r\n      itemId,\r\n      hasError\r\n    );\r\n\r\n    if (itemId == 'no-account') {\r\n      this.showNoAccount$.next(hasError);\r\n    }\r\n\r\n    if (itemId == 'no-email') {\r\n      this.showNoEmail$.next(hasError);\r\n    }\r\n\r\n    if (itemId == 'user-blocked') {\r\n      this.showUserBlocked$.next(hasError);\r\n    }\r\n\r\n    if (itemId == 'phone-not-match') {\r\n      this.showPhoneNotMatch$.next(hasError);\r\n    }\r\n  }\r\n\r\n  triggerActiveItem(itemId: NavItem['id']) {\r\n    this.registerList = this.triggerListActive(\r\n      this.registerList,\r\n      itemId\r\n    );\r\n  }\r\n\r\n  get showNoAccount() {\r\n    return this.showNoAccount$.asObservable();\r\n  }\r\n\r\n  get showNoEmail() {\r\n    return this.showNoEmail$.asObservable();\r\n  }\r\n\r\n  get showNoIin() {\r\n    return this.showNoIin$.asObservable();\r\n  }\r\n\r\n  get showUserBlocked() {\r\n    return this.showUserBlocked$.asObservable();\r\n  }\r\n\r\n  get showPhoneNotMatch() {\r\n    return this.showPhoneNotMatch$.asObservable();\r\n  }\r\n\r\n  get showAlreadyOpened() {\r\n    return this.showAlreadyOpened$.asObservable();\r\n  }\r\n\r\n  public updateBadges() {\r\n    this.retrieveLetterBadges();\r\n    this.retrieveContractBadges();\r\n  }\r\n\r\n  // private shouldUpdateBadges(routerEvent: NavigationEnd, targetRoute: string) {\r\n  //   const routes = routerEvent.url.split('/').filter((item) => !!item);\r\n  //   console.log(routes);\r\n\r\n  //   return routes[0] == targetRoute && routes.length > 1;\r\n  // }\r\n\r\n  private triggerListError(list: NavItem[], itemId: string, hasError: boolean) {\r\n    return list.map((navItem) => {\r\n      if (navItem.id === itemId) {\r\n        navItem.hasError = hasError;\r\n      }\r\n      return navItem;\r\n    });\r\n  }\r\n\r\n  private triggerListActive(list: NavItem[], itemId: string) {\r\n    let foundCurrentItem = false;\r\n    return list.map((navItem) => {\r\n      navItem.isActive = !foundCurrentItem;\r\n      if (navItem.id === itemId) {\r\n        foundCurrentItem = true;\r\n        navItem.isActive = true;\r\n      }\r\n      return navItem;\r\n    });\r\n  }\r\n\r\n  private updateNavigationLists() {\r\n    this.registerList = this.updateList(this.registerList);\r\n    this.registerList$.next(this.registerList);\r\n  }\r\n\r\n  private updateList(navList: NavItem[]) {\r\n    let isShownNextValue = true;\r\n\r\n    const result = [];\r\n\r\n    navList.map((navItem) => {\r\n      const itemIndex = navList.indexOf(navItem);\r\n      const currentIndex = navList.findIndex((item) => {\r\n        return this.routeLastChuck.includes(item.id);\r\n      });\r\n\r\n      navItem.isActive = itemIndex === currentIndex;\r\n      navItem.isPassed = itemIndex < currentIndex;\r\n      navItem.isShown = navItem.isActive || isShownNextValue;\r\n\r\n      if (navItem.id == 'result' && navItem.isActive == true) {\r\n        navItem.isPassed = true;\r\n      }\r\n\r\n      if (navItem.hasError) {\r\n        isShownNextValue = false;\r\n      }\r\n      result.push(navItem);\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  private get routeLastChuck() {\r\n    const currentUrlFull = this.router.url.split('/');\r\n    const currentUrl = currentUrlFull[currentUrlFull.length - 1];\r\n    return currentUrl;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { MaskedService } from '@shared/masked/masked.service';\n\n@Pipe({\n  name: 'amountFormat',\n  pure: true,\n})\nexport class AmountFormatPipe implements PipeTransform {\n  transform(value: string | number, fixedZeroes?: boolean): string {\n    if (value) {\n      return this.maskService.formatAmount(value, fixedZeroes);\n    }\n    return `0`;\n  }\n\n  constructor(private maskService: MaskedService) {}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { BankFromAccountPipe } from './bank-from-account.pipe';\r\n\r\n@Pipe({\r\n  name: 'bankAccountName',\r\n  pure: true,\r\n})\r\nexport class BankAccountNamePipe implements PipeTransform {\r\n  transform(value: string, ...args: any[]): any {\r\n    return value ? this.biq.transform(value, 'name') : '';\r\n  }\r\n  constructor(private biq: BankFromAccountPipe) {}\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ibanPrefix } from '@utils/index';\n\nexport const UNKNOWN = 'unknown';\n\n@Pipe({\n  pure: true,\n  name: 'bankFromAccount',\n})\nexport class BankFromAccountPipe implements PipeTransform {\n  transform(\n    value: string = '',\n    key?: keyof BankDictEntity,\n    safePrefix?: string\n  ): string {\n    if (!value || (value && value.length < 7)) {\n      return '';\n    } else if (value) {\n      const bank =\n        dict[\n          ((safePrefix && ibanPrefix(value, safePrefix)) || value)\n            .replace(' ', '')\n            .slice(4, 7)\n        ];\n\n      if (bank) {\n        return key ? bank[key] : bank.bic;\n      }\n    }\n\n    return '';\n  }\n}\n\nexport interface BankDictEntity {\n  bic: string;\n  name: string;\n}\n\nexport const dict = {\n  '922': {\n    bic: 'ABNAKZKX',\n    name: '  \"First Heartland Bank\"',\n  },\n  '947': {\n    bic: 'ALFAKZKA',\n    name: ' \"  \"-\"',\n  },\n  '826': {\n    bic: 'ALMNKZKA',\n    name: ' \"\"',\n  },\n  '949': {\n    bic: 'ATYNKZKA',\n    name: ' \"Altyn Bank\" ( China Citic Bank Corporation Limited)',\n  },\n  '913': {\n    bic: 'BKCHKZKA',\n    name: '  \"   \"',\n  },\n  '722': {\n    bic: 'CASPKZKA',\n    name: ' \"KASPI BANK\"',\n  },\n  '766': {\n    bic: 'CEDUKZKA',\n    name: ' \"   \"',\n  },\n  '832': {\n    bic: 'CITIKZKA',\n    name: ' \" \"',\n  },\n  '620': {\n    bic: 'TNGRKZKX',\n    name: ' \"Tengri Bank\"',\n  },\n  '907': {\n    bic: 'DVKAKZKA',\n    name: ' \"  \"',\n  },\n  '700': {\n    bic: 'EABRKZKA',\n    name: ' \"  \"',\n  },\n  '948': {\n    bic: 'EURIKZKA',\n    name: ' \" \"',\n  },\n  '009': {\n    bic: 'GCVPKZ2A',\n    name: ' \"    \"',\n  },\n  '972': {\n    bic: 'HCSKKZKA',\n    name: ' \" \"',\n  },\n  '246': {\n    bic: 'HLALKZKZ',\n    name: ' \"  \"Al Hilal\"',\n  },\n  '601': {\n    bic: 'HSBKKZKX',\n    name: ' \"  \"',\n  },\n  '930': {\n    bic: 'ICBKKZKX',\n    name: ' \"-    . \"',\n  },\n  '550': {\n    bic: 'INEARUMM',\n    name: '.  ',\n  },\n  '886': {\n    bic: 'INLMKZKA',\n    name: '  \"    \"',\n  },\n  '965': {\n    bic: 'IRTYKZKA',\n    name: ' \"ForteBank\"',\n  },\n  '856': {\n    bic: 'KCJBKZKX',\n    name: ' \" \"',\n  },\n  '927': {\n    bic: 'KICEKZKX',\n    name: ' \"  \"',\n  },\n  '821': {\n    bic: 'KINCKZKA',\n    name: '  \" \"Bank RBK\"\"',\n  },\n  '224': {\n    bic: 'KISCKZKX',\n    name: ' \"    \"',\n  },\n  '070': {\n    bic: 'KKMFKZ2A',\n    name: ' \"    \"',\n  },\n  '563': {\n    bic: 'KPSTKZKA',\n    name: ' \"\"',\n  },\n  '551': {\n    bic: 'KSNVKZKA',\n    name: ' \" Kassa Nova\" (   \"ForteBank\")',\n  },\n  '885': {\n    bic: 'KZIBKZKA',\n    name: ' \" \"-  \"',\n  },\n  '774': {\n    bic: 'LARIKZKA',\n    name: ' \"AsiaCredit Bank ( )\"',\n  },\n  '553': {\n    bic: 'NBPAKZKA',\n    name: '  \"  \"  ',\n  },\n  '147': {\n    bic: 'NBPFKZKX',\n    name: '   \"\"',\n  },\n  '125': {\n    bic: 'NBRKKZKX',\n    name: '      ',\n  },\n  '849': {\n    bic: 'NURSKZKX',\n    name: ' \"\"',\n  },\n  '914': {\n    bic: 'SABRKZKA',\n    name: '  \"\"',\n  },\n  '435': {\n    bic: 'SHBKKZKA',\n    name: ' \"  \"',\n  },\n  '781': {\n    bic: 'TBKBKZKA',\n    name: ' \"Capital Bank Kazakhstan\"',\n  },\n  '998': {\n    bic: 'TSESKZKA',\n    name: ' \"First Heartland Jusan Bank\"',\n  },\n  '432': {\n    bic: 'VTBAKZKZ',\n    name: '     ()',\n  },\n  '896': {\n    bic: 'ZAJSKZ22',\n    name: ' \"  \"-\"',\n  },\n};\n","import { Pipe, PipeTransform } from '@angular/core';\n\nconst symbols = {\n  KZT: '',\n  USD: '$',\n  EUR: '',\n  RUB: '',\n  AUD: '$',\n  AZN: '',\n  BYN: '.',\n  DKK: 'kr.',\n  SAR: '..',\n  SGD: '$',\n  XAU: 'XAU',\n  KGS: '',\n  GBP: '',\n  CNY: '',\n  CHF: '',\n  HKD: '$',\n  GEL: '.', //  ,\n  AED: '.', //  ,\n  INR: '', //  ,\n  CAD: '$', //  ,\n  MYR: 'RM', //  ,\n  PLN: 'z', //  ,\n  THB: '', //  ,\n  TRY: '', //  ,\n  UZS: \"so'm\", //  ,\n  UAH: '', //  ,\n  CZK: 'K', //  ,\n  SEK: 'kr', //  ,\n  KRW: '', //  ,\n  JPY: '', //  ,\n  KZT_RU: ''\n};\n@Pipe({\n  name: 'curSymbol',\n  pure: true,\n})\nexport class CurSymbolPipe implements PipeTransform {\n  transform(value: string): string {\n    return symbols[value];\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ngbDateToDate, formatNgbDate } from '@utils/index';\r\nimport { Observable, of } from 'rxjs';\r\n\r\n@Pipe({\r\n  name: 'jDateFormat',\r\n  // pure: true,\r\n})\r\nexport class DateFormatPipe implements PipeTransform {\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  transform(value: NgbDateStruct): Observable<string> {\r\n    if (!value) {\r\n      return this.translateService.get('PAYMENTS.DATE.AUTO');\r\n    }\r\n    const dateValue = ngbDateToDate(value);\r\n\r\n    const now = new Date();\r\n    let tomorrow = new Date();\r\n\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    tomorrow.setHours(23, 59);\r\n\r\n    if (value.day === now.getDate()) {\r\n      return this.translateService.get('PAYMENTS.DATE.TODAY', {\r\n        date: formatNgbDate(value, this.translateService.currentLang),\r\n      });\r\n    } else if (tomorrow >= dateValue) {\r\n      return this.translateService.get('PAYMENTS.DATE.TOMORROW', {\r\n        date: formatNgbDate(value, this.translateService.currentLang),\r\n      });\r\n    }\r\n\r\n    return of(formatNgbDate(value, this.translateService.currentLang));\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { MaskedService } from '@shared/masked/masked.service';\n\n@Pipe({\n  name: 'formatIban',\n  pure: true\n})\nexport class FormatIbanPipe implements PipeTransform {\n\n  transform(value: string, prefix: string = ''): string {\n    return this.masService.maskPipe.transform(prefix + value, this.masService.getConfig('account').mask);\n  }\n\n  constructor(private masService: MaskedService) {}\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'highlight',\n})\nexport class HighlightPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(value: any, args: any): any {\n    if (!args) {\n      return value;\n    }\n    // Match in a case insensitive maneer\n    const re = new RegExp(args, 'gi');\n    const match = value.match(re);\n\n    // If there's no match, just return the original value.\n    if (!match) {\n      return value;\n    }\n\n    const result = value.replace(re, '<mark>' + match[0] + '</mark>');\n    return this.sanitizer.bypassSecurityTrustHtml(result);\n  }\n}\n","import { AmountFormatPipe } from './amount-format.pipe';\nimport { BankAccountNamePipe } from './bank-account-name.pipe';\nimport { BankFromAccountPipe } from './bank-from-account.pipe';\nimport { CurSymbolPipe } from './cur-symbol.pipe';\nimport { DateFormatPipe } from './date-format.pipe';\nimport { FormatIbanPipe } from './format-iban.pipe';\nimport { TrackByPropertyPipe } from './track-by-property.pipe';\nimport { MaskPhonePipe } from './mask-phone.pipe';\nimport { SvgPathPipe } from './svg-path.pipe';\nimport { HighlightPipe } from './highlight.pipe';\nimport { MoneyPipe } from './money.pipe';\nimport { MaskIbanPipe } from './mask-iban.pipe';\nimport { PipeFunction } from './pure-function.pipe';\nimport { LinkifyPipe } from './linkify.pipe';\n\nexport const SHARED_PIPES = [\n  TrackByPropertyPipe,\n  CurSymbolPipe,\n  BankFromAccountPipe,\n  BankAccountNamePipe,\n  DateFormatPipe,\n  AmountFormatPipe,\n  FormatIbanPipe,\n  MaskPhonePipe,\n  SvgPathPipe,\n  HighlightPipe,\n  MoneyPipe,\n  MaskIbanPipe,\n  PipeFunction,\n  LinkifyPipe\n];\n\nexport * from './amount-format.pipe';\nexport * from './bank-account-name.pipe';\nexport * from './bank-from-account.pipe';\nexport * from './cur-symbol.pipe';\nexport * from './date-format.pipe';\nexport * from './format-iban.pipe';\nexport * from './track-by-property.pipe';\nexport * from './mask-phone.pipe';\nexport * from './svg-path.pipe';\nexport * from './money.pipe';\nexport * from './mask-iban.pipe';\nexport * from './pure-function.pipe';\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'linkifyPipe',\n})\nexport class LinkifyPipe implements PipeTransform {\n  constructor(private _domSanitizer: DomSanitizer) {}\n\n  transform(value: string): SafeHtml {\n    if (!value) {\n      return;\n    }\n\n    const urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n\n    const html = value.replace(urlRegex, (url) => {\n      return '<a target=\"_blank\" href=\"' + url + '\">' + url + '</a>';\n    });\n\n    const sanitizedHtml = this._sanitizeHtml(html);\n\n    return sanitizedHtml;\n  }\n\n  private _sanitizeHtml(html: string): SafeHtml {\n    if (!html) return;\n\n    return this._domSanitizer.bypassSecurityTrustHtml(html);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { maskIban } from '@utils/misc';\n\n@Pipe({\n  name: 'maskIban',\n  pure: true\n})\nexport class MaskIbanPipe implements PipeTransform {\n\n  transform(iban: string, ...args: unknown[]): unknown {\n    return iban && maskIban(iban) || '-';\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { MaskService, MaskPipe } from 'ngx-mask';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { maskPhone } from '@utils/index';\n\n@Pipe({\n  name: 'maskPhone',\n  pure: true,\n})\nexport class MaskPhonePipe implements PipeTransform {\n  public config;\n  constructor(mask: MaskedService, private pipe: MaskPipe) {\n    this.config = mask.getConfig('phone');\n  }\n  transform(value: string): string {\n    return maskPhone(\n      this.config.prefix + this.pipe.transform(value && value.replace('+7', ''), this.config.mask)\n    );\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { IMoney } from '@shared/currency/currency.model';\r\n\r\nimport { AmountFormatPipe } from './amount-format.pipe';\r\nimport { CurSymbolPipe } from './cur-symbol.pipe';\r\n\r\n@Pipe({\r\n  name: 'money',\r\n})\r\nexport class MoneyPipe implements PipeTransform {\r\n  constructor(\r\n    private amountFormatPipe: AmountFormatPipe,\r\n    private curSymbolPipe: CurSymbolPipe\r\n  ) {}\r\n\r\n  transform(value: IMoney, args?: any): any {\r\n    if (!value) {\r\n      return;\r\n    }\r\n\r\n    const amount = this.amountFormatPipe.transform(value.amount);\r\n    const currency = this.curSymbolPipe.transform(value.currency);\r\n\r\n    return `${amount} ${currency}`;\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'pipeFunction'\n})\nexport class PipeFunction implements PipeTransform {\n  public transform(value: any, handler: (value: any) => any, context?: any): any {\n    if (context) {\n      return handler.call(context, value);\n    }\n\n    return handler(value);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { environment } from '@environments/environment';\n\nconst base = environment.svgBasePath;\nconst suffix = '-current-color.svg';\n\n@Pipe({\n  name: 'svgPath',\n  pure: true\n})\nexport class SvgPathPipe implements PipeTransform {\n  transform(value: string): string {\n    return base + value + suffix;\n  }\n}\n","import { Pipe } from '@angular/core';\nimport { PipeTransform } from '@angular/core';\n\ninterface TrackByFunctionCache {\n  [propertyName: string]: <T>(index: number, item: T) => any;\n}\n\n// Since the resultant TrackBy functions are based purely on a static property name, we\n// can cache these Functions across the entire app. No need to generate more than one\n// Function for the same property.\nconst cache: TrackByFunctionCache = Object.create(null);\n\n@Pipe({\n  name: 'trackByProperty',\n  pure: true,\n})\nexport class TrackByPropertyPipe implements PipeTransform {\n  // I return a TrackBy function that plucks the given property from the ngFor item.\n  public transform(propertyName: string): Function {\n    // Ensure cached function exists.\n    if (!cache[propertyName]) {\n      cache[propertyName] = function trackByProperty<T>(\n        index: number,\n        item: T\n      ): any {\n        return item[propertyName];\n      };\n    }\n\n    return cache[propertyName];\n  }\n}\n","import { InjectionToken, ValueProvider } from '@angular/core';\n\nexport const BREAKPOINTS = new InjectionToken('BREAKPOINTS');\n\nexport enum BOOTSTRAP_BREAKPOINTS {\n  XS = 'xs',\n  SM = 'sm',\n  MD = 'md',\n  LG = 'lg',\n  XL = 'xl',\n}\nconst breakpoints: string[] = [\n  BOOTSTRAP_BREAKPOINTS.XS,\n  BOOTSTRAP_BREAKPOINTS.SM,\n  BOOTSTRAP_BREAKPOINTS.MD,\n  BOOTSTRAP_BREAKPOINTS.LG,\n  BOOTSTRAP_BREAKPOINTS.XL,\n];\n\nexport const breakpointProvider: ValueProvider = {\n  provide: BREAKPOINTS,\n  useValue: breakpoints,\n};\n","import {\n  Pipe,\n  PipeTransform,\n  ChangeDetectorRef,\n  OnDestroy,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ResponsiveToolkitService } from './responsive-toolkit.service';\n\n@Pipe({\n  name: 'isBreakpoint',\n  pure: false,\n})\nexport class IsBreakpointPipe implements PipeTransform, OnDestroy {\n  lastResult: boolean;\n  lastParam: string;\n  lastBreakpoint: string;\n  subs: Subscription;\n  \n  constructor(\n    private responsiveService: ResponsiveToolkitService,\n    private ref: ChangeDetectorRef\n  ) {}\n\n  transform(value: any, ...args: any[]): boolean {\n    if (this.lastParam === value) {\n      return this.lastResult;\n    }\n    if (!this.subs) {\n      this.subs = this.responsiveService.currentBreakpoint$.subscribe(\n        (event: string) => {\n          this.updateValue(value, event);\n        }\n      );\n    }\n    return this.updateValue(value);\n  }\n\n  private updateValue(value: string, newBreakpoint?: string): boolean {\n    this.lastParam = value;\n    if (newBreakpoint) {\n      this.lastBreakpoint = newBreakpoint;\n    }\n    this.lastResult = this.responsiveService.is(value);\n    this.ref.markForCheck();\n    return this.lastResult;\n  }\n\n  ngOnDestroy() {\n    this.subs?.unsubscribe();\n  }\n}\n","import { isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  HostListener,\n  Inject,\n  PLATFORM_ID,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { ResponsiveToolkitService } from './responsive-toolkit.service';\n\n@Component({\n  selector: 'responsive-detector',\n  template: '',\n  styleUrls: ['./responsive-detector.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'responsive-detector'\n  }\n})\nexport class ResponsiveDetector implements AfterViewInit {\n  running = false;\n  constructor(\n    private el: ElementRef,\n    private s: ResponsiveToolkitService,\n    @Inject(PLATFORM_ID) private platformId\n  ) {}\n\n  @HostListener('window:resize', [])\n  private onResize() {\n    this.triggerBreakpointCheck();\n  }\n\n  ngAfterViewInit() {\n    this.triggerBreakpointCheck();\n  }\n\n  triggerBreakpointCheck() {\n    if (this.running) {\n      return;\n    }\n    this.running = true;\n    requestAnimationFrame(() => {\n      this.running = false;\n      this.s.currentBreakpoint = this.getCurrentBreakpointName();\n    });\n  }\n\n  private getCurrentBreakpointName() {\n    if (isPlatformBrowser(this.platformId)) {\n      return window\n        .getComputedStyle(this.el.nativeElement, ':before')\n        .getPropertyValue('content');\n    } else {\n      return '';\n    }\n  }\n}\n","import {\r\n  NgModule, ModuleWithProviders,\r\n} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IsBreakpointPipe } from './is-breakpoint.pipe';\r\nimport { ResponsiveDetector } from './responsive-detector.component';\r\nimport { breakpointProvider } from './constants';\r\n\r\n@NgModule({\r\n  declarations: [IsBreakpointPipe, ResponsiveDetector],\r\n  exports: [IsBreakpointPipe, ResponsiveDetector],\r\n  providers: [breakpointProvider],\r\n  imports: [CommonModule],\r\n})\r\nexport class ResponsiveToolkitModule {\r\n  static forRoot(config?): ModuleWithProviders<ResponsiveToolkitModule> {\r\n    return {\r\n      ngModule: ResponsiveToolkitModule,\r\n      providers: [breakpointProvider],\r\n    };\r\n  }\r\n}\r\n","import { Injectable, Inject, Renderer2, PLATFORM_ID } from '@angular/core';\nimport { BREAKPOINTS } from './constants';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { splitExpression, isAnExpression, isMatchingExpression, isAnyActive } from '@utils/index';\n\n\n\nexport const CUSTOM_EVENT = 'responsiveToolkitResize';\nexport const UNKNOWN_BREAKPOINT = 'UNKNOWN_BREAKPOINT';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ResponsiveToolkitService {\n  private currentBreakpointSubject$: BehaviorSubject<string> = new BehaviorSubject(null);\n  public currentBreakpoint$ = this.currentBreakpointSubject$.pipe(distinctUntilChanged());\n  constructor(\n    @Inject(BREAKPOINTS) private breakpoints: string[],\n    // @Inject(PLATFORM_ID) private platformId\n  ) {\n\n    // if (isPlatformBrowser(platformId)) {\n    //   this.throttle('resize', CUSTOM_EVENT, window);\n    //   this.target = window.document.querySelector('body');\n    //   window.addEventListener(CUSTOM_EVENT, this.handleResize.bind(this));\n    // }\n\n    this.currentBreakpoint = this.breakpoints[0];\n  }\n\n  get currentBreakpoint() {\n    return this.currentBreakpointSubject$.getValue();\n  }\n\n  set currentBreakpoint(breakpoint) {\n    this.currentBreakpointSubject$.next(breakpoint);\n  }\n\n  /**\n   * Returns true if current breakpoint matches passed alias\n   */\n  is(str: string): boolean {\n    if (isAnExpression(str)) {\n      return isAnyActive(this.currentBreakpoint, isMatchingExpression(str, this.breakpoints))\n    }\n    return this.currentBreakpoint.includes(str);\n  }\n\n  /**\n   * Returns current breakpoint alias\n   */\n  current() {\n    let name = UNKNOWN_BREAKPOINT;\n    this.breakpoints.some(alias => {\n      if (this.is(alias)) {\n        name = alias;\n        return true;\n      }\n    });\n    return name;\n  }\n\n  /*\n   * Waits specified number of miliseconds before executing a callback\n   */\n  // changed(fn, ms: number) {\n  //   let timer;\n  //   return () => {\n  //     clearTimeout(timer);\n  //     timer = setTimeout(() => {\n  //       fn();\n  //     }, ms || this.interval);\n  //   };\n  // }\n\n  // private handleResize() {\n  //   this.currentBreakpointSubject$.next(this.getCurrentBreakpoint());\n  // }\n\n  // private throttle(type, name, window) {\n  //   const obj  = window;\n  //   let running = false;\n  //   const func = function() {\n  //     if (running) {\n  //       return;\n  //     }\n  //     running = true;\n  //     requestAnimationFrame(function() {\n  //       obj.dispatchEvent(new CustomEvent(name));\n  //       running = false;\n  //     });\n  //   };\n  //   obj.addEventListener(type, func);\n  // }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { BehaviorSubject, Subscription, merge, fromEvent } from 'rxjs';\r\nimport {\r\n  startWith,\r\n  mapTo,\r\n  tap,\r\n  scan,\r\n  distinctUntilChanged,\r\n  throttleTime,\r\n} from 'rxjs/operators';\r\nimport { NotifierService } from 'angular-notifier';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppStateService implements OnDestroy {\r\n  private readonly navigatorOnlineSubject$ = new BehaviorSubject(true);\r\n  readonly navigatorOnline$ = this.navigatorOnlineSubject$.asObservable();\r\n  private readonly subs = new Subscription();\r\n\r\n  constructor(\r\n    private window: Window,\r\n    private notifier: NotifierService // private translateService: TranslateService\r\n  ) {\r\n    this.subs.add(\r\n      merge(\r\n        fromEvent(this.window, 'offline').pipe(mapTo(false)),\r\n        fromEvent(this.window, 'online').pipe(mapTo(true))\r\n      )\r\n        .pipe(startWith(window.navigator.onLine))\r\n        .subscribe(this.navigatorOnlineSubject$)\r\n    );\r\n    this.subs.add(\r\n      this.navigatorOnlineSubject$\r\n        .pipe(\r\n          throttleTime(3000, undefined, { leading: true }),\r\n          distinctUntilChanged(),\r\n          scan((acc, v) => {\r\n            if (v && acc) {\r\n              this.notifier.hide(acc);\r\n              return '';\r\n            }\r\n            /**\r\n             * @todo no autohide for concrete toast\r\n             */\r\n            // if (!v && !acc) {\r\n            if (!v) {\r\n              const message =\r\n                localStorage.getItem('lang') == 'kk'\r\n                  ? '  .  ,  '\r\n                  : ' .     ';\r\n\r\n              const id = Date.now().toString();\r\n              this.notifier.show({\r\n                type: 'error',\r\n                message,\r\n                id,\r\n              });\r\n              return id;\r\n            }\r\n            return acc;\r\n          }, '')\r\n        )\r\n        .subscribe()\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subs.unsubscribe();\r\n  }\r\n\r\n  get isOnline() {\r\n    return this.navigatorOnlineSubject$.getValue();\r\n  }\r\n\r\n  set isOnline(v: boolean) {\r\n    this.navigatorOnlineSubject$.next(v);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { EntitiesStore, SingleEntityStore, ISO_8061 } from '@utils/index';\nimport { ApiService } from '@api/index';\nimport {\n  KNP,\n  KBK,\n  UGD,\n  Bank,\n  PAYMENT_TYPE,\n  ICountryCode,\n  ICountryCodeResponseObj,\n  DictionaryResponse,\n} from '@shared/models';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport * as moment from 'moment';\nimport { Dictionary } from 'lodash';\nimport { TranslateService } from '@ngx-translate/core';\n@Injectable({\n  providedIn: 'root',\n})\nexport class DictionariesService {\n  KNPDictionary: EntitiesStore<KNP>;\n  UGDictionary: EntitiesStore<UGD>;\n  KBKDictionary: EntitiesStore<KBK>;\n  bankDictionary: EntitiesStore<Bank>;\n  workingDays: SingleEntityStore<string[]>;\n  countryCodes: ICountryCode[];\n\n  constructor(private api: ApiService, private http: HttpClient, private translateService: TranslateService) {\n    this.KNPDictionary = new EntitiesStore([]);\n    this.KBKDictionary = new EntitiesStore([]);\n    this.UGDictionary = new EntitiesStore([]);\n    this.bankDictionary = new EntitiesStore([]);\n    this.workingDays = new SingleEntityStore([]);\n\n    this.fetchUGD$();\n    this.fetchKNP$();\n    this.fetchKBK$();\n    this.fetchBanks();\n    this.fetchWorkingDays();\n  }\n\n  fetchUGD$() {\n    this.UGDictionary.fetching = true;\n\n    return this.api.get<UGD[]>('/dictionaries/general?pageSize=5000&type=TAX_BENEFICIAR&sortBy=CODE').then(\n      (v) => {\n        this.UGDictionary.setState(\n          (v as any[]).map((item) => ({\n            ...item,\n            id: item.value.code,\n            code: item.value.code,\n            bin: item.additional.map.bin,\n            name: item.value.name,\n            label: item.value.code + ' - ' + item.value.name,\n          }))\n        );\n        this.UGDictionary.fetched = true;\n      }\n    ).finally(() => {\n      this.UGDictionary.fetching = false;\n    });\n  }\n\n  fetchKNP$() {\n    this.KNPDictionary.fetching = true;\n\n    return this.api.get<DictionaryResponse[]>('/dictionaries/general?pageSize=10000&type=KNP&sortBy=CODE').then(\n      (v) => {\n        this.KNPDictionary.setState(\n          (v as any[]).map((item) => ({\n            ...item,\n            id: item.value.code,\n            name: item.value.name,\n            type: {\n              TAX: item.additional.map.paymentTypes?.includes('TAX'),\n              PENSION: item.additional.map.paymentTypes?.includes('PENSION'),\n              SOCIAL: item.additional.map.paymentTypes?.includes('SOCIAL'),\n              MEDICAL: item.additional.map.paymentTypes?.includes('MEDICAL'),\n              REGULAR_PAYMENT_ORDER: item.additional.map.paymentTypes?.includes('REGULAR_PAYMENT_ORDER'),\n              FOREIGN: item.additional.map.paymentTypes?.includes('FOREIGN'),\n            },\n            code: item.value.code,\n            favourite: item.additional.map.isFavourite,\n            label: `${item.value.code} ${item.value.name}`\n          })));\n\n        this.KNPDictionary.fetching = false;\n        this.KNPDictionary.fetched = true;\n      }\n    );\n  }\n\n  fetchKBK$() {\n    this.KBKDictionary.fetching = true;\n    this.KBKDictionary.items = [];\n    return this.api.get<DictionaryResponse[]>('/dictionaries/general?pageSize=10000&type=KBK&sortBy=CODE').then(\n      (v) => {\n        this.KBKDictionary.setState(\n          (v as any[]).map((item) => ({\n            ...item,\n            id: item.value.code,\n            name: item.value.name,\n            type: { TAX: item.additional.map.paymentType?.includes('TAX') },\n            code: item.value.code,\n            label: `${item.value.code} ${item.value.name}`\n          })));\n        this.KBKDictionary.fetching = false;\n        this.KBKDictionary.fetched = true;\n      }\n    );\n  }\n\n  fetchCountryCodesDictionary(): Promise<ICountryCodeResponseObj[]> {\n    return this.api\n      .get<ICountryCodeResponseObj[]>('/dictionaries/general?pageSize=300&type=PHONE_COUNTRY_CODES&sortBy=name');\n  }\n\n  async fetchCountryCodes(): Promise<ICountryCode[]> {\n    return await this.http\n      .get<ICountryCode[]>('/assets/data/country-codes.json').pipe(\n        map(res => {\n          return res.map(el => ({\n            ...el,\n            country: this.translateService.instant(`COUNTRIES.${el.country}`),\n            id: el.country\n          }));\n        })\n      ).toPromise();\n  }\n\n  fetchBanks() {\n    this.bankDictionary.fetching = true;\n    return this.api\n      .get<Bank[]>('/dictionaries/banks')\n      .then((banks) => this.bankDictionary.setState(banks))\n      .finally(() => {\n        this.bankDictionary.fetching = false;\n        this.bankDictionary.fetched = true;\n      });\n  }\n\n  fetchWorkingDays() {\n    this.workingDays.fetching = true;\n    return this.api\n      .get<string[]>('/calendar/working-days')\n      .then((days) => (this.workingDays.entity = days))\n      .finally(() => {\n        this.workingDays.fetching = false;\n        this.workingDays.fetched = true;\n      });\n  }\n  /**\n   *\n   * @param from date in IS0 8061\n   * @param to date in IS0 8061\n   */\n  selectDaysOff(from: string, to: string): string[] {\n    const start = moment(from, ISO_8061);\n    const end = moment(to, ISO_8061);\n\n    let daysInInterval = start.diff(end, 'days');\n\n    const workingDays = this.workingDays.entity;\n    const daysOff: string[] = [];\n\n    const dict = this.selectDaysTimeline(from, to, workingDays).reduce(\n      (acc, day) => {\n        acc[day] = true;\n        return acc;\n      },\n      {} as Dictionary<boolean>\n    );\n\n    const pointer = moment(end);\n    let pointerFormat = '';\n    while (daysInInterval) {\n      pointerFormat = pointer.format(ISO_8061);\n      if (!dict[pointerFormat]) {\n        daysOff.push(pointerFormat);\n      }\n      daysInInterval--;\n      pointer.add(-1, 'd');\n    }\n    return daysOff;\n  }\n  /**\n   * slice working days from store\n   * if days edge be triggered fallback will be applied (mark day as working from Mon to Fri)\n   * @param from date in IS0 8061\n   * @param to date in IS0 8061\n   * @param workingDays array of working days\n   */\n  selectDaysTimeline(\n    from: string,\n    to: string,\n    workingDays: string[]\n  ): string[] {\n    const start = moment(from, ISO_8061);\n    const end = moment(to, ISO_8061);\n    let startIndex;\n    let endIndex;\n\n    if (!workingDays || !workingDays.length) {\n      this.fetchWorkingDays();\n    }\n\n    workingDays?.some((day, index, arr) => {\n      if (\n        start.isBetween(\n          moment(day, ISO_8061),\n          moment(arr[index + 1], ISO_8061),\n          undefined,\n          '[]'\n        )\n      ) {\n        startIndex = index;\n        return true;\n      }\n      return false;\n    });\n    if (startIndex === undefined) {\n      return this.handleEdgeOfTimeline(\n        start.format(ISO_8061),\n        end.format(ISO_8061)\n      );\n    }\n    const result = workingDays.slice(startIndex);\n    result.some((day, index, arr) => {\n      if (\n        end.isBetween(\n          moment(day, ISO_8061),\n          moment(arr[index + 1], ISO_8061),\n          undefined,\n          '[]'\n        )\n      ) {\n        endIndex = index;\n        return true;\n      }\n      return false;\n    });\n\n    if (endIndex === undefined) {\n      return result.concat(\n        this.handleEdgeOfTimeline(\n          result[result.length - 1],\n          end.format(ISO_8061)\n        )\n      );\n    }\n\n    return result.slice(0, endIndex + 1);\n  }\n  /**\n   * @param from date in IS0 8061\n   * @param to date in IS0 8061\n   */\n  handleEdgeOfTimeline(from: string, to: string) {\n    const start = moment(from, ISO_8061).set('h', 1);\n    const end = moment(to, ISO_8061).set('h', 23);\n\n    const result = [];\n    const pointer = moment(start);\n    while (pointer.isBefore(end)) {\n      const day = start.isoWeekday();\n      if (day < 6) {\n        result.push(pointer.format(ISO_8061));\n      }\n      pointer.add(1, 'd');\n    }\n    return result;\n  }\n\n  selectByPaymentType<\n    T extends {\n      type: { [key in PAYMENT_TYPE]: boolean };\n      code: string;\n      id: string;\n      favourite?: { [key in PAYMENT_TYPE]: boolean };\n    }\n  >(items: T[], opts: { type: PAYMENT_TYPE; sortFavourite?: boolean }) {\n    const result = items.filter((item) => {\n      return item?.type?.[opts.type];\n    });\n    if (opts.sortFavourite) {\n      result.sort((a, b) => {\n        if (a.favourite && !b.favourite) {\n          return -1;\n        } else if (b.favourite && !a.favourite) {\n          return 1;\n        }\n        return parseInt(a.code, 10) - parseInt(b.code, 10);\n      });\n    }\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\r\n\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\n\r\nimport { ApiService } from '@api/index';\r\n\r\nimport { IFile, IImportResult, IUploadingFile } from '@shared/models';\r\nimport {\r\n  HttpEvent,\r\n  HttpEventType,\r\n  HttpHeaders,\r\n  HttpParams,\r\n} from '@angular/common/http';\r\nimport { scan } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NotifierService } from 'angular-notifier';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FilesService {\r\n  imported$ = new Subject<IImportResult[]>();\r\n  public uploading$ = new BehaviorSubject<File[]>([]);\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private translateService: TranslateService,\r\n    private notifer: NotifierService\r\n  ) {}\r\n\r\n  async downloadFileById(fileId: string, fileName: string) {\r\n    const url = `files/${fileId}`;\r\n\r\n    let headers = new HttpHeaders();\r\n    // headers = headers.set('Accept-File', 'application/pdf');\r\n    headers = headers.set('Content-Type', 'application/octet-stream');\r\n\r\n    const params = new HttpParams();\r\n    const fileBlob = await this.apiService.get(url, headers, params, {\r\n      responseType: 'blob',\r\n    });\r\n\r\n    return this.downloadFile(fileBlob, fileName);\r\n  }\r\n\r\n  downloadFile(fileBlob, fileName: string) {\r\n    const blob = new Blob([fileBlob as any], {\r\n      type: 'application/octet-stream',\r\n    });\r\n\r\n    const downloadURL = window.URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n\r\n    link.href = downloadURL;\r\n    link.download = fileName;\r\n\r\n    link.click();\r\n  }\r\n\r\n  onImport() {\r\n    return this.imported$.asObservable();\r\n  }\r\n\r\n  async uploadPayments(companyId: string, fileList: FileList) {\r\n    const url = `companies/${companyId}/payments/import`;\r\n    const formData = new FormData();\r\n\r\n    for (let index = 0; index < fileList.length; index++) {\r\n      formData.append('files', fileList[index]);\r\n    }\r\n\r\n    try {\r\n      const importResult = await this.apiService.post<IImportResult[]>(\r\n        url,\r\n        formData\r\n      );\r\n      this.imported$.next(importResult);\r\n\r\n      return importResult;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  uploadFile(file: File) {\r\n    const url = `files`;\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const extras = {\r\n      reportProgress: true,\r\n      observe: 'events',\r\n    };\r\n\r\n    return this.apiService\r\n      .postObservable<HttpEvent<IFile>>(url, formData, null, null, extras)\r\n      .pipe(\r\n        scan(this.scanUploadProgress, {\r\n          progress: 0,\r\n          isLoading: true,\r\n          file: null,\r\n        })\r\n      );\r\n  }\r\n\r\n  checkIfCanBeUploadedAndNotify(uploadingFiles: IUploadingFile[]) {\r\n    const { result, reason } = this.canBeUploaded(uploadingFiles);\r\n\r\n    if (reason) {\r\n      this.notifer.notify(\r\n        result ? 'info' : 'default',\r\n        this.translateService.instant(reason)\r\n      );\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  canBeUploaded(uplodingFiles: IUploadingFile[]) {\r\n    if (this.hasLoadingFiles(uplodingFiles)) {\r\n      return {\r\n        result: false,\r\n        reason: this.mapTranslate('PLEASE_WAIT'),\r\n      };\r\n    }\r\n\r\n    if (this.isAllFilesErrored(uplodingFiles)) {\r\n      return {\r\n        result: false,\r\n        reason: this.mapTranslate('ALL_FILES_ERRORED'),\r\n      };\r\n    }\r\n\r\n    if (this.hasErroredFiles(uplodingFiles)) {\r\n      return {\r\n        result: true,\r\n        reason: this.mapTranslate('HAS_ERRORED_FILES'),\r\n      };\r\n    }\r\n\r\n    return {\r\n      result: true,\r\n    };\r\n  }\r\n\r\n  private mapTranslate(key: string) {\r\n    return `FILES.${key}`;\r\n  }\r\n\r\n  private scanUploadProgress(current, next) {\r\n    if (next.type === HttpEventType.Response) {\r\n      return {\r\n        progress: 100,\r\n        isLoading: false,\r\n        file: next.body,\r\n      };\r\n    }\r\n\r\n    if (\r\n      next.type === HttpEventType.DownloadProgress ||\r\n      next.type === HttpEventType.UploadProgress\r\n    ) {\r\n      return {\r\n        progress: next.total\r\n          ? Math.round((100 * next.loaded) / next.total)\r\n          : current.progress,\r\n        isLoading: true,\r\n        file: null,\r\n      };\r\n    }\r\n\r\n    return current;\r\n  }\r\n\r\n  hasLoadingFiles(uploadingFiles: IUploadingFile[]) {\r\n    return uploadingFiles.some((item) => {\r\n      return item.isLoading;\r\n    });\r\n  }\r\n\r\n  hasErroredFiles(uploadingFiles: IUploadingFile[]) {\r\n    return uploadingFiles.some((item) => {\r\n      return !!item.error;\r\n    });\r\n  }\r\n\r\n  isAllFilesErrored(uploadingFiles: IUploadingFile[]) {\r\n    let result = true;\r\n    uploadingFiles.forEach((item) => {\r\n      if (!item.error) {\r\n        result = false;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { PAYMENTS_STEPS } from '@payments/models/steps';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HeaderService {\n  currentStep$ = new BehaviorSubject<number>(PAYMENTS_STEPS.NONE);\n\n  constructor() {}\n\n  getCurrentStep() {\n    return this.currentStep$.asObservable();\n  }\n\n  setCurrentStep(newStep: number) {\n    this.currentStep$.next(newStep);\n  }\n}\n","export * from './user.service';\nexport * from './sms.service';\nexport * from './header.service';\nexport * from './files.service';\nexport * from './dictionaries.service';\nexport * from './app-state.service';\nexport * from './j-modal.service';\n","import { Injectable } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { MaintenanceModalComponent } from '@shared/modals';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class JModalService {\n  modalSmParams = {\n    backdropClass: 'backdrop_light',\n    windowClass: 'modal_light modal_sm',\n    centered: true,\n  };\n\n  constructor(private modalService: NgbModal) {}\n\n  showMaintenanceModal() {\n    this.modalService.open(MaintenanceModalComponent, this.modalSmParams);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/api.service';\n\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { CompanyService } from '@company/company.service';\nimport dayjs from 'dayjs';\n\nimport ru from 'dayjs/locale/ru';\nimport kk from 'dayjs/locale/kk';\nimport en from 'dayjs/locale/en';\n\nconst APP_LANG_KEY = 'lang';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LangService {\n  isAuthorized = false;\n\n  constructor(\n    private apiService: ApiService,\n    private translateService: TranslateService,\n    private companyService: CompanyService\n  ) {}\n\n  init() {\n    const savedLang =\n      localStorage.getItem(APP_LANG_KEY) || this.translateService.defaultLang;\n\n    this.translateService.use(savedLang);\n    this.updateDayJsLocale(savedLang);\n    localStorage.setItem(APP_LANG_KEY, savedLang);\n\n    this.companyService.refresh$.subscribe(([user, company, isAuthorized]) => {\n      this.isAuthorized = isAuthorized;\n\n      if (isAuthorized) {\n        this.loadServerLang();\n      }\n    });\n  }\n\n  setLang(lang: string, shouldUpdateServer = this.isAuthorized) {\n    localStorage.setItem(APP_LANG_KEY, lang);\n    this.translateService.use(lang);\n\n    this.updateDayJsLocale(lang);\n\n    if (shouldUpdateServer) {\n      this.setLanguage(lang);\n    }\n  }\n\n  async loadServerLang() {\n    try {\n      const serverLang = await this.retrieveLanguage();\n\n      if (serverLang && serverLang !== this.translateService.currentLang) {\n        this.setLang(this.translateService.currentLang, false);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async setLanguage(language: string) {\n    const url = `users/language`;\n    return this.apiService.put<any>(url, { language });\n  }\n\n  private async retrieveLanguage() {\n    const url = `users/language`;\n    const serverProps = await this.apiService.get<any>(url);\n\n    return serverProps?.language;\n  }\n\n  private updateDayJsLocale(lang: string) {\n    switch (lang) {\n      case 'ru':\n        dayjs.locale(ru);\n        break;\n\n      case 'kk':\n        dayjs.locale(kk);\n        break;\n\n      case 'en':\n        dayjs.locale(en);\n        break;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\n\nimport {\n  NgbModal,\n  NgbModalOptions,\n  NgbModalRef,\n} from '@ng-bootstrap/ng-bootstrap';\n\nimport { IBulkOperationResult, ISmsToken, TOKEN_TYPE } from '../models';\nimport { ConfirmSmsModalComponent, CONFIRM_SIGNATURE_TYPE } from '../components/confirm-sms-modal/confirm-sms-modal.component';\n\nimport { ApiService, HEADERS } from '@api/api.service';\nimport { CompanyService } from '@company/company.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ListService {\n  private modalConfigMedium: NgbModalOptions = {\n    backdropClass: 'backdrop_light',\n    windowClass: 'modal_light modal_md',\n    backdrop: 'static',\n    centered: true,\n  };\n\n  constructor(\n    private apiService: ApiService,\n    private companyService: CompanyService,\n    private modalService: NgbModal\n  ) {}\n\n  deleteList(urlPath: string, itemIds: string[]) {\n    const url = `companies/${this.companyService.currentId}/${urlPath}`;\n    const body = {\n      itemIds,\n    };\n    return this.apiService.deleteWithBody<IBulkOperationResult>(url, body);\n  }\n\n  async sign(urlPath: string, ids: string | string[]) {\n    const itemIds = Array.isArray(ids) ? (ids as string[]) : [ids as string];\n\n    const modalResult = await this.showSignModal(itemIds);\n\n    if (!modalResult) {\n      return;\n    }\n\n    const { smsToken, modal } = modalResult;\n\n    return this.signList(urlPath, ids as string, smsToken, modal);\n  }\n\n  async signList(\n    urlPath: string,\n    ids: string | string[],\n    smsToken: ISmsToken,\n    modal: NgbModalRef\n  ) {\n    const suffix = Array.isArray(ids) ? '' : `${ids}/`;\n    const url = `companies/${this.companyService.currentId}/${urlPath}/${suffix}signatures`;\n    const body = {\n      itemIds: Array.isArray(ids) ? ids : [ids],\n    };\n\n    const headers = new HttpHeaders({\n      [smsToken.type == TOKEN_TYPE.OTP ? HEADERS.OTP : HEADERS.PHONE]:\n        smsToken.signature,\n    });\n\n    const result = await this.apiService.post<IBulkOperationResult>(\n      url,\n      body,\n      headers\n    );\n    modal.close();\n\n    return result;\n  }\n\n  async showSignModal(actionIds: string[]) {\n    const modal = this.modalService.open(\n      ConfirmSmsModalComponent,\n      this.modalConfigMedium\n    );\n\n    Object.assign(modal.componentInstance, {\n      isPaymentsSigning: false,\n      additionalParams: {\n        actionIds,\n      },\n    });\n\n    const modalResult = new Promise<{\n      modal: NgbModalRef;\n      smsToken: ISmsToken;\n    }>((resolve, reject) => {\n      (modal.componentInstance as ConfirmSmsModalComponent).submitted.subscribe(\n        (smsToken: ISmsToken) => {\n          localStorage.setItem(\n            'preferredSignatureType',\n            smsToken.type === TOKEN_TYPE.OTP\n              ? CONFIRM_SIGNATURE_TYPE.OTP\n              : CONFIRM_SIGNATURE_TYPE.SMS\n          );\n          resolve({ smsToken, modal });\n        }\n      );\n\n      (modal.componentInstance as ConfirmSmsModalComponent).closed.subscribe(\n        () => {\n          modal.close();\n          resolve(null);\n        }\n      );\n    });\n\n    return modalResult;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/api.service';\nimport { CompanyService } from '@company/company.service';\nimport { IExchangeRate, IHistoryPayment, PAYMENT_TYPE } from '@shared/models';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PaymentsSharedService {\n  constructor(\n    private apiService: ApiService,\n    private companyService: CompanyService\n  ) {}\n\n  getPaymentById(paymentId: string) {\n    const url = `companies/${this.companyService.currentId}/payments/${paymentId}`;\n\n    return this.apiService.get<IHistoryPayment>(url);\n  }\n\n  getExchangeRate(body: IExchangeRate) {\n    const url = `companies/${this.companyService.currentId}/payments/exchange-rate`;\n    return this.apiService.post<IExchangeRate>(url, body);\n  }\n\n  async retrieveExhangeRates(payment: IHistoryPayment) {\n    const exchangeRate = payment.details.exchangeRate;\n\n    const { currencyFrom, currencyTo, sum } = exchangeRate;\n\n    const current = await this.getExchangeRate({\n      currencyFrom,\n      currencyTo,\n      sum,\n    });\n\n    return {\n      original: exchangeRate,\n      current,\n    };\n  }\n\n  getRateAmounts(exchangeRate: IExchangeRate) {\n    if (!exchangeRate) {\n      return;\n    }\n\n    if (exchangeRate.equation) {\n      return {\n        from: exchangeRate.equation.from,\n        to: exchangeRate.equation.to,\n      };\n    }\n\n    if (\n      exchangeRate.currencyFrom &&\n      exchangeRate.currencyTo &&\n      exchangeRate.rate\n    ) {\n      return {\n        from: {\n          amount: exchangeRate.rate,\n          currency: exchangeRate.currencyFrom,\n        },\n        to: {\n          amount: 1,\n          currency: exchangeRate.currencyTo,\n        },\n      };\n    }\n  }\n\n  updatePaymentExchangeRate(\n    payment: IHistoryPayment,\n    exchangeRate: IExchangeRate\n  ) {\n    const url = `companies/${this.companyService.currentId}/payments/${payment.id}/exchange-rate`;\n    const body = {\n      ...exchangeRate,\n      commissionWithdrawalIban:\n        payment.details.exchangeRate.commissionWithdrawalIban,\n    };\n\n    return this.apiService.patch(url, body);\n  }\n\n  updatePayment(payment: IHistoryPayment) {\n    const url = `companies/${this.companyService.currentId}/payments/${payment.id}`;\n    return this.apiService.put(url, payment);\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, PLATFORM_ID} from '@angular/core';\nimport {isPlatformBrowser} from '@angular/common';\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator: boolean;\n\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  hasV8BreakIterator = (typeof Intl !== 'undefined' && (Intl as any).v8BreakIterator);\n} catch {\n  hasV8BreakIterator = false;\n}\n\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n */\n@Injectable({providedIn: 'root'})\nexport class Platform {\n  // We want to use the Angular platform check because if the Document is shimmed\n  // without the navigator, the following checks will fail. This is preferred because\n  // sometimes the Document may be shimmed without the user's knowledge or intention\n  /** Whether the Angular application is being rendered in the browser. */\n  isBrowser: boolean = this._platformId ?\n      isPlatformBrowser(this._platformId) : typeof document === 'object' && !!document;\n\n  /** Whether the current browser is Microsoft Edge. */\n  EDGE: boolean = this.isBrowser && /(edge)/i.test(navigator.userAgent);\n\n  /** Whether the current rendering engine is Microsoft Trident. */\n  TRIDENT: boolean = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n\n  // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n  /** Whether the current rendering engine is Blink. */\n  BLINK: boolean = this.isBrowser && (!!((window as any).chrome || hasV8BreakIterator) &&\n      typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT);\n\n  // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n  // ensure that Webkit runs standalone and is not used as another engine's base.\n  /** Whether the current rendering engine is WebKit. */\n  WEBKIT: boolean = this.isBrowser &&\n      /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n\n  /** Whether the current platform is Apple iOS. */\n  IOS: boolean = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) &&\n      !('MSStream' in window);\n\n  // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n  // them self as Gecko-like browsers and modify the userAgent's according to that.\n  // Since we only cover one explicit Firefox case, we can simply check for Firefox\n  // instead of having an unstable check for Gecko.\n  /** Whether the current browser is Firefox. */\n  FIREFOX: boolean = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n\n  /** Whether the current platform is Android. */\n  // Trident on mobile adds the android platform to the userAgent to trick detections.\n  ANDROID: boolean = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT;\n\n  // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n  // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n  // Safari browser should also use Webkit as its layout engine.\n  /** Whether the current browser is Safari. */\n  SAFARI: boolean = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT;\n\n  constructor(@Inject(PLATFORM_ID) private _platformId: Object) {}\n}\n\n","import { Injectable } from '@angular/core';\r\nimport { ApiService, HEADERS, SMS_HEADERS } from '@api/index';\r\nimport { HttpHeaders } from '@angular/common/http';\r\n\r\nimport { ISmsToken, TOKEN_TYPE } from '../models/token';\r\nimport { UserService } from './user.service';\r\nimport { resolveURL } from '@utils/index';\r\n\r\nconst endpoints = {\r\n  requestSMS: 'auth/phone/token',\r\n  verifySMS: 'auth/phone/token/::id',\r\n  requestOTP: 'auth/otp/token/',\r\n  verifyOTP: 'auth/otp/token/::id',\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SmsService {\r\n  constructor(private userService: UserService, private api: ApiService) {}\r\n\r\n  async requestSms(\r\n    phone: string = this.userService.userPhone,\r\n    params?: {\r\n      actionIds?: string[];\r\n    },\r\n    headerParams?: {\r\n      smsHeader?: string;\r\n    }\r\n  ): Promise<ISmsToken> {\r\n    const url = endpoints.requestSMS;\r\n    const headers = headerParams\r\n      ? new HttpHeaders().set('code-destiny-type', headerParams.smsHeader)\r\n      : null;\r\n    const body = {\r\n      phone,\r\n    };\r\n    params && Object.assign(body, params);\r\n\r\n    const unsignedSmsToken = await this.api.post<ISmsToken>(url, body, headers);\r\n    return unsignedSmsToken;\r\n  }\r\n\r\n  async submitSms(smsToken: ISmsToken): Promise<ISmsToken> {\r\n    const url = resolveURL(endpoints.verifySMS, { id: smsToken.id });\r\n    const headers = new HttpHeaders().set(HEADERS.SMS, smsToken.signature);\r\n\r\n    const signedSmsToken = await this.api.put<ISmsToken>(\r\n      url,\r\n      smsToken,\r\n      headers\r\n    );\r\n    return signedSmsToken;\r\n  }\r\n\r\n  async requestOtp(\r\n    phone: string = this.userService.userPhone,\r\n    params?: {\r\n      actionIds?: string[];\r\n    },\r\n    otp = null\r\n  ): Promise<ISmsToken> {\r\n    const url = endpoints.requestOTP;\r\n    let body: any = {\r\n      phone,\r\n    };\r\n\r\n    if (otp) {\r\n      body.serial = otp.serial;\r\n    }\r\n\r\n    if (params) {\r\n      body = { ...body, ...params };\r\n    }\r\n\r\n    const unsignedOtpToken = await this.api.post<ISmsToken>(url, body);\r\n    return unsignedOtpToken;\r\n  }\r\n\r\n  async submitOtp(\r\n    smsToken: ISmsToken,\r\n    params?: {\r\n      actionIds?: string[];\r\n    },\r\n    otp = null\r\n  ): Promise<ISmsToken> {\r\n    const url = resolveURL(endpoints.verifyOTP, { id: smsToken.id });\r\n    let body: any = {\r\n      type: TOKEN_TYPE.OTP,\r\n      phone: smsToken.phone,\r\n      code: smsToken.code,\r\n      id: smsToken.id,\r\n    };\r\n\r\n    if (otp) {\r\n      body.serial = otp.serial;\r\n    }\r\n\r\n    if (params) {\r\n      body = { ...body, ...params };\r\n    }\r\n\r\n    if (otp) {\r\n      body.serial = otp.serial;\r\n    }\r\n\r\n    const headers = new HttpHeaders().set(HEADERS.OTP, smsToken.signature);\r\n    const signedOtpToken = await this.api.put<ISmsToken>(url, body, headers);\r\n\r\n    return signedOtpToken;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { IUserLastSession, User } from '@shared/models/user';\r\nimport { ApiService } from '@api/index';\r\nimport { CompanyService } from '@company/company.service';\r\nimport { HttpParams } from '@angular/common/http';\r\n\r\nexport const AUTHORITY_ID = 'authority_id';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UserService {\r\n  private user$ = new BehaviorSubject<User>(\r\n    JSON.parse(localStorage.getItem('user'))\r\n  );\r\n\r\n  lang: string;\r\n\r\n  constructor(private apiService: ApiService) { }\r\n\r\n  get user() {\r\n    return this.user$.getValue();\r\n  }\r\n\r\n  get userPhone() {\r\n    return this.user && this.user.phone;\r\n  }\r\n\r\n  getUser() {\r\n    return this.user$.asObservable();\r\n  }\r\n\r\n  setUser(user: User) {\r\n    if (user == null) {\r\n      this.lang = null;\r\n      localStorage.removeItem('user');\r\n    } else {\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n\r\n    this.user$.next(user);\r\n  }\r\n\r\n  changePassword(oldPassword: string, newPassword: string) {\r\n    const url = 'users/password:change';\r\n    const body = {\r\n      oldPassword,\r\n      newPassword,\r\n    };\r\n    return this.apiService.put(url, body);\r\n  }\r\n\r\n  async retrieveUserLastSession(): Promise<IUserLastSession> {\r\n    const url = `users/latest-session`;\r\n    return this.apiService.get<IUserLastSession>(url);\r\n  }\r\n\r\n  async retrieveOtpInfo(companyId: string = null) {\r\n    try {\r\n      const url = `users/${this.user.id}/otp-devices`;\r\n\r\n      let params = new HttpParams();\r\n      params = params.append('companyId', companyId);\r\n\r\n      const otpList = await this.apiService.get<any>(url, null, params);\r\n\r\n      return otpList?.length > 0 ? otpList[0] : false;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport {\n  NgbDatepickerModule,\n  NgbDropdownModule,\n  NgbTooltipModule,\n  NgbPaginationModule,\n  NgbPopoverModule,\n} from '@ng-bootstrap/ng-bootstrap';\nimport { NgxErrorsModule } from '@ngspot/ngx-errors';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\nimport { NgxMaskModule, MaskPipe } from 'ngx-mask';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { ClickOutsideModule } from 'ng-click-outside';\nimport { InlineSVGModule } from 'ng-inline-svg';\nimport { ClipboardModule } from 'ngx-clipboard';\nimport { LottieModule } from 'ngx-lottie';\nimport { NgxSkeletonLoaderModule } from 'ngx-skeleton-loader';\nimport { NgCircleProgressModule } from 'ng-circle-progress';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { AngularYandexMapsModule } from 'angular8-yandex-maps';\n\nimport { AnalyticsModule } from '@analytics/analytics.module';\nimport { FeatureFlagsModule } from '@feature-flags/feature-flags.module';\n\nimport { ResponsiveToolkitModule } from './responsive-toolkit/responsive-toolkit.module';\n\nimport { IconComponent } from './icon/icon.component';\n\nimport { LoadingComponent } from './loading/loading.component';\nimport { LoadingDirective } from './loading/loading.directive';\n\nimport { LayoutHomeComponent } from './layout-home/layout-home.component';\nimport { MainComponent } from './layout-home/main/main.component';\n\nimport { JDatePickerComponent } from './date-picker/date-picker.component';\n\nimport { JFormFieldComponent } from './form-field/form-field.component';\nimport { JHintDirective } from './form-field/hint.directive';\nimport { JLabelDirective } from './form-field/label.directive';\nimport { JPrefixDirective } from './form-field/prefix.directive';\nimport { JSuffixDirective } from './form-field/suffix.directive';\nimport { JFormInput } from './form-field/form-input';\nimport { JErrorComponent } from './form-field/error.component';\nimport { JBottomLineDirective } from './form-field/bottom-line';\n\nimport { InputShadowComponent } from './input-shadow/input-shadow.component';\nimport { ConfirmSmsModalComponent } from './components/confirm-sms-modal/confirm-sms-modal.component';\n\nimport { DIRECTIVES } from './directives';\nimport { SHARED_PIPES } from './pipes';\n\nimport { SHARED_COMPONENTS } from './components';\n\nimport { NAV_COMPONENTS } from './nav';\nimport { INPUT_COMPONENTS } from './input';\nimport { FPAGE_COMPONENTS } from './f-page';\nimport { EMPLOYEE_COMPONENTS } from './employee';\nimport { SHARED_MODALS } from './modals';\nimport { DIRECTIVES as TABLE_DIRECTIVES } from './table';\nimport { EXCHANGE_RATES_COMPONENTS } from './exchange-rates';\nimport { BankDropdownComponent } from './exchange-rates/components/bank-dropdown/bank-dropdown.component';\nimport { CurrenciesListServiceAbstract } from './currencies-list/currencies-list.service.abstract';\nimport { CurrenciesListService } from './currencies-list/currensies-list.service';\nimport { MAP_CONFIG } from './components/yandex-maps/config';\nimport { YandexMapsComponent } from './components/yandex-maps/yandex-maps.component';\n\nconst EXPORT_COMPONENTS = [\n  ConfirmSmsModalComponent,\n  IconComponent,\n  LoadingComponent,\n  LoadingDirective,\n  LayoutHomeComponent,\n  JDatePickerComponent,\n  MainComponent,\n  JFormFieldComponent,\n  JHintDirective,\n  JLabelDirective,\n  JPrefixDirective,\n  JSuffixDirective,\n  JBottomLineDirective,\n  JErrorComponent,\n  JFormInput,\n  InputShadowComponent,\n  YandexMapsComponent,\n  EMPLOYEE_COMPONENTS,\n  FPAGE_COMPONENTS,\n  SHARED_COMPONENTS,\n  INPUT_COMPONENTS,\n  NAV_COMPONENTS,\n  EXCHANGE_RATES_COMPONENTS,\n];\n\nconst EXPORT_MODULES = [\n  CommonModule,\n  NgxMaskModule,\n  NgxSpinnerModule,\n  ClickOutsideModule,\n  ResponsiveToolkitModule,\n  InlineSVGModule,\n  TranslateModule,\n  NgbTooltipModule,\n  NgbPopoverModule,\n  ClipboardModule,\n  FeatureFlagsModule,\n  NgCircleProgressModule,\n  NgxSkeletonLoaderModule,\n  InfiniteScrollModule,\n  LottieModule,\n];\n\n@NgModule({\n  declarations: [\n    SHARED_PIPES,\n    SHARED_MODALS,\n    DIRECTIVES,\n    EXPORT_COMPONENTS,\n    TABLE_DIRECTIVES,\n    EXCHANGE_RATES_COMPONENTS,\n    BankDropdownComponent,\n  ],\n  imports: [\n    LottieModule,\n    HttpClientModule,\n    RouterModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BsDatepickerModule.forRoot(),\n    NgxMaskModule.forChild(),\n    NgxErrorsModule,\n    NgbDropdownModule,\n    NgbDatepickerModule,\n    NgbPaginationModule,\n    AnalyticsModule,\n    AngularYandexMapsModule.forRoot(MAP_CONFIG),\n    EXPORT_MODULES,\n  ],\n  exports: [\n    SHARED_PIPES,\n    SHARED_MODALS,\n    DIRECTIVES,\n    EXPORT_COMPONENTS,\n    EXPORT_MODULES,\n    TABLE_DIRECTIVES,\n  ],\n  providers: [\n    SHARED_PIPES,\n    { provide: MaskPipe, useClass: MaskPipe },\n    { provide: CurrenciesListServiceAbstract, useClass: CurrenciesListService },\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class SharedModule {}\n","export * from './selection-row.directive';\nexport * from './selection-container.directive';\n","import { Directive, Input } from '@angular/core';\nimport { FormControl, FormControlDirective, NgControl } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Directive({\n  selector: '[jSelectionContainer]',\n})\nexport class SelectionContainerDirective {\n  @Input('jSelectionContainer') control: FormControl;\n  @Input() rows: { id: string }[];\n  constructor() {}\n\n  get value() {\n    return this.control.value as string[];\n  }\n\n  patchValue(id: string, value: boolean) {\n    let selected = this.control.value || [];\n    if (value) {\n      selected.push(id);\n    } else {\n      selected = selected.filter((check) => check !== id);\n    }\n    this.control.patchValue(selected);\n  }\n\n  selectAll() {\n    this.control.patchValue(this.rows.map(({ id }) => id));\n  }\n\n  clearAll() {\n    this.control.patchValue([]);\n  }\n\n  get isAllSelected() {\n    return this.control.value.length === this.rows.length && this.rows.length > 0\n  }\n\n  get valueChanges() {\n    return this.control.valueChanges;\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Directive,\n  HostBinding,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { SelectionContainerDirective } from './selection-container.directive';\n\n@Directive({\n  selector: '[jSelectionRow]',\n})\nexport class SelectionRowDirective implements OnDestroy, OnInit, AfterViewInit {\n  // checked: boolean;\n  @Input('jSelectionRow') id: string;\n  @Input() masterSelect: boolean;\n  private readonly subs = new Subscription();\n  constructor(\n    private container: SelectionContainerDirective,\n    private cd: ChangeDetectorRef\n  ) {}\n\n  @HostBinding() checked: boolean;\n  @HostListener('change', ['$event.target.checked'])\n  change(checked) {\n    if (!this.masterSelect) {\n      this.container.patchValue(this.id, checked);\n    } else {\n      if (this.container.isAllSelected) {\n        this.container.clearAll();\n      } else {\n        this.container.selectAll();\n      }\n    }\n\n    // this.cd.detectChanges();\n  }\n\n  ngOnInit() {\n    this.subs.add(\n      this.container.valueChanges\n        .pipe(debounceTime(0))\n        .subscribe((v: string[]) => {\n          if (!this.masterSelect) {\n            const newValue = !!v.find((id) => id === this.id);\n            if (newValue !== this.checked) {\n              this.checked = newValue;\n              this.cd.detectChanges();\n            }\n          } else {\n            this.checked = this.container.isAllSelected;\n            this.cd.detectChanges();\n          }\n        })\n    );\n  }\n\n  ngAfterViewInit() {\n    // this.cd.detach();\n  }\n\n  ngOnDestroy() {\n    this.subs.unsubscribe();\n  }\n}\n","import * as D from './directives';\n\nexport const DIRECTIVES = [\n  D.SelectionRowDirective,\n  D.SelectionContainerDirective,\n];\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\n\nimport { HEADERS } from '@api/index';\n\nimport * as CryptoJS from 'crypto-js';\nimport { UAParser } from 'ua-parser-js';\n\nimport { environment } from '@environments/environment';\n\nexport interface IToken {\n  access_token: string;\n  token_type: string;\n  expires_in: string;\n  scope: string;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TokenService {\n  private BASIC_TOKEN = btoa('webapp:rjZI9MfQOf');\n  private CLIENT_TOKEN: string;\n  private DEVICE_TOKEN: string;\n\n  private CLIENT_TOKEN_KEY = 'client_token';\n  private USER_TOKEN_KEY = 'user_token';\n  private DEVICE_TOKEN_KEY = 'device_token';\n\n  private userToken: string;\n  private uaParser = new UAParser();\n\n  constructor() {}\n\n  getBasicHeaders(headers: HttpHeaders = new HttpHeaders()) {\n    headers = this.applyDeviceInfoHeaders(headers);\n    return headers.set(HEADERS.AUTHORIZATION, `Basic ${this.BASIC_TOKEN}`);\n  }\n\n  applyClientHeaders(headers: HttpHeaders = new HttpHeaders()) {\n    return headers.set(HEADERS.AUTHORIZATION, `Bearer ${this.clientToken}`);\n  }\n\n  applyUserHeaders(headers: HttpHeaders = new HttpHeaders()) {\n    return headers.set(HEADERS.AUTHORIZATION, `Bearer ${this.getUserToken()}`);\n  }\n\n  applyDeviceHeaders(\n    headers: HttpHeaders = new HttpHeaders(),\n    password: string\n  ) {\n    headers = this.applyDeviceInfoHeaders(headers);\n\n    this.getDeviceToken(password);\n\n    if (this.DEVICE_TOKEN != undefined) {\n      return headers.set(HEADERS.DEVICE, this.DEVICE_TOKEN);\n    }\n\n    return headers;\n  }\n\n  applyAuthHeaders(headers: HttpHeaders = new HttpHeaders()) {\n    headers = this.applyDeviceInfoHeaders(headers);\n\n    if (this.userToken) {\n      headers = this.applyUserHeaders(headers);\n    } else if (this.clientToken) {\n      headers = this.applyClientHeaders(headers);\n    }\n\n    return headers;\n  }\n\n  get clientToken() {\n    if (!this.CLIENT_TOKEN) {\n      this.clientToken = localStorage.getItem(this.CLIENT_TOKEN_KEY);\n    }\n    return this.CLIENT_TOKEN;\n  }\n\n  set clientToken(clientToken: string) {\n    if (clientToken != null) {\n      this.CLIENT_TOKEN = clientToken;\n      localStorage.setItem(this.CLIENT_TOKEN_KEY, this.CLIENT_TOKEN);\n    }\n  }\n\n  getUserToken() {\n    if (!this.userToken) {\n      this.userToken = localStorage.getItem(this.USER_TOKEN_KEY);\n    }\n\n    return this.userToken;\n  }\n\n  setUserToken(userToken: string) {\n    if (!userToken) {\n      return;\n    }\n\n    this.userToken = userToken;\n    localStorage.setItem(this.USER_TOKEN_KEY, this.userToken);\n  }\n\n  getDeviceToken(password: string) {\n    if (!this.DEVICE_TOKEN && localStorage.getItem(this.DEVICE_TOKEN_KEY)) {\n      try {\n        const decryptedDeviceToken = this.decryptData(\n          localStorage.getItem(this.DEVICE_TOKEN_KEY),\n          password\n        );\n        this.DEVICE_TOKEN = decryptedDeviceToken;\n      } catch (error) {\n        throw error;\n      }\n    }\n    return this.DEVICE_TOKEN;\n  }\n\n  setDeviceToken(deviceToken: string, password: string) {\n    if (deviceToken != null) {\n      this.DEVICE_TOKEN = deviceToken;\n      try {\n        const encryptedDeviceToken = this.encryptData(deviceToken, password);\n        localStorage.setItem(this.DEVICE_TOKEN_KEY, encryptedDeviceToken);\n      } catch (error) {}\n    }\n  }\n\n  clearClientToken() {\n    this.CLIENT_TOKEN = null;\n    localStorage.removeItem(this.CLIENT_TOKEN_KEY);\n  }\n\n  clearUserToken() {\n    this.userToken = null;\n    localStorage.removeItem(this.USER_TOKEN_KEY);\n  }\n\n  clearDeviceToken() {\n    this.DEVICE_TOKEN = null;\n    localStorage.removeItem(this.DEVICE_TOKEN_KEY);\n  }\n\n  private applyDeviceInfoHeaders(headers: HttpHeaders = new HttpHeaders()) {\n    this.uaParser.setUA(window.navigator.userAgent);\n\n    const lang = localStorage.getItem('lang');\n    const uaInfo = this.uaParser.getResult();\n    const os = `${uaInfo.os.name} ${uaInfo.os.version}`;\n    const browser = `${uaInfo.browser.name} ${uaInfo.browser.version}`;\n\n    return headers\n      .set('Client-Type', 'web')\n      .set('X-Language', lang)\n      .set('x-app-version', environment.appVersion)\n      .set('x-device-info', `${os} ${browser}`);\n  }\n\n  private encryptData(data, encryptSecretKey) {\n    return CryptoJS.AES.encrypt(\n      JSON.stringify(data),\n      encryptSecretKey\n    ).toString();\n  }\n\n  private decryptData(data, encryptSecretKey) {\n    const bytes = CryptoJS.AES.decrypt(data, encryptSecretKey);\n\n    if (bytes.toString()) {\n      return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n    }\n    return data;\n  }\n}\n","import { AbstractControl, ValidationErrors } from '@angular/forms';\n\nimport { isEmptyInputValue } from './utils';\n\nexport class AccountValidators {\n  static isTengeAcc(control: AbstractControl): ValidationErrors | null {\n    if (\n      isEmptyInputValue(control.value) ||\n      typeof control.value !== 'string' ||\n      control.value.length < 2\n    ) {\n      return null;\n    }\n\n    if (control.value.substring(0, 2) !== 'KZ') {\n      return { isTengeAcc: true };\n    }\n    return null;\n  }\n}\n","export const errors = {\r\n  country: [\r\n    {\r\n      error: 'rubOnlyViaBranch',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_ONLY_VIA_BRANCH_ERROR',\r\n    },\r\n    {\r\n      error: 'cnyOnlyToChina',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.CNY_ONLY_TO_CHINA_ERROR',\r\n    },\r\n  ],\r\n  iinOrBin: [\r\n    {\r\n      error: 'mask',\r\n      message: 'ERRORS.IIN_LENGTH',\r\n    },\r\n    {\r\n      error: 'uniq',\r\n      message: 'ERRORS.EMPLOYEE_ALREADY_SELECTED',\r\n    },\r\n  ],\r\n  name: [\r\n    {\r\n      errors: 'maxlength',\r\n      message: 'ERRORS.NAME_MAX_LENGTH',\r\n    },\r\n  ],\r\n  bankReceiver: [\r\n    {\r\n      error: 'bankRestricted',\r\n      message: 'ERRORS.BANK_RESTRICTED',\r\n    },\r\n  ],\r\n  bankAccount: [\r\n    // {\r\n    //   error: 'isTengeAcc',\r\n    //   message: '  KZT',\r\n    // },\r\n    {\r\n      error: 'mask',\r\n      message: 'ERRORS.IBAN_LENGTH',\r\n    },\r\n    {\r\n      error: 'difReceiverAndBankBiq',\r\n      message: 'ERRORS.IBAN_BANK_MISMATCH',\r\n    },\r\n    {\r\n      error: 'isEqual',\r\n      message: 'ERRORS.IBAN_EQUAL',\r\n    },\r\n    {\r\n      error: 'bankExist',\r\n      message: 'ERRORS.WRONG_BIC',\r\n    },\r\n    {\r\n      error: 'rubInvalidNumbers',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_BUDGET_DISABLED',\r\n    },\r\n    {\r\n      error: 'rubInvalidBudget',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_INVALID_BUDGET',\r\n    },\r\n    {\r\n      error: 'rubBudgetDisabled',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_BUDGET_DISABLED',\r\n    },\r\n    {\r\n      error: 'rubInvalid',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_INVALID_IBAN',\r\n    },\r\n    {\r\n      error: 'rubLength',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_LENGTH_MISMATCH',\r\n    },\r\n    {\r\n      error: 'currencyMismatch',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.CURRENCY_MISMATCH',\r\n    },\r\n    {\r\n      error: 'bankRestricted',\r\n      message: 'ERRORS.BANK_RESTRICTED',\r\n    },\r\n    {\r\n      error: 'taxAccountError',\r\n      message: 'ERRORS.TAX_ACCOUNT',\r\n      params: {\r\n        path: '/payments/tenge/state/tax',\r\n      },\r\n    },\r\n    {\r\n      error: 'wrongTaxAccountError',\r\n      message: 'ERRORS.WRONG_TAX_ACCOUNT',\r\n      params: {\r\n        path: '/payments/tenge/state/tax',\r\n      },\r\n    },\r\n  ],\r\n  bankSelect: [\r\n    {\r\n      error: 'equalBanks',\r\n      message: 'ERRORS.BANKS_EQUAL',\r\n    },\r\n    {\r\n      error: 'bankRestricted',\r\n      message: 'ERRORS.BANK_RESTRICTED',\r\n    },\r\n    {\r\n      error: 'rubBudgetDisabled',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_BUDGET_DISABLED',\r\n    },\r\n    {\r\n      error: 'rubBudgetWrongBic',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_BUDGET_WRONG_BIC',\r\n    },\r\n  ],\r\n  kbeCode: [\r\n    {\r\n      error: 'mask',\r\n      message: 'ERRORS.KBE.MASK',\r\n    },\r\n    {\r\n      error: 'kbe',\r\n      message: 'ERRORS.KBE.NOT_EXIST',\r\n    },\r\n  ],\r\n  purpose: [\r\n    {\r\n      error: 'maxlength',\r\n      message: 'ERRORS.MAX_LENGTH',\r\n    },\r\n  ],\r\n  vin: [\r\n    {\r\n      error: 'mask',\r\n      message: 'ERRORS.VIN',\r\n    },\r\n  ],\r\n  email: [\r\n    {\r\n      error: 'email',\r\n      message: 'ERRORS.EMAIL',\r\n    },\r\n  ],\r\n  employees: [\r\n    {\r\n      error: 'required',\r\n      message: 'ERRORS.EMPLOYEES.REQUIRED',\r\n    },\r\n    {\r\n      error: 'minLength',\r\n      message: 'ERRORS.EMPLOYEES.MIN_LENGTH',\r\n    },\r\n    {\r\n      error: 'groupError',\r\n      message: 'ERRORS.EMPLOYEES.GROUP_ERROR',\r\n    },\r\n    {\r\n      error: 'uniq',\r\n      message: 'uniq',\r\n    },\r\n  ],\r\n  contractId: [\r\n    {\r\n      error: 'rubOnlyViaBranch',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.RUB_ONLY_VIA_BRANCH_ERROR',\r\n    },\r\n    {\r\n      error: 'cnyOnlyToChina',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.CNY_ONLY_TO_CHINA_ERROR',\r\n    },\r\n  ],\r\n  kio: [\r\n    {\r\n      error: 'lengthMismatch',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.KIO_LENGTH_MISMATCH',\r\n    },\r\n  ],\r\n  payerInn: [\r\n    {\r\n      error: 'lengthMismatch',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.KIO_LENGTH_MISMATCH',\r\n    },\r\n  ],\r\n  amount: [\r\n    {\r\n      error: 'mustIncludeContract',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.MUST_INCLUDE_CONTRACT',\r\n    },\r\n    {\r\n      error: 'balanceNotEnough',\r\n      message: 'ERRORS.CURRENCY_PAYMENT.BALANCE_NOT_ENOUGH',\r\n    },\r\n  ],\r\n};\r\n","export * from './account';\nexport * from './misc';\nexport * from './errors';\n","import {\n  ValidatorFn,\n  AbstractControl,\n  ValidationErrors,\n  Validators,\n} from '@angular/forms';\nimport { isEmptyInputValue } from './utils';\nimport { countWords, safeUnmaskAmount } from '@utils/index';\n\nexport enum CompareOperation {\n  EQUAL = 'EQUAL',\n}\nconst operators: Record<CompareOperation, (a, b) => boolean> = {\n  [CompareOperation.EQUAL]: (a, b) => a === b,\n};\n\nexport class MiscValidators {\n  static kbe(control: AbstractControl): ValidationErrors | null {\n    if (isEmptyInputValue(control.value)) {\n      return null;\n    }\n    const parsed = parseFloat(control.value);\n    if (\n      typeof parsed !== 'number' ||\n      parsed > 29 ||\n      parsed < 11 ||\n      parsed === 20 ||\n      parsed === 10\n    ) {\n      return { kbe: true };\n    }\n    return null;\n  }\n  static isGreaterThan(thanControl: AbstractControl): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      if (thanControl.value && control.value) {\n        if (thanControl.value >= control.value) {\n          return { isGreaterThan: true };\n        }\n      }\n      return null;\n    };\n  }\n\n  static isSmallerThan(thanControl: AbstractControl): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      if (thanControl.value && control.value) {\n        if (thanControl.value <= control.value) {\n          return { isSmallerThan: true };\n        }\n      }\n      return null;\n    };\n  }\n\n  static wordsCount(\n    count: number,\n    operator: keyof typeof operators = CompareOperation.EQUAL\n  ) {\n    return (control: AbstractControl): ValidationErrors | null => {\n      if (control.value && typeof control.value === 'string') {\n        const isValid = operators[operator](count, countWords(control.value));\n        if (!isValid) {\n          return { countWords: true };\n        }\n      }\n      return null;\n    };\n  }\n\n  static transformBeforeValidator(transformFn, validatorFn: ValidatorFn) {\n    return (control: AbstractControl) => {\n      return validatorFn({\n        value: transformFn(control.value),\n      } as AbstractControl);\n    };\n  }\n\n  static SafeMinAmount(min: number) {\n    return MiscValidators.transformBeforeValidator(\n      safeUnmaskAmount,\n      Validators.min(min)\n    );\n  }\n\n  static SafeMaxAmount(max: number) {\n    return MiscValidators.transformBeforeValidator(\n      safeUnmaskAmount,\n      Validators.max(max)\n    );\n  }\n\n  static revalidateLinkControlIf(predicate, link: AbstractControl) {\n    return (control: AbstractControl) => (\n      predicate() && link.updateValueAndValidity(), null\n    );\n  }\n}\n","export function isEmptyInputValue(value: any): boolean {\n  // we don't check for string here so it also works with arrays\n  return value == null || value.length === 0;\n}\n\n","import { IMoney } from '@shared/currency/currency.model';\n\nimport { ITransactionGroup, TRANSACTION_GROUP_TYPE } from './transaction.model';\n\nexport const STATEMENT_LARGE_AMOUNT = 1000000000;\n\nexport enum STATEMENT_TYPE {\n  INCOME = 'INCOME',\n  OUTCOME = 'OUTCOME',\n}\n\nexport interface IStatement {\n  statementDate?: Date;\n  iban?: string;\n\n  dateFrom?: Date;\n  dateTo?: Date;\n\n  balanceIn?: IMoney;\n  balanceInLCY?: IMoney;\n  balanceOut?: IMoney;\n  balanceOutLCY?: IMoney;\n\n  creditTotalSum?: IMoney;\n  debitTotalSum?: IMoney;\n\n  transactionGroups: ITransactionGroup[];\n  groupType?: TRANSACTION_GROUP_TYPE;\n\n  totalTransactionsCount: number;\n\n  // client properties\n  hasLargeBalances?: boolean;\n  hasLargeTransactions?: boolean;\n}\n\nexport enum STATEMENT_MODE {\n  CARDS = 'CARDS',\n  ACCOUNTS = 'ACCOUNTS',\n  PAYMENTS = 'PAYMENTS',\n}\n\n","import { formatDate } from '@angular/common';\nimport { IKbe } from '@payments/models';\n\nimport { CURRENCY, IMoney } from '@shared/currency/currency.model';\nimport {\n  PAYMENT_STATUS,\n  PAYMENT_TYPE,\n  IKNP,\n  IKBK,\n  PAYMENT_CATEGORY,\n  IPaymentEmployee,\n  SIGNATURE_SCHEME,\n  ISignature,\n  IHistoryPaymentStatus,\n  HISTORY_PAYMENT_STATE,\n  IRefundDetails,\n} from '@shared/models';\n\nimport { RecipientBody } from '@company/recipient/recipient.model';\nimport { ACCOUNT_TYPE } from '@accounts/account.model';\nimport { ICardTransaction } from '@cards/models';\nimport dayjs from 'dayjs';\nimport { TranslateService } from '@ngx-translate/core';\nimport { of } from 'rxjs';\n\nexport interface ITransaction {\n  id: string;\n  iban: string;\n  reference: string;\n  documentNumber: string;\n  correspondentBankBic: string;\n  correspondentAccount: string;\n  correspondentName: string;\n  kbe: IKbe;\n  correspondentBin: string;\n  debit: IMoney;\n  credit: IMoney;\n  description: string;\n  documentDate: string | Date;\n  valueDate: string | Date;\n  knp: IKNP;\n  kbk: IKBK;\n  signHead: string;\n  signBuch: string;\n\n  emailOnSuccess?: string;\n\n  amount: number;\n  amountLCY: number;\n  amountVat: number;\n  commissionFlag: string;\n  referenceKisc: string;\n  referenceRelatedDocument: string;\n\n  isExportable?: boolean;\n  isEditable?: boolean;\n  isSelected?: boolean;\n  isSignable?: boolean;\n  isSignableByOthers?: boolean;\n  isLoading?: boolean;\n  isPayment?: boolean;\n\n  signsCountText?: string;\n\n  signatureScheme?: SIGNATURE_SCHEME;\n  signatures?: ISignature[];\n}\n\nexport interface ITransactionDetails {\n  category: PAYMENT_CATEGORY;\n  colvirId: string;\n  colvirResultCode: string;\n  colvirResultDescription: string;\n  companyId: string;\n  details: {\n    associatedField: any;\n    commission: IMoney;\n    createDate: Date;\n    description: string;\n    documentId: string;\n    issueDate: Date;\n    kbk: IKBK;\n    knp: IKNP;\n    payerIban: string;\n    paymentAmount: IMoney;\n    urgent: boolean;\n    valueDate: Date;\n    vat: boolean;\n  };\n  id: string;\n  imported: boolean;\n  paymentEmployees: IPaymentEmployee[];\n  paymentRecipient: RecipientBody;\n  signatureScheme: SIGNATURE_SCHEME;\n  signatures: ISignature[];\n  status: PAYMENT_STATUS;\n  type: PAYMENT_TYPE;\n}\n\nexport interface ITransactionGroup {\n  title?: string;\n  hasLargeTransactions?: boolean;\n  groupDate?: string;\n  debitSum: IMoney;\n  creditSum: IMoney;\n  transactionsCount: number;\n  transactions: Transaction[];\n}\n\nexport enum TRANSACTION_GROUP_TYPE {\n  DAY = 'DAY',\n  MONTH = 'MONTH',\n  NONE = 'NONE',\n}\n\nexport enum TRANSACTION_TYPE {\n  DEBIT = 'DEBIT',\n  CREDIT = 'CREDIT',\n  RETURN = 'RETURN',\n}\n\nexport enum TRANSACTION_CATEGORY {\n  TRANSFER = 'TRANSFER',\n  REFUND = 'REFUND',\n  COMMISSION = 'COMMISSION',\n}\n\nexport class Transaction implements ITransaction {\n  id: string;\n  iban: string;\n\n  category: TRANSACTION_CATEGORY;\n  reference: string;\n  documentNumber: string;\n  correspondentBankBic: string;\n  correspondentAccount: string;\n  correspondentName: string;\n  kbe: IKbe;\n  correspondentBin: string;\n  debit: IMoney;\n  credit: IMoney;\n  description: string;\n  documentDate: string | Date;\n  valueDate: string | Date;\n  knp: IKNP;\n  kbk: IKBK;\n  signHead: string;\n  signBuch: string;\n\n  emailOnSuccess: string;\n\n  amount: number;\n  amountLCY: number;\n  amountVat: number;\n  commissionFlag: string;\n  referenceKisc: string;\n  referenceRelatedDocument: string;\n\n  type?: TRANSACTION_TYPE;\n\n  isRepeatable?: boolean;\n  isRevokable?: boolean;\n  isExportable?: boolean;\n  isEditable?: boolean;\n  isRemovable?: boolean;\n  isSelected?: boolean;\n  isPayment?: boolean;\n  isSignable?: boolean;\n  isSignableByOthers?: boolean;\n  isSendableForSign?: boolean;\n  isLoading?: boolean;\n  signsCountText?: string;\n\n  paymentEmployees: IPaymentEmployee[];\n\n  paymentStatus?: IHistoryPaymentStatus;\n  refundDetails?: IRefundDetails[];\n  paymentType?: PAYMENT_TYPE;\n  createDate?: Date;\n  signatureScheme?: SIGNATURE_SCHEME;\n  signatures?: ISignature[];\n  foreignPaymentDetails: any;\n  foreignRecipient: any;\n\n  paymentColvirId: string;\n  paymentId: string;\n  parentReference: string;\n\n  accountType: string;\n\n  associatedField: any;\n\n  constructor(\n    transaction,\n    private translateService: TranslateService,\n    accountType = ACCOUNT_TYPE.ACCOUNT\n  ) {\n    this.accountType = accountType;\n    this.id = transaction.id;\n    this.category = transaction.category;\n    this.iban = transaction.iban;\n    this.reference = transaction.reference;\n    this.documentNumber = this.getDocumentNumber(transaction);\n    this.correspondentBankBic = transaction.correspondentBankBic;\n    this.correspondentAccount = transaction.correspondentAccount;\n    this.correspondentName = this.getCorrespondentName(transaction);\n    this.kbe = transaction.kbe;\n    this.correspondentBin = transaction.correspondentBin;\n    this.debit = this.getDebit(transaction);\n    this.credit = this.getCredit(transaction);\n    this.description = this.getDescription(transaction);\n    this.documentDate = transaction.documentDate;\n    this.valueDate = transaction.valueDate;\n    this.knp = transaction.knp;\n    this.kbk = transaction.kbk;\n    this.signHead = transaction.signHead;\n    this.signBuch = transaction.signBuch;\n\n    this.emailOnSuccess = transaction.emailOnSuccess;\n\n    this.amount = transaction.amount;\n    this.amountLCY = transaction.amountLCY;\n    this.amountVat = transaction.amountVat;\n    this.commissionFlag = transaction.commissionFlag;\n    this.referenceKisc = transaction.referenceKisc;\n    this.referenceRelatedDocument = transaction.referenceRelatedDocument;\n\n    this.type = this.determineTransactionType();\n    this.isPayment = transaction.isPayment;\n    this.paymentType = transaction.paymentType;\n    this.paymentStatus = transaction.paymentStatus;\n    this.refundDetails = transaction.refundDetails;\n    this.paymentEmployees = transaction.paymentEmployees;\n    this.createDate = this.getCreateDate(transaction);\n\n    this.paymentColvirId = transaction.paymentColvirId;\n    this.paymentId = transaction.paymentId;\n    this.parentReference = transaction.parentReference;\n\n    this.signatures = transaction.signatures;\n    this.signatureScheme = transaction.signatureScheme;\n    this.isSignable = transaction.isSignable;\n    this.isSignableByOthers = transaction.isSignableByOthers;\n    this.signsCountText = transaction.signsCountText;\n\n    this.isEditable = transaction.isEditable;\n    this.isRemovable = transaction.isRemovable;\n    this.isExportable = transaction.isExportable;\n    this.isSendableForSign = transaction.isSendableForSign;\n    this.isRepeatable = transaction.isRepeatable;\n    this.isRevokable = transaction.isRevokable;\n\n    this.foreignPaymentDetails = transaction.foreignPaymentDetails;\n    this.foreignRecipient = transaction.foreignRecipient;\n  }\n\n  get isDebit() {\n    return this.debit && this.debit.amount > 0;\n  }\n\n  get isCredit() {\n    return this.credit && this.credit.amount > 0;\n  }\n\n  get balance() {\n    if (this.isCredit) {\n      return this.credit;\n    } else {\n      return this.debit;\n    }\n  }\n\n  get sign() {\n    if (this.isCredit) {\n      return `+`;\n    } else {\n      return `-`;\n    }\n  }\n\n  get dateStatusText() {\n    const statusDate = this.paymentStatus?.timestamp || this.date;\n    return this.mapDateTime(statusDate);\n  }\n\n  get paymentMessageTranslateParams() {\n    if (\n      this.paymentStatus?.state === HISTORY_PAYMENT_STATE.WAITING_FOR_VALUE_DATE\n    ) {\n      return {\n        valueDate: this.convertToDayFormat(this.valueDate as Date),\n      };\n    }\n    return null;\n  }\n\n  get paymentMessage() {\n    if (this.paymentStatus?.message) {\n      return this.paymentStatus?.message;\n    } else if (\n      this.paymentStatus?.state === HISTORY_PAYMENT_STATE.WAITING_FOR_VALUE_DATE\n    ) {\n      if (this.valueDate) {\n        return `STATEMENT.TRANSACTION.STATE.${HISTORY_PAYMENT_STATE.WAITING_FOR_VALUE_DATE}`;\n      }\n      return null;\n    } else if (this.paymentStatus?.state) {\n      return `STATEMENT.TRANSACTION.STATE.${this.paymentStatus?.state}`;\n    }\n    return null;\n  }\n\n  private determineTransactionType() {\n    if (this.category == TRANSACTION_CATEGORY.REFUND) {\n      return TRANSACTION_TYPE.RETURN;\n    } else if (this.isCredit) {\n      return TRANSACTION_TYPE.CREDIT;\n    } else if (this.isDebit) {\n      return TRANSACTION_TYPE.DEBIT;\n    }\n  }\n\n  private get date() {\n    if (this.isPayment) {\n      return new Date(this.createDate);\n    } else {\n      return new Date(this.documentDate);\n    }\n  }\n\n  private mapDateTime(date: Date) {\n    const isToday = dayjs().isSame(dayjs(date), 'day');\n    const isYesterday = dayjs().subtract(1, 'date').isSame(dayjs(date), 'day');\n\n    const time = dayjs(date).format('HH:mm');\n\n    if (isToday) {\n      return this.isPayment\n        ? this.translateService.get('STATEMENT.TRANSACTION.DATE.TODAY_TIME', {\n            time,\n          })\n        : this.translateService.get('STATEMENT.TRANSACTION.DATE.TODAY');\n    } else if (isYesterday) {\n      return this.isPayment\n        ? this.translateService.get(\n            'STATEMENT.TRANSACTION.DATE.YESTERDAY_TIME',\n            {\n              time,\n            }\n          )\n        : this.translateService.get('STATEMENT.TRANSACTION.DATE.YESTERDAY');\n    } else {\n      return of(this.convertToDayHourFormat(this.date));\n    }\n  }\n\n  // private isToday(compareDate = this.date) {\n  //   const today = new Date();\n  //   return (\n  //     this.convertToDayFormat(compareDate) == this.convertToDayFormat(today)\n  //   );\n  // }\n\n  // private isYesterday(compareDate = this.date) {\n  //   const today = new Date();\n  //   const yesterday = new Date(today.setDate(today.getDate() - 1));\n\n  //   return (\n  //     this.convertToDayFormat(compareDate) == this.convertToDayFormat(yesterday)\n  //   );\n  // }\n\n  private convertToDayFormat(date: Date) {\n    return formatDate(date, 'd MMMM yyyy', this.translateService.currentLang);\n  }\n\n  private convertToDayHourFormat(date: Date) {\n    const format = dayjs().isSame(this.date, 'year')\n      ? 'd MMMM HH:mm'\n      : 'd MMMM yyyy HH:mm';\n    return formatDate(this.date, format, this.translateService.currentLang);\n  }\n\n  private getCreateDate(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.documentDate;\n    }\n    return transaction.createDate;\n  }\n\n  private getDescription(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.details;\n    }\n    return transaction.description?.replace(/^\\s+|\\s+$/g, '') || '';\n  }\n\n  private getDebit(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.transactionType === TRANSACTION_TYPE.DEBIT\n        ? this.getCardTransactionAmount(transaction)\n        : null;\n    }\n    return transaction.debit;\n  }\n\n  private getCredit(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.transactionType === TRANSACTION_TYPE.CREDIT\n        ? this.getCardTransactionAmount(transaction)\n        : null;\n    }\n    return transaction.credit;\n  }\n\n  private getCardTransactionAmount(cardTransaction: ICardTransaction) {\n    if (cardTransaction.amount?.amount && cardTransaction.amount?.currency) {\n      return cardTransaction.amount;\n    } else if (cardTransaction.feeAmount?.amount) {\n      return {\n        amount: Math.abs(cardTransaction.feeAmount?.amount),\n        currency: CURRENCY.KZT,\n      };\n    }\n    return null;\n  }\n\n  private getCorrespondentName(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.description;\n    }\n    return transaction.correspondentName || transaction.description;\n  }\n\n  private getDocumentNumber(transaction) {\n    if (this.accountType === ACCOUNT_TYPE.CARD) {\n      return transaction.finDocId;\n    }\n    return transaction.documentNumber || transaction.documentId;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\n\nimport { ApiService, ERRORS } from '@api/index';\n\nimport {\n  IFilterScheme,\n  OPERATION_CODE,\n  FILTER_SORT,\n  FILTER_COMISSION,\n} from '@filter/filter.model';\n\nimport {\n  IHistoryPayment,\n  IPaymentStatusHistory,\n  PAYMENT_STATUS,\n  PAYMENT_TYPE,\n} from '@shared/models';\n\nimport { IStatement, STATEMENT_LARGE_AMOUNT } from './models/statement.model';\nimport {\n  Transaction,\n  ITransaction,\n  ITransactionGroup,\n  TRANSACTION_CATEGORY,\n} from './models/transaction.model';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CompanyService } from '@company/company.service';\nimport { paymentsRoutes } from '@payments/payments-routes';\nimport { PaymentApiService } from '@payments/services/payment-api.service';\nimport { MaskedService } from '@shared/masked/masked.service';\nimport { PaymentsSharedService } from '@shared/services/payments-shared.service';\nimport { ACCOUNT_TYPE } from '@accounts/account.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StatementService {\n  constructor(\n    private datePipe: DatePipe,\n    private api: ApiService,\n    private router: Router,\n    private companyService: CompanyService,\n    private translateService: TranslateService,\n    private paymentsApiService: PaymentApiService,\n    private maskedService: MaskedService,\n    private paymentsSharedService: PaymentsSharedService\n  ) {}\n\n  public async getTransactionDetails(transaction: Transaction) {\n    return this.paymentsSharedService.getPaymentById(transaction.id);\n  }\n\n  public async getStatement(\n    url: string,\n    filterParams: IFilterScheme,\n    cashedStatement: IStatement,\n    isNextPage: boolean = false,\n    pageNumber: number = 1,\n    pageSize: number = 50,\n    isPayment: boolean = false,\n    exportType: string = null,\n    accountType: ACCOUNT_TYPE = null\n  ) {\n    let headers = new HttpHeaders();\n\n    if (exportType) {\n      headers = headers.set('Accept-File', exportType);\n      headers = headers.set('Content-Type', 'application/octet-stream');\n    }\n    let params = new HttpParams();\n    params = params.append(\n      'dateFrom',\n      this.datePipe.transform(filterParams.periodFrom, 'yyyy-MM-dd')\n    );\n\n    params = params.append(\n      'dateTo',\n      this.datePipe.transform(filterParams.periodTo, 'yyyy-MM-dd')\n    );\n\n    if (filterParams.documentNumber) {\n      params = params.append('documentNumber', filterParams.documentNumber);\n    }\n\n    if (filterParams.recipientIban) {\n      params = params.append(\n        'correspondentAccount',\n        filterParams.recipientIban\n      );\n    }\n\n    if (filterParams.recipientBin) {\n      params = params.append('correspondentBin', filterParams.recipientBin);\n    }\n\n    if (\n      filterParams.operationType &&\n      (filterParams.operationType === OPERATION_CODE.INCOME ||\n        filterParams.operationType === OPERATION_CODE.OUTCOME)\n    ) {\n      params = params.append('type', filterParams.operationType);\n    }\n\n    if (filterParams.sortBy !== FILTER_SORT.DEFAULT) {\n      params = params.append('sort', filterParams.sortBy);\n    }\n\n    if (filterParams.amountFrom) {\n      params = params.append(\n        'amountFrom',\n        `${this.maskedService.getNumberedAmount(filterParams.amountFrom)}`\n      );\n    }\n    if (filterParams.amountTo) {\n      params = params.append(\n        'amountTo',\n        `${this.maskedService.getNumberedAmount(filterParams.amountTo)}`\n      );\n    }\n\n    if (filterParams.comission) {\n      switch (filterParams.comission) {\n        case FILTER_COMISSION.WITH_COMISSION:\n          params = params.append('withCommission', 'true');\n          break;\n        case FILTER_COMISSION.WITHOUT_COMISSION:\n          params = params.append('withCommission', 'false');\n          break;\n      }\n    }\n\n    params = params.append('page', `${pageNumber}`);\n    params = params.append('pageSize', `${pageSize}`);\n\n    try {\n      if (exportType) {\n        const downloadStatement = await this.api.get<IStatement>(\n          url,\n          headers,\n          params,\n          {\n            responseType: 'blob',\n          }\n        );\n        return downloadStatement;\n      } else {\n        const retrievedStatement = await this.api.get<IStatement>(\n          url,\n          headers,\n          params\n        );\n\n        return this.mapStatement(\n          cashedStatement,\n          retrievedStatement,\n          isNextPage,\n          isPayment,\n          accountType\n        );\n      }\n    } catch (error) {\n      throw error.description || error.code || error;\n    }\n  }\n\n  public checkListForLargeTransactions(\n    transactions: Transaction[] | ITransaction[]\n  ): boolean {\n    let result = false;\n    transactions.forEach((transaction) => {\n      if (result) {\n        return result;\n      }\n      if (\n        (transaction.credit &&\n          transaction.credit.amount >= STATEMENT_LARGE_AMOUNT) ||\n        (transaction.debit &&\n          transaction.debit.amount >= STATEMENT_LARGE_AMOUNT)\n      ) {\n        result = true;\n        return result;\n      }\n    });\n    return result;\n  }\n\n  public repeatPayment(transaction: Transaction) {\n    if (\n      transaction.paymentType === PAYMENT_TYPE.IN_BETWEEN ||\n      transaction.paymentType === PAYMENT_TYPE.CARD_TO_CARD ||\n      transaction.paymentType === PAYMENT_TYPE.ACCOUNT_TO_CARD ||\n      transaction.paymentType === PAYMENT_TYPE.CARD_TO_ACCOUNT ||\n      transaction.paymentType === PAYMENT_TYPE.DEPOSIT_REPLENISHMENT ||\n      transaction.paymentType === PAYMENT_TYPE.DEPOSIT_WITHDRAWAL\n    ) {\n      this.router.navigate([`/transfers`], {\n        state: {\n          repeatPaymentId: transaction.paymentId,\n        },\n      });\n    } else if (transaction.paymentType === PAYMENT_TYPE.CONVERSION) {\n      this.router.navigate([`/conversion`], {\n        state: {\n          repeatPaymentId: transaction.paymentId,\n        },\n      });\n    } else if (transaction.paymentType === PAYMENT_TYPE.FOREIGN) {\n      this.router.navigate(\n        [`/${paymentsRoutes.root}/${paymentsRoutes.foreignCurrency}`],\n        {\n          state: {\n            repeatPaymentId: transaction.paymentId,\n          },\n        }\n      );\n    } else {\n      this.router.navigate([`/${paymentsRoutes.tenge.root}`], {\n        state: {\n          repeatPayment: {\n            type: transaction.paymentStatus.code,\n            id: transaction.paymentId,\n          },\n        },\n      });\n    }\n  }\n\n  public editPayment(transaction: Transaction) {\n    if (\n      transaction.paymentType === PAYMENT_TYPE.IN_BETWEEN ||\n      transaction.paymentType === PAYMENT_TYPE.CARD_TO_CARD ||\n      transaction.paymentType === PAYMENT_TYPE.ACCOUNT_TO_CARD ||\n      transaction.paymentType === PAYMENT_TYPE.CARD_TO_ACCOUNT || \n      transaction.paymentType === PAYMENT_TYPE.DEPOSIT_REPLENISHMENT ||\n      transaction.paymentType === PAYMENT_TYPE.DEPOSIT_WITHDRAWAL\n    ) {\n      this.router.navigate([`/transfers/${transaction.id}`]);\n    } else if (transaction.paymentType === PAYMENT_TYPE.CONVERSION) {\n      this.router.navigate([`/conversion/${transaction.id}`]);\n    } else if (transaction.paymentType === PAYMENT_TYPE.FOREIGN) {\n      this.router.navigate([\n        `/${paymentsRoutes.root}/${paymentsRoutes.foreignCurrency}`,\n        transaction.id,\n      ]);\n    } else {\n      this.router.navigate([`/${paymentsRoutes.tenge.root}`, transaction.id]);\n    }\n  }\n\n  public generatePaymentStatusLabel(\n    transaction: Transaction,\n    hasSuffix: boolean = false\n  ) {\n    if (!transaction || !transaction.paymentStatus) {\n      return;\n    }\n    switch (transaction.paymentStatus.code) {\n      case PAYMENT_STATUS.DRAFT:\n        return {\n          label: hasSuffix\n            ? 'HISTORY.STATUS.CREATED'\n            : 'HISTORY.STATUS.CREATED',\n          classList: 'text-muted',\n        };\n      case PAYMENT_STATUS.CREATED:\n        if (transaction.isSignable) {\n          return {\n            label: hasSuffix\n              ? 'HISTORY.STATUS.CREATED'\n              : 'HISTORY.STATUS.FOR_SIGN',\n            classList: 'text-info',\n          };\n        } else {\n          return {\n            label: hasSuffix\n              ? 'HISTORY.STATUS.SIGNING_SUFFIX'\n              : 'HISTORY.STATUS.SIGNING',\n            classList: 'text-muted',\n          };\n        }\n      case PAYMENT_STATUS.READY_TO_SEND:\n        return {\n          label: hasSuffix\n            ? 'HISTORY.STATUS.READY_TO_SEND_SUFFIX'\n            : 'HISTORY.STATUS.READY_TO_SEND',\n          classList: 'text-warning',\n        };\n      case PAYMENT_STATUS.IN_BANK:\n      case PAYMENT_STATUS.BANK_PROCESSING:\n      case PAYMENT_STATUS.BANK_SENT:\n        return {\n          label: hasSuffix\n            ? 'HISTORY.STATUS.WORKING_SUFFIX'\n            : 'HISTORY.STATUS.WORKING',\n          classList: 'text-warning',\n        };\n      case PAYMENT_STATUS.BANK_COMPLETED:\n        return {\n          label: 'HISTORY.STATUS.COMPLETED',\n          classList: 'text-success',\n        };\n      case PAYMENT_STATUS.REJECTED:\n        return {\n          label: 'HISTORY.STATUS.REJECTED',\n          classList: 'text-danger',\n        };\n    }\n  }\n\n  public getTransactionTitle(transaction: Transaction, params: any = null) {\n    if (transaction.category === TRANSACTION_CATEGORY.COMMISSION) {\n      if (transaction.parentReference) {\n        return this.translateService.instant(\n          'STATEMENT.TRANSACTION.COMMISSION_FOR_OPERATION'\n        );\n      } else {\n        return this.translateService.instant(\n          'STATEMENT.TRANSACTION.COMMISSION_FOR_ACCOUNT'\n        );\n      }\n    }\n    switch (transaction.paymentType) {\n      default:\n      case PAYMENT_TYPE.EXTERNAL:\n      case PAYMENT_TYPE.FOREIGN:\n      case PAYMENT_TYPE.INTERNAL:\n      case PAYMENT_TYPE.REGULAR_PAYMENT_ORDER:\n        return (\n          transaction.correspondentName ||\n          this.translateService.instant('STATEMENT.TRANSACTION.NO_TITLE')\n        );\n      case PAYMENT_TYPE.SALARY:\n      case PAYMENT_TYPE.TAX:\n      case PAYMENT_TYPE.SOCIAL:\n      case PAYMENT_TYPE.PENSION:\n      case PAYMENT_TYPE.MEDICAL:\n      case PAYMENT_TYPE.CONVERSION:\n        return this.translateService.instant(\n          `PAYMENTS.TYPE.${transaction.paymentType}`\n        );\n\n      case PAYMENT_TYPE.IN_BETWEEN:\n      case PAYMENT_TYPE.CARD_TO_ACCOUNT:\n      case PAYMENT_TYPE.CARD_TO_CARD:\n      case PAYMENT_TYPE.ACCOUNT_TO_CARD:\n        return this.translateService.instant(`PAYMENTS.TYPE.IN_BETWEEN`);\n      case PAYMENT_TYPE.DEPOSIT_WITHDRAWAL:\n        return this.translateService.instant(\n          `PAYMENTS.TYPE.DEPOSIT_WITHDRAWAL`,\n          params\n        );\n      case PAYMENT_TYPE.DEPOSIT_REPLENISHMENT:\n        return this.translateService.instant(\n          `PAYMENTS.TYPE.DEPOSIT_REPLENISHMENT`,\n          params\n        );\n    }\n  }\n\n  public mapTransactionDescription(\n    transaction: Transaction,\n    params: any = null\n  ) {\n    switch (transaction.paymentType) {\n      case PAYMENT_TYPE.DEPOSIT_REPLENISHMENT:\n        return this.translateService.instant(\n          'STATEMENT.TRANSACTION.DESCRIPTION.DEPOSIT_REPLENISHMENT',\n          params\n        );\n\n      case PAYMENT_TYPE.DEPOSIT_WITHDRAWAL:\n        return this.translateService.instant(\n          'STATEMENT.TRANSACTION.DESCRIPTION.DEPOSIT_WITHDRAWAL',\n          params\n        );\n\n      default:\n        return (\n          transaction.description ||\n          this.translateService.instant(\n            'STATEMENT.TRANSACTION.DESCRIPTION.NO_DESCRIPTION'\n          )\n        );\n    }\n  }\n\n  async getStatusHistory(transaction: Transaction) {\n    const url = `companies/${this.companyService.currentId}/payments/${transaction.paymentId}/status-history`;\n    return this.api.get<IPaymentStatusHistory[]>(url);\n  }\n\n  public async getPaymentDetails(paymentId: string) {\n    const payment = await this.paymentsApiService.getPaymentById(paymentId);\n    return payment;\n  }\n\n  public async exportTransaction(transaction: Transaction) {\n    let url = `companies/${this.companyService.currentId}/multiple-payments?paymentId=${transaction.paymentId}`;\n    if (transaction.paymentType === PAYMENT_TYPE.CONVERSION) {\n      url = `companies/${this.companyService.currentId}/conversion/payments?paymentId=${transaction.paymentId}`;\n    } else if (transaction.paymentType === PAYMENT_TYPE.FOREIGN) {\n      url = `companies/${this.companyService.currentId}/payments/${transaction.paymentId}`;\n    }\n\n    let headers = new HttpHeaders();\n    headers = headers.set('Accept-File', 'application/pdf');\n    headers = headers.set('Content-Type', 'application/octet-stream');\n\n    const params = new HttpParams();\n    const exportedTransaction = await this.api.get(url, headers, params, {\n      responseType: 'blob',\n    });\n\n    return exportedTransaction;\n  }\n\n  public async exportIncomingPayment(transaction: Transaction) {\n    const url =\n      `companies/${this.companyService.currentId}/accounts/${transaction.iban}` +\n      `/statements/paymentReference?reference=${transaction.reference}`;\n\n    let headers = new HttpHeaders();\n    headers = headers.set('Accept-File', 'application/pdf');\n    headers = headers.set('Content-Type', 'application/octet-stream');\n\n    const params = new HttpParams();\n    return await this.api.get(url, headers, params, {\n      responseType: 'blob',\n    });\n  }\n\n  public async exportIncomingPaymentsList(transactions: Transaction[]) {\n    const transactionInfo: Transaction = transactions[0];\n    const url = `companies/${this.companyService.currentId}/accounts/${transactionInfo.iban}/statements/paymentReference`;\n\n    let headers = new HttpHeaders();\n    headers = headers.set('Accept-File', 'application/pdf');\n    headers = headers.set('Content-Type', 'application/octet-stream');\n\n    let params = new HttpParams();\n    transactions.forEach( element => {\n      params = params.append('reference', element.reference);\n    });\n    return await this.api.get(url, headers, params, {\n      responseType: 'blob',\n    });\n  }\n\n  public async exportTransactions(transactions: Transaction[]) {\n    const url = `companies/${this.companyService.currentId}/multiple-payments`;\n\n    let headers = new HttpHeaders();\n    headers = headers.set('Accept-File', 'application/pdf');\n    headers = headers.set('Content-Type', 'application/octet-stream');\n\n    let params = new HttpParams();\n    transactions.forEach((transaction) => {\n      params = params.append('paymentId', transaction.id);\n    });\n    return await this.api.get(url, headers, params, {\n      responseType: 'blob',\n    });\n  }\n\n  public async loadParentPayment(iban: string, paymentReference: string) {\n    const url = `companies/${this.companyService.currentId}/accounts/${iban}/transactions`;\n\n    let params = new HttpParams();\n    params = params.append('reference', paymentReference);\n\n    const initial = await this.api.get<ITransaction>(url, null, params);\n    if (initial) {\n      return new Transaction(initial, this.translateService);\n    } else {\n      throw ERRORS.RESOURCE_NOT_FOUND;\n    }\n  }\n\n  public async getPaymentDetailsFromColvir(colvirId: string) {\n    const url = `companies/${this.companyService.currentId}/payments/colvir`;\n\n    let params = new HttpParams();\n    params = params.append('id', colvirId);\n\n    return this.api.get<IHistoryPayment>(url, null, params);\n  }\n\n  mapStatement(\n    cashedStatement: IStatement,\n    retrievedStatement: IStatement,\n    isNextPage: boolean = false,\n    isPayment: boolean = false,\n    accountType: ACCOUNT_TYPE = null\n  ): IStatement {\n    if (retrievedStatement.totalTransactionsCount === 0) {\n      retrievedStatement.hasLargeBalances = false;\n      retrievedStatement.hasLargeTransactions = false;\n\n      if (isNextPage && cashedStatement) {\n        return cashedStatement;\n      }\n\n      return retrievedStatement;\n    }\n\n    retrievedStatement.hasLargeBalances =\n      this.checkForLargeBalances(retrievedStatement);\n    retrievedStatement.hasLargeTransactions =\n      this.checkForLargeTransactions(retrievedStatement);\n\n    if (isNextPage && cashedStatement && retrievedStatement.transactionGroups) {\n      const lastGroupIndex = cashedStatement.transactionGroups.length - 1;\n      const lastGroup = cashedStatement.transactionGroups[lastGroupIndex];\n      const firstGroup = retrievedStatement.transactionGroups[0];\n\n      if (lastGroup.groupDate === firstGroup.groupDate) {\n        const mappedGroup = this.mapTransactionGroup(\n          firstGroup,\n          isPayment,\n          accountType\n        );\n        cashedStatement.transactionGroups[lastGroupIndex].transactions =\n          lastGroup.transactions.concat(mappedGroup.transactions);\n        retrievedStatement.transactionGroups.splice(0, 1);\n      }\n\n      const mappedGroups = this.mapTransactionGroups(\n        retrievedStatement.transactionGroups,\n        isPayment,\n        accountType\n      );\n\n      cashedStatement.transactionGroups =\n        cashedStatement.transactionGroups.concat(mappedGroups);\n      cashedStatement.totalTransactionsCount =\n        retrievedStatement.totalTransactionsCount;\n\n      return cashedStatement;\n    } else if (isNextPage && cashedStatement) {\n      retrievedStatement.transactionGroups = this.mapTransactionGroups(\n        cashedStatement.transactionGroups,\n        isPayment,\n        accountType\n      );\n    } else {\n      retrievedStatement.transactionGroups = this.mapTransactionGroups(\n        retrievedStatement.transactionGroups,\n        isPayment,\n        accountType\n      );\n    }\n\n    return retrievedStatement;\n  }\n\n  private isEmpty(obj) {\n    for (const prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n\n    return JSON.stringify(obj) === JSON.stringify({});\n  }\n\n  private checkForLargeBalances(statement: IStatement) {\n    return (\n      (statement.creditTotalSum &&\n        statement.creditTotalSum.amount >= STATEMENT_LARGE_AMOUNT) ||\n      (statement.debitTotalSum &&\n        statement.debitTotalSum.amount >= STATEMENT_LARGE_AMOUNT) ||\n      (statement.balanceIn &&\n        statement.balanceIn.amount >= STATEMENT_LARGE_AMOUNT) ||\n      (statement.balanceOut &&\n        statement.balanceOut.amount >= STATEMENT_LARGE_AMOUNT)\n    );\n  }\n\n  private checkForLargeTransactions(statement: IStatement) {\n    let result = false;\n    statement.transactionGroups.forEach((group) => {\n      if (result) {\n        return result;\n      }\n      result = this.checkListForLargeTransactions(group.transactions);\n    });\n    return result;\n  }\n\n  private mapTransactionGroups(\n    groups: ITransactionGroup[],\n    isPayment: boolean,\n    accountType: ACCOUNT_TYPE = null\n  ) {\n    return groups.map((group) => {\n      return this.mapTransactionGroup(group, isPayment, accountType);\n    });\n  }\n\n  private mapTransactionGroup(\n    group: ITransactionGroup,\n    isPayment: boolean,\n    accountType: ACCOUNT_TYPE\n  ) {\n    group.transactions = group.transactions.map((transaction) => {\n      transaction.isPayment = isPayment;\n      transaction.isRepeatable = transaction.paymentId ? true : false;\n      return new Transaction(transaction, this.translateService, accountType);\n    });\n    return group;\n  }\n\n  // private mapTransactionToPayment(transaction: Transaction) {\n  //   return {\n  //     paymentRecipient: {\n  //       iinOrBin: transaction.correspondentBin,\n  //       name: transaction.correspondentName,\n  //       kbe: transaction.kbe,\n  //       recipientAccount: {\n  //         bankName: this.bankFromAccount.transform(\n  //           transaction.correspondentAccount,\n  //           'name'\n  //         ),\n  //         bic: transaction.correspondentBankBic,\n  //         iban: transaction.correspondentAccount,\n  //       },\n  //     },\n  //     details: {\n  //       // JSN-634 by @Yernar       .\n  //       valueDate: null,\n  //       knp: {\n  //         code: transaction.knp?.code,\n  //         name: transaction.knp?.name,\n  //       },\n  //       description: transaction.description,\n  //       payerIban: transaction.iban,\n  //       paymentAmount: transaction.balance,\n  //       commission: null,\n  //       vat: transaction.amountVat > 0 ? true : false,\n  //       urgent: false,\n  //       documentId: transaction.documentNumber,\n  //     },\n  //   };\n  // }\n}\n","import { HttpParams } from '@angular/common/http';\r\n\r\nexport function mapParams(data: any) {\r\n  let params = new HttpParams();\r\n\r\n  for (const key in data) {\r\n    if (!data.hasOwnProperty(key)) {\r\n      continue;\r\n    }\r\n\r\n    const value = data[key];\r\n    if (!value) {\r\n      continue;\r\n    }\r\n\r\n    params = params.append(key, value);\r\n  }\r\n\r\n  return params;\r\n}\r\n","export enum COMPARE_OPERATORS {\n  EQUAL = '=',\n  GREATER = '>',\n  GREATER_OR_EQUAL = '>=',\n  SMALLER = '<',\n  SMALLER_OR_EQUAL = '<=',\n}\n\n/**\n * Determines whether passed string is a parsable expression\n */\nexport function isAnExpression(str: string) {\n  return (\n    str.charAt(0) === COMPARE_OPERATORS.SMALLER ||\n    str.charAt(0) === COMPARE_OPERATORS.GREATER\n  );\n}\n\n/**\n * Splits the expression in into <|> [=] alias\n */\nexport function splitExpression(str: string) {\n  // Used operator\n  const operator = str.charAt(0);\n  // Include breakpoint equal to alias?\n  const orEqual = str.charAt(1) === COMPARE_OPERATORS.EQUAL ? true : false;\n\n  /**\n   * Index at which breakpoint name starts.\n   *\n   * For:  >sm, index = 1\n   * For: >=sm, index = 2\n   */\n  const index = 1 + (orEqual ? 1 : 0);\n\n  /**\n   * The remaining part of the expression, after the operator, will be treated as the\n   * breakpoint name to compare with\n   */\n  const operandName = str.slice(index);\n\n  return {\n    operator,\n    orEqual,\n    operandName,\n  };\n}\n\n/**\n * Determines whether current breakpoint matches the expression given\n */\nexport function isMatchingExpression(str: string, variants: string[]) {\n  const expression = splitExpression(str);\n\n\n  // Get index of sought breakpoint in the list\n  let pos = variants.indexOf(expression.operandName);\n\n  // Breakpoint found\n  if (pos !== -1) {\n    let start = 0;\n    let end = 0;\n\n    /**\n     * Parsing viewport.is('<=md') we interate from smallest breakpoint ('xs') and end\n     * at 'md' breakpoint, indicated in the expression,\n     * That makes: start = 0, end = 2 (index of 'md' breakpoint)\n     *\n     * Parsing viewport.is('<md') we start at index 'xs' breakpoint, and end at\n     * 'sm' breakpoint, one before 'md'.\n     * Which makes: start = 0, end = 1\n     */\n    if (expression.operator === COMPARE_OPERATORS.SMALLER) {\n      start = 0;\n      end = expression.orEqual ? ++pos : pos;\n    }\n    /**\n     * Parsing viewport.is('>=sm') we interate from breakpoint 'sm' and end at the end\n     * of breakpoint list.\n     * That makes: start = 1, end = undefined\n     *\n     * Parsing viewport.is('>sm') we start at breakpoint 'md' and end at the end of\n     * breakpoint list.\n     * Which makes: start = 2, end = undefined\n     */\n    if (expression.operator === COMPARE_OPERATORS.GREATER) {\n      start = expression.orEqual ? pos : ++pos;\n      end = undefined;\n    }\n\n    return variants.slice(start, end);\n  }\n\n  /**\n   * Returns true if currently active breakpoint matches the expression\n   */\n}\nexport function isAnyActive(current: string, acceptedVariants: string[]) {\n  return acceptedVariants.some((variant) => {\n    // Once first breakpoint matches, return true and break out of the loop\n    if (current.includes(variant)) {\n      return true;\n    }\n  });\n}\n","import { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport * as moment from 'moment';\r\nimport { PERIOD_FORMAT_INPUT } from '@filter/filter.model';\r\nimport dayjs from 'dayjs';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\r\nimport isBetween from 'dayjs/plugin/isBetween';\r\n\r\ndayjs.extend(customParseFormat);\r\ndayjs.extend(isBetween);\r\n\r\nexport const UI_DATE_FORMAT = 'DD.MM.YYYY';\r\nexport const API_DATE_FORMAT = 'YYYY-MM-DD';\r\n\r\nexport const ISO_8061 = 'YYYY-MM-DD';\r\nexport const edgeTimeLabel = '19:00';\r\n\r\n\r\nexport const convertApiDateToUiFormat = (date) => {\r\n  if (!date) {\r\n    return null;\r\n  }\r\n\r\n  return dayjs(date, API_DATE_FORMAT).format(UI_DATE_FORMAT);\r\n};\r\n\r\nexport function dateToNgbStruct(date: Date): NgbDateStruct {\r\n  return {\r\n    year: date.getFullYear(),\r\n    month: date.getMonth() + 1,\r\n    day: date.getDate(),\r\n  };\r\n}\r\n\r\nexport function ngbDateToDate({ year, month, day }: NgbDateStruct): Date {\r\n  return new Date(year, month - 1, day);\r\n}\r\nexport function ngbDateToUTCStartDay({\r\n  year,\r\n  month,\r\n  day,\r\n}: NgbDateStruct): Date {\r\n  return new Date(Date.UTC(year, month - 1, day, 0, 0, 1));\r\n}\r\nexport function toUTCStartDay(date: Date): Date {\r\n  return new Date(\r\n    Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 1)\r\n  );\r\n}\r\nexport function toUTCStartMonth(date: Date): Date {\r\n  return new Date(Date.UTC(date.getFullYear(), date.getMonth(), 1, 0, 0, 1));\r\n}\r\nexport function ngbStructToISO({ year, month, day }: NgbDateStruct): string {\r\n  return `${year}-${month.toString().padStart(2, '0')}-${day\r\n    .toString()\r\n    .padStart(2, '0')}`;\r\n}\r\nexport function dateToISO(date: Date): string {\r\n  return `${date.getFullYear()}-${(date.getMonth() + 1)\r\n    .toString()\r\n    .padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;\r\n}\r\n\r\nexport function dateTimeToISO(date: Date): string {\r\n  return `${dateToISO(date)}T${date\r\n    .getHours()\r\n    .toString()\r\n    .padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date\r\n    .getSeconds()\r\n    .toString()\r\n    .padStart(2, '0')}`;\r\n}\r\n/**\r\n * @param date local now time\r\n * @param timeZone to compare ex: Asia/Almaty\r\n * @returns offset in minutes\r\n */\r\nexport function getTimeZoneOffset(date: Date, timeZone: string): number {\r\n  try {\r\n    // Abuse the Intl API to get a local ISO 8601 string for a given time zone.\r\n    let iso = date\r\n      .toLocaleString('en-ca', { timeZone, hour12: false })\r\n      .replace(', ', 'T');\r\n    // Include the milliseconds from the original timestamp\r\n    iso += '.' + date.getMilliseconds().toString().padStart(3, '0');\r\n\r\n    // Lie to the Date object constructor that it's a UTC time.\r\n    // const lie = new Date(iso + 'Z');\r\n\r\n    const lie = new Date(iso);\r\n\r\n    // Return the difference in timestamps, as minutes\r\n    // Positive values are West of Current Timezone, opposite of ISO 8601\r\n    // this matches the output of `Date.getTimeZoneOffset`\r\n    return -(+lie - +date) / 60 / 1000;\r\n  } catch (e) {\r\n    return 0;\r\n  }\r\n}\r\nexport const month = {\r\n  // gentive case ( )\r\n  ru: [\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n  ],\r\n  kk: [\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n    '',\r\n  ],\r\n  en: [\r\n    'january',\r\n    'february',\r\n    'march',\r\n    'april',\r\n    'may',\r\n    'june',\r\n    'july',\r\n    'august',\r\n    'september',\r\n    'october',\r\n    'november',\r\n    'december',\r\n  ],\r\n};\r\nexport function formatNgbDate(struct: NgbDateStruct, locale: string): string {\r\n  const lang = Object.keys(month).includes(locale) ? locale : localStorage.getItem('lang');\r\n  return struct.day + ' ' + month[lang][struct.month - 1];\r\n}\r\n\r\nexport function periodInputDateToISODateSafe(date: string | Date) {\r\n  if (typeof date === 'string') {\r\n    return (\r\n      (date && moment(date, PERIOD_FORMAT_INPUT).format(ISO_8061)) || undefined\r\n    );\r\n  }\r\n  if (date instanceof Date) {\r\n    return moment(date).format(ISO_8061);\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function isoDateToDateSafe(date: string | Date): Date | undefined {\r\n  if (typeof date === 'string') {\r\n    return (date && moment(date, ISO_8061).toDate()) || undefined;\r\n  }\r\n  if (date instanceof Date) {\r\n    return date;\r\n  }\r\n}\r\n\r\nexport function isoDateToPeriodInput(date: string): string {\r\n  return moment(date, ISO_8061).format(PERIOD_FORMAT_INPUT);\r\n}\r\n\r\nexport function isoDateToPeriodInputSafe(date: string | Date): string {\r\n  if (typeof date === 'string') {\r\n    return (date && isoDateToPeriodInput(date)) || '';\r\n  } else if (date) {\r\n    return moment(date).format(PERIOD_FORMAT_INPUT);\r\n  }\r\n}\r\n\r\nexport function convertDateToString(date: Date) {\r\n  return moment(date).format(PERIOD_FORMAT_INPUT);\r\n}\r\n\r\nexport function convertDateToApiFormat(date: Date) {\r\n  return moment(date).format(ISO_8061);\r\n}\r\n","export * from './simple-store';\r\nexport * from './typed-reactive-form-helper';\r\nexport * from './dates';\r\nexport * from './misc';\r\nexport * from './routes';\r\nexport * from './compare-operations';\r\nexport * from './reactive';\r\nexport * from './clamp.js';\r\nexport * from './types';\r\n\r\nexport * from './api';\r\n","const keyBy = (array, key) =>\r\n  (array || []).reduce((r, x) => ({ ...r, [key ? x[key] : x]: x }), {});\r\n\r\nexport function collectionKeyBy(collection, key) {\r\n  const c = collection || {};\r\n  return c.isArray() ? keyBy(c, key) : Object.values(keyBy(c, key));\r\n}\r\n","import { CURRENCY } from '@shared/currency/currency.model';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nexport function getLang() {\r\n  if (navigator.languages !== undefined) {\r\n    return navigator.languages[0];\r\n  } else {\r\n    return navigator.language;\r\n  }\r\n}\r\n/**\r\n *\r\n * @param number\r\n * @param precision\r\n * ceil number to selected precision, add zeros to float part\r\n */\r\nexport function toFixedTrunc(number: string | number, precision: number) {\r\n  const v = (typeof number === 'string' ? number : number.toString()).split(\r\n    '.'\r\n  );\r\n  if (precision <= 0) return v[0];\r\n  let f = v[1] || '';\r\n  if (f.length > precision) {\r\n    return `${v[0]}.${f.substr(0, precision)}`;\r\n  }\r\n  while (f.length < precision) f += '0';\r\n  return `${v[0]}.${f}`;\r\n}\r\n/**\r\n *\r\n * @param number\r\n * @param precision\r\n * ceil number to selected precision, no adding zeros to float part\r\n */\r\nexport function toFixedTrim(number: string | number, precision: number) {\r\n  return parseFloat(toFixedTrunc(number, precision)).toString();\r\n}\r\n\r\nexport function generateUniqueId(): string {\r\n  const array = new Uint32Array(8);\r\n  window.crypto.getRandomValues(array);\r\n  let str = '';\r\n  for (let i = 0; i < array.length; i++) {\r\n    str += (i < 2 || i > 5 ? '' : '-') + array[i].toString(16).slice(-4);\r\n  }\r\n  // start HTML id attr with string only\r\n  return 'a' + str.slice(1);\r\n}\r\n\r\nexport function maskPhone(phone: string): string {\r\n  return `${phone.slice(0, 11)}  ${phone.slice(16)}`;\r\n}\r\n\r\nexport function maskIban(iban: string): string {\r\n  return `${iban.slice(0, 2)}  ${iban.slice(16)}`;\r\n}\r\n\r\nconst currencyToPrefix = {\r\n  [CURRENCY.KZT]: 'KZ',\r\n};\r\n\r\nexport function ibanPrefix(iban: string = '', currency: string) {\r\n  const prefix = currencyToPrefix[currency];\r\n  return (prefix + iban).replace(prefix + prefix, '');\r\n}\r\n\r\nexport function safeUnmaskAmount(value: string | number): number {\r\n  return typeof value == 'string'\r\n    ? parseFloat((value && value.replace(/ /g, '').replace(/,/g, '.')) || '0')\r\n    : value;\r\n}\r\n\r\nexport function countWords(str: string): number {\r\n  return str\r\n    .trim()\r\n    .split(' ')\r\n    .filter(function (n) {\r\n      return n !== '';\r\n    }).length;\r\n}\r\n/**\r\n * Pick values for all controls (disabled too)\r\n * @param group\r\n * @param pick\r\n */\r\nexport function getGroupRawValue<T>(group: FormGroup, pick?: string[]): T {\r\n  return (pick ? pick : Object.keys(group.controls)).reduce(\r\n    (rawModel, controlName) => {\r\n      rawModel[controlName] = group.controls[controlName].value;\r\n      return rawModel;\r\n    },\r\n    {} as {[K in keyof T]: T[K]}\r\n  );\r\n}\r\n","export function pick(object, keys) {\r\n  return keys.reduce((obj, key) => {\r\n    if (object && object.hasOwnProperty(key)) {\r\n      obj[key] = object[key];\r\n    }\r\n    return obj;\r\n  }, {});\r\n}\r\n","import { timer } from 'rxjs';\nimport { scan, takeWhile, shareReplay } from 'rxjs/operators';\n\nexport function countDown$(ticks: number) {\n  return timer(1000, 1000).pipe(\n    scan((acc) => --acc, ticks),\n    takeWhile((v) => v >= 0),\n    // shareReplay(1)\n  );\n}\n","import { UrlMatchResult, UrlSegment } from '@angular/router';\n\nexport interface LeafRoute {\n  root: string;\n}\nexport interface RootRoute {}\n\nexport function makeChildren<T extends { root: string }>(\n  parentString: string,\n  childrenRoutes: T\n) {\n  return Object.keys(childrenRoutes).reduce((acc, key) => {\n    if (typeof childrenRoutes[key] === 'string') {\n      if (key === 'root') {\n        acc[key] = (parentString + '/' + childrenRoutes.root).replace(\n          /\\/\\//g,\n          '/'\n        ).replace(acc[key] + '/' + acc[key], acc[key]);\n        return acc;\n      }\n      acc[key] = (\n        parentString +\n        '/' +\n        childrenRoutes.root +\n        '/' +\n        childrenRoutes[key]\n      )\n        .replace(/\\/\\//g, '/')\n        .replace(childrenRoutes.root + '/' + childrenRoutes.root, childrenRoutes.root);\n    } else {\n      acc[key] = makeChildren(parentString, childrenRoutes[key]);\n    }\n\n    return acc;\n  }, {} as { [K in keyof T]: T[K] });\n}\n\nexport function resolveURL(url: string, params?) {\n  if (!params) {\n    return url;\n  }\n  const resolved = Object.keys(params).reduce((acc, param) => {\n    return acc.replace(`::${param}`, params[param] || '');\n  }, url);\n  return resolved;\n}\n\n/**\n * Prevent recreation the component when changing between the route\n * entries the route entry with the parameter and the entry without the parameter.\n * empty string as second segment will decoded as param and navigation by relative route can be affected\n * @param fragment url fragment to check for reload\n * @param paramName param name to be passed in params map\n */\nexport function factoryUserPageMatcher(fragment: string, paramName: string) {\n  return function userPageMatcher(segments: UrlSegment[]): UrlMatchResult {\n    if (segments.length > 0 && segments[0].path === fragment) {\n      if (segments.length === 2) {\n        return {\n          consumed: segments,\n          posParams: { [paramName]: segments[1] },\n        };\n      }\n      if (segments.length === 1) {\n        return {\n          consumed: segments,\n          posParams: {},\n        };\n      }\n      return <UrlMatchResult>(null as any);\n    }\n    return <UrlMatchResult>(null as any);\n  };\n}\n","import { BehaviorSubject, Observable, defer, combineLatest } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  map,\n  share,\n  take,\n  first,\n  shareReplay,\n  filter,\n  skipWhile,\n} from 'rxjs/operators';\n\nimport { collectionKeyBy } from './keyBy';\n\nexport interface SimpleStoreConfig<T extends { id: string }> {\n  ttl?: number;\n  onSubscribe?: (store: SimpleStore<T>) => void;\n}\nconst DEFAULT = {\n  ttl: 60000,\n};\nexport class SimpleStore<T extends { id: string }> {\n  protected readonly itemsSubject$: BehaviorSubject<T[]>;\n\n  public readonly items$: Observable<T[]>;\n\n  /**\n   * @deprecated\n   */\n  public readonly dict$: Observable<{\n    [id: string]: T;\n  }>;\n\n  protected readonly fetchingSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetching$ = this.fetchingSubject$.asObservable();\n\n  protected readonly fetchedSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetched$ = this.fetchedSubject$.asObservable();\n\n  public isExpiredSubject$;\n  public isExpired$;\n\n  private readonly initialState: T[];\n  protected updated = 0;\n  protected config: SimpleStoreConfig<T>;\n\n  constructor(initialState: T[], opts = {}) {\n    this.config = Object.assign(opts, DEFAULT);\n    this.itemsSubject$ = new BehaviorSubject<T[]>(\n      (this.initialState = initialState || [])\n    );\n    this.dict$ = this.itemsSubject$.pipe(\n      map((v) => collectionKeyBy(v, 'id')),\n      share()\n    );\n    if (this.config.onSubscribe) {\n      defer(() => (this.config.onSubscribe(this), this.items$));\n    } else {\n      this.items$ = this.itemsSubject$.asObservable();\n    }\n\n    this.isExpiredSubject$ = new BehaviorSubject(this.expired);\n    // .pipe(\n    // startWith(this.expired),\n    // switchMap(v => timer(this.config.ttl).pipe(mapTo(true)))\n    // );\n\n    this.isExpired$ = this.isExpiredSubject$\n      .pipe(distinctUntilChanged())\n      .asObservable();\n  }\n\n  get dict(): { [id: string]: T } {\n    let r: { [id: string]: T };\n    this.dict$.pipe(take(1)).subscribe((v) => (r = v));\n    return r;\n  }\n\n  get items(): T[] {\n    return this.itemsSubject$.getValue();\n  }\n\n  set items(items: T[]) {\n    this.itemsSubject$.next(items);\n  }\n\n  get fetching(): boolean {\n    return this.fetchingSubject$.getValue();\n  }\n\n  set fetching(state: boolean) {\n    this.fetchingSubject$.next(state);\n  }\n\n  get fetched(): boolean {\n    return this.fetchedSubject$.getValue();\n  }\n\n  set fetched(state: boolean) {\n    this.fetchedSubject$.next(state);\n  }\n\n  addItem(item: T, opts?: { insertBefore?: any; insertAfter?: any }) {\n    const newItem = item;\n    this.items = [...this.items, newItem];\n  }\n\n  get expired(): boolean {\n    return Date.now() - this.updated > this.config.ttl;\n  }\n\n  getItemById(id: string): T {\n    return this.dict[id];\n  }\n\n  getItemByKey<K extends keyof T>(v: T[K], key: K): T {\n    return this.items.find((item) => item[key] === v);\n  }\n\n  setUpdated(updateAt: number = 0) {\n    this.updated = updateAt;\n  }\n\n  updateItem(toUpdate: Partial<T>) {\n    const index = this.items.findIndex((item) => item.id === toUpdate.id);\n    if (~index) {\n      const updatedItem = { ...this.items[index], ...toUpdate };\n      this.items = [...this.items.splice(index, 1, updatedItem)];\n    }\n  }\n\n  replaceItem(toReplace: T) {\n    const index = this.items.findIndex((item) => item.id === toReplace.id);\n    if (~index) {\n      this.items = [...this.items.splice(index, 1, toReplace)];\n    }\n  }\n\n  removeItem(id: string) {\n    this.items = this.items.filter((item) => item.id !== id);\n  }\n\n  setState(items: T[], opts: { updatedAt?: number } = {}) {\n    this.items = items;\n    this.updated = opts.updatedAt || Date.now();\n    this.isExpiredSubject$.next(this.expired);\n  }\n\n  resetState() {\n    this.items = [...this.initialState];\n    this.fetching = false;\n    this.fetched = false;\n  }\n\n  purge() {\n    this.fetching = false;\n    this.fetched = false;\n    this.items = [];\n  }\n}\n\n// @TODO use on behaviour subject to store state\n// export class EntitiesStore<T extends { id: string }> extends BehaviorSubject<T[]> {\nexport class EntitiesStore<T extends { id: string }> {\n  protected readonly entitiesSubject$: BehaviorSubject<{\n    [id: string]: T;\n  }>;\n  protected readonly idsSubject$: BehaviorSubject<string[]>;\n\n  public readonly items$: Observable<T[]>;\n  // public readonly entities$: Observable<{\n  //   [id: string]: T;\n  // }>;\n\n  public fetchedItems$: Observable<T[]>;\n\n  protected readonly fetchingSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetching$ = this.fetchingSubject$.asObservable();\n\n  protected readonly fetchedSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetched$ = this.fetchedSubject$.asObservable();\n\n  public isExpiredSubject$;\n  public isExpired$;\n\n  private readonly initialState: T[];\n  private readonly suspend$ = new BehaviorSubject(false);\n  protected updated = 0;\n  protected config: SimpleStoreConfig<T>;\n\n  constructor(initialState: T[] = [], opts = {} as any) {\n    // super(initialState);\n    this.config = Object.assign(opts, DEFAULT);\n\n    this.entitiesSubject$ = new BehaviorSubject<{ [id: string]: T }>({});\n\n    this.idsSubject$ = new BehaviorSubject<string[]>([]);\n    this.isExpiredSubject$ = new BehaviorSubject(this.expired);\n    this.isExpired$ = this.isExpiredSubject$\n      .pipe(distinctUntilChanged())\n      .asObservable();\n\n    this.items$ = combineLatest([\n      this.ids$,\n      this.entities$,\n      this.suspend$,\n    ]).pipe(\n      skipWhile(() => this.suspend$.getValue()),\n      map(([ids, entities]) => (ids as any).map((id) => entities[id])),\n      shareReplay(1)\n    );\n\n    this.items = initialState;\n    this.initialState = initialState;\n\n    this.fetchedItems$ = this.fetchedSubject$.pipe(\n      distinctUntilChanged(),\n      filter((loaded) => {\n        return loaded;\n      }),\n      map((loaded) => this.items),\n      shareReplay(1)\n    );\n  }\n\n  get entities(): { [id: string]: T } {\n    return this.entitiesSubject$.getValue();\n  }\n  set entities(dict: { [id: string]: T }) {\n    this.entitiesSubject$.next(dict);\n  }\n\n  get entities$(): Observable<{ [id: string]: T }> {\n    return this.entitiesSubject$.pipe(distinctUntilChanged());\n  }\n\n  get items(): T[] {\n    let r: T[];\n    this.items$.pipe(first()).subscribe((v) => (r = v));\n    return r;\n  }\n\n  get ids$(): Observable<string[]> {\n    return this.idsSubject$.pipe(distinctUntilChanged());\n  }\n\n  get ids(): string[] {\n    return this.idsSubject$.getValue();\n  }\n\n  set ids(ids: string[]) {\n    this.idsSubject$.next(ids);\n  }\n\n  set items(items: T[]) {\n    let i = 0;\n    let length = items.length;\n    const entities = {};\n    const ids = [];\n    this.suspend$.next(true);\n    for (; i < length; i++) {\n      entities[items[i].id] = items[i];\n      ids.push(items[i].id);\n    }\n    this.idsSubject$.next(ids);\n    this.entitiesSubject$.next(entities);\n    this.suspend$.next(false);\n  }\n\n  get fetching(): boolean {\n    return this.fetchingSubject$.getValue();\n  }\n\n  set fetching(state: boolean) {\n    this.fetchingSubject$.next(state);\n  }\n\n  get fetched(): boolean {\n    return this.fetchedSubject$.getValue();\n  }\n\n  set fetched(state: boolean) {\n    this.fetchedSubject$.next(state);\n  }\n\n  // addItem(item: T, opts?: { insertBefore?: any; insertAfter?: any }) {\n  //   const newItem = item;\n  //   this.items = [...this.items, newItem];\n  // }\n\n  get expired(): boolean {\n    return Date.now() - this.updated > this.config.ttl;\n  }\n\n  getItemsByIds(ids: string[]): T[];\n  getItemsByIds(ids: string): T;\n  getItemsByIds(ids: any): any {\n    if (Array.isArray(ids)) {\n      const entities = this.entities;\n      return ids.reduce(\n        (acc, knpCode) => (\n          entities[knpCode] && acc.push(entities[knpCode]), acc\n        ),\n        []\n      );\n    } else {\n      return this.entities[ids];\n    }\n  }\n\n  getItemByKey<K extends keyof T>(v: T[K], key: K): T {\n    return this.items.find((item) => item[key] === v);\n  }\n\n  setUpdated(updateAt: number = 0) {\n    this.updated = updateAt;\n  }\n\n  // updateItem(toUpdate: Partial<T>) {\n  //   const index = this.items.findIndex((item) => item.id === toUpdate.id);\n  //   if (~index) {\n  //     const updatedItem = { ...this.items[index], ...toUpdate };\n  //     this.items = [...this.items.splice(index, 1, updatedItem)];\n  //   }\n  // }\n\n  // replaceItem(toReplace: T) {\n  //   const index = this.items.findIndex((item) => item.id === toReplace.id);\n  //   if (~index) {\n  //     this.items = [...this.items.splice(index, 1, toReplace)];\n  //   }\n  // }\n\n  upsertItem(item: T, shift?: boolean) {\n    const dict = { ...this.entities };\n    let ids = this.ids;\n\n    if (dict[item.id]) {\n      dict[item.id] = { ...dict[item.id], ...item };\n      this.entities = dict;\n    } else {\n      dict[item.id] = item;\n      ids = shift ? [item.id].concat(ids) : ids.concat([item.id]);\n      this.suspend$.next(true);\n      this.entities = dict;\n      this.ids = ids;\n      this.suspend$.next(false);\n    }\n  }\n\n  removeItems(ids: string | string[]) {\n    if (!Array.isArray(ids)) {\n      ids = [ids];\n    }\n    const dict = ids.reduce((acc, id) => {\n      acc[id] = true;\n      return acc;\n    }, {} as Record<string, boolean>);\n    this.items = this.items.filter((item) => !(item.id in dict));\n  }\n\n  setState(items: T[], opts: { updatedAt?: number } = {}) {\n    this.items = items;\n    this.updated = opts.updatedAt || Date.now();\n    this.isExpiredSubject$.next(this.expired);\n  }\n\n  resetState() {\n    this.items = [...this.initialState];\n    this.fetching = false;\n    this.fetched = false;\n  }\n\n  purge() {\n    this.fetching = false;\n    this.fetched = false;\n    this.items = [];\n  }\n}\n\nexport class SingleEntityStore<T> {\n  protected readonly entitySubject$: BehaviorSubject<T>;\n  public readonly entity$: Observable<T>;\n\n  protected readonly fetchingSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetching$ = this.fetchingSubject$.asObservable();\n\n  protected readonly fetchedSubject$ = new BehaviorSubject<boolean>(false);\n  public readonly fetched$ = this.fetchedSubject$.asObservable();\n\n  private readonly initialState: T;\n\n  constructor(initialState?: T) {\n    this.entitySubject$ = new BehaviorSubject<T>(\n      (this.initialState = initialState)\n    );\n    this.entity$ = this.entitySubject$.asObservable();\n  }\n\n  get entity(): T {\n    return this.entitySubject$.getValue();\n  }\n\n  set entity(item: T) {\n    this.entitySubject$.next(item);\n  }\n\n  get fetching(): boolean {\n    return this.fetchingSubject$.getValue();\n  }\n\n  set fetching(state: boolean) {\n    this.fetchingSubject$.next(state);\n  }\n\n  get fetched(): boolean {\n    return this.fetchedSubject$.getValue();\n  }\n\n  set fetched(state: boolean) {\n    this.fetchedSubject$.next(state);\n  }\n\n  purge() {\n    this.fetching = false;\n    this.fetched = false;\n    this.entity = null;\n  }\n}\n\n// type MappingFunction<T, R> = (mappable: T) => R;\n// type MemoizationFunction<R> = (previousResult: R, currentResult: R) => boolean;\n\n// function defaultMemoization(previousValue, currentValue): boolean {\n//   if (typeof previousValue === 'object' && typeof currentValue === 'object') {\n//     return naiveObjectComparison(previousValue, currentValue);\n//   }\n//   return previousValue === currentValue;\n// }\n\n// export function select$<T, R>(\n//   source$: Observable<T>,\n//   mappingFunction: MappingFunction<T, R>,\n//   memoizationFunction?: MemoizationFunction<R>\n// ): Observable<R> {\n//   return source$.pipe(\n//     map(mappingFunction),\n//     distinctUntilChanged(memoizationFunction || defaultMemoization),\n//     shareReplay(1)\n//   );\n// }\n// export function naiveObjectComparison(objOne, objTwo): boolean {\n//   return JSON.stringify(objOne) === JSON.stringify(objTwo);\n// }\n// function deepFreeze<T>(inObj: T): T {\n//   Object.freeze(inObj);\n\n//   Object.getOwnPropertyNames(inObj).forEach(function (prop) {\n//     if (\n//       inObj.hasOwnProperty(prop) &&\n//       inObj[prop] != null &&\n//       typeof inObj[prop] === 'object' &&\n//       !Object.isFrozen(inObj[prop])\n//     ) {\n//       deepFreeze(inObj[prop]);\n//     }\n//   });\n//   return inObj;\n// }\n\n// export class Store<T> extends BehaviorSubject<T> {\n//   constructor(initialData: T) {\n//     super(deepFreeze(initialData));\n//   }\n\n//   next(newData: T): void {\n//     const frozenData = deepFreeze(newData);\n//     if (!naiveObjectComparison(frozenData, this.getValue())) {\n//       super.next(frozenData);\n//     }\n//   }\n// }\n","import { Injectable } from '@angular/core';\nimport {\n  AbstractControl,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  AbstractControlOptions,\n  FormArray,\n} from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport '@angular/compiler';\n/*\nWhy `import '@angular/compiler'`?\nHad this Error when `ng serve` specifically Angular 9.1.2.\nThe app would show blank page with the below error in dev tools console:\n```\nmain.ts:15 Error: Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.\n    at getCompilerFacade (core.js:643)\n    at Function.get (core.js:16349)\n    at getFactoryDef (core.js:2200)\n    at providerToFactory (core.js:17183)\n    at providerToRecord (core.js:17165)\n    at R3Injector.processProvider (core.js:16981)\n    at core.js:16960\n    at core.js:1400\n    at Array.forEach (<anonymous>)\n    at deepForEach (core.js:1400)\n```\nStackOverflow solution - import '@angular/compiler';\n[solution](https://stackoverflow.com/questions/60183056/ionic-5-with-angular-9-angular-jit-compilation-failed-angular-compiler-not#answer-60183174)\n*/\n\nexport type RecursivePartial<T> = {\n  [P in keyof T]?: RecursivePartial<T[P]>;\n};\n\nexport type FormGroupControlsOf<T> = {\n  [P in keyof T]:  FormControl | FormGroup | FormArray;\n};\n\nexport type ControlStatus = 'VALID' | 'INVALID' | 'PENDING' | 'DISABLED';\n\nexport interface AbstractControlTypeSafe<T> extends AbstractControl {\n  // common properties to FormGroup, FormControl and FormArray\n  readonly value: T;\n  readonly valueChanges: Observable<T>;\n\n  /*\n    Angular `get` signature:\n      get(path: Array<string | number> | string): AbstractControl | null;\n\n      split into two get methods\n  */\n  // tslint:disable-next-line: array-type\n  get(path: Array<string> | string): AbstractControl | null;\n  get(\n    path: number[]\n  ): AbstractControlTypeSafe<T extends (infer R)[] ? R : T> | null;\n  readonly statusChanges: Observable<ControlStatus>;\n}\n\n// the idea is to use Angular's FormGroup exactly as is but just sprinkle a bit of type-safety in-between\nexport interface FormGroupTypeSafe<T> extends FormGroup {\n  readonly controls: FormGroupControlsOf<T>;\n  readonly value: T;\n  readonly valueChanges: Observable<T>;\n  readonly status: ControlStatus;\n  readonly statusChanges: Observable<ControlStatus>;\n\n  /* ----- new functions added not part of FormGroup  ----- */\n  // create helper methods to achieve this syntax\n  //  eg: this.form.getSafe(x => x.heroName).patchValue('He-Man')\n  getSafe<P>(\n    propertyFunction: (typeVal: T) => P\n  ): AbstractControlTypeSafe<P> | null;\n  // eg: this.form.setControlSafe(x => x.name, new FormControl('Hulk'));\n  setControlSafe(\n    propertyFunction: (typeVal: T) => any,\n    control: AbstractControl\n  ): void;\n  /* -------------------------------- */\n\n  setValue(\n    value: T,\n    options?: { onlySelf?: boolean; emitEvent?: boolean }\n  ): void;\n\n  // tslint:disable-next-line:ban-types\n  patchValue(value: RecursivePartial<T>, options?: Object): void;\n}\n\n// tslint:disable-next-line:max-classes-per-file\nexport interface FormControlTypeSafe<T> extends FormControl {\n  value: T | undefined;\n}\n\nexport const generateGetSafeFunction = <T extends unknown>(\n  gr: FormGroupTypeSafe<T>\n) => {\n  return (propertyFunction: (typeVal: T) => any): AbstractControl => {\n    const getStr = getPropertyName(propertyFunction.toString());\n    const p = gr.get(getStr) as FormGroupTypeSafe<T>;\n    return p;\n  };\n};\n\nexport const generateSetControlSafeFunction = <T extends unknown>(\n  gr: FormGroupTypeSafe<T>\n) => {\n  return (\n    propertyFunction: (typeVal: T) => any,\n    control: AbstractControl\n  ): void => {\n    const getStr = getPropertyName(propertyFunction.toString());\n    gr.setControl(getStr, control);\n  };\n};\n\nexport const getPropertyName = (propertyFunction: string) => {\n  let properties: string[] = [];\n\n  if (propertyFunction) {\n    if (propertyFunction.toString().indexOf('=>') !== -1) {\n      // propertyFunction.toString() sample value:\n      // x => x.hero.address.postcode\n      // we need the 'hero.address.postcode'\n      // for gr.get('hero.address.postcode') function\n      properties = propertyFunction.split('=>')[1].trim().split('.').splice(1);\n    } else {\n      const step1 =\n        propertyFunction &&\n        propertyFunction.match(/(return [;.a-zA-Z0-9 ]+)/gi);\n      const step2 = step1 && step1[0].match(/(?![. ])([a-z0-9_]+)(?=[};.])/gi);\n      properties = (step2 && step2.splice(1)) || [];\n    }\n  }\n\n  return properties.join('.');\n};\n\n// tslint:disable-next-line: max-classes-per-file\n@Injectable({\n  providedIn: 'root'\n})\nexport class FormBuilderTypeSafe extends FormBuilder {\n  // override group to be type safe\n  public group<T>(\n    controlsConfig:\n      | FormGroupControlsOf<T>\n      | {\n          [key in keyof T]: any;\n        },\n    options?:\n      | AbstractControlOptions\n      | {\n          [key: string]: any;\n        }\n      | null\n  ): FormGroupTypeSafe<T> {\n    /* NOTE the return FormGroupTypeSafe<T> */\n\n    // instantiate group from angular type\n    const gr = super.group(controlsConfig, options) as FormGroupTypeSafe<T>;\n\n    if (gr) {\n      // implement getSafe method\n      gr.getSafe = generateGetSafeFunction(gr);\n      // implement setControlSafe\n      gr.setControlSafe = generateSetControlSafeFunction(gr);\n    }\n\n    return gr;\n  }\n}\n","export type Union<M, N> = Omit<M, Extract<keyof M, keyof N>> & N;\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  baseUrl:\n    window['env']['baseUrl'] ||\n    'https://business-staging.jysanbank.kz:8460/api/v1',\n  appVersion: window['env']['appVersion'] || '',\n  bankLogo: './assets/banks/',\n  curLogo: './assets/currency/',\n  ga: window['env']['gaTrackingId'] || '',\n  svgBasePath: '/assets/icons/',\n  amplitudeApiKey: window['env']['AmplitudeApiKey'] || 'e74d47f441f931f8d6a2875b8af3d6ab',\n  jmartCabinetBaseUrl: 'https://test3.jmart.kz',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/*!\n * Clamp.js 0.5.1\n *\n * Copyright 2011-2013, Joseph Schmitt http://joe.sh\n * Released under the WTFPL license\n * http://sam.zoy.org/wtfpl/\n */\n\n(function () {\n  /**\n   * Clamps a text node.\n   * @param {HTMLElement} element. Element containing the text node to clamp.\n   * @param {Object} options. Options to pass to the clamper.\n   */\n  function clamp(element, options) {\n    options = options || {};\n\n    var self = this,\n      win = window,\n      opt = {\n        clamp: options.clamp || 2,\n        useNativeClamp:\n          typeof options.useNativeClamp != 'undefined'\n            ? options.useNativeClamp\n            : true,\n        splitOnChars: options.splitOnChars || ['.', '-', '', '', ' '], //Split on sentences (periods), hypens, en-dashes, em-dashes, and words (spaces).\n        animate: options.animate || false,\n        truncationChar: options.truncationChar || '',\n        truncationHTML: options.truncationHTML,\n      },\n      sty = element.style,\n      originalText = element.innerHTML,\n      supportsNativeClamp = typeof element.style.webkitLineClamp != 'undefined',\n      clampValue = opt.clamp,\n      isCSSValue =\n        clampValue.indexOf &&\n        (clampValue.indexOf('px') > -1 || clampValue.indexOf('em') > -1),\n      truncationHTMLContainer;\n\n    if (opt.truncationHTML) {\n      truncationHTMLContainer = document.createElement('span');\n      truncationHTMLContainer.innerHTML = opt.truncationHTML;\n    }\n\n    // UTILITY FUNCTIONS __________________________________________________________\n\n    /**\n     * Return the current style for an element.\n     * @param {HTMLElement} elem The element to compute.\n     * @param {string} prop The style property.\n     * @returns {number}\n     */\n    function computeStyle(elem, prop) {\n      if (!win.getComputedStyle) {\n        win.getComputedStyle = function (el, pseudo) {\n          this.el = el;\n          this.getPropertyValue = function (prop) {\n            var re = /(\\-([a-z]){1})/g;\n            if (prop == 'float') prop = 'styleFloat';\n            if (re.test(prop)) {\n              prop = prop.replace(re, function () {\n                return arguments[2].toUpperCase();\n              });\n            }\n            return el.currentStyle && el.currentStyle[prop]\n              ? el.currentStyle[prop]\n              : null;\n          };\n          return this;\n        };\n      }\n\n      return win.getComputedStyle(elem, null).getPropertyValue(prop);\n    }\n\n    /**\n     * Returns the maximum number of lines of text that should be rendered based\n     * on the current height of the element and the line-height of the text.\n     */\n    function getMaxLines(height) {\n      var availHeight = height || element.clientHeight,\n        lineHeight = getLineHeight(element);\n\n      return Math.max(Math.floor(availHeight / lineHeight), 0);\n    }\n\n    /**\n     * Returns the maximum height a given element should have based on the line-\n     * height of the text and the given clamp value.\n     */\n    function getMaxHeight(clmp) {\n      var lineHeight = getLineHeight(element);\n      return lineHeight * clmp;\n    }\n\n    /**\n     * Returns the line-height of an element as an integer.\n     */\n    function getLineHeight(elem) {\n      var lh = computeStyle(elem, 'line-height');\n      if (lh == 'normal') {\n        // Normal line heights vary from browser to browser. The spec recommends\n        // a value between 1.0 and 1.2 of the font size. Using 1.1 to split the diff.\n        lh = parseInt(computeStyle(elem, 'font-size')) * 1.2;\n      }\n      return parseInt(lh);\n    }\n\n    // MEAT AND POTATOES (MMMM, POTATOES...) ______________________________________\n    var splitOnChars = opt.splitOnChars.slice(0),\n      splitChar = splitOnChars[0],\n      chunks,\n      lastChunk;\n\n    /**\n     * Gets an element's last child. That may be another node or a node's contents.\n     */\n    function getLastChild(elem) {\n      //Current element has children, need to go deeper and get last child as a text node\n      if (elem.lastChild.children && elem.lastChild.children.length > 0) {\n        return getLastChild(Array.prototype.slice.call(elem.children).pop());\n      }\n      //This is the absolute last child, a text node, but something's wrong with it. Remove it and keep trying\n      else if (\n        !elem.lastChild ||\n        !elem.lastChild.nodeValue ||\n        elem.lastChild.nodeValue == '' ||\n        elem.lastChild.nodeValue == opt.truncationChar\n      ) {\n        elem.lastChild.parentNode.removeChild(elem.lastChild);\n        return getLastChild(element);\n      }\n      //This is the last child we want, return it\n      else {\n        return elem.lastChild;\n      }\n    }\n\n    /**\n     * Removes one character at a time from the text until its width or\n     * height is beneath the passed-in max param.\n     */\n    function truncate(target, maxHeight) {\n      if (!maxHeight) {\n        return;\n      }\n\n      /**\n       * Resets global variables.\n       */\n      function reset() {\n        splitOnChars = opt.splitOnChars.slice(0);\n        splitChar = splitOnChars[0];\n        chunks = null;\n        lastChunk = null;\n      }\n\n      var nodeValue = target.nodeValue.replace(opt.truncationChar, '');\n\n      //Grab the next chunks\n      if (!chunks) {\n        //If there are more characters to try, grab the next one\n        if (splitOnChars.length > 0) {\n          splitChar = splitOnChars.shift();\n        }\n        //No characters to chunk by. Go character-by-character\n        else {\n          splitChar = '';\n        }\n\n        chunks = nodeValue.split(splitChar);\n      }\n\n      //If there are chunks left to remove, remove the last one and see if\n      // the nodeValue fits.\n      if (chunks.length > 1) {\n        // console.log('chunks', chunks);\n        lastChunk = chunks.pop();\n        // console.log('lastChunk', lastChunk);\n        applyEllipsis(target, chunks.join(splitChar));\n      }\n      //No more chunks can be removed using this character\n      else {\n        chunks = null;\n      }\n\n      //Insert the custom HTML before the truncation character\n      if (truncationHTMLContainer) {\n        target.nodeValue = target.nodeValue.replace(opt.truncationChar, '');\n        element.innerHTML =\n          target.nodeValue +\n          ' ' +\n          truncationHTMLContainer.innerHTML +\n          opt.truncationChar;\n      }\n\n      //Search produced valid chunks\n      if (chunks) {\n        //It fits\n        if (element.clientHeight <= maxHeight) {\n          //There's still more characters to try splitting on, not quite done yet\n          if (splitOnChars.length >= 0 && splitChar != '') {\n            applyEllipsis(\n              target,\n              chunks.join(splitChar) + splitChar + lastChunk\n            );\n            chunks = null;\n          }\n          //Finished!\n          else {\n            return element.innerHTML;\n          }\n        }\n      }\n      //No valid chunks produced\n      else {\n        //No valid chunks even when splitting by letter, time to move\n        //on to the next node\n        if (splitChar == '') {\n          applyEllipsis(target, '');\n          target = getLastChild(element);\n\n          reset();\n        }\n      }\n\n      //If you get here it means still too big, let's keep truncating\n      if (opt.animate) {\n        setTimeout(\n          function () {\n            truncate(target, maxHeight);\n          },\n          opt.animate === true ? 10 : opt.animate\n        );\n      } else {\n        return truncate(target, maxHeight);\n      }\n    }\n\n    function applyEllipsis(elem, str) {\n      elem.nodeValue = str + opt.truncationChar;\n    }\n\n    // CONSTRUCTOR ________________________________________________________________\n\n    if (clampValue == 'auto') {\n      clampValue = getMaxLines();\n    } else if (isCSSValue) {\n      clampValue = getMaxLines(parseInt(clampValue));\n    }\n\n    var clampedText;\n    if (supportsNativeClamp && opt.useNativeClamp) {\n      sty.overflow = 'hidden';\n      sty.textOverflow = 'ellipsis';\n      sty.webkitBoxOrient = 'vertical';\n      sty.display = '-webkit-box';\n      sty.webkitLineClamp = clampValue;\n\n      if (isCSSValue) {\n        sty.height = opt.clamp + 'px';\n      }\n    } else {\n      var height = getMaxHeight(clampValue);\n      if (height <= element.clientHeight) {\n        clampedText = truncate(getLastChild(element), height);\n      }\n    }\n\n    return {\n      original: originalText,\n      clamped: clampedText,\n    };\n  }\n\n  window.$clamp = clamp;\n})();\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/* (ignored) */"],"names":[],"sourceRoot":"webpack:///"}