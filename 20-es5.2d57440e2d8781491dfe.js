function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7wo0":function(t,e,i){"use strict";i.r(e);var n,s,a,r=i("ofXK"),c=i("PCNd"),o=i("3Pt+"),l=i("tyNb"),u=i("fXoL"),b=i("paXB"),f=i("7/bn"),h=i("oMXN"),d=i("EiG8"),p=i("sYmb"),m=i("zdqJ"),v=function(){return["main"]},g=function(){return["authorities"]},S=function(){return["password"]},y=function(){return["faq"]},T=function(){return["feature-request"]},_=((s=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=u.Kb({type:s,selectors:[["j-settings-tabs"]],decls:11,vars:10,consts:[[1,"tabs"],["routerLinkActive","tabs__link--active","translate","",1,"p1","tabs__link",3,"routerLink"],["jTour","SETTINGS.AUTHORITIES","jTourPosition","bottom","routerLinkActive","tabs__link--active","translate","",1,"p1","tabs__link",3,"routerLink"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"a",1),u.Sc(2,"SETTINGS.MAIN"),u.Vb(),u.Wb(3,"a",2),u.Sc(4,"SETTINGS.AUTHORITIES.TITLE"),u.Vb(),u.Wb(5,"a",1),u.Sc(6,"SETTINGS.PASSWORD.TITLE"),u.Vb(),u.Wb(7,"a",1),u.Sc(8,"SETTINGS.FAQ.TITLE"),u.Vb(),u.Wb(9,"a",1),u.Sc(10,"SETTINGS.FEATURE_REQUEST.TITLE"),u.Vb(),u.Vb()),2&t&&(u.Ab(1),u.tc("routerLink",u.xc(5,v)),u.Ab(2),u.tc("routerLink",u.xc(6,g)),u.Ab(2),u.tc("routerLink",u.xc(7,S)),u.Ab(2),u.tc("routerLink",u.xc(8,y)),u.Ab(2),u.tc("routerLink",u.xc(9,T)))},directives:[l.f,l.e,p.a,m.a],styles:[".tabs[_ngcontent-%COMP%]{display:-webkit-box;display:flex;border-bottom:1px solid #eceef1}.tabs__link[_ngcontent-%COMP%]{color:#666c72;padding:1rem 0;display:block;border-bottom:2px solid transparent;bottom:-1.5px;position:relative}.tabs__link--active[_ngcontent-%COMP%]{color:#1a1c1f;font-weight:500;border-bottom-color:#ef5630}.tabs__link[_ngcontent-%COMP%] + .tabs__link[_ngcontent-%COMP%]{margin-left:40px}"]}),s),k=((n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Kb({type:n,selectors:[["j-settings"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-lg-10","offset-lg-1","col-xl-10","offset-xl-2"],[1,"settings"],["translate","",1,"header-title"]],template:function(t,e){1&t&&(u.Wb(0,"j-layout-home"),u.Wb(1,"j-aside"),u.Rb(2,"j-nav-main"),u.Vb(),u.Wb(3,"j-main"),u.Wb(4,"section",0),u.Wb(5,"section",1),u.Wb(6,"section",2),u.Wb(7,"h2",3),u.Sc(8,"SETTINGS.TITLE"),u.Vb(),u.Rb(9,"j-settings-tabs"),u.Rb(10,"router-outlet"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb())},directives:[b.a,f.a,h.a,d.a,p.a,_,l.h],styles:[".settings{padding-top:40px}.settings-info{padding:1rem;margin:2rem 0;background:#fff;border-radius:.75rem;max-width:435px}.settings-info a:hover{color:#ef5630!important}.settings-heading{font-size:1.25rem;margin:.375rem 0 1rem}.settings-heading-wrapper{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.all-requisites-item{border-radius:8px;background:#fff;margin:12px 16px;padding:16px 16px 16px 56px}"],encapsulation:2}),n),A=i("mrSG"),I=i("4Nuw"),C=i("ZF+8"),x=i("VnnJ"),w=i("JqCM"),P=i("VO+5"),E=i("Kcpt"),O=i("e8Ap"),R=i("L+ju"),W=i("zN9f"),V=((a=function(){function t(){_classCallCheck(this,t),this.selected=new u.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onSelect",value:function(){this.account.isSelected=!this.account.isSelected,this.selected.emit(this.account.isSelected)}},{key:"mapSelectedAccountLabel",value:function(t){var e;switch(null===(e=t)||void 0===e?void 0:e.accountType){case R.a.CARD:return"ACCOUNTS.CARD";case R.a.ACCOUNT:return"ACCOUNTS.DROPDOWN.REGULAR";case R.a.DEPOSIT:return"ACCOUNTS.DEPOSIT";default:return null}}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=u.Kb({type:a,selectors:[["j-all-requisites-item"]],inputs:{isChecked:"isChecked",account:"account"},outputs:{selected:"selected"},decls:13,vars:8,consts:[[1,"custom-control","custom-checkbox","all-requisites-item"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","change"],[1,"custom-control-label","all-requisites-item-label",3,"for"],[1,"all-requisites-item__row"],[1,"all-requisites-item__cell"],["size","sm",3,"name"],[1,"d-block","text-muted"],[1,"p2","all-requisites-item__iban"]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"input",1),u.ic("change",(function(t){return e.onSelect()})),u.Vb(),u.Wb(2,"label",2),u.Wb(3,"div",3),u.Wb(4,"div",4),u.Rb(5,"j-entity-logo",5),u.Vb(),u.Wb(6,"div",4),u.Wb(7,"small",6),u.Wb(8,"div"),u.Sc(9),u.nc(10,"translate"),u.Vb(),u.Vb(),u.Wb(11,"span",7),u.Sc(12),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Ab(1),u.tc("id",e.account.id)("ngModel",e.account.isSelected),u.Ab(1),u.tc("for",e.account.id),u.Ab(3),u.tc("name",e.account.balance.currency),u.Ab(4),u.Tc(u.oc(10,6,e.mapSelectedAccountLabel(e.account))),u.Ab(3),u.Tc(e.account.iban))},directives:[o.a,o.t,o.w,W.a],pipes:[p.d],styles:[".all-requisites-item__row[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;flex-direction:row}.all-requisites-item__cell[_ngcontent-%COMP%], .all-requisites-item__row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-direction:normal}.all-requisites-item__cell[_ngcontent-%COMP%]{margin:auto 5px;-webkit-box-orient:vertical;flex-direction:column}.all-requisites-item-label[_ngcontent-%COMP%]:after, .all-requisites-item-label[_ngcontent-%COMP%]:before{top:0;bottom:0;margin:auto}.text-muted[_ngcontent-%COMP%]{font-size:14px}.all-requisites-item__iban[_ngcontent-%COMP%]{margin-top:4px;display:block}"]}),a);function N(t,e){if(1&t){var i=u.Xb();u.Wb(0,"div"),u.Wb(1,"j-all-requisites-item",15),u.ic("selected",(function(t){return u.Hc(i),u.mc().onSelect()})),u.Vb(),u.Vb()}if(2&t){var n=e.$implicit;u.Ab(1),u.tc("account",n)}}function M(t,e){1&t&&(u.Wb(0,"div",16),u.Rb(1,"ngx-spinner",17),u.Vb()),2&t&&(u.Ab(1),u.tc("fullScreen",!1))}var D,q,j=((D=function(){function t(e,i,n,s,a){_classCallCheck(this,t),this.accountsService=e,this.filesService=i,this.companyService=n,this.spinner=s,this.notifier=a,this.closed=new u.n,this.accounts=[],this.isAllSelected=!1,this.isLoading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){return Object(A.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,this.spinner.show(),t.next=4,this.accountsService.getAccounts();case 4:this.accounts=t.sent,this.accounts.forEach((function(t){t.isSelected=!0})),this.isAllSelected=!0,this.spinner.hide(),this.isLoading=!1;case 9:case"end":return t.stop()}}),t,this)})))}},{key:"selectAll",value:function(){var t=this;this.isAllSelected=!this.isAllSelected,this.accounts=this.accounts.map((function(e){return e.isSelected=t.isAllSelected,e}))}},{key:"onSelect",value:function(){this.isAllSelected=this.accounts.every((function(t){return t.isSelected}))}},{key:"onDownload",value:function(){var t=this.accounts.filter((function(t){return t.isSelected})).map((function(t){return t.iban}));t.length>0?this.download(t):this.notifier.show({type:"error",message:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0441\u0447\u0435\u0442. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0447\u0435\u0442 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0430\u0447\u0430\u0442\u044c"})}},{key:"download",value:function(t){return Object(A.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.accountsService.getPdfWithMultipleIbans(this.companyService.currentId,t);case 3:i=e.sent,this.filesService.downloadFile(i,"".concat(this.companyService.currentCompany.bin,".pdf")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"onClose",value:function(){this.closed.emit()}}]),t}()).\u0275fac=function(t){return new(t||D)(u.Qb(I.c),u.Qb(C.b),u.Qb(x.a),u.Qb(w.c),u.Qb(P.c))},D.\u0275cmp=u.Kb({type:D,selectors:[["j-all-requisites"]],outputs:{closed:"closed"},decls:20,vars:12,consts:[[1,"all-requisites-selector__header"],[1,"p2","text-dark","all-requisites-selector__header_size_b"],["type","button",1,"details__close","ml-auto","close",3,"click"],["size","md","name","cross",1,"size-md"],[1,"all-requisites-selector"],[1,"custom-control","custom-checkbox","all-requisites-item"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","change"],[1,"custom-control-label",3,"for"],[1,"all-requisites-selector__list"],[4,"ngFor","ngForOf"],["class","spinner-wrap",4,"ngIf"],[1,"all-requisites__footer"],[1,"all-requisites__button","btn","btn-outline-primary","btn-md",3,"click"],[3,"inlineSVG"],["translate","",1,"ml-2"],[3,"account","selected"],[1,"spinner-wrap"],["type","ball-scale-ripple-multiple","size","large","color","#d6dadf","bdColor","rgba(255, 255, 255, 1)",3,"fullScreen"]],template:function(t,e){1&t&&(u.Wb(0,"section",0),u.Wb(1,"div",1),u.Sc(2),u.nc(3,"translate"),u.Vb(),u.Wb(4,"button",2),u.ic("click",(function(t){return e.onClose()})),u.Rb(5,"j-icon",3),u.Vb(),u.Vb(),u.Wb(6,"div",4),u.Wb(7,"div",5),u.Wb(8,"input",6),u.ic("change",(function(t){return e.selectAll()})),u.Vb(),u.Wb(9,"label",7),u.Sc(10),u.nc(11,"translate"),u.Vb(),u.Vb(),u.Wb(12,"div",8),u.Qc(13,N,2,1,"div",9),u.Vb(),u.Vb(),u.Qc(14,M,2,1,"div",10),u.Wb(15,"div",11),u.Wb(16,"button",12),u.ic("click",(function(t){return e.onDownload()})),u.Rb(17,"div",13),u.Wb(18,"strong",14),u.Sc(19,"ACCOUNTS.REQUISITES.DOWNLOAD"),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Ab(2),u.Uc(" ",u.oc(3,8,"SETTINGS.REQUISITES.SELECT_REQUISITES")," "),u.Ab(6),u.tc("id","all")("ngModel",e.isAllSelected),u.Ab(1),u.tc("for","all"),u.Ab(1),u.Uc(" ",u.oc(11,10,"SETTINGS.REQUISITES.SELECT_ALL")," "),u.Ab(3),u.tc("ngForOf",e.accounts),u.Ab(1),u.tc("ngIf",e.isLoading),u.Ab(3),u.tc("inlineSVG","assets/icons/account/pdf.svg"))},directives:[E.a,o.a,o.t,o.w,r.t,r.u,O.a,p.a,V,w.a],pipes:[p.d],styles:[".all-requisites-selector[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:calc(100% - 11rem)}.all-requisites-selector__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:1.5rem;background-color:#fff}.all-requisites-selector__header_size_b[_ngcontent-%COMP%]{font-size:24px;font-weight:500;line-height:30px}.all-requisites-selector__list[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;overflow-y:auto}.all-requisites__footer[_ngcontent-%COMP%]{margin:10px auto}.all-requisites__button[_ngcontent-%COMP%]{margin:1rem;width:calc(100% - 2rem);display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}"]}),D),L=i("quSY"),U=i("lJxs"),G=i("TwVa"),Q=i("S09V"),F=i("kmKP"),z=i("mR7B"),H=i("tmjD"),K=((q=function(){function t(e,i,n,s,a){_classCallCheck(this,t),this.companyService=e,this.userService=i,this.translateService=n,this.maskedService=s,this.maskPipe=a,this.locale=this.translateService.currentLang}return _createClass(t,[{key:"generateMainInfo",value:function(){return{title:this.mapCompanyPrefix("TITLE"),titleAdditional:this.mapCompanyPrefix("REQUISITES"),fields:[{label:this.mapCompanyPrefix("NAME"),value:this.companyService.currentCompany.name},{label:this.mapCompanyPrefix("IIN"),value:this.maskPipe.transform(this.companyService.currentCompany.bin,Q.a.iin.mask)},{label:this.mapCompanyPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.mapCompanyPrefix("ADDRESS"),value:this.companyService.currentCompany.legalAddress},{label:this.mapCompanyPrefix("SECTOR"),value:this.companyService.currentCompany.economicSector},{label:this.mapCompanyPrefix("REGISTER_DATE"),value:this.mapDate(this.companyService.currentCompany.registrationDate)}]}}},{key:"generatePrivateInfo",value:function(){var t=this.userService.user;if(t)return{title:this.mapPrivatePrefix("TITLE"),fields:[{label:this.mapPrivatePrefix("NAME"),value:"".concat(t.lastname," ").concat(t.firstname," ").concat(t.middlename)},{label:this.mapPrivatePrefix("IIN"),value:this.maskPipe.transform(t.iin,Q.a.iin.mask)},{label:this.mapPrivatePrefix("ROLE"),value:this.mapRole(this.companyService.currentAuthority)},{label:this.mapPrivatePrefix("RIGHTS"),value:this.mapSignText(this.companyService.currentAuthority)},{label:this.mapPrivatePrefix("EMAIL"),value:t.email},{label:this.mapPrivatePrefix("PHONE"),value:"".concat(this.maskPipe.transform(this.maskedService.getPastedPhone(t.phone),Q.a.phone.mask)),isPhone:!0}]}}},{key:"generateContactsInfo",value:function(){return{title:this.mapContactsPrefix("TITLE"),fields:[{label:this.mapContactsPrefix("CALL_CENTER"),value:"7711",isPhone:!0}]}}},{key:"getAuthoritiesList",value:function(){var t=this;return this.companyService.getAuthorizedPersons().pipe(Object(U.a)((function(e){var i;return null===(i=e)||void 0===i?void 0:i.sort(t.sortPersons).map((function(e){return{initials:t.retrieveInitials(e),name:t.companyService.retrieveShortName(e),role:t.mapRole(e),startDate:e.fromDate,endDate:e.toDate,sign:t.mapSignText(e),color:t.mapInitialsColor(e)}}))})))}},{key:"mapAuthoritiesPrefix",value:function(t){return this.mapTranslatePrefix("AUTHORITIES",t)}},{key:"mapCompanyPrefix",value:function(t){return this.mapTranslatePrefix("COMPANY",t)}},{key:"mapPrivatePrefix",value:function(t){return this.mapTranslatePrefix("PRIVATE",t)}},{key:"mapContactsPrefix",value:function(t){return this.mapTranslatePrefix("CONTACTS",t)}},{key:"mapTranslatePrefix",value:function(t,e){return"SETTINGS.".concat(t,".").concat(e)}},{key:"mapDate",value:function(t){return t?Object(r.K)(t,"d MMMM yyyy",this.locale):null}},{key:"sortPersons",value:function(t,e){return t.authority===e.authority?0:t.authority===G.a.PRIMARY_SIGNATURE?-1:t.authority===G.a.SECONDARY_SIGNATURE&&e.authority===G.a.NO_SIGNATURE?-1:1}},{key:"mapRole",value:function(t){switch(t.authority){case G.a.PRIMARY_SIGNATURE:return this.mapAuthoritiesPrefix("HEAD");case G.a.SECONDARY_SIGNATURE:return this.mapAuthoritiesPrefix("MAIN_ACCOUNTANT");case G.a.NO_SIGNATURE:default:return this.mapAuthoritiesPrefix("ACCOUNTANT")}}},{key:"mapSignText",value:function(t){switch(t.authority){case G.a.PRIMARY_SIGNATURE:return this.mapAuthoritiesPrefix("FIRST_SIGN");case G.a.SECONDARY_SIGNATURE:return this.mapAuthoritiesPrefix("SECOND_SIGN");case G.a.NO_SIGNATURE:default:return this.mapAuthoritiesPrefix("NO_SIGN")}}},{key:"mapInitialsColor",value:function(t){switch(t.authority){case G.a.PRIMARY_SIGNATURE:return"first-sign";case G.a.SECONDARY_SIGNATURE:return"second-sign";case G.a.NO_SIGNATURE:default:return"no-sign"}}},{key:"retrieveInitials",value:function(t){return"".concat(t.lastname[0]).concat(t.firstname[0])}}]),t}()).\u0275fac=function(t){return new(t||q)(u.ec(x.a),u.ec(F.b),u.ec(p.e),u.ec(z.a),u.ec(H.b))},q.\u0275prov=u.Mb({token:q,factory:q.\u0275fac,providedIn:"root"}),q);function J(t,e){if(1&t&&(u.Wb(0,"div",11),u.Wb(1,"span",12),u.Sc(2,"SETTINGS.AUTHORITIES.ROLE"),u.Vb(),u.Sc(3,": "),u.Wb(4,"span",12),u.Sc(5),u.Vb(),u.Vb()),2&t){var i=u.mc().$implicit;u.Ab(5),u.Tc(i.role)}}function $(t,e){if(1&t&&(u.Wb(0,"div",11),u.Wb(1,"span",12),u.Sc(2,"SETTINGS.AUTHORITIES.START_DATE"),u.Vb(),u.Sc(3,": "),u.Wb(4,"span",12),u.Sc(5),u.nc(6,"date"),u.Vb(),u.Vb()),2&t){var i=u.mc().$implicit;u.Ab(5),u.Tc(u.pc(6,1,i.startDate,"dd.MM.yyyy"))}}function Y(t,e){if(1&t&&(u.Wb(0,"div",11),u.Wb(1,"span",12),u.Sc(2,"SETTINGS.AUTHORITIES.END_DATE"),u.Vb(),u.Sc(3,": "),u.Wb(4,"span",12),u.Sc(5),u.nc(6,"date"),u.Vb(),u.Vb()),2&t){var i=u.mc().$implicit;u.Ab(5),u.Tc(u.pc(6,1,i.endDate,"dd.MM.yyyy"))}}function X(t,e){if(1&t&&(u.Wb(0,"div",13),u.Sc(1),u.Vb()),2&t){var i=u.mc().$implicit;u.Ab(1),u.Uc(" ",i.sign," ")}}function B(t,e){if(1&t&&(u.Wb(0,"div",4),u.Wb(1,"div",5),u.Sc(2),u.Vb(),u.Wb(3,"div",6),u.Wb(4,"div",7),u.Sc(5),u.Vb(),u.Wb(6,"div",8),u.Qc(7,J,6,1,"div",9),u.Qc(8,$,7,4,"div",9),u.Qc(9,Y,7,4,"div",9),u.Vb(),u.Vb(),u.Qc(10,X,2,1,"div",10),u.Vb()),2&t){var i=e.$implicit;u.Ab(1),u.Db(i.color),u.Ab(1),u.Uc(" ",i.initials," "),u.Ab(3),u.Tc(i.name),u.Ab(2),u.tc("ngIf",i.role),u.Ab(1),u.tc("ngIf",i.startDate),u.Ab(1),u.tc("ngIf",i.endDate),u.Ab(1),u.tc("ngIf",i.sign)}}function Z(t,e){if(1&t&&(u.Wb(0,"section",1),u.Wb(1,"h6",2),u.Sc(2,"SETTINGS.AUTHORITIES.TITLE"),u.Vb(),u.Qc(3,B,11,8,"div",3),u.Vb()),2&t){var i=u.mc();u.Ab(3),u.tc("ngForOf",i.authorities)}}var tt,et=((tt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||tt)},tt.\u0275cmp=u.Kb({type:tt,selectors:[["e-authorities"]],inputs:{authorities:"authorities"},decls:1,vars:1,consts:[["class","settings-info",4,"ngIf"],[1,"settings-info"],["translate","",1,"settings-heading"],["class","authority",4,"ngFor","ngForOf"],[1,"authority"],[1,"authority__initials","p2"],[1,"authority__info"],[1,"p2","text-dark","authority__name"],[1,"p3","text-muted"],["class","authority__row",4,"ngIf"],["class","authority__sign p3 text-dark","translate","",4,"ngIf"],[1,"authority__row"],["translate",""],["translate","",1,"authority__sign","p3","text-dark"]],template:function(t,e){1&t&&u.Qc(0,Z,4,1,"section",0),2&t&&u.tc("ngIf",e.authorities)},directives:[r.u,p.a,r.t],pipes:[r.f],styles:[".authority[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start;margin-bottom:1rem}.authority[_ngcontent-%COMP%], .authority__initials[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.authority__initials[_ngcontent-%COMP%]{flex-shrink:0;width:2.5rem;height:2.5rem;border-radius:1rem;margin-right:1rem;color:#fff;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:#d6dadf}.authority__initials.first-sign[_ngcontent-%COMP%]{background:rgba(239,143,0,.7)}.authority__initials.second-sign[_ngcontent-%COMP%]{background:rgba(21,134,187,.7)}.authority__sign[_ngcontent-%COMP%]{margin-left:auto}.authority__name[_ngcontent-%COMP%]{margin-bottom:.25rem}"]}),tt),it=i("xJkR"),nt=i("lABO");function st(t,e){if(1&t&&u.Rb(0,"e-authorities",3),2&t){var i=u.mc();u.tc("authorities",i.authorities)}}var at=function(){return{width:"220px",height:"30px","margin-top":"0.375rem","margin-bottom":"30px","background-color":"#ECEEF1"}},rt=function(){return{height:"70px","margin-bottom":"1rem","background-color":"#ECEEF1"}};function ct(t,e){1&t&&(u.Wb(0,"div",4),u.Rb(1,"ngx-skeleton-loader",5),u.Rb(2,"ngx-skeleton-loader",6),u.Vb()),2&t&&(u.Ab(1),u.tc("theme",u.xc(2,at)),u.Ab(1),u.tc("theme",u.xc(3,rt)))}function ot(t,e){if(1&t){var i=u.Xb();u.Wb(0,"j-error-placeholder",7),u.ic("retried",(function(t){return u.Hc(i),u.mc().onRetry()})),u.Vb()}}var lt,ut=((lt=function(){function t(e,i){var n=this;_classCallCheck(this,t),this.settingsService=e,this.companyService=i,this.subscription=new L.a;var s=this.settingsService.getAuthoritiesList().subscribe((function(t){console.log(t),n.authorities=t}));this.subscription.add(s)}return _createClass(t,[{key:"onRetry",value:function(){this.companyService.fetchAuthorizedPersons()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||lt)(u.Qb(K),u.Qb(x.a))},lt.\u0275cmp=u.Kb({type:lt,selectors:[["j-settings-authorities"]],decls:3,vars:3,consts:[[3,"authorities",4,"ngIf"],["class","settings-info",4,"ngIf"],["class","error-placeholder",3,"retried",4,"ngIf"],[3,"authorities"],[1,"settings-info"],[3,"theme"],["count","3",3,"theme"],[1,"error-placeholder",3,"retried"]],template:function(t,e){1&t&&(u.Qc(0,st,1,1,"e-authorities",0),u.Qc(1,ct,3,4,"div",1),u.Qc(2,ot,1,0,"j-error-placeholder",2)),2&t&&(u.tc("ngIf",(null==e.authorities?null:e.authorities.length)>0),u.Ab(1),u.tc("ngIf",0==(null==e.authorities?null:e.authorities.length)),u.Ab(1),u.tc("ngIf",!e.authorities))},directives:[r.u,et,it.a,nt.a],styles:[".error-placeholder[_ngcontent-%COMP%]{max-width:435px}"]}),lt);function bt(t,e){if(1&t&&(u.Wb(0,"section",3),u.Sb(1,4),u.Vb()),2&t){u.mc();var i=u.Ec(3);u.Ab(1),u.tc("ngTemplateOutlet",i)}}function ft(t,e){if(1&t&&(u.Wb(0,"section",5),u.Sb(1,4),u.Vb()),2&t){u.mc();var i=u.Ec(3);u.Ab(1),u.tc("ngTemplateOutlet",i)}}function ht(t,e){if(1&t){var i=u.Xb();u.Wb(0,"button",11),u.ic("click",(function(t){return u.Hc(i),u.mc(3).openRequisites()})),u.Sc(1),u.Vb()}if(2&t){var n=u.mc(3);u.Ab(1),u.Uc(" ",n.info.titleAdditional," ")}}function dt(t,e){if(1&t&&(u.Wb(0,"div",17),u.Sc(1),u.Vb()),2&t){var i=u.mc(2).$implicit;u.Ab(1),u.Uc(" ",i.value," ")}}function pt(t,e){if(1&t&&(u.Wb(0,"a",18),u.Sc(1),u.Vb()),2&t){var i=u.mc(2).$implicit;u.vc("href","tel:",i.value,"",u.Jc),u.Ab(1),u.Tc(i.value)}}function mt(t,e){if(1&t&&(u.Wb(0,"a",18),u.Sc(1),u.Vb()),2&t){var i=u.mc(2).$implicit;u.vc("href","mailto:",i.value,"",u.Jc),u.Ab(1),u.Tc(i.value)}}function vt(t,e){if(1&t&&(u.Wb(0,"div",13),u.Wb(1,"div",14),u.Sc(2),u.Vb(),u.Qc(3,dt,2,1,"div",15),u.Qc(4,pt,2,2,"a",16),u.Qc(5,mt,2,2,"a",16),u.Vb()),2&t){var i=u.mc().$implicit;u.Ab(2),u.Uc(" ",i.label," "),u.Ab(1),u.tc("ngIf",!i.isPhone&&!i.isEmail),u.Ab(1),u.tc("ngIf",i.isPhone),u.Ab(1),u.tc("ngIf",i.isEmail)}}function gt(t,e){if(1&t&&(u.Ub(0),u.Qc(1,vt,6,4,"div",12),u.Tb()),2&t){var i=e.$implicit;u.Ab(1),u.tc("ngIf",i.value)}}function St(t,e){if(1&t&&(u.Ub(0),u.Wb(1,"div",7),u.Wb(2,"h6",8),u.Sc(3),u.Vb(),u.Qc(4,ht,2,1,"button",9),u.Vb(),u.Qc(5,gt,2,1,"ng-container",10),u.Tb()),2&t){var i=u.mc(2);u.Ab(3),u.Tc(i.info.title),u.Ab(1),u.tc("ngIf",i.info.titleAdditional),u.Ab(1),u.tc("ngForOf",i.info.fields)}}function yt(t,e){if(1&t&&u.Qc(0,St,6,3,"ng-container",6),2&t){var i=u.mc();u.tc("ngIf",i.info)}}var Tt,_t=((Tt=function(){function t(){_classCallCheck(this,t),this.requisitesClicked=new u.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"openRequisites",value:function(){this.requisitesClicked.emit()}}]),t}()).\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=u.Kb({type:Tt,selectors:[["j-settings-info"]],inputs:{info:"info",hasTour:"hasTour"},outputs:{requisitesClicked:"requisitesClicked"},decls:4,vars:2,consts:[["class","settings-info","jTour","SETTINGS.INFO","jTourPosition","right",4,"ngIf"],["class","settings-info",4,"ngIf"],["infoTemplate",""],["jTour","SETTINGS.INFO","jTourPosition","right",1,"settings-info"],[3,"ngTemplateOutlet"],[1,"settings-info"],[4,"ngIf"],[1,"settings-heading-wrapper"],["translate","",1,"settings-heading"],["class","btn-link-classic","translate","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["translate","",1,"btn-link-classic",3,"click"],["class","j-desc-row",4,"ngIf"],[1,"j-desc-row"],["translate","",1,"text-muted","j-desc-child"],["class","text-dark j-desc-child","translate","",4,"ngIf"],["class","text-dark j-desc-child",3,"href",4,"ngIf"],["translate","",1,"text-dark","j-desc-child"],[1,"text-dark","j-desc-child",3,"href"]],template:function(t,e){1&t&&(u.Qc(0,bt,2,1,"section",0),u.Qc(1,ft,2,1,"section",1),u.Qc(2,yt,1,1,"ng-template",null,2,u.Rc)),2&t&&(u.tc("ngIf",e.hasTour),u.Ab(1),u.tc("ngIf",!e.hasTour))},directives:[r.u,m.a,r.B,p.a,r.t],styles:[".btn-link-classic[_ngcontent-%COMP%]{margin-bottom:.5rem}"],changeDetection:0}),Tt);function kt(t,e){if(1&t){var i=u.Xb();u.Wb(0,"section",3),u.Wb(1,"div",4),u.ic("click",(function(t){return u.Hc(i),u.mc().hideSelector()})),u.Vb(),u.Wb(2,"section",5),u.Wb(3,"j-all-requisites",6),u.ic("closed",(function(t){return u.Hc(i),u.mc().hideSelector()})),u.Vb(),u.Vb(),u.Vb()}if(2&t){var n=u.mc();u.tc("ngClass",n.wrapperClasses),u.Ab(2),u.tc("ngClass",n.allRequisitesClasses)}}var At,It,Ct,xt=((At=function(){function t(e,i,n,s){var a=this;_classCallCheck(this,t),this.settingsService=e,this.companyService=i,this.tourService=n,this.document=s,this.subscription=new L.a,this.isAnimating=!1,this.wrapperClasses="",this.allRequisitesClasses="",this.isAllRequisitesShown=!1,this.isTourShown=!1,this.loadData();var r=this.companyService.refresh$.subscribe((function(){a.loadData()}));this.subscription.add(r)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"loadData",value:function(){this.retrieveMainInfo(),this.retrieveContactsInfo(),this.retrievePrivateInfo()}},{key:"retrieveMainInfo",value:function(){this.mainInfo=this.settingsService.generateMainInfo()}},{key:"retrieveContactsInfo",value:function(){this.contactsInfo=this.settingsService.generateContactsInfo()}},{key:"retrievePrivateInfo",value:function(){this.privateInfo=this.settingsService.generatePrivateInfo()}},{key:"showSelector",value:function(){var t=this;this.isAnimating||(this.isAnimating=!0,this.isAllRequisitesShown=!0,this.wrapperClasses="animate__animated zoomInJ",setTimeout((function(){t.document.body.classList.add("overflow-hidden"),t.allRequisitesClasses="is-shown"}),250),setTimeout((function(){t.wrapperClasses="",t.isAnimating=!1}),300))}},{key:"hideSelector",value:function(){var t=this;this.isAnimating||(this.isAnimating=!0,this.allRequisitesClasses="",setTimeout((function(){t.document.body.classList.remove("overflow-hidden"),t.wrapperClasses="animate__animated zoomOutJ"}),250),setTimeout((function(){t.wrapperClasses="",t.isAllRequisitesShown=!1,t.isAnimating=!1}),300))}}]),t}()).\u0275fac=function(t){return new(t||At)(u.Qb(K),u.Qb(x.a),u.Qb(C.g),u.Qb(r.e))},At.\u0275cmp=u.Kb({type:At,selectors:[["j-settings-main"]],decls:4,vars:5,consts:[[3,"info","hasTour","requisitesClicked"],[3,"info"],["class","f-page-wrapper is-shown",3,"ngClass",4,"ngIf"],[1,"f-page-wrapper","is-shown",3,"ngClass"],[1,"f-page-backdrop",3,"click"],[1,"f-page-content","f-page-content--gray","f-page-content--quarter",3,"ngClass"],[3,"closed"]],template:function(t,e){1&t&&(u.Wb(0,"j-settings-info",0),u.ic("requisitesClicked",(function(t){return e.showSelector()})),u.Vb(),u.Rb(1,"j-settings-info",1),u.Rb(2,"j-settings-info",1),u.Qc(3,kt,4,2,"section",2)),2&t&&(u.tc("info",e.mainInfo)("hasTour",!0),u.Ab(1),u.tc("info",e.privateInfo),u.Ab(1),u.tc("info",e.contactsInfo),u.Ab(1),u.tc("ngIf",e.isAllRequisitesShown))},directives:[_t,r.u,r.r,j],styles:[""]}),At),wt=i("p6Hd"),Pt=i("tWFC"),Et=i("1kSV"),Ot=i("kUBv"),Rt=["newPassword"],Wt=[{path:"",component:k,data:{title:"SETTINGS.TITLE"},children:[{path:"main",component:xt},{path:"authorities",component:ut},{path:"password",component:(It=function(){function t(e,i){_classCallCheck(this,t),this.userService=e,this.modalService=i,this.isLoading=!1}return _createClass(t,[{key:"onSubmit",value:function(t){return Object(A.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.errorText=null,e.prev=1,e.next=4,this.userService.changePassword(t.oldPassword,t.newPassword);case 4:this.newPassword.clearForm(),this.showSuccessModal(),e.next=20;break;case 8:e.prev=8,e.t0=e.catch(1),e.t1=e.t0.code,e.next=e.t1===wt.b.INVALID_PASSWORD?13:e.t1===wt.b.IDENTICAL_PASSWORDS?15:e.t1===wt.b.USED_PASSWORD?17:19;break;case 13:return this.errorText="SETTINGS.PASSWORD.OLD_ERROR",e.abrupt("break",20);case 15:return this.errorText="SETTINGS.PASSWORD.IDENTICAL",e.abrupt("break",20);case 17:return this.errorText="SETTINGS.PASSWORD.USED",e.abrupt("break",20);case 19:this.errorText=e.t0.description;case 20:return e.prev=20,this.isLoading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[1,8,20,23]])})))}},{key:"showSuccessModal",value:function(){return Object(A.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.modalService.open(Pt.a,{backdropClass:"backdrop_light",windowClass:"modal_light modal_sm",backdrop:"static",centered:!0}),t.prev=1,t.next=4,e.result;case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,this,[[1,6]])})))}}]),t}(),It.\u0275fac=function(t){return new(t||It)(u.Qb(F.b),u.Qb(Et.q))},It.\u0275cmp=u.Kb({type:It,selectors:[["j-settings-password"]],viewQuery:function(t,e){var i;1&t&&u.Xc(Rt,!0),2&t&&u.Dc(i=u.jc())&&(e.newPassword=i.first)},decls:6,vars:3,consts:[[1,"row"],[1,"col-md-8","col-lg-7","col-xl-5"],[1,"password","my-4"],["translate","SETTINGS.PASSWORD.DESCRIPTION",1,"p2","mb-4"],[3,"isOldShown","isLoading","errorText","submitted"],["newPassword",""]],template:function(t,e){1&t&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Rb(3,"div",3),u.Wb(4,"j-new-password",4,5),u.ic("submitted",(function(t){return e.onSubmit(t)})),u.Vb(),u.Vb(),u.Vb(),u.Vb()),2&t&&(u.Ab(4),u.tc("isOldShown",!0)("isLoading",e.isLoading)("errorText",e.errorText))},directives:[p.a,Ot.a],styles:[""]}),It)},{path:"**",redirectTo:"main"}]}],Vt=((Ct=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:Ct}),Ct.\u0275inj=u.Nb({factory:function(t){return new(t||Ct)},imports:[[l.g.forChild(Wt)],l.g]}),Ct);i("qcJj"),i("/Fsc"),i.d(e,"SettingsModule",(function(){return Mt}));var Nt,Mt=((Nt=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:Nt}),Nt.\u0275inj=u.Nb({factory:function(t){return new(t||Nt)},imports:[[r.c,c.a,Vt,o.n,o.D]]}),Nt)}}]);