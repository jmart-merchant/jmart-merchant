function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);a=!0);}catch(s){i=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+eKG":function(t,e,n){"use strict";var a=n("0zi4");n.d(e,"a",(function(){return a.a}))},"/68H":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("fXoL"),i=n("ofXK"),r=n("xJkR"),o=function(){return{width:"200px",height:"25px","background-color":"#ECEEF1"}},c=function(){return{height:"115px","background-color":"#ECEEF1"}};function s(t,e){1&t&&(a.Ub(0),a.Rb(1,"ngx-skeleton-loader",1),a.Rb(2,"ngx-skeleton-loader",1),a.Rb(3,"ngx-skeleton-loader",1),a.Tb()),2&t&&(a.Ab(1),a.rc("theme",a.vc(3,o)),a.Ab(1),a.rc("theme",a.vc(4,c)),a.Ab(1),a.rc("theme",a.vc(5,c)))}var l=function(){var t=function(){function t(){_classCallCheck(this,t),this.count=2}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"loadingCount",get:function(){return Array(this.count)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement-loading"]],inputs:{count:"count"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"theme"]],template:function(t,e){1&t&&a.Oc(0,s,4,6,"ng-container",0),2&t&&a.rc("ngForOf",e.loadingCount)},directives:[i.t,r.a],styles:["[_nghost-%COMP%]{overflow:hidden;max-height:calc(100vh - 300px)}"]}),t}()},"0kjH":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("fXoL"),i=n("ofXK"),r=n("1kSV"),o=n("e8Ap");function c(t,e){if(1&t){var n=a.Xb();a.Wb(0,"a",8),a.ic("click",(function(t){a.Fc(n);var i=e.$implicit;return a.lc().onDownload(i.value,t)})),a.Qc(1),a.Vb()}if(2&t){var i=e.$implicit;a.Ab(1),a.Sc(" ",i.label," ")}}function s(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",9),a.ic("click",(function(t){a.Fc(n);var i=e.$implicit;return a.lc().onDownload(i.value)})),a.Qc(1),a.Vb()}if(2&t){var i=e.$implicit;a.Ab(1),a.Rc(i.label)}}var l=function(){var t=function(){function t(){_classCallCheck(this,t),this.downloaded=new a.n,this.downloadList=[{label:"PDF",value:"application/pdf"},{label:"EXL",value:"application/xls"},{label:"1C",value:"application/1c"},{label:"XML",value:"application/xml"},{label:"MT940",value:"application/mt940"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onDownload",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&e.preventDefault(),this.downloaded.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-download"]],outputs:{downloaded:"downloaded"},decls:8,vars:2,consts:[[1,"d-sm-none","d-lg-flex"],["href","#","class","download-link",3,"click",4,"ngFor","ngForOf"],[1,"d-none","d-sm-block","d-lg-none"],["ngbDropdown","",1,"d-inline-block"],["href","#","ngbDropdownToggle","",1,"download-dropdown-toggle","no-caret","link-blue",3,"click"],["inlineSVG","./assets/icons/download.svg"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],["ngbDropdownItem","","class","filter-dropdown-item",3,"click",4,"ngFor","ngForOf"],["href","#",1,"download-link",3,"click"],["ngbDropdownItem","",1,"filter-dropdown-item",3,"click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Oc(1,c,2,1,"a",1),a.Vb(),a.Wb(2,"div",2),a.Wb(3,"div",3),a.Wb(4,"a",4),a.ic("click",(function(t){return t.preventDefault()})),a.Rb(5,"span",5),a.Vb(),a.Wb(6,"div",6),a.Oc(7,s,2,1,"button",7),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Ab(1),a.rc("ngForOf",e.downloadList),a.Ab(6),a.rc("ngForOf",e.downloadList))},directives:[i.t,r.i,r.n,o.a,r.l,r.k],styles:[".download-link[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:1rem 0;color:#666c72;border-radius:8px}@media(min-width:1280px){.download-link[_ngcontent-%COMP%]{color:#1586bb;margin:0;padding:8px 4px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}}.download-link[_ngcontent-%COMP%]:hover{color:#ef5630}@media(min-width:1280px){.download-link[_ngcontent-%COMP%]:hover{background:#e9ecf1;color:#1586bb}}.download-dropdown-toggle[_ngcontent-%COMP%]{height:35px;padding:0 .25rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.download-dropdown-toggle[_ngcontent-%COMP%]:hover{opacity:.6;color:#1586bb}.download-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;display:block}.download-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:8px}"]}),t}()},"0zi4":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("mrSG"),i=n("tk/3"),r=n("+/Tu"),o=n("zwEd"),c=n("KWy3"),s=n("XNiG"),l=n("lJxs"),u=n("SpoB"),d=n("fXoL"),b=n("p6Hd"),m=n("VnnJ"),p=n("ofXK"),f=n("sYmb"),h=n("VO+5"),g=function(){var t=function(){function t(e,n,a,i,r,o){_classCallCheck(this,t),this.apiService=e,this.companyService=n,this.datePipe=a,this.statementService=i,this.translateService=r,this.notifierService=o,this.cardsUpdated$=new s.a}return _createClass(t,[{key:"getStatement",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,r,o,c,s,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getCardById(t);case 2:return a=n.sent,r="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(a.accountId,"/statements"),o=new i.g,c=(c=(c=new i.h).append("dateFrom",this.datePipe.transform(e.periodFrom,"yyyy-MM-dd"))).append("dateTo",this.datePipe.transform(e.periodTo,"yyyy-MM-dd")),n.prev=6,n.next=9,this.apiService.get(r,o,c);case 9:return s=n.sent,l=this.mapCardStatement(s),n.abrupt("return",this.statementService.mapStatement(null,l));case 14:throw n.prev=14,n.t0=n.catch(6),n.t0;case 17:case"end":return n.stop()}}),n,this,[[6,14]])})))}},{key:"mapCardLabel",value:function(t){if(t.alias)return t.alias;switch(t.category){case o.a.PRIVATE:return"ACCOUNTS.PRIVATE_CARD";case o.a.COMMERCIAL:return this.companyService.currentCompany.type==u.b.CORPORATE?"ACCOUNTS.CORPORATE_CARD":"ACCOUNTS.ENTREPRENEUR_CARD";default:return"ACCOUNTS.CARD"}}},{key:"getCorporateCards",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="companies/".concat(this.companyService.currentId,"/corporate-cards"),n=(new i.h).set("includePrivate","true"),t.next=4,this.apiService.get(e,null,n);case 4:return a=t.sent,t.abrupt("return",(this.cardsList=a.map((function(t){return new o.c(t)})),this.cardsList));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getCorporateCardsAsObservable",value:function(){var t=this,e="companies/".concat(this.companyService.currentId,"/corporate-cards"),n=(new i.h).set("includePrivate","true");return this.apiService.getObservable(e,null,n).pipe(Object(l.a)((function(e){return t.cardsList=e.map((function(t){return new o.c(t)})),t.cardsList})))}},{key:"getCardById",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.cardsList,e.t0){e.next=4;break}return e.next=4,this.getCorporateCards();case 4:return e.abrupt("return",this.findCardById(t));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getQrImg",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,"/qr"),r=new i.h,n.abrupt("return",(r=r.append("iban",e),this.apiService.get(a,null,r)));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getQrPrint",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,"/qr/print"),r=(r=new i.g).set("Content-Type","application/octet-stream"),o=new i.h,n.abrupt("return",(o=o.append("iban",e),this.apiService.get(a,r,o,{responseType:"blob"})));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"getPdf",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,"/requisites"),a=(a=(a=new i.g).set("Accept-File","application/pdf")).set("Content-Type","application/octet-stream"),r=new i.h,e.abrupt("return",this.apiService.get(n,a,r,{responseType:"blob"}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"changeCardStatus",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,"/status"),i={status:e?"BLOCK":"UNBLOCK"},n.prev=1,n.next=4,this.apiService.post(a,i);case 4:return r=n.sent,n.abrupt("return",(this.cardsList.find((function(e){return e.cardId===t})).status=e?o.b.TEMPORARILY_LOCK:o.b.ACTIVE,this.cardsUpdated$.next(this.cardsList),this.showCardStatusChangeSuccessNotification(e),r));case 8:throw n.prev=8,n.t0=n.catch(1),this.showCardStatusChangeErrorNotification(e),n.t0;case 11:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"changeCardVisibility",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,":").concat(e?"hide":"unhide"),n.prev=1,n.next=4,this.apiService.patch(a);case 4:return i=n.sent,n.abrupt("return",(this.cardsList.find((function(e){return e.cardId===t})).hidden=e,this.cardsUpdated$.next(this.cardsList),this.showCardVisibilityChangeSuccessNotification(e),i));case 8:throw n.prev=8,n.t0=n.catch(1),this.showCardVisibilityChangeErrorNotification(e),n.t0;case 11:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"mapCardStatus",value:function(t){var e="CARDS.STATUS.TITLE.";switch(t){case o.b.EXPIRED:return"".concat(e,"EXPIRED");case o.b.TEMPORARILY_LOCK:return"".concat(e,"TEMPORARILY_LOCK");case o.b.FRAUD:case o.b.LOST_LOCK:case o.b.THEFT_LOCK:return"".concat(e,"LOCK");default:return"".concat(e,"ACTIVE")}}},{key:"findCardById",value:function(t){return this.cardsList.find((function(e){return e.cardId===t}))}},{key:"renameCard",value:function(t,e){return this.apiService.put("companies/".concat(this.companyService.currentId,"/corporate-cards/").concat(t,"/alias"),{alias:e})}},{key:"mapCardStatement",value:function(t){var e=this;return{statementDate:t.statementDate,iban:null,dateFrom:t.dateFrom,dateTo:t.dateTo,balanceIn:null,balanceInLCY:null,balanceOut:null,balanceOutLCY:null,creditTotalSum:t.creditTotalSum,debitTotalSum:t.debitTotalSum,transactionGroups:t.transactionGroups.map((function(t){return e.mapCardTransactionGroup(t)})),groupType:t.groupType,totalTransactionsCount:t.totalTransactionsCount}}},{key:"mapCardTransactionGroup",value:function(t){var e=this;return{groupDate:t.groupDate,debitSum:t.debitSum,creditSum:t.creditSum,transactionsCount:t.transactionsCount,transactions:t.transactions.map((function(t){return e.mapCardTransaction(t)}))}}},{key:"mapCardTransaction",value:function(t){null===t.amount.currency&&t.feeAmount.amount<0&&(t.transactionType=c.c.DEBIT);var e={id:null,iban:null,reference:null,documentNumber:t.finDocId,correspondentBankBic:null,correspondentAccount:null,correspondentName:t.description,kbe:null,correspondentBin:null,debit:t.transactionType===c.c.DEBIT?this.getCardTransactionAmount(t):null,credit:t.transactionType===c.c.CREDIT?this.getCardTransactionAmount(t):null,description:t.details,documentDate:t.documentDate,valueDate:null,knp:null,kbk:null,signHead:null,signBuch:null,isPayment:!1,paymentStatus:null,paymentType:null,paymentEmployees:null,createDate:t.documentDate};return new c.d(e,this.translateService.currentLang)}},{key:"getCardTransactionAmount",value:function(t){var e,n,a,i;return(null===(e=t.amount)||void 0===e?void 0:e.amount)&&(null===(n=t.amount)||void 0===n?void 0:n.currency)?t.amount:(null===(a=t.feeAmount)||void 0===a?void 0:a.amount)?{amount:Math.abs(null===(i=t.feeAmount)||void 0===i?void 0:i.amount),currency:r.a.KZT}:null}},{key:"showCardStatusChangeSuccessNotification",value:function(t){var e=this.translateService.instant("CARDS.SETTINGS.LOCK.".concat(t?"ACTIVATED_NOTIFICATION":"DEACTIVATED_NOTIFICATION"));this.notifierService.hideAll(),this.notifierService.notify("default",e)}},{key:"showCardStatusChangeErrorNotification",value:function(t){var e=this.translateService.instant("CARDS.SETTINGS.LOCK.".concat(t?"ACTIVATED_FAILED":"DEACTIVATED_FAILED"));this.notifierService.hideAll(),this.notifierService.notify("error",e)}},{key:"showCardVisibilityChangeSuccessNotification",value:function(t){var e=this.translateService.instant("CARDS.SETTINGS.HIDE.".concat(t?"HIDDEN_NOTIFICATION":"SHOWN_NOTIFICATION"));this.notifierService.hideAll(),this.notifierService.notify("default",e)}},{key:"showCardVisibilityChangeErrorNotification",value:function(t){var e=this.translateService.instant("CARDS.SETTINGS.HIDE.".concat(t?"HIDDEN_FAILED":"SHOWN_FAILED"));this.notifierService.hideAll(),this.notifierService.notify("error",e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.ec(b.a),d.ec(m.a),d.ec(p.f),d.ec(c.b),d.ec(f.e),d.ec(h.c))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3bMa":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("fXoL"),i=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-account-entity"]],inputs:{item:"item",showBank:"showBank"},decls:14,vars:8,consts:[[1,"account-pill","account-pill_gray","account-pill_fill"],[1,"account-pill--logo"],[3,"name"],[1,"account-pill--content","p3"],[1,"wrap-text","text-gray"],[1,"wrap-text"],[1,"account-pill--suffix"],[1,"text-gray","ml-1"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Rb(2,"j-entity-logo",2),a.Vb(),a.Wb(3,"div",3),a.Wb(4,"p",4),a.Qc(5,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0447\u0435\u0442"),a.Vb(),a.Wb(6,"p",5),a.Qc(7),a.Vb(),a.Vb(),a.Wb(8,"div",6),a.Qc(9),a.mc(10,"amountFormat"),a.Wb(11,"span",7),a.Qc(12),a.mc(13,"curSymbol"),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.rc("name",e.item.balance.currency),a.Ab(5),a.Rc(e.item.iban),a.Ab(2),a.Sc(" ",a.nc(10,4,e.item.balance.amount)," "),a.Ab(3),a.Rc(a.nc(13,6,e.item.balance.currency)))},styles:[""],encapsulation:2,changeDetection:0}),t}()},"4Nuw":function(t,e,n){"use strict";var a,i=n("L+ju"),r=n("xErE"),o=n("ofXK"),c=n("tk/3"),s=n("tyNb"),l=n("3Pt+"),u=n("PCNd"),d=n("fXoL"),b=n("3bMa"),m=n("hsBV"),p=n("pZP7"),f=n("UZjs"),h=n("JvPu"),g=n("wwEr"),v=n("3v+J"),y=n("Y+uv"),T=n("/zfT"),S=n("xWtO"),C=n("BV3K"),A=n("B+58"),O=n("zOyH"),_=n("Cg+c"),k=n("Dwsl"),E=n("+uUT"),x=n("Ya7Z"),I=n("13E/"),w=n("cZYL"),P=n("jMpN"),R=n("ttPG"),V=n("vZvt"),M=n("0eeg"),W=n("Wo9y"),D=n("EBek"),L=n("570E"),N=n("zdqJ"),F=n("i2Gl"),j=n("Kcpt"),Q=n("Frqi"),U=n("M6pS"),G=n("paXB"),B=n("Q98t"),H=n("EiG8"),K=n("4oqK"),Y=n("c66K"),q=n("QfCG"),X=n("oa9T"),z=n("SfXN"),$=n("H6TZ"),J=n("jRXw"),Z=n("2aJj"),tt=n("VA2L"),et=n("0AMz"),nt=n("W3Es"),at=n("R4CF"),it=n("9txL"),rt=n("LXWx"),ot=n("5I09"),ct=n("S1F0"),st=n("oKsb"),lt=n("fvpk"),ut=n("Tile"),dt=n("aF9I"),bt=n("aZ8m"),mt=n("UhoJ"),pt=n("sCra"),ft=n("fGuG"),ht=n("7/bn"),gt=n("Bl/x"),vt=n("zN9f"),yt=n("Kx/q"),Tt=n("2FF4"),St=n("bSvt"),Ct=n("jH+I"),At=n("4cI0"),Ot=n("kUBv"),_t=n("9Udv"),kt=n("0jn5"),Et=n("fK/r"),xt=n("Hjq/"),It=n("PGAL"),wt=n("Kx0l"),Pt=n("gdaf"),Rt=n("LFY/"),Vt=n("I+WJ"),Mt=n("lABO"),Wt=n("hJI6"),Dt=n("JB36"),Lt=n("4zJ+"),Nt=n("XpgD"),Ft=n("MfWJ"),jt=n("B8HE"),Qt=n("NpBu"),Ut=n("TaxS"),Gt=n("tkTF"),Bt=n("yy4r"),Ht=n("wGsJ"),Kt=n("ZVDf"),Yt=n("l/gM"),qt=n("UoEe"),Xt=n("gN/K"),zt=n("+hcb"),$t=n("h7tf"),Jt=n("9odQ"),Zt=n("WqMH"),te=n("3MRA"),ee=n("Zgqj"),ne=n("oMXN"),ae=n("rqas"),ie=n("dnqU"),re=n("tp+K"),oe=n("saU0"),ce=n("ZF3e"),se=n("JqCM"),le=n("qew9"),ue=n("d/d6"),de=n("e8Ap"),be=n("sYmb"),me=n("1kSV"),pe=n("Dvla"),fe=n("K1R0"),he=n("xJkR"),ge=n("dlKe"),ve=n("DPnb"),ye=n("C6g9"),Te=n("3M96"),Se=n("DHcY"),Ce=n("adOO"),Ae=n("Eajh"),Oe=n("Ub7F"),_e=n("OHc7"),ke=n("I0Rk"),Ee=n("tepA"),xe=n("Bs9s"),Ie=n("ScFe"),we=n("SCaJ"),Pe=n("wV3k"),Re=n("wY9W"),Ve=n("7Fmj"),Me=n("3skF"),We=((a=function t(){_classCallCheck(this,t)}).\u0275mod=d.Ob({type:a}),a.\u0275inj=d.Nb({factory:function(t){return new(t||a)},imports:[[o.c,u.a,c.d,s.g,l.n,l.D]]}),a);d.Ic(b.a,[b.a,m.a,p.a,f.a,o.r,o.s,o.t,o.u,o.B,o.x,o.y,o.z,o.A,o.v,o.w,h.a,g.a,v.a,y.a,T.a,S.a,C.b,A.a,O.a,_.a,k.a,E.a,x.a,C.a,I.a,w.b,w.a,P.a,R.a,V.a,M.a,W.a,D.a,L.a,N.a,F.b,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.b,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.E,pe.a,pe.b,fe.a,he.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,s.h,s.d,s.f,s.e,s.i,l.J,l.y,l.I,l.c,l.z,l.C,l.a,l.F,l.G,l.B,l.t,l.u,l.E,l.p,l.o,l.A,l.b,l.d,l.w,l.x,l.v,l.i,l.l,l.j,l.m,l.f],[o.b,o.I,o.q,o.l,o.F,o.g,o.D,o.G,o.d,o.f,o.j,o.k,o.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,be.d]),d.Ic(m.a,[b.a,m.a,p.a,f.a,o.r,o.s,o.t,o.u,o.B,o.x,o.y,o.z,o.A,o.v,o.w,h.a,g.a,v.a,y.a,T.a,S.a,C.b,A.a,O.a,_.a,k.a,E.a,x.a,C.a,I.a,w.b,w.a,P.a,R.a,V.a,M.a,W.a,D.a,L.a,N.a,F.b,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.b,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.E,pe.a,pe.b,fe.a,he.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,s.h,s.d,s.f,s.e,s.i,l.J,l.y,l.I,l.c,l.z,l.C,l.a,l.F,l.G,l.B,l.t,l.u,l.E,l.p,l.o,l.A,l.b,l.d,l.w,l.x,l.v,l.i,l.l,l.j,l.m,l.f],[o.b,o.I,o.q,o.l,o.F,o.g,o.D,o.G,o.d,o.f,o.j,o.k,o.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,be.d]),d.Ic(p.a,[b.a,m.a,p.a,f.a,o.r,o.s,o.t,o.u,o.B,o.x,o.y,o.z,o.A,o.v,o.w,h.a,g.a,v.a,y.a,T.a,S.a,C.b,A.a,O.a,_.a,k.a,E.a,x.a,C.a,I.a,w.b,w.a,P.a,R.a,V.a,M.a,W.a,D.a,L.a,N.a,F.b,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.b,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.E,pe.a,pe.b,fe.a,he.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,s.h,s.d,s.f,s.e,s.i,l.J,l.y,l.I,l.c,l.z,l.C,l.a,l.F,l.G,l.B,l.t,l.u,l.E,l.p,l.o,l.A,l.b,l.d,l.w,l.x,l.v,l.i,l.l,l.j,l.m,l.f],[o.b,o.I,o.q,o.l,o.F,o.g,o.D,o.G,o.d,o.f,o.j,o.k,o.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,be.d]),d.Ic(f.a,[b.a,m.a,p.a,f.a,o.r,o.s,o.t,o.u,o.B,o.x,o.y,o.z,o.A,o.v,o.w,h.a,g.a,v.a,y.a,T.a,S.a,C.b,A.a,O.a,_.a,k.a,E.a,x.a,C.a,I.a,w.b,w.a,P.a,R.a,V.a,M.a,W.a,D.a,L.a,N.a,F.b,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.b,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.E,pe.a,pe.b,fe.a,he.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,s.h,s.d,s.f,s.e,s.i,l.J,l.y,l.I,l.c,l.z,l.C,l.a,l.F,l.G,l.B,l.t,l.u,l.E,l.p,l.o,l.A,l.b,l.d,l.w,l.x,l.v,l.i,l.l,l.j,l.m,l.f],[o.b,o.I,o.q,o.l,o.F,o.g,o.D,o.G,o.d,o.f,o.j,o.k,o.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,be.d]),n.d(e,"a",(function(){return i.a})),n.d(e,"d",(function(){return i.c})),n.d(e,"c",(function(){return r.a})),n.d(e,"b",(function(){return We}))},"5cNS":function(t,e,n){"use strict";var a=n("ofXK"),i=n("3Pt+"),r=n("1kSV"),o=n("tmjD"),c=n("sYmb"),s=n("PCNd"),l=n("M4UK"),u=n("fXoL"),d=n("THGi"),b=n("x2ms"),m=n("CqcL"),p=n("0kjH"),f=n("n6qU"),h=n("77FI"),g=n("sFIr"),v=n("AOrV"),y=n("6ElB"),T=n("9PaV"),S=n("u+5l"),C=n("zt08"),A=n("l2AU"),O=n("JvPu"),_=n("wwEr"),k=n("3v+J"),E=n("Y+uv"),x=n("/zfT"),I=n("xWtO"),w=n("BV3K"),P=n("B+58"),R=n("zOyH"),V=n("Cg+c"),M=n("Dwsl"),W=n("+uUT"),D=n("Ya7Z"),L=n("13E/"),N=n("cZYL"),F=n("jMpN"),j=n("ttPG"),Q=n("vZvt"),U=n("0eeg"),G=n("Wo9y"),B=n("EBek"),H=n("570E"),K=n("zdqJ"),Y=n("i2Gl"),q=n("Kcpt"),X=n("Frqi"),z=n("M6pS"),$=n("paXB"),J=n("Q98t"),Z=n("EiG8"),tt=n("4oqK"),et=n("c66K"),nt=n("QfCG"),at=n("oa9T"),it=n("SfXN"),rt=n("H6TZ"),ot=n("jRXw"),ct=n("2aJj"),st=n("VA2L"),lt=n("0AMz"),ut=n("W3Es"),dt=n("R4CF"),bt=n("9txL"),mt=n("LXWx"),pt=n("5I09"),ft=n("S1F0"),ht=n("oKsb"),gt=n("fvpk"),vt=n("Tile"),yt=n("aF9I"),Tt=n("aZ8m"),St=n("UhoJ"),Ct=n("sCra"),At=n("fGuG"),Ot=n("7/bn"),_t=n("Bl/x"),kt=n("zN9f"),Et=n("Kx/q"),xt=n("2FF4"),It=n("bSvt"),wt=n("jH+I"),Pt=n("4cI0"),Rt=n("kUBv"),Vt=n("9Udv"),Mt=n("0jn5"),Wt=n("fK/r"),Dt=n("Hjq/"),Lt=n("PGAL"),Nt=n("Kx0l"),Ft=n("gdaf"),jt=n("LFY/"),Qt=n("I+WJ"),Ut=n("lABO"),Gt=n("hJI6"),Bt=n("JB36"),Ht=n("4zJ+"),Kt=n("XpgD"),Yt=n("MfWJ"),qt=n("B8HE"),Xt=n("NpBu"),zt=n("TaxS"),$t=n("tkTF"),Jt=n("yy4r"),Zt=n("wGsJ"),te=n("ZVDf"),ee=n("l/gM"),ne=n("UoEe"),ae=n("gN/K"),ie=n("+hcb"),re=n("h7tf"),oe=n("9odQ"),ce=n("WqMH"),se=n("3MRA"),le=n("Zgqj"),ue=n("oMXN"),de=n("rqas"),be=n("dnqU"),me=n("tp+K"),pe=n("saU0"),fe=n("ZF3e"),he=n("JqCM"),ge=n("qew9"),ve=n("d/d6"),ye=n("e8Ap"),Te=n("Dvla"),Se=n("K1R0"),Ce=n("xJkR"),Ae=n("dlKe"),Oe=n("DPnb"),_e=n("C6g9"),ke=n("3M96");function Ee(t,e){if(1&t&&(u.Wb(0,"section",1),u.Rb(1,"j-entity-logo",2),u.Wb(2,"article",3),u.Wb(3,"div",4),u.Qc(4),u.Vb(),u.Wb(5,"div",5),u.Qc(6),u.Vb(),u.Vb(),u.Vb()),2&t){var n=u.lc();u.Ab(1),u.rc("name",n.account.bic),u.Ab(3),u.Sc("\u0421\u0447\u0435\u0442: ",n.account.iban,""),u.Ab(2),u.Rc(n.account.bic)}}var xe,Ie=((xe=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||xe)},xe.\u0275cmp=u.Kb({type:xe,selectors:[["j-recipient-account"]],inputs:{account:"account"},decls:1,vars:1,consts:[["class","account",4,"ngIf"],[1,"account"],[1,"mr-2",3,"name"],[1,"p3"],[1,"account-iban"],[1,"account-bic"]],template:function(t,e){1&t&&u.Oc(0,Ee,7,3,"section",0),2&t&&u.rc("ngIf",e.account)},directives:[a.u,kt.a],styles:[".account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:.5rem 1rem;margin:.5rem 0;background:#f6f7f8;border-radius:.5rem;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;cursor:pointer}.account[_ngcontent-%COMP%]:active, .account[_ngcontent-%COMP%]:hover{background:#e9ecf1}.account-iban[_ngcontent-%COMP%]{color:#1a1c1f}.account-bic[_ngcontent-%COMP%], .account-iban[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.account-bic[_ngcontent-%COMP%]{color:#666c72}"]}),xe);function we(t,e){if(1&t){var n=u.Xb();u.Wb(0,"j-recipient-account",6),u.ic("click",(function(t){u.Fc(n);var a=e.$implicit;return u.lc(2).onAccountSelect(a)})),u.Vb()}2&t&&u.rc("account",e.$implicit)}function Pe(t,e){if(1&t){var n=u.Xb();u.Wb(0,"section",1),u.Wb(1,"h5",2),u.Qc(2),u.Vb(),u.Wb(3,"div",3),u.Qc(4," \u0418\u0418\u041d/\u0411\u0418\u041d: "),u.Wb(5,"a",4),u.ic("click",(function(t){return u.Fc(n),u.lc().onBinSelect(t)})),u.Qc(6),u.Vb(),u.Vb(),u.Oc(7,we,1,1,"j-recipient-account",5),u.Vb()}if(2&t){var a=u.lc();u.Ab(2),u.Sc(" ",a.recipient.name," "),u.Ab(4),u.Rc(a.recipient.iinOrBin),u.Ab(1),u.rc("ngForOf",a.recipient.accounts)}}var Re,Ve=((Re=function(){function t(){_classCallCheck(this,t),this.selected=new u.n}return _createClass(t,[{key:"onAccountSelect",value:function(t){this.selected.emit({recipient:this.recipient,account:t})}},{key:"onBinSelect",value:function(t){t.preventDefault(),this.selected.emit({recipient:this.recipient})}}]),t}()).\u0275fac=function(t){return new(t||Re)},Re.\u0275cmp=u.Kb({type:Re,selectors:[["j-recipient"]],inputs:{recipient:"recipient"},outputs:{selected:"selected"},decls:1,vars:1,consts:[["class","recipient py-3",4,"ngIf"],[1,"recipient","py-3"],[1,"p2","mb-1"],[1,"text-muted","p3","mb-3"],["href","#",3,"click"],[3,"account","click",4,"ngFor","ngForOf"],[3,"account","click"]],template:function(t,e){1&t&&u.Oc(0,Pe,8,3,"section",0),2&t&&u.rc("ngIf",e.recipient)},directives:[a.u,a.t,Ie],styles:[""]}),Re),Me=n("mrSG"),We=n("B1Ao");function De(t,e){if(1&t){var n=u.Xb();u.Wb(0,"j-recipient",2),u.ic("selected",(function(t){return u.Fc(n),u.lc().onAccountSelect(t)})),u.Vb()}2&t&&u.rc("recipient",e.$implicit)}function Le(t,e){1&t&&(u.Wb(0,"div",3),u.Rb(1,"img",4),u.Wb(2,"div",5),u.Qc(3," \u041d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u043e\u0432 "),u.Vb(),u.Vb())}function Ne(t,e){1&t&&(u.Wb(0,"div",3),u.Wb(1,"div",5),u.Qc(2," \u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b "),u.Vb(),u.Vb())}var Fe,je=((Fe=function(){function t(e){_classCallCheck(this,t),this.recipients=e,this.recipientList=[],this.hasNoRecipients=!1,this.selected=new u.n}return _createClass(t,[{key:"ngOnChanges",value:function(t){t&&t.query&&this.searchRecipients(t.query.currentValue)}},{key:"ngOnInit",value:function(){this.fetchRecipients()}},{key:"onAccountSelect",value:function(t){this.selected.emit(t)}},{key:"fetchRecipients",value:function(){return Object(Me.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hasNoRecipients||(this.errorText=""),t.prev=1,t.next=4,this.recipients.getRecipients(void 0,!0);case 4:this.recipientList=t.sent,0===this.recipientList.length&&(this.hasNoRecipients=!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.errorText="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0435\u0439";case 11:case"end":return t.stop()}}),t,this,[[1,8]])})))}},{key:"searchRecipients",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(Me.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.recipients.getRecipients(t);case 2:this.recipientList=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(t){return new(t||Fe)(u.Qb(We.a))},Fe.\u0275cmp=u.Kb({type:Fe,selectors:[["j-recipient-list"]],inputs:{query:"query"},outputs:{selected:"selected"},features:[u.yb()],decls:3,vars:3,consts:[[3,"recipient","selected",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[3,"recipient","selected"],[1,"empty"],["src","./assets/img/shared/empty.svg","alt","\u041d\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439",1,"empty-img"],[1,"text-muted","empty-text"]],template:function(t,e){1&t&&(u.Oc(0,De,1,1,"j-recipient",0),u.Oc(1,Le,4,0,"div",1),u.Oc(2,Ne,3,0,"div",1)),2&t&&(u.rc("ngForOf",e.recipientList),u.Ab(1),u.rc("ngIf",e.hasNoRecipients),u.Ab(1),u.rc("ngIf",!e.hasNoRecipients&&e.recipientList&&0==e.recipientList.length))},directives:[a.t,a.u,Ve],styles:[".empty[_ngcontent-%COMP%]{padding:1rem 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.empty-text[_ngcontent-%COMP%]{line-height:24px}.empty-img[_ngcontent-%COMP%]{border-radius:50%;box-shadow:0 14px 16px rgba(0,0,0,.05);margin:1rem 0}"]}),Fe),Qe=n("DHcY"),Ue=n("adOO"),Ge=n("Eajh"),Be=n("Ub7F"),He=n("OHc7"),Ke=n("I0Rk"),Ye=n("tepA"),qe=n("Bs9s"),Xe=n("ScFe"),ze=n("SCaJ"),$e=n("wV3k"),Je=n("wY9W"),Ze=n("7Fmj"),tn=n("3skF");n.d(e,"a",(function(){return nn}));var en,nn=((en=function t(){_classCallCheck(this,t)}).\u0275mod=u.Ob({type:en}),en.\u0275inj=u.Nb({factory:function(t){return new(t||en)},imports:[[a.c,i.n,i.D,s.a,l.a,o.c.forChild(),r.m,r.g,c.c]]}),en);u.Ic(d.b,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(m.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(y.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(T.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(S.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(C.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b]),u.Ic(A.a,[d.b,b.a,m.a,p.a,f.a,h.a,g.a,v.a,y.a,T.a,S.a,C.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,O.a,_.a,k.a,E.a,x.a,I.a,w.b,P.a,R.a,V.a,M.a,W.a,D.a,w.a,L.a,N.b,N.a,F.a,j.a,Q.a,U.a,G.a,B.a,H.a,K.a,Y.b,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,re.a,oe.b,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,fe.a,he.a,ge.a,ve.a,ye.a,c.a,r.E,Te.a,Te.b,Se.a,Ce.a,Ae.a,Oe.a,Oe.c,Oe.b,_e.a,ke.a,Ve,je,Ie,o.a,r.i,r.j,r.n,r.l,r.k,r.t,r.d,r.e,r.p,r.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Qe.a,Ue.a,Ge.a,Be.a,He.a,Ke.a,Ye.a,qe.a,Xe.a,ze.a,$e.a,Je.a,Ze.a,tn.a,c.d,o.b])},"6ElB":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("fXoL"),i=n("3Pt+"),r=n("y5b2"),o=n("quSY"),c=n("wd/R"),s=n("YMfE"),l=n("THGi"),u=n("jZlK"),d=n("mR7B");function b(t,e){if(1&t){var n=a.Xb();a.Wb(0,"div",23),a.Wb(1,"j-filter-operations",24),a.ic("changed",(function(t){return a.Fc(n),a.lc().onOperationChange(t)})),a.Vb(),a.Vb()}if(2&t){var i=a.lc();a.Ab(1),a.rc("isUpdateEnabled",!1)("value",i.scheme.operationType)}}function m(t,e){1&t&&(a.Wb(0,"div",23),a.Rb(1,"h6",25),a.Rb(2,"j-filter-status"),a.Vb())}function p(t,e){1&t&&a.Rb(0,"h6",26)}function f(t,e){if(1&t&&(a.Wb(0,"div"),a.Rb(1,"j-filter-period",27),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.rc("mode",n.mode)("periodType",n.extraForm.controls.periodType)("periodFrom",n.extraForm.controls.periodFrom)("periodTo",n.extraForm.controls.periodTo)}}function h(t,e){if(1&t&&(a.Wb(0,"div",28),a.Rb(1,"h6",29),a.Rb(2,"j-filter-period",27),a.Vb()),2&t){var n=a.lc();a.Ab(2),a.rc("mode",n.mode)("periodType",n.extraForm.controls.periodType)("periodFrom",n.extraForm.controls.periodFrom)("periodTo",n.extraForm.controls.periodTo)}}var g=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.filterService=e,this.maskedService=n,this.FILTER_MODE=l.a,this.toggled=new a.n,this.scheme={},this.isFilterShown=!1,this.isSubmitted=!1,this.subscription=new o.a,this.errors={amountFrom:!1,amountTo:!1,dateFrom:!1,dateTo:!1},this.hasAmountErrors=!1,this.hasChangedStatus=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=this.filterService.getDefaults(this.mode);this.extraForm=new i.k({operationType:new i.h(e.operationType),documentNumber:new i.h(e.documentNumber||""),amountFrom:new i.h(e.amountFrom||""),amountTo:new i.h(e.amountTo||""),periodType:new i.h(e.periodType),periodFrom:new i.h(e.periodFrom||""),periodTo:new i.h(e.periodTo||""),sortBy:new i.h(e.sortBy),comission:new i.h(e.comission)}),this.scheme=this.extraForm.value;var n=this.extraForm.valueChanges.subscribe((function(e){if(t.isSubmitted=!1,e.periodType!=r.d.CUSTOM&&t.mode==l.a.ACCOUNTS){var n=t.filterService.findPeriod(e.periodType);e.periodFrom=n.dates.from||"",e.periodTo=n.dates.to||""}else e.periodFrom=t.convertStringToDate(e.periodFrom),e.periodTo=t.convertStringToDate(e.periodTo);e.amountFrom&&(e.amountFrom=t.maskedService.getNumberedAmount(e.amountFrom)),e.amountTo&&(e.amountTo=t.maskedService.getNumberedAmount(e.amountTo)),t.scheme=Object.assign(t.scheme,e)})),a=this.filterService.getScheme().subscribe((function(e){t.cashedPaymentStatus&&t.cashedPaymentStatus!=e.paymentStatus?t.hasChangedStatus=!0:t.cashedPaymentStatus=e.paymentStatus,t.isSubmitted=!1,t.scheme=Object.assign(t.scheme,e),t.updateFormByScheme(t.scheme)}));this.subscription.add(n),this.subscription.add(a)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"toggleFilterAside",value:function(t){t.preventDefault(),t.stopPropagation(),this.isFilterShown=!this.isFilterShown,this.toggled.emit(this.isFilterShown)}},{key:"hideFilterAside",value:function(){this.isFilterShown=!1,this.toggled.emit(this.isFilterShown)}},{key:"onOperationChange",value:function(t){this.scheme.operationType=t}},{key:"onDocNumberChange",value:function(t){this.scheme.documentNumber=t}},{key:"onClickOutside",value:function(t){this.hideFilterAside()}},{key:"onSubmit",value:function(){this.isSubmitted=!0,this.validateErrors()&&(this.filterService.updateExtra(this.scheme),this.hideFilterAside())}},{key:"onClear",value:function(){this.setDefaults(),this.filterService.updateExtra(this.scheme),this.hideFilterAside()}},{key:"validateErrors",value:function(){return!(this.maskedService.getNumberedAmount(this.extraForm.value.amountFrom)>this.maskedService.getNumberedAmount(this.extraForm.value.amountTo)&&(this.hasAmountErrors=!0,1))}},{key:"setDefaults",value:function(){var t=this.filterService.getDefaults(this.mode);this.updateFormByScheme(t)}},{key:"updateFormByScheme",value:function(t){this.extraForm.setValue({operationType:t.operationType,documentNumber:t.documentNumber,amountFrom:t.amountFrom,amountTo:t.amountTo,periodType:t.periodType,periodFrom:t.periodFrom,periodTo:t.periodTo,sortBy:t.sortBy,comission:t.comission})}},{key:"convertStringToDate",value:function(t){if(!t||0==t.length)return"";var e=c(t,r.i);return e.isValid()?e.toDate():""}},{key:"removeEmpty",value:function(t){var e=this;Object.keys(t).forEach((function(n){t[n]&&"object"==typeof t[n]?e.removeEmpty(t[n]):null!=t[n]&&""!=t[n]||delete t[n]}))}},{key:"isDefaultValues",get:function(){if(this.hasChangedStatus)return!1;var t=!0,e=this.extraForm.getRawValue(),n=this.filterService.getDefaults(this.mode);for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&("periodFrom"===a||"periodTo"===a?Object(s.convertDateToString)(e[a])!==Object(s.convertDateToString)(n[a])&&(t=!1):e[a]!==n[a]&&(t=!1));return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(u.a),a.Qb(d.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-extra"]],inputs:{currency:"currency",mode:"mode"},outputs:{toggled:"toggled"},decls:33,vars:30,consts:[[1,"filter-search-extra",3,"formGroup","exclude","clickOutside"],["type","button",1,"filter-dropdown-toggle","no-caret","filter-form-toggle",3,"click"],["translate","FILTER.TITLE",1,"d-none","d-md-inline-block","mr-2"],["inlineSVG","./assets/icons/filter.svg"],[3,"isShown","heading","closed"],["class","form-group d-sm-none",4,"ngIf"],["class","d-sm-none","translate","FILTER.SEARCH.TITLE",4,"ngIf"],[1,"form-group"],["clearable","true"],["translate","FILTER.SEARCH.DOCUMENT_NUMBER"],["type","text","jFormInput","",1,"form-control",3,"formControl"],[4,"ngIf"],[1,"form-group","extra-amounts"],[3,"label","hasError","currency","formControl"],[1,"mx-3","mb-3"],["class","form-group mb-4 d-sm-none",4,"ngIf"],[1,"extra-radios"],[1,"form-group","mb-4"],["translate","FILTER.SORT.TITLE"],[3,"control"],[1,"form-group","extra-footer"],["type","submit","translate","SHARED.APPLY",1,"btn","btn-block","btn-primary",3,"disabled","click"],["type","button","translate","SHARED.CLEAR",1,"btn","btn-block","btn-outline-primary","d-sm-none",3,"disabled","click"],[1,"form-group","d-sm-none"],[3,"isUpdateEnabled","value","changed"],["translate","HISTORY.STATUS.TITLE"],["translate","FILTER.SEARCH.TITLE",1,"d-sm-none"],[3,"mode","periodType","periodFrom","periodTo"],[1,"form-group","mb-4","d-sm-none"],["translate","FILTER.PERIOD.TITLE"]],template:function(t,e){1&t&&(a.Wb(0,"form",0),a.ic("clickOutside",(function(t){return e.onClickOutside(t)})),a.Wb(1,"button",1),a.ic("click",(function(t){return e.toggleFilterAside(t)})),a.Rb(2,"span",2),a.Rb(3,"span",3),a.Vb(),a.Wb(4,"j-filter-aside",4),a.ic("closed",(function(t){return e.hideFilterAside()})),a.mc(5,"translate"),a.Oc(6,b,2,2,"div",5),a.Oc(7,m,3,0,"div",5),a.Oc(8,p,1,0,"h6",6),a.Wb(9,"div",7),a.Wb(10,"j-form-field",8),a.Rb(11,"j-label",9),a.Rb(12,"input",10),a.Vb(),a.Vb(),a.Oc(13,f,2,4,"div",11),a.Wb(14,"div",12),a.Rb(15,"j-amount-input",13),a.mc(16,"translate"),a.Wb(17,"span",14),a.Qc(18,"-"),a.Vb(),a.Rb(19,"j-amount-input",13),a.mc(20,"translate"),a.Vb(),a.Oc(21,h,3,4,"div",15),a.Wb(22,"div",16),a.Wb(23,"div",17),a.Rb(24,"h6",18),a.Rb(25,"j-filter-sort",19),a.Vb(),a.Wb(26,"div",17),a.Wb(27,"h6"),a.Qc(28,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),a.Vb(),a.Rb(29,"j-filter-comission",19),a.Vb(),a.Vb(),a.Wb(30,"div",20),a.Wb(31,"button",21),a.ic("click",(function(t){return e.onSubmit()})),a.Vb(),a.Wb(32,"button",22),a.ic("click",(function(t){return e.onClear()})),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.rc("formGroup",e.extraForm)("exclude",".btn-light"),a.Ab(1),a.Hb("toggled",e.isFilterShown),a.Ab(3),a.rc("isShown",e.isFilterShown)("heading",a.nc(5,24,"FILTER.TITLE")),a.Ab(2),a.rc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),a.Ab(1),a.rc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(1),a.rc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(4),a.rc("formControl",e.extraForm.controls.documentNumber),a.Ab(1),a.rc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(2),a.rc("label",a.nc(16,26,"FILTER.AMOUNT.FROM_LARGE"))("hasError",e.isSubmitted&&e.hasAmountErrors)("currency",e.currency)("formControl",e.extraForm.controls.amountFrom),a.Ab(4),a.rc("label",a.nc(20,28,"FILTER.AMOUNT.TO_LARGE"))("hasError",e.isSubmitted&&e.hasAmountErrors)("currency",e.currency)("formControl",e.extraForm.controls.amountTo),a.Ab(2),a.rc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),a.Ab(4),a.rc("control",e.extraForm.controls.sortBy),a.Ab(4),a.rc("control",e.extraForm.controls.comission),a.Ab(2),a.rc("disabled",e.isDefaultValues),a.Ab(1),a.rc("disabled",e.isDefaultValues))},styles:[".extra-amounts[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.extra-amounts[_ngcontent-%COMP%]   j-amount-input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}@media(min-width:670px){.extra-footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-self:flex-end;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;border-top:1px solid #d6dadf;margin-bottom:.25rem;margin-right:-1rem;margin-left:-1rem;padding:0 1rem}}@media(min-width:670px){.extra-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;width:auto;margin-top:1rem;margin-left:1rem}}@media(min-width:670px){.extra-radios[_ngcontent-%COMP%]{display:-webkit-box;display:flex}}@media(min-width:670px){.extra-radios[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}}"]}),t}()},"77FI":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("3Pt+"),i=n("y5b2"),r=n("fXoL"),o=n("ofXK");function c(t,e){if(1&t&&(r.Wb(0,"div",1),r.Rb(1,"input",2),r.Wb(2,"label",3),r.Qc(3),r.Vb(),r.Vb()),2&t){var n=e.$implicit,a=e.index,i=r.lc();r.Ab(1),r.sc("id","comission"+a),r.rc("formControl",i.control)("value",n.value),r.Ab(1),r.sc("for","comission"+a),r.Ab(1),r.Sc(" ",n.label," ")}}var s=function(){var t=function(){function t(){_classCallCheck(this,t),this.comissionList=i.b,this.control=new a.h(i.a.WITH_COMISSION)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["j-filter-comission"]],inputs:{control:"control"},decls:1,vars:1,consts:[["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","comissionRadio",1,"custom-control-input",3,"id","formControl","value"],[1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&r.Oc(0,c,4,5,"div",0),2&t&&r.rc("ngForOf",e.comissionList)},directives:[o.t,a.B,a.c,a.t,a.i],styles:[""]}),t}()},"9K1F":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("fXoL"),i=n("1kSV"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.modal=e}return _createClass(t,[{key:"dismissModal",value:function(){this.modal.dismiss()}},{key:"closeModal",value:function(){this.modal.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-transaction-sign-success"]],inputs:{transaction:"transaction"},decls:14,vars:7,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","./assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","./assets/img/history/modals/success.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],[3,"money"],["translate","",1,"m-0","text-muted"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-static","btn-link","m-0",3,"click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ic("click",(function(t){return e.dismissModal()})),a.Rb(2,"img",2),a.mc(3,"translate"),a.Vb(),a.Vb(),a.Wb(4,"div",3),a.Rb(5,"img",4),a.mc(6,"translate"),a.Wb(7,"h3",5),a.Rb(8,"j-money",6),a.Vb(),a.Wb(9,"p",7),a.Qc(10," STATEMENT.TRANSACTION.SIGN_SUCCESS "),a.Vb(),a.Vb(),a.Wb(11,"div",8),a.Wb(12,"button",9),a.ic("click",(function(t){return e.dismissModal()})),a.Qc(13," HISTORY.BACK_TO_HISTORY "),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.sc("alt",a.nc(3,3,"SHARED.CLOSE")),a.Ab(3),a.sc("alt",a.nc(6,5,"HISTORY.SIGNED")),a.Ab(3),a.rc("money",e.transaction.balance))},styles:[""]}),t}()},"9N4E":function(t,e,n){"use strict";n("x2ms"),n("CqcL"),n("0kjH"),n("n6qU"),n("77FI"),n("sFIr"),n("AOrV"),n("6ElB"),n("9PaV"),n("u+5l");var a=n("THGi");n("zt08"),n("l2AU"),n.d(e,"a",(function(){return a.a}));var i=n("jZlK");n.d(e,"c",(function(){return i.a}));var r=n("y5b2");n.d(e,"b",(function(){return r.d}))},"9PaV":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("quSY"),i=n("fXoL"),r=n("jZlK"),o=n("EIxY"),c=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.filterService=e,this.responsiveToolkit=n,this.isDropdownShown=!1,this.subscription=new a.a;var r=this.filterService.getScheme().subscribe((function(t){i.scheme=t}));this.subscription.add(r)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onFocus",value:function(){this.showDropdown()}},{key:"onClickOutside",value:function(){this.hideDropdown()}},{key:"onExtraToggle",value:function(t){t&&this.hideDropdown()}},{key:"onRecipientSelect",value:function(t){this.filterService.updateRecipient(t),this.hideDropdown()}},{key:"onQueryChange",value:function(t){this.searchQuery=t}},{key:"showDropdown",value:function(){this.isDropdownShown=!0}},{key:"hideDropdown",value:function(){this.isDropdownShown=!1}},{key:"placeholder",get:function(){switch(this.responsiveToolkit.current()){case"xs":return"FILTER.SEARCH.SMALL";default:return"FILTER.SEARCH.LARGE"}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(r.a),i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-filter-search"]],inputs:{currency:"currency",mode:"mode"},decls:5,vars:6,consts:[[1,"search",3,"clickOutside"],["jTour","STATEMENT.FILTER","jTourPosition","bottom",3,"placeholder","valueChanged","focused"],["jTour","STATEMENT.EXTRAS","jTourPosition","bottom",1,"search-suffix",3,"mode","currency","toggled"],[1,"dropdown-menu","filter-dropdown-menu","search-dropdown"],[3,"query","selected"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.ic("clickOutside",(function(t){return e.onClickOutside()})),i.Wb(1,"j-search-input",1),i.ic("valueChanged",(function(t){return e.onQueryChange(t)}))("focused",(function(t){return e.onFocus()})),i.Vb(),i.Wb(2,"j-filter-extra",2),i.ic("toggled",(function(t){return e.onExtraToggle(t)})),i.Vb(),i.Wb(3,"div",3),i.Wb(4,"j-recipient-list",4),i.ic("selected",(function(t){return e.onRecipientSelect(t)})),i.Vb(),i.Vb(),i.Vb()),2&t&&(i.Ab(1),i.rc("placeholder",e.placeholder),i.Ab(1),i.rc("mode",e.mode)("currency",e.currency),i.Ab(1),i.Hb("show",e.isDropdownShown),i.Ab(1),i.rc("query",e.searchQuery))},styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;width:100%}.search[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;flex-grow:1}.search-suffix[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;z-index:5}.search-dropdown[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;top:55px;max-height:0;padding:0 1.5rem;overflow:hidden;opacity:0;-webkit-transition:max-height .5s linear,opacity .3s linear;transition:max-height .5s linear,opacity .3s linear}.search-dropdown.show[_ngcontent-%COMP%]{padding:.5rem 1.5rem;max-height:50vh;overflow-y:auto;opacity:1}.form-control[_ngcontent-%COMP%]{padding-top:10px}"]}),t}()},AOrV:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("fXoL"),i=n("ofXK"),r=n("THGi"),o=n("Kcpt"),c=["*"],s=function(){var t=function(){function t(e){_classCallCheck(this,t),this.document=e,this.isShown=!1,this.mode=r.a.ACCOUNTS,this.FILTER_MODE=r.a,this.closed=new a.n}return _createClass(t,[{key:"ngOnInit",value:function(){this.innerWidth=window.innerWidth}},{key:"ngOnChanges",value:function(){this.isShown&&this.isMobile?this.document.body.classList.add("overflow-hidden"):this.document.body.classList.remove("overflow-hidden")}},{key:"onResize",value:function(t){this.innerWidth=window.innerWidth}},{key:"onClose",value:function(t){t.preventDefault(),this.closed.emit()}},{key:"onClickOutside",value:function(t){this.isShown&&this.closed.emit()}},{key:"isMobile",get:function(){return this.innerWidth<670}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.e))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-aside"]],hostBindings:function(t,e){1&t&&a.ic("resize",(function(t){return e.onResize(t)}),!1,a.Ec)},inputs:{heading:"heading",isShown:"isShown",mode:"mode"},outputs:{closed:"closed"},features:[a.yb()],ngContentSelectors:c,decls:8,vars:5,consts:[[1,"filter-aside"],[1,"filter-aside-header"],[1,"mb-0"],["href","#",1,"filter-aside-close",3,"click"],["size","md","name","cross",1,"size-md"],[1,"filter-aside-body"]],template:function(t,e){1&t&&(a.qc(),a.Wb(0,"section",0),a.Wb(1,"section",1),a.Wb(2,"h5",2),a.Qc(3),a.Vb(),a.Wb(4,"a",3),a.ic("click",(function(t){return e.onClose(t)})),a.Rb(5,"j-icon",4),a.Vb(),a.Vb(),a.Wb(6,"section",5),a.pc(7),a.Vb(),a.Vb()),2&t&&(a.Hb("shown",e.isShown)("extra-space",e.mode===e.FILTER_MODE.HISTORY),a.Ab(3),a.Rc(e.heading))},directives:[o.a],styles:[".filter-aside[_ngcontent-%COMP%]{position:fixed;overflow:auto;right:-100%;width:100%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;top:0;bottom:0;background:#fff;z-index:1000;padding-top:4rem}@media(min-width:670px){.filter-aside[_ngcontent-%COMP%]{padding-top:0;right:0;width:calc(540px - 2rem);top:40px;right:calc(-1rem + 1px);bottom:auto;position:absolute;border-radius:.5rem;box-shadow:0 0 1px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.04),0 16px 24px rgba(0,0,0,.04),0 24px 32px rgba(0,0,0,.04);max-height:0;overflow:hidden;opacity:0;-webkit-transition:opacity .3s ease-in-out,max-height .3s ease-in-out;transition:opacity .3s ease-in-out,max-height .3s ease-in-out}}@media(min-width:1280px){.filter-aside[_ngcontent-%COMP%]{width:calc(600px - 2rem)}}.filter-aside.shown[_ngcontent-%COMP%]{right:0;overflow:unset}@media(min-width:670px){.filter-aside.shown[_ngcontent-%COMP%]{right:calc(-1rem + 1px);opacity:1;max-height:800px}}.filter-aside.extra-space[_ngcontent-%COMP%]{top:62px}.filter-aside-header[_ngcontent-%COMP%]{position:fixed;top:65px;width:100%;height:4rem;background:#fff;-webkit-box-pack:justify;justify-content:space-between;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:1rem 2rem 1rem 1rem;z-index:5;border-top:1px solid #d6dadf;border-bottom:1px solid #d6dadf}@media(min-width:670px){.filter-aside-header[_ngcontent-%COMP%]{z-index:unset;position:relative;padding:1rem 1rem 0;border-bottom:0;border-top:0;top:0}}.filter-aside-body[_ngcontent-%COMP%]{padding:1rem;position:relative;z-index:1;max-height:calc(100vh - 124px);overflow-y:auto}@media(min-width:1280px){.filter-aside-body[_ngcontent-%COMP%]{overflow-y:unset}}"]}),t}()},CqcL:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("3Pt+"),i=n("wd/R"),r=n("y5b2"),o=n("quSY"),c=n("THGi"),s=n("fXoL"),l=n("jZlK");function u(t,e){if(1&t&&(s.Wb(0,"div",6),s.Rb(1,"input",7),s.Wb(2,"label",8),s.Qc(3),s.Vb(),s.Vb()),2&t){var n=e.$implicit,a=e.index,i=s.lc(2);s.Ab(1),s.sc("id","period"+a),s.rc("formControl",i.periodType)("value",n.type),s.Ab(1),s.sc("for","period"+a),s.Ab(1),s.Sc(" ",n.label," ")}}function d(t,e){if(1&t&&(s.Ub(0),s.Oc(1,u,4,5,"div",5),s.Tb()),2&t){var n=s.lc();s.Ab(1),s.rc("ngForOf",n.periodList)}}var b=function(){var t=function(){function t(e){_classCallCheck(this,t),this.filterService=e,this.FILTER_MODE=c.a,this.periodList=this.filterService.PERIOD_LIST,this.periodType=new a.h(r.d.TODAY),this.periodFrom=new a.h(""),this.periodTo=new a.h(""),this.fromMinDate=i("1991-01-01","YYYY-MM-DD").toDate(),this.fromMaxDate=new Date,this.toMinDate=i("1991-01-01","YYYY-MM-DD").toDate(),this.toMaxDate=new Date,this.subscription=new o.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.fromInput=new a.h(this.formatDate(this.periodFrom.value)),this.toInput=new a.h(this.formatDate(this.periodTo.value));var e=this.filterService.getScheme().subscribe((function(e){e.periodType&&t.periodType.setValue(e.periodType),e.periodFrom?(t.toMinDate=e.periodFrom,t.fromInput.setValue(t.formatDate(e.periodFrom))):t.fromInput.setValue(""),e.periodTo?(t.fromMaxDate=e.periodTo,t.toInput.setValue(t.formatDate(e.periodTo))):t.toInput.setValue("")})),n=this.fromInput.valueChanges.subscribe((function(e){t.toMinDate=t.formatInput(e),t.periodFrom.setValue(t.formatInput(e))})),i=this.toInput.valueChanges.subscribe((function(e){t.fromMaxDate=t.formatInput(e),t.periodTo.setValue(t.formatInput(e))}));this.subscription.add(e),this.subscription.add(n),this.subscription.add(i)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"formatDate",value:function(t){return t?i(t).format(r.i):""}},{key:"formatInput",value:function(t){return i(t,r.i).toDate()}},{key:"fromLabel",get:function(){return this.mode==c.a.ACCOUNTS?"\u041f\u0435\u0440\u0438\u043e\u0434 \u043e\u0442":"\u0414\u0430\u0442\u0430 \u043e\u0442"}},{key:"toLabel",get:function(){return this.mode==c.a.ACCOUNTS?"\u041f\u0435\u0440\u0438\u043e\u0434 \u0434\u043e":"\u0414\u0430\u0442\u0430 \u0434\u043e"}},{key:"isInputsHidden",get:function(){return this.periodType.value!=r.d.CUSTOM&&this.mode==c.a.ACCOUNTS}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s.Qb(l.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["j-filter-period"]],inputs:{mode:"mode",periodType:"periodType",periodFrom:"periodFrom",periodTo:"periodTo"},decls:6,vars:11,consts:[[4,"ngIf"],[1,"form-group","periods",3,"hidden"],[3,"formControl","isErrorsHidden","maxDate","label"],[1,"d-none","d-sm-block","mx-3","mb-3"],[3,"formControl","isErrorsHidden","minDate","maxDate","label"],["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","periodType",1,"custom-control-input",3,"formControl","id","value"],["translate","",1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&(s.Oc(0,d,2,1,"ng-container",0),s.Wb(1,"div",1),s.Rb(2,"j-date-input",2),s.Wb(3,"span",3),s.Qc(4,"-"),s.Vb(),s.Rb(5,"j-date-input",4),s.Vb()),2&t&&(s.rc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),s.Ab(1),s.rc("hidden",e.isInputsHidden),s.Ab(1),s.rc("formControl",e.fromInput)("isErrorsHidden",!0)("maxDate",e.fromMaxDate)("label",e.fromLabel),s.Ab(3),s.rc("formControl",e.toInput)("isErrorsHidden",!0)("minDate",e.toMinDate)("maxDate",e.toMaxDate)("label",e.toLabel))},styles:["@media(min-width:670px){.periods[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:0}.periods[_ngcontent-%COMP%]   j-date-input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}}"]}),t}()},KWy3:function(t,e,n){"use strict";n("QiVB"),n("/68H"),n("T+Ki"),n("pThr"),n("cIcs"),n("OTTH"),n("wqe5"),n("lYAS"),n("9K1F");var a=n("rEgK");n.d(e,"b",(function(){return a.a}));var i=n("ItTq");n.d(e,"a",(function(){return i.b}));var r=n("2G+r");n.d(e,"c",(function(){return r.c})),n.d(e,"d",(function(){return r.d}))},LA0w:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("fXoL"),i=n("mR7B"),r=function(){var t=function(){function t(e){_classCallCheck(this,t),this.maskedService=e}return _createClass(t,[{key:"formatBalance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&null!=t.amount&&t.currency){var n=this.maskedService.formatAmount(Math.abs(t.amount)),a="";return e&&t.amount>0?a="+ ":t.amount<0&&(a="- "),"".concat(a).concat(n)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.ec(i.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},M4UK:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("ofXK"),i=n("PCNd"),r=n("fXoL"),o=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[a.c,i.a]]}),t}()},OTTH:function(t,e,n){"use strict";n.d(e,"a",(function(){return Et}));var a=n("mrSG"),i=n("fXoL"),r=n("R0Ic"),o=n("TwVa"),c=n("ItTq"),s=n("2G+r"),l=n("jtnZ"),u=n("rEgK"),d=n("sYmb"),b=n("q25w"),m=n("VnnJ"),p=n("VO+5");function f(t,e){1&t&&i.Rb(0,"span",24)}function h(t,e){if(1&t&&(i.Wb(0,"span",25),i.Qc(1),i.mc(2,"translate"),i.Vb()),2&t){var n=i.lc();i.Db(n.paymentStatus.classList),i.Ab(1),i.Sc(" ",i.nc(2,3,n.paymentStatus.label)," ")}}function g(t,e){if(1&t&&(i.Rb(0,"div",26),i.mc(1,"translate")),2&t){var n=i.lc();i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.rc("innerText",i.oc(1,3,n.transaction.paymentMessage,n.transaction.paymentMessageTranslateParams))}}function v(t,e){if(1&t){var n=i.Xb();i.Wb(0,"button",27),i.ic("click",(function(t){return i.Fc(n),i.lc().repeatPayment()})),i.Rb(1,"span",28),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb()}if(2&t){var a=i.lc();i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/repeat.svg"),i.Ab(2),i.Rc(i.nc(4,2,a.mapActionLabel("REPEAT")))}}function y(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",29),i.ic("click",(function(t){return i.Fc(n),i.lc().signPayment(t)})),i.Qc(1),i.mc(2,"translate"),i.Vb()}if(2&t){var a=i.lc();i.Ab(1),i.Sc(" ",i.nc(2,1,a.mapActionLabel("SIGN"))," ")}}function T(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",30),i.ic("click",(function(t){return i.Fc(n),i.lc().sendForSign(t)})),i.Qc(1," STATEMENT.DETAILS.SEND_FOR_SIGN "),i.Vb()}}function S(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",31),i.ic("click",(function(t){return i.Fc(n),i.lc().exportPayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.DOWNLOAD"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/pdf.svg"))}function C(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",31),i.ic("click",(function(t){return i.Fc(n),i.lc().downloadIncomingPayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.DOWNLOAD"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/pdf.svg"))}function A(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",36),i.ic("click",(function(t){return i.Fc(n),i.lc(3).repeatPayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb()}if(2&t){var a=i.lc(3);i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/repeat.svg"),i.Ab(2),i.Rc(i.nc(4,2,a.mapActionLabel("REPEAT")))}}function O(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",36),i.ic("click",(function(t){return i.Fc(n),i.lc(3).editPayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb()}if(2&t){var a=i.lc(3);i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/edit.svg"),i.Ab(2),i.Rc(i.nc(4,2,a.mapActionLabel("EDIT")))}}function _(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",36),i.ic("click",(function(t){return i.Fc(n),i.lc(3).deletePayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb()}if(2&t){var a=i.lc(3);i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/delete.svg"),i.Ab(2),i.Rc(i.nc(4,2,a.mapActionLabel("DELETE")))}}function k(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",36),i.ic("click",(function(t){return i.Fc(n),i.lc(3).revokePayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb()}if(2&t){var a=i.lc(3);i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/revoke.svg"),i.Ab(2),i.Rc(i.nc(4,2,a.mapActionLabel("REVOKE")))}}function E(t,e){if(1&t&&(i.Wb(0,"section",34),i.Oc(1,A,5,4,"a",35),i.Oc(2,O,5,4,"a",35),i.Oc(3,_,5,4,"a",35),i.Oc(4,k,5,4,"a",35),i.Vb()),2&t){var n=i.lc(2);i.Hb("details__row--two-items",n.hasTwoActions)("details__row--three-items",n.hasThreeActions),i.Ab(1),i.rc("ngIf",n.transaction.isRepeatable),i.Ab(1),i.rc("ngIf",n.transaction.isEditable),i.Ab(1),i.rc("ngIf",n.transaction.isRemovable),i.Ab(1),i.rc("ngIf",n.transaction.isRevokable)}}function x(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",36),i.ic("click",(function(t){return i.Fc(n),i.lc(3).loadParentPayment(t)})),i.Rb(1,"span",28),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.TO_INITIAL"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.rc("inlineSVG","./assets/icons/transaction/to-initial.svg"))}function I(t,e){if(1&t&&(i.Ub(0),i.Oc(1,x,4,1,"a",35),i.Tb()),2&t){var n=i.lc(2);i.Ab(1),i.rc("ngIf",n.transaction.parentReference)}}function w(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(3);i.Ab(6),i.Sc(" ",(null==n.transaction.knp?null:n.transaction.knp.label)||(null==n.transaction.knp?null:n.transaction.knp.code)||"-"," ")}}function P(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",37),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",38),i.Wb(5,"h5",39),i.Qc(6,"STATEMENT.TRANSFER_ACTIONS.TITLE"),i.Vb(),i.Rb(7,"j-icon",40),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",41),i.Oc(10,w,7,1,"div",42),i.Wb(11,"div",43),i.Wb(12,"div",44),i.Wb(13,"span",32),i.Qc(14,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Qc(15,": "),i.Vb(),i.Wb(16,"div",45),i.Qc(17),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"section",37),i.Wb(19,"j-collapsible"),i.Wb(20,"j-collapsible-trigger"),i.Wb(21,"div",46),i.Wb(22,"h5",39),i.Qc(23),i.Vb(),i.Rb(24,"j-icon",40),i.Vb(),i.Vb(),i.Wb(25,"j-collapsible-body"),i.Wb(26,"div",41),i.Wb(27,"div",43),i.Wb(28,"div",44),i.Wb(29,"span",32),i.Qc(30,"STATEMENT.DETAILS.BANK"),i.Vb(),i.Qc(31,": "),i.Vb(),i.Wb(32,"div",45),i.Qc(33),i.mc(34,"bankAccountName"),i.Vb(),i.Vb(),i.Wb(35,"div",43),i.Wb(36,"div",44),i.Wb(37,"span",32),i.Qc(38,"STATEMENT.DETAILS.BIC"),i.Vb(),i.Qc(39,": "),i.Vb(),i.Wb(40,"div",45),i.Qc(41),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){var n=i.lc(2);i.Ab(7),i.rc("isStroke",!0),i.Ab(3),i.rc("ngIf",!n.transaction.parentReference),i.Ab(7),i.Sc(" ",n.transaction.documentNumber||"-",""),i.Ab(6),i.Sc(" ",n.transaction.isCredit?"STATEMENT.TRANSACTION.SENDER":"STATEMENT.TRANSACTION.RECEIVER"," "),i.Ab(1),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",n.transaction.correspondentAccount?i.nc(34,7,n.transaction.correspondentAccount):"-"," "),i.Ab(8),i.Sc(" ",n.transaction.correspondentBankBic||"-"," ")}}function R(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",45),i.Qc(2),i.Vb(),i.Wb(3,"div",51),i.Qc(4,"SHARED.SIGNED"),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(2),i.Rc(n.transaction.signHead)}}function V(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",45),i.Qc(2),i.Vb(),i.Wb(3,"div",51),i.Qc(4,"SHARED.SIGNED"),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(2),i.Rc(n.transaction.signBuch)}}function M(t,e){if(1&t&&(i.Wb(0,"section",37),i.Wb(1,"j-collapsible"),i.Wb(2,"j-collapsible-trigger"),i.Wb(3,"div",48),i.Wb(4,"h5",49),i.Qc(5,"STATEMENT.DETAILS.SIGNERS"),i.Vb(),i.Rb(6,"j-icon",50),i.Vb(),i.Vb(),i.Wb(7,"j-collapsible-body"),i.Wb(8,"div",41),i.Oc(9,R,5,1,"div",42),i.Oc(10,V,5,1,"div",42),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(3);i.Ab(6),i.rc("isStroke",!0),i.Ab(3),i.rc("ngIf",n.isSignerShown(n.transaction.signHead)),i.Ab(1),i.rc("ngIf",n.isSignerShown(n.transaction.signBuch))}}function W(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",45),i.Qc(2),i.Vb(),i.Wb(3,"div",51),i.Qc(4),i.Vb(),i.Vb()),2&t){var n=e.$implicit;i.Ab(2),i.Rc(n.name),i.Ab(1),i.Db(n.classList),i.Ab(1),i.Rc(n.label)}}function D(t,e){if(1&t&&(i.Wb(0,"section",37),i.Wb(1,"j-collapsible"),i.Wb(2,"j-collapsible-trigger"),i.Wb(3,"div",46),i.Wb(4,"h5",39),i.Qc(5,"STATEMENT.DETAILS.SIGNERS"),i.Vb(),i.Rb(6,"j-icon",40),i.Vb(),i.Vb(),i.Wb(7,"j-collapsible-body"),i.Wb(8,"div",41),i.Oc(9,W,5,4,"div",52),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(3);i.Ab(6),i.rc("isStroke",!0),i.Ab(3),i.rc("ngForOf",n.signers)}}function L(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.PAYER_CARD_NUMBER"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.Sc(" ",n.payerCardNumber,"")}}function N(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.RECIPIENT_CARD_NUMBER"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.Sc(" ",n.recipientCardNumber,"")}}function F(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",37),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",38),i.Wb(5,"h5",39),i.Qc(6,"STATEMENT.TRANSFER_ACTIONS.TITLE"),i.Vb(),i.Rb(7,"j-icon",40),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",41),i.Wb(10,"div",43),i.Wb(11,"div",44),i.Wb(12,"span",32),i.Qc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Qc(14,": "),i.Vb(),i.Wb(15,"div",45),i.Qc(16),i.mc(17,"date"),i.Vb(),i.Vb(),i.Wb(18,"div",43),i.Wb(19,"div",44),i.Wb(20,"span",32),i.Qc(21,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Qc(22,": "),i.Vb(),i.Wb(23,"div",45),i.Qc(24),i.mc(25,"formatIban"),i.Vb(),i.Vb(),i.Wb(26,"div",43),i.Wb(27,"div",44),i.Wb(28,"span",32),i.Qc(29,"STATEMENT.DETAILS.RECEIVER_IBAN"),i.Vb(),i.Qc(30,": "),i.Vb(),i.Wb(31,"div",45),i.Qc(32),i.mc(33,"formatIban"),i.Vb(),i.Vb(),i.Oc(34,L,7,1,"div",42),i.Oc(35,N,7,1,"div",42),i.Wb(36,"div",43),i.Wb(37,"div",44),i.Wb(38,"span",32),i.Qc(39,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Qc(40,": "),i.Vb(),i.Wb(41,"div",45),i.Qc(42),i.Vb(),i.Vb(),i.Wb(43,"div",43),i.Wb(44,"div",44),i.Wb(45,"span",32),i.Qc(46,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Qc(47,": "),i.Vb(),i.Wb(48,"div",45),i.Qc(49),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){var n=i.lc(3);i.Ab(7),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",n.transaction.valueDate?i.oc(17,8,n.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(8),i.Sc("",i.nc(25,11,n.transaction.iban)||"-"," "),i.Ab(8),i.Sc(" ",i.nc(33,13,n.transaction.correspondentAccount)||"-",""),i.Ab(2),i.rc("ngIf",n.payerCardNumber),i.Ab(1),i.rc("ngIf",n.recipientCardNumber),i.Ab(7),i.Sc(" ",(null==n.transaction.knp?null:n.transaction.knp.label)||(null==n.transaction.knp?null:n.transaction.knp.code)||"-"," "),i.Ab(7),i.Sc(" ",n.transaction.documentNumber||"-","")}}function j(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.CONTRACT_NUMBER"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails.fxContract?null:n.loadedPayment.details.foreignPaymentDetails.fxContract.contractNumber," ")}}function Q(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.UNK"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.foreignPaymentDetails.fxContract.registrationNumberContract," ")}}function U(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span"),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(3),i.Rc(i.nc(4,3,"AE"==(null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.countryCode)?"STATEMENT.FOREIGN_DETAILS.CODEWORD_AE":"STATEMENT.FOREIGN_DETAILS.CODEWORD")),i.Ab(4),i.Tc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:null==n.loadedPayment.details.foreignPaymentDetails.codeWord?null:n.loadedPayment.details.foreignPaymentDetails.codeWord.code," - ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:null==n.loadedPayment.details.foreignPaymentDetails.codeWord?null:n.loadedPayment.details.foreignPaymentDetails.codeWord.name," ")}}function G(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.KVO"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.currencyTransactionCode," ")}}function B(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_INN"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerInn," ")}}function H(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_KPP"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerKpp," ")}}function K(t,e){1&t&&(i.Wb(0,"span"),i.Qc(1," - "),i.Vb())}function Y(t,e){if(1&t&&(i.Wb(0,"span"),i.Qc(1),i.Vb()),2&t){var n=i.lc(5);i.Ab(1),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.kbk.name," ")}}function q(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.KBK"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Oc(8,K,2,0,"span",21),i.Oc(9,Y,2,1,"span",21),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.kbk.code," "),i.Ab(1),i.rc("ngIf",(null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.kbk.code)&&(null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.kbk.name)),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.kbk.name)}}function X(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.OKTMO"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.oktmo," ")}}function z(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_STATUS"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerStatus," ")}}function $(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.PAYMENT_BASIS"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.paymentBasis," ")}}function J(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.BUDGET_DOC_NUMBER"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.budgetDocNumber," ")}}function Z(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.PERIOD"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.period," ")}}function tt(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_DETAILS.UIP"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.uip," ")}}function et(t,e){if(1&t&&(i.Wb(0,"div",45),i.Qc(1),i.Vb()),2&t){var n=i.lc(5);i.Ab(1),i.Tc(" ",null==n.transaction.kbe?null:n.transaction.kbe.code," - ",null==n.transaction.kbe?null:n.transaction.kbe.name," ")}}function nt(t,e){if(1&t&&(i.Wb(0,"div",45),i.Qc(1),i.Vb()),2&t){var n=i.lc(5);i.Ab(1),i.Sc(" ",null==n.transaction.kbe?null:n.transaction.kbe.code," ")}}function at(t,e){1&t&&(i.Wb(0,"div",45),i.Qc(1," - "),i.Vb())}function it(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.KBE"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Oc(5,et,2,2,"div",53),i.Oc(6,nt,2,1,"div",53),i.Oc(7,at,2,0,"div",53),i.Vb()),2&t){var n=i.lc(4);i.Ab(5),i.rc("ngIf",(null==n.transaction.kbe?null:n.transaction.kbe.code)&&(null==n.transaction.kbe?null:n.transaction.kbe.name)),i.Ab(1),i.rc("ngIf",(null==n.transaction.kbe?null:n.transaction.kbe.code)&&!(null!=n.transaction.kbe&&n.transaction.kbe.name)),i.Ab(1),i.rc("ngIf",!(null!=n.transaction.kbe&&n.transaction.kbe.code))}}function rt(t,e){1&t&&(i.Wb(0,"span"),i.Qc(1," - "),i.Vb())}function ot(t,e){if(1&t&&(i.Wb(0,"span"),i.Qc(1),i.Vb()),2&t){var n=i.lc(4);i.Ab(1),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.bankName," ")}}function ct(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_RECEIVER.KIO"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.iinOrBin," ")}}function st(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_RECEIVER.NAME"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.name," ")}}function lt(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.FOREIGN_RECEIVER.KPP"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.kpp," ")}}function ut(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",37),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",38),i.Wb(5,"h5",39),i.Qc(6,"STATEMENT.DETAILS.TITLE"),i.Vb(),i.Rb(7,"j-icon",40),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",41),i.Oc(10,j,7,1,"div",42),i.Oc(11,Q,7,1,"div",42),i.Wb(12,"div",43),i.Wb(13,"div",44),i.Wb(14,"span",32),i.Qc(15,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Qc(16,": "),i.Vb(),i.Wb(17,"div",45),i.Qc(18),i.mc(19,"date"),i.Vb(),i.Vb(),i.Wb(20,"div",43),i.Wb(21,"div",44),i.Wb(22,"span",32),i.Qc(23,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Qc(24,": "),i.Vb(),i.Wb(25,"div",45),i.Qc(26),i.Vb(),i.Vb(),i.Wb(27,"div",43),i.Wb(28,"div",44),i.Wb(29,"span",32),i.Qc(30,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Qc(31,": "),i.Vb(),i.Wb(32,"div",45),i.Qc(33),i.mc(34,"formatIban"),i.Vb(),i.Vb(),i.Wb(35,"div",43),i.Wb(36,"div",44),i.Wb(37,"span",32),i.Qc(38,"STATEMENT.DETAILS.PAYER_COMMISSION_IBAN"),i.Vb(),i.Qc(39,": "),i.Vb(),i.Wb(40,"div",45),i.Qc(41),i.mc(42,"formatIban"),i.Vb(),i.Vb(),i.Wb(43,"div",43),i.Wb(44,"div",44),i.Wb(45,"span",32),i.Qc(46,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Qc(47,": "),i.Vb(),i.Wb(48,"div",45),i.Qc(49),i.Vb(),i.Vb(),i.Oc(50,U,8,5,"div",42),i.Oc(51,G,8,1,"div",42),i.Oc(52,B,8,1,"div",42),i.Oc(53,H,8,1,"div",42),i.Oc(54,q,10,3,"div",42),i.Oc(55,X,8,1,"div",42),i.Oc(56,z,8,1,"div",42),i.Oc(57,$,8,1,"div",42),i.Oc(58,J,8,1,"div",42),i.Oc(59,Z,8,1,"div",42),i.Oc(60,tt,8,1,"div",42),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(61,"section",37),i.Wb(62,"j-collapsible"),i.Wb(63,"j-collapsible-trigger"),i.Wb(64,"div",38),i.Wb(65,"h5",39),i.Qc(66,"STATEMENT.FOREIGN_RECEIVER.TITLE"),i.Vb(),i.Rb(67,"j-icon",40),i.Vb(),i.Vb(),i.Wb(68,"j-collapsible-body"),i.Wb(69,"div",41),i.Wb(70,"div",43),i.Wb(71,"div",44),i.Wb(72,"span",32),i.Qc(73,"STATEMENT.FOREIGN_RECEIVER.COUNTRY"),i.Vb(),i.Qc(74,": "),i.Vb(),i.Wb(75,"div",45),i.Qc(76),i.Vb(),i.Vb(),i.Wb(77,"div",43),i.Wb(78,"div",44),i.Wb(79,"span",32),i.Qc(80,"STATEMENT.FOREIGN_RECEIVER.CITY"),i.Vb(),i.Qc(81,": "),i.Vb(),i.Wb(82,"div",45),i.Qc(83),i.Vb(),i.Vb(),i.Wb(84,"div",43),i.Wb(85,"div",44),i.Wb(86,"span",32),i.Qc(87,"STATEMENT.FOREIGN_RECEIVER.IBAN"),i.Vb(),i.Qc(88,": "),i.Vb(),i.Wb(89,"div",45),i.Qc(90),i.Vb(),i.Vb(),i.Oc(91,it,8,3,"div",42),i.Wb(92,"div",43),i.Wb(93,"div",44),i.Wb(94,"span",32),i.Qc(95,"STATEMENT.FOREIGN_RECEIVER.BIC"),i.Vb(),i.Qc(96,": "),i.Vb(),i.Wb(97,"div",45),i.Wb(98,"span"),i.Qc(99),i.Vb(),i.Oc(100,rt,2,0,"span",21),i.Oc(101,ot,2,1,"span",21),i.Vb(),i.Vb(),i.Oc(102,ct,8,1,"div",42),i.Oc(103,st,8,1,"div",42),i.Oc(104,lt,8,1,"div",42),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){var n=i.lc(3);i.Ab(7),i.rc("isStroke",!0),i.Ab(3),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:null==n.loadedPayment.details.foreignPaymentDetails.fxContract?null:n.loadedPayment.details.foreignPaymentDetails.fxContract.contractNumber),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:null==n.loadedPayment.details.foreignPaymentDetails.fxContract?null:n.loadedPayment.details.foreignPaymentDetails.fxContract.registrationNumberContract),i.Ab(7),i.Sc(" ",n.transaction.valueDate?i.oc(19,30,n.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(8),i.Sc(" ",(null==n.transaction.knp?null:n.transaction.knp.label)||(null==n.transaction.knp?null:n.transaction.knp.code)||"-"," "),i.Ab(7),i.Sc("",i.nc(34,33,n.transaction.iban)||"-"," "),i.Ab(8),i.Sc(" ",i.nc(42,35,null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.commissionWithdrawalIban)||"-"," "),i.Ab(8),i.Sc(" ",n.transaction.documentNumber||"-",""),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.codeWord),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.currencyTransactionCode),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerInn),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerKpp),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.kbk?null:n.loadedPayment.details.kbk.code),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.oktmo),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.payerStatus),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.paymentBasis),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.budgetDocNumber),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.period),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.foreignPaymentDetails?null:n.loadedPayment.details.foreignPaymentDetails.uip),i.Ab(7),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",n.country," "),i.Ab(7),i.Sc(" ",(null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.cityName)||"-"," "),i.Ab(7),i.Sc(" ",n.transaction.correspondentAccount||"-",""),i.Ab(1),i.rc("ngIf",n.transaction.kbe),i.Ab(8),i.Sc(" ",(null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.bic)||""," "),i.Ab(1),i.rc("ngIf",(null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.bic)&&(null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.bankName)),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.bankName),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.iinOrBin),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.name),i.Ab(1),i.rc("ngIf",null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:n.loadedPayment.paymentRecipient.kpp)}}function dt(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.CONVERSION.RATE"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Rb(6,"j-money",54),i.Qc(7," = "),i.Rb(8,"j-money",54),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.rc("money",n.conversionRateFrom),i.Ab(2),i.rc("money",n.conversionRateTo)}}function bt(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",37),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",38),i.Wb(5,"h5",39),i.Qc(6,"STATEMENT.CONVERSION.TITLE"),i.Vb(),i.Rb(7,"j-icon",40),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",41),i.Wb(10,"div",43),i.Wb(11,"div",44),i.Wb(12,"span",32),i.Qc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Qc(14,": "),i.Vb(),i.Wb(15,"div",45),i.Qc(16),i.mc(17,"date"),i.Vb(),i.Vb(),i.Oc(18,dt,9,2,"div",42),i.Wb(19,"div",43),i.Wb(20,"div",44),i.Wb(21,"span",32),i.Qc(22,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Qc(23,": "),i.Vb(),i.Wb(24,"div",45),i.Qc(25),i.mc(26,"formatIban"),i.Vb(),i.Vb(),i.Wb(27,"div",43),i.Wb(28,"div",44),i.Wb(29,"span",32),i.Qc(30,"STATEMENT.CONVERSION.TO_IBAN"),i.Vb(),i.Qc(31,": "),i.Vb(),i.Wb(32,"div",45),i.Qc(33),i.mc(34,"formatIban"),i.Vb(),i.Vb(),i.Wb(35,"div",43),i.Wb(36,"div",44),i.Wb(37,"span",32),i.Qc(38,"STATEMENT.CONVERSION.FROM_AMOUNT"),i.Vb(),i.Qc(39,": "),i.Vb(),i.Wb(40,"div",45),i.Rb(41,"j-money",54),i.Vb(),i.Vb(),i.Wb(42,"div",43),i.Wb(43,"div",44),i.Wb(44,"span",32),i.Qc(45,"STATEMENT.CONVERSION.TO_AMOUNT"),i.Vb(),i.Qc(46,": "),i.Vb(),i.Wb(47,"div",45),i.Rb(48,"j-money",54),i.Vb(),i.Vb(),i.Wb(49,"div",43),i.Wb(50,"div",44),i.Wb(51,"span",32),i.Qc(52,"STATEMENT.CONVERSION.NUMBER"),i.Vb(),i.Qc(53,": "),i.Vb(),i.Wb(54,"div",45),i.Qc(55),i.Vb(),i.Vb(),i.Wb(56,"div",43),i.Wb(57,"div",44),i.Wb(58,"span",32),i.Qc(59,"STATEMENT.CONVERSION.PURPOSE"),i.Vb(),i.Vb(),i.Wb(60,"div",45),i.Wb(61,"span"),i.Qc(62),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){var n=i.lc(3);i.Ab(7),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",n.transaction.valueDate?i.oc(17,10,n.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(2),i.rc("ngIf",n.conversionRateFrom&&n.conversionRateTo),i.Ab(7),i.Sc("",i.nc(26,13,n.transaction.iban)||"-"," "),i.Ab(8),i.Sc(" ",i.nc(34,15,null==n.loadedPayment?null:null==n.loadedPayment.paymentRecipient?null:null==n.loadedPayment.paymentRecipient.recipientAccount?null:n.loadedPayment.paymentRecipient.recipientAccount.iban)||"-"," "),i.Ab(8),i.rc("money",null==n.loadedPayment?null:null==n.loadedPayment.details?null:n.loadedPayment.details.paymentAmount),i.Ab(7),i.rc("money",n.conversionToAmount),i.Ab(7),i.Sc(" ",n.transaction.documentNumber||"-",""),i.Ab(7),i.Tc(" ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.conversionPurpose?null:n.loadedPayment.details.conversionPurpose.code," - ",null==n.loadedPayment?null:null==n.loadedPayment.details?null:null==n.loadedPayment.details.conversionPurpose?null:n.loadedPayment.details.conversionPurpose.description," ")}}function mt(t,e){1&t&&(i.Wb(0,"span"),i.Qc(1," - "),i.Vb())}function pt(t,e){if(1&t&&(i.Wb(0,"span"),i.Qc(1),i.Vb()),2&t){var n=i.lc(5);i.Ab(1),i.Sc(" ",null==n.transaction.kbk?null:n.transaction.kbk.name," ")}}function ft(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.KBK"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Wb(6,"span"),i.Qc(7),i.Vb(),i.Oc(8,mt,2,0,"span",21),i.Oc(9,pt,2,1,"span",21),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(7),i.Sc(" ",null==n.transaction.kbk?null:n.transaction.kbk.code," "),i.Ab(1),i.rc("ngIf",(null==n.transaction.kbk?null:n.transaction.kbk.code)&&(null==n.transaction.kbk?null:n.transaction.kbk.name)),i.Ab(1),i.rc("ngIf",null==n.transaction.kbk?null:n.transaction.kbk.name)}}function ht(t,e){if(1&t&&(i.Wb(0,"div",43),i.Wb(1,"div",44),i.Wb(2,"span",32),i.Qc(3,"STATEMENT.DETAILS.EMAIL"),i.Vb(),i.Qc(4,": "),i.Vb(),i.Wb(5,"div",45),i.Qc(6),i.Vb(),i.Vb()),2&t){var n=i.lc(4);i.Ab(6),i.Sc(" ",n.transaction.emailOnSuccess,"")}}function gt(t,e){if(1&t){var n=i.Xb();i.Ub(0),i.Wb(1,"section",37),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",46),i.Wb(5,"h5",39),i.Qc(6,"STATEMENT.DETAILS.TITLE"),i.Vb(),i.Rb(7,"j-icon",40),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",41),i.Wb(10,"div",43),i.Wb(11,"div",44),i.Wb(12,"span",32),i.Qc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Qc(14,": "),i.Vb(),i.Wb(15,"div",45),i.Qc(16),i.mc(17,"date"),i.Vb(),i.Vb(),i.Wb(18,"div",55),i.Wb(19,"div",44),i.Wb(20,"span",32),i.Qc(21,"STATEMENT.EMPLOYEES.TITLE"),i.Vb(),i.Qc(22,": "),i.Vb(),i.Wb(23,"div",45),i.Qc(24),i.Wb(25,"a",56),i.ic("click",(function(t){return i.Fc(n),i.lc(3).showEmployees(t)})),i.Qc(26,"STATEMENT.EMPLOYEES.SHOW_LIST"),i.Vb(),i.Vb(),i.Vb(),i.Wb(27,"div",43),i.Wb(28,"div",44),i.Wb(29,"span",32),i.Qc(30,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Qc(31,": "),i.Vb(),i.Wb(32,"div",45),i.Qc(33),i.Vb(),i.Vb(),i.Oc(34,ft,10,3,"div",42),i.Wb(35,"div",43),i.Wb(36,"div",44),i.Wb(37,"span"),i.Qc(38),i.mc(39,"translate"),i.Vb(),i.Qc(40,": "),i.Vb(),i.Wb(41,"div",45),i.Qc(42),i.mc(43,"formatIban"),i.Vb(),i.Vb(),i.Wb(44,"div",43),i.Wb(45,"div",44),i.Wb(46,"span",32),i.Qc(47,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Qc(48,": "),i.Vb(),i.Wb(49,"div",45),i.Qc(50),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(51,"section",37),i.Wb(52,"j-collapsible"),i.Wb(53,"j-collapsible-trigger"),i.Wb(54,"div",46),i.Wb(55,"h5",39),i.Qc(56),i.Vb(),i.Rb(57,"j-icon",40),i.Vb(),i.Vb(),i.Wb(58,"j-collapsible-body"),i.Wb(59,"div",41),i.Wb(60,"div",43),i.Wb(61,"div",44),i.Wb(62,"span",32),i.Qc(63,"STATEMENT.DETAILS.NAME"),i.Vb(),i.Qc(64,": "),i.Vb(),i.Wb(65,"div",45),i.Qc(66),i.mc(67,"translate"),i.Vb(),i.Vb(),i.Wb(68,"div",43),i.Wb(69,"div",44),i.Wb(70,"span",32),i.Qc(71,"STATEMENT.DETAILS.BIN"),i.Vb(),i.Qc(72,": "),i.Vb(),i.Wb(73,"div",45),i.Qc(74),i.Vb(),i.Vb(),i.Wb(75,"div",43),i.Wb(76,"div",44),i.Wb(77,"span",32),i.Qc(78,"STATEMENT.DETAILS.IBAN"),i.Vb(),i.Qc(79,": "),i.Vb(),i.Wb(80,"div",45),i.Qc(81),i.mc(82,"formatIban"),i.Vb(),i.Vb(),i.Wb(83,"div",43),i.Wb(84,"div",44),i.Wb(85,"span",32),i.Qc(86,"STATEMENT.DETAILS.KBE"),i.Vb(),i.Qc(87,": "),i.Vb(),i.Wb(88,"div",45),i.Qc(89),i.Vb(),i.Vb(),i.Wb(90,"div",43),i.Wb(91,"div",44),i.Wb(92,"span",32),i.Qc(93,"STATEMENT.DETAILS.BANK"),i.Vb(),i.Qc(94,": "),i.Vb(),i.Wb(95,"div",45),i.Qc(96),i.mc(97,"bankAccountName"),i.Vb(),i.Vb(),i.Wb(98,"div",43),i.Wb(99,"div",44),i.Wb(100,"span",32),i.Qc(101,"STATEMENT.DETAILS.BIC"),i.Vb(),i.Qc(102,": "),i.Vb(),i.Wb(103,"div",45),i.Qc(104),i.Vb(),i.Vb(),i.Oc(105,ht,7,1,"div",42),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()}if(2&t){var a=i.lc(3);i.Ab(7),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",a.transaction.valueDate?i.oc(17,18,a.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(2),i.rc("hidden",!a.employees||0==(null==a.employees?null:a.employees.length)),i.Ab(6),i.Sc(" ",null==a.employees?null:a.employees.length," "),i.Ab(9),i.Sc(" ",(null==a.transaction.knp?null:a.transaction.knp.label)||(null==a.transaction.knp?null:a.transaction.knp.code)||"-"," "),i.Ab(1),i.rc("ngIf",null==a.transaction.kbk?null:a.transaction.kbk.code),i.Ab(4),i.Rc(i.nc(39,21,a.transaction.isCredit?"STATEMENT.DETAILS.RECEIVER_IBAN":"STATEMENT.DETAILS.PAYER_IBAN")),i.Ab(4),i.Sc("",i.nc(43,23,a.transaction.iban)||"-"," "),i.Ab(8),i.Sc(" ",a.transaction.documentNumber||"-",""),i.Ab(6),i.Sc(" ",a.transaction.isCredit?"STATEMENT.TRANSACTION.SENDER":"STATEMENT.TRANSACTION.RECEIVER"," "),i.Ab(1),i.rc("isStroke",!0),i.Ab(9),i.Sc(" ",a.transaction.correspondentName||i.nc(67,25,"STATEMENT.TRANSACTION.NO_TITLE")," "),i.Ab(8),i.Sc(" ",a.transaction.correspondentBin||"-",""),i.Ab(7),i.Sc(" ",i.nc(82,27,a.transaction.correspondentAccount)||"-",""),i.Ab(8),i.Sc(" ",(null==a.transaction.kbe?null:a.transaction.kbe.code)||"-",""),i.Ab(7),i.Sc(" ",a.transaction.correspondentAccount?i.nc(97,29,a.transaction.correspondentAccount):"-"," "),i.Ab(8),i.Sc(" ",a.transaction.correspondentBankBic||"-",""),i.Ab(1),i.rc("ngIf",a.transaction.emailOnSuccess)}}function vt(t,e){if(1&t&&(i.Ub(0),i.Oc(1,M,11,3,"section",47),i.Oc(2,D,10,2,"section",47),i.Oc(3,F,50,15,"ng-container",21),i.Oc(4,ut,105,37,"ng-container",21),i.Oc(5,bt,63,17,"ng-container",21),i.Oc(6,gt,106,31,"ng-container",21),i.Tb()),2&t){var n=i.lc(2);i.Ab(1),i.rc("ngIf",!n.transaction.isPayment&&n.transaction.isDebit&&(n.transaction.signHead||n.transaction.signBuch)),i.Ab(1),i.rc("ngIf",n.transaction.isPayment&&(null==n.signers?null:n.signers.length)>0),i.Ab(1),i.rc("ngIf",n.isTransferOwnGroup),i.Ab(1),i.rc("ngIf",n.isForeignGroup),i.Ab(1),i.rc("ngIf",n.isConversionGroup),i.Ab(1),i.rc("ngIf",n.isDefaultGroup)}}function yt(t,e){if(1&t&&(i.Ub(0),i.Oc(1,E,5,8,"section",33),i.Oc(2,I,2,1,"ng-container",21),i.Oc(3,P,42,9,"ng-container",21),i.Oc(4,vt,7,6,"ng-container",21),i.Tb()),2&t){var n=i.lc();i.Ab(1),i.rc("ngIf",n.transaction.isPayment),i.Ab(1),i.rc("ngIf",n.transaction.category==n.TRANSACTION_CATEGORY.COMMISSION||n.transaction.category==n.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.rc("ngIf",n.transaction.category==n.TRANSACTION_CATEGORY.COMMISSION),i.Ab(1),i.rc("ngIf",n.transaction.category!=n.TRANSACTION_CATEGORY.COMMISSION)}}function Tt(t,e){if(1&t&&(i.Wb(0,"div",64),i.Wb(1,"span",32),i.Qc(2,"STATEMENT.EMPLOYEES.ACCOUNT"),i.Vb(),i.Qc(3,": "),i.Wb(4,"span"),i.Qc(5),i.mc(6,"formatIban"),i.Vb(),i.Vb()),2&t){var n=i.lc().$implicit;i.Ab(5),i.Rc(i.nc(6,1,n.iban))}}function St(t,e){if(1&t&&(i.Wb(0,"div",64),i.Wb(1,"span",32),i.Qc(2,"STATEMENT.EMPLOYEES.IIN"),i.Vb(),i.Qc(3,": "),i.Wb(4,"span"),i.Qc(5),i.Vb(),i.Vb()),2&t){var n=i.lc().$implicit;i.Ab(5),i.Rc(n.iin)}}function Ct(t,e){if(1&t&&(i.Wb(0,"div",64),i.Wb(1,"span",32),i.Qc(2,"STATEMENT.EMPLOYEES.PERIOD"),i.Vb(),i.Qc(3,": "),i.Wb(4,"span"),i.Qc(5),i.mc(6,"date"),i.Vb(),i.Vb()),2&t){var n=i.lc().$implicit;i.Ab(5),i.Rc(i.oc(6,1,n.period,"MM.yyyy"))}}function At(t,e){if(1&t&&(i.Wb(0,"div",64),i.Wb(1,"span",32),i.Qc(2,"STATEMENT.EMPLOYEES.AMOUNT"),i.Vb(),i.Qc(3,": "),i.Rb(4,"j-money",54),i.Vb()),2&t){var n=i.lc().$implicit;i.Ab(4),i.rc("money",n.amount)}}function Ot(t,e){if(1&t&&(i.Wb(0,"div",62),i.Wb(1,"div",3),i.Qc(2),i.Vb(),i.Oc(3,Tt,7,3,"div",63),i.Oc(4,St,6,1,"div",63),i.Oc(5,Ct,7,4,"div",63),i.Oc(6,At,5,1,"div",63),i.Vb()),2&t){var n=e.$implicit;i.Ab(2),i.Uc("",n.lastname," ",n.firstname," ",n.middlename,""),i.Ab(1),i.rc("ngIf",n.iban),i.Ab(1),i.rc("ngIf",n.iin),i.Ab(1),i.rc("ngIf",n.period),i.Ab(1),i.rc("ngIf",n.amount)}}function _t(t,e){if(1&t){var n=i.Xb();i.Ub(0),i.Wb(1,"section",22),i.Wb(2,"section",57),i.Wb(3,"button",58),i.ic("click",(function(t){return i.Fc(n),i.lc().hideEmployees()})),i.Rb(4,"j-icon",59),i.Vb(),i.Wb(5,"h6",60),i.Qc(6,"STATEMENT.EMPLOYEES.TITLE"),i.Vb(),i.Vb(),i.Wb(7,"section",10),i.Oc(8,Ot,7,7,"div",61),i.Vb(),i.Vb(),i.Tb()}if(2&t){var a=i.lc();i.Ab(1),i.Hb("extra-padding",a.hasExtraPadding),i.rc("@employees",a.isEmployeesShown?"shown":"hidden"),i.Ab(7),i.rc("ngForOf",a.employees)}}function kt(t,e){if(1&t){var n=i.Xb();i.Wb(0,"j-transaction-details",65),i.ic("edited",(function(t){i.Fc(n);var e=i.lc();return e.editPayment(null,e.parentPayment)}))("repeated",(function(t){i.Fc(n);var e=i.lc();return e.repeatPayment(null,e.parentPayment)}))("exported",(function(t){i.Fc(n);var e=i.lc();return e.exportPayment(null,e.parentPayment)}))("downloaded",(function(t){i.Fc(n);var e=i.lc();return e.downloadIncomingPayment(null,e.parentPayment)}))("deleted",(function(t){i.Fc(n);var e=i.lc();return e.deletePayment(null,e.parentPayment)}))("signed",(function(t){i.Fc(n);var e=i.lc();return e.signPayment(null,e.parentPayment)}))("sentForSign",(function(t){i.Fc(n);var e=i.lc();return e.sendForSign(null,e.parentPayment)}))("closed",(function(t){return i.Fc(n),i.lc().hideInitialPayment()})),i.Vb()}if(2&t){var a=i.lc();i.rc("transaction",a.parentPayment)("mode",a.mode)("signers",a.signers)("hasExtraPadding",a.hasExtraPadding)}}var Et=function(){var t=function(){function t(e,n,a,r,o){_classCallCheck(this,t),this.statementService=e,this.translateService=n,this.paymentsSharedService=a,this.companyService=r,this.notifierService=o,this.TRANSACTION_CATEGORY=s.a,this.STATEMENT_MODE=c.b,this.hasExtraPadding=!1,this.repeated=new i.n,this.edited=new i.n,this.deleted=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.downloaded=new i.n,this.revoked=new i.n,this.closed=new i.n,this.transactionPaymentId=null,this.isEmployeesShown=!1,this.isParentPaymentShown=!1,this.isParentPaymentLoading=!1}return _createClass(t,[{key:"onClose",value:function(t){t.preventDefault(),this.closed.emit()}},{key:"ngOnInit",value:function(){this.paymentStatus=this.statementService.generatePaymentStatusLabel(this.transaction,!0),this.loadPaymentById(),this.generateSignersList(),this.countActions()}},{key:"ngOnDestroy",value:function(){this.closed.emit()}},{key:"repeatPayment",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(t=e)||void 0===t||t.preventDefault(),this.repeated.emit(n)}},{key:"editPayment",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),this.edited.emit(n)}},{key:"signPayment",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.signed.emit(a)}},{key:"sendForSign",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.sentForSign.emit(a)}},{key:"deletePayment",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.deleted.emit(a)}},{key:"revokePayment",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.revoked.emit(a)}},{key:"exportPayment",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.exported.emit(a)}},{key:"downloadIncomingPayment",value:function(t){var e,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(e=t)||void 0===e||e.preventDefault(),null===(n=t)||void 0===n||n.stopPropagation(),this.downloaded.emit(a)}},{key:"showEmployees",value:function(t){t.preventDefault(),this.isEmployeesShown=!0}},{key:"hideEmployees",value:function(){this.isEmployeesShown=!1}},{key:"isSignerShown",value:function(t){return t&&"\u041d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d"!=t&&"\u041d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e"!=t}},{key:"mapMoney",value:function(t,e){return{amount:t,currency:e}}},{key:"mapActionLabel",value:function(t){switch(this.transaction.paymentType){case o.i.IN_BETWEEN:return"STATEMENT.TRANSFER_ACTIONS.".concat(t);case o.i.CONVERSION:return"STATEMENT.CONVERSION_ACTIONS.".concat(t);default:return"STATEMENT.DETAILS.".concat(t)}}},{key:"loadPaymentById",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.transaction.isPayment){t.next=8;break}return t.next=3,this.statementService.getPaymentDetails(this.transaction.id);case 3:this.loadedPayment=t.sent,this.employees=this.loadedPayment.paymentEmployees,this.applyConversionRules(this.loadedPayment),t.next=15;break;case 8:if(t.t0=this.transaction.paymentColvirId&&this.transaction.category!=s.a.COMMISSION,!t.t0){t.next=15;break}return t.next=12,this.statementService.getPaymentDetailsFromColvir(this.transaction.paymentColvirId);case 12:this.loadedPayment=t.sent,this.transaction.paymentStatus=this.loadedPayment.status,this.loadedPayment.id&&(this.transaction.paymentId=this.loadedPayment.id,this.transaction.isExportable=!0,this.transaction.isRepeatable=!0,this.countActions());case 15:case"end":return t.stop()}}),t,this)})))}},{key:"loadParentPayment",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.parentPayment){e.next=4;break}this.isParentPaymentShown=!0,e.next=18;break;case 4:return this.isParentPaymentLoading=!0,e.prev=5,e.next=8,this.statementService.loadParentPayment(this.transaction.iban,this.transaction.parentReference);case 8:this.parentPayment=e.sent,this.isParentPaymentShown=!0,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this.notifierService.notify("error",this.translateService.instant(e.t0===l.a.RESOURCE_NOT_FOUND?"STATEMENT.DETAILS.INITIAL_PAYMENT_NOT_FOUND":"ERRORS.UNKNOWN_ERROR"));case 15:return e.prev=15,this.isParentPaymentLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[5,12,15,18]])})))}},{key:"hideInitialPayment",value:function(){this.isParentPaymentShown=!1}},{key:"applyConversionRules",value:function(t){var e,n=null===(e=t.details)||void 0===e?void 0:e.exchangeRate;t.type===o.i.CONVERSION&&n&&(this.mapConversionToAmount(n),this.calculateConversionRates(n))}},{key:"mapConversionToAmount",value:function(t){var e=t.sum,n=t.currencyFrom,a=t.currencyTo,i=t.calculatedSum;this.conversionToAmount=e.currency===n?{amount:i,currency:a}:e}},{key:"calculateConversionRates",value:function(t){var e=this.paymentsSharedService.getRateAmounts(t),n=e.from,a=e.to;this.conversionRateFrom=n,this.conversionRateTo=a}},{key:"generateSignersList",value:function(){var t;this.signers=this.companyService.generateSignersList(null===(t=this.transaction.paymentStatus)||void 0===t?void 0:t.code,this.transaction.signatureScheme,this.transaction.signatures)}},{key:"countActions",value:function(){var t=this,e=["isEditable","isRemovable","isRepeatable","isRevokable"].reduce((function(e,n){return t.transaction[n]&&++e||e}),0);this.transaction.isRepeatable||this.transaction.isPayment||this.transaction.category==s.a.COMMISSION||!this.transaction.paymentColvirId||e++,this.hasTwoActions=2===e,this.hasThreeActions=3===e}},{key:"title",get:function(){return this.statementService.getTransactionTitle(this.transaction)}},{key:"country",get:function(){var t,e,n,a,i=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.paymentRecipient)||void 0===e?void 0:e.country;if(i){var r;switch(this.translateService.currentLang){case"ru":default:r=i.nameRu;break;case"kz":r=i.nameKk;break;case"en":r=i.nameEn}return"".concat(i.code," - ").concat(r)}return(null===(a=null===(n=this.transaction)||void 0===n?void 0:n.foreignRecipient)||void 0===a?void 0:a.countryCode)||"-"}},{key:"isTransferOwnGroup",get:function(){return this.transaction.paymentType===o.i.IN_BETWEEN||this.transaction.paymentType===o.i.CARD_TO_ACCOUNT||this.transaction.paymentType===o.i.ACCOUNT_TO_CARD||this.transaction.paymentType===o.i.CARD_TO_CARD}},{key:"isForeignGroup",get:function(){return this.transaction.paymentType===o.i.FOREIGN}},{key:"isConversionGroup",get:function(){return this.transaction.paymentType===o.i.CONVERSION}},{key:"isDefaultGroup",get:function(){return!this.isTransferOwnGroup&&!this.isForeignGroup&&!this.isConversionGroup}},{key:"payerCardNumber",get:function(){var t,e,n,a,i=(null===(a=null===(n=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.details)||void 0===e?void 0:e.associatedField)||void 0===n?void 0:n.parameters)||void 0===a?void 0:a.payerCardNumber)||null;return i?"".concat(i.substring(0,4)," \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ").concat(i.substring(i.length-4,i.length)):null}},{key:"recipientCardNumber",get:function(){var t,e,n,a,i=(null===(a=null===(n=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.details)||void 0===e?void 0:e.associatedField)||void 0===n?void 0:n.parameters)||void 0===a?void 0:a.recipientCardNumber)||null;return i?"".concat(i.substring(0,4)," \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ").concat(i.substring(i.length-4,i.length)):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(u.a),i.Qb(d.e),i.Qb(b.a),i.Qb(m.a),i.Qb(p.c))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction-details"]],inputs:{mode:"mode",transaction:"transaction",hasExtraPadding:"hasExtraPadding",signers:"signers"},outputs:{repeated:"repeated",edited:"edited",deleted:"deleted",signed:"signed",sentForSign:"sentForSign",exported:"exported",downloaded:"downloaded",revoked:"revoked",closed:"closed"},decls:32,vars:29,consts:[[1,"details",3,"hidden"],[1,"details__header"],[1,"details__img",3,"isInversed","transaction"],[1,"p2","text-dark"],[1,"p3"],["class","text-danger","translate","STATEMENT.TRANSACTION.REFUND",4,"ngIf"],["class","transaction__status",3,"class",4,"ngIf"],[1,"text-muted","text-lowercase"],["href","#",1,"details__close","ml-auto",3,"click"],["size","md","name","cross",1,"size-md"],[1,"details__scrollable"],[1,"details__block","py-3","mt-0"],[1,"mb-0"],["showSign","true",3,"money","isDebit","isCredit"],[1,"p2"],["class","p3 details__error",3,"class","innerText",4,"ngIf"],[1,"p2","details__description"],["class","btn btn-md btn-primary details__button mb-2",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-primary details__button mb-2",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-primary details__button mb-2","translate","",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-outline-primary details__button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"employees"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","signed","sentForSign","closed",4,"ngIf"],["translate","STATEMENT.TRANSACTION.REFUND",1,"text-danger"],[1,"transaction__status"],[1,"p3","details__error",3,"innerText"],[1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],[1,"details__icon",3,"inlineSVG"],["href","#",1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],["href","#","translate","",1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],["href","#",1,"btn","btn-md","btn-outline-primary","details__button",3,"click"],["translate",""],["class","details__row",3,"details__row--two-items","details__row--three-items",4,"ngIf"],[1,"details__row"],["href","#","class","details__link details__block",3,"click",4,"ngIf"],["href","#",1,"details__link","details__block",3,"click"],[1,"details__block","details__block--collapsible"],[1,"details__collapse","d-flex","align-items-center"],["translate","",1,"mb-0"],["name","arrowUp",1,"ml-auto","details__arrow",3,"isStroke"],[1,"details__body","p2"],["class","j-desc-row",4,"ngIf"],[1,"j-desc-row"],[1,"text-muted","j-desc-child"],[1,"text-dark","j-desc-child"],[1,"d-flex","justify-content-between","details__collapse"],["class","details__block details__block--collapsible",4,"ngIf"],[1,"j-desc-row","details__collapse"],["translate","",1,"mb-0","j-desc-child"],["name","arrowUp",1,"ml-auto","details__arrow","j-desc-child",3,"isStroke"],["translate","",1,"text-muted","j-desc-child"],["class","j-desc-row",4,"ngFor","ngForOf"],["class","text-dark j-desc-child",4,"ngIf"],[3,"money"],[1,"j-desc-row",3,"hidden"],["href","#","translate","",1,"link-blue",3,"click"],[1,"details__header","employees__header"],["type","button","href","/",1,"btn","btn-outline-primary","f-page-close","employees__close",3,"click"],["name","chevronLeft","stroke","true","color","currentColor"],["translate","",1,"employees__heading"],["class","employees__item",4,"ngFor","ngForOf"],[1,"employees__item"],["class","employee__row text-muted",4,"ngIf"],[1,"employee__row","text-muted"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","signed","sentForSign","closed"]],template:function(t,e){1&t&&(i.Wb(0,"section",0),i.Wb(1,"section",1),i.Rb(2,"j-transaction-type",2),i.Wb(3,"article"),i.Wb(4,"div",3),i.Qc(5),i.Vb(),i.Wb(6,"div",4),i.Oc(7,f,1,0,"span",5),i.Oc(8,h,3,5,"span",6),i.Wb(9,"span",7),i.Qc(10),i.Vb(),i.Vb(),i.Vb(),i.Wb(11,"a",8),i.ic("click",(function(t){return e.onClose(t)})),i.Rb(12,"j-icon",9),i.Vb(),i.Vb(),i.Wb(13,"div",10),i.Wb(14,"section",11),i.Wb(15,"h3",12),i.Rb(16,"j-money",13),i.Vb(),i.Wb(17,"div",14),i.Qc(18),i.Vb(),i.Oc(19,g,2,6,"div",15),i.Wb(20,"div",16),i.Qc(21),i.mc(22,"translate"),i.Vb(),i.Oc(23,v,5,4,"button",17),i.Oc(24,y,3,3,"a",18),i.Oc(25,T,2,0,"a",19),i.Oc(26,S,4,1,"a",20),i.Oc(27,C,4,1,"a",20),i.Vb(),i.Oc(28,yt,5,4,"ng-container",21),i.Vb(),i.Vb(),i.Oc(29,_t,9,4,"ng-container",21),i.Wb(30,"section",22),i.Oc(31,kt,1,4,"j-transaction-details",23),i.Vb()),2&t&&(i.Hb("extra-padding",e.hasExtraPadding),i.rc("@details",e.isEmployeesShown||e.isParentPaymentShown?"hidden":"shown")("hidden",e.isEmployeesShown),i.Ab(2),i.rc("isInversed",!0)("transaction",e.transaction),i.Ab(3),i.Sc(" \u2116",e.transaction.documentNumber," "),i.Ab(2),i.rc("ngIf",e.transaction.category==e.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.rc("ngIf",e.transaction.isPayment&&e.transaction.paymentStatus),i.Ab(2),i.Sc(" ",e.transaction.dateStatusText," "),i.Ab(6),i.rc("money",e.transaction.balance)("isDebit",!e.transaction.isCredit)("isCredit",e.transaction.isCredit),i.Ab(2),i.Rc(e.title),i.Ab(1),i.rc("ngIf","BANK_COMPLETED"!=(null==e.transaction.paymentStatus?null:e.transaction.paymentStatus.code)&&e.transaction.paymentMessage),i.Ab(2),i.Sc(" ",e.transaction.description||i.nc(22,27,"STATEMENT.TRANSACTION.NO_DESCRIPTION")," "),i.Ab(2),i.rc("ngIf",e.transaction.isRepeatable&&(null==e.loadedPayment?null:e.loadedPayment.id)&&!e.transaction.isPayment),i.Ab(1),i.rc("ngIf",e.transaction.isSignable),i.Ab(1),i.rc("ngIf",!e.transaction.isSignable&&e.transaction.isSendableForSign),i.Ab(1),i.rc("ngIf",e.transaction.isExportable),i.Ab(1),i.rc("ngIf",e.transaction.isCredit),i.Ab(1),i.rc("ngIf",e.mode!=e.STATEMENT_MODE.CARDS),i.Ab(1),i.rc("ngIf",e.mode!=e.STATEMENT_MODE.CARDS),i.Ab(1),i.Hb("extra-padding",e.hasExtraPadding),i.rc("@employees",e.isParentPaymentShown?"shown":"hidden"),i.Ab(1),i.rc("ngIf",e.parentPayment))},styles:[":host{position:relative}.details,:host{overflow:hidden}.details{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;height:100vh}.details.extra-padding{padding-top:62px}@media(min-width:960px){.details.extra-padding{padding-top:100px}}@media(min-width:1280px){.details.extra-padding{padding-top:0}}.details__header{display:-webkit-box;display:flex;padding:1.5rem 1rem}.details__img{margin-right:12px}.details__button{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;width:100%;margin-bottom:0}.details__scrollable{-webkit-box-flex:1;flex-grow:1;overflow-y:auto;padding:0 1rem 1rem}.details__scrollable::-webkit-scrollbar{width:8px}.details__scrollable::-webkit-scrollbar-track{background:#fff}.details__scrollable::-webkit-scrollbar-thumb{background:#d6dadf;border-radius:10px}.details__collapse{padding:1rem}.details__block{background:#fff;border-radius:.5rem;padding:1rem;margin:.75rem 0}.details__block--collapsible{padding-top:0;padding-bottom:0}.details__arrow,.details__block--collapsible{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.details__arrow{-webkit-transform:rotate(540deg);transform:rotate(540deg)}.details__collapse{cursor:pointer;-webkit-box-align:center;align-items:center;margin-left:-1rem;margin-right:-1rem}.details__link{color:#1586bb;display:-webkit-box;display:flex;padding-left:1rem;padding-right:1rem;width:100%}.details__link:hover{color:#ef5630}.details__icon{margin-right:.5rem;display:block}.details__row{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.details__row--two-items{grid-template-columns:1fr 1fr}.details__row--three-items,.details__row--two-items{display:grid;-webkit-column-gap:.5rem;-moz-column-gap:.5rem;column-gap:.5rem}.details__row--three-items{grid-template-columns:1fr 1fr 1fr}.details__row--three-items .details__link,.details__row--two-items .details__link{width:auto;display:block;font-size:.875rem;text-align:center;padding-left:0;padding-right:0;word-spacing:30rem}.details__row--three-items .details__icon,.details__row--two-items .details__icon{margin-bottom:.5rem;margin-right:0}.details__description{color:#666c72;background:#f6f7f8;padding:.75rem 1rem;margin:1.5rem 0;border-radius:.5rem;word-break:break-all}.details__error{margin:1.5rem 0}.details__body{display:block;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.j-collapsed .details__body{padding-bottom:1rem}.j-collapsed .details__collapse .details__arrow{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.employees{width:100%;overflow:hidden;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;height:100vh}.employees.extra-padding{padding-top:62px}@media(min-width:960px){.employees.extra-padding{padding-top:100px}}@media(min-width:1280px){.employees.extra-padding{padding-top:0}}.employees__header{-webkit-box-align:center;align-items:center;padding-bottom:1rem}.employees__heading{margin-left:1rem}.employees__close{position:relative}.employees__item{padding:1rem;border-radius:.5rem;margin-bottom:.5rem;background:#fff}.employee__row{font-size:.875rem;margin-top:.25rem}"],encapsulation:2,data:{animation:[Object(r.n)("details",[Object(r.k)("shown",Object(r.l)({opacity:"1"})),Object(r.k)("hidden",Object(r.l)({opacity:"0"})),Object(r.m)("shown=>hidden",Object(r.e)("250ms")),Object(r.m)("hidden=>shown",Object(r.e)("250ms"))]),Object(r.n)("employees",[Object(r.k)("shown",Object(r.l)({right:"0%",transform:"scale(1)",opacity:"1"})),Object(r.k)("hidden",Object(r.l)({transform:"scale(0.5)",right:"-100%",opacity:"0"})),Object(r.m)("shown=>hidden",Object(r.e)("250ms")),Object(r.m)("hidden=>shown",Object(r.e)("250ms"))])]}}),t}()},QiVB:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("fXoL");function i(t,e){if(1&t){var n=a.Xb();a.Wb(0,"j-transaction-group",3),a.ic("selected",(function(t){return a.Fc(n),a.lc(2).onSelect(t)}))("signed",(function(t){return a.Fc(n),a.lc(2).onSign(t)}))("sentForSign",(function(t){return a.Fc(n),a.lc(2).onSentForSign(t)}))("deleted",(function(t){return a.Fc(n),a.lc(2).onDelete(t)}))("revoked",(function(t){return a.Fc(n),a.lc(2).onRevoke(t)})),a.Vb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.rc("group",i)("hasExtraPadding",r.hasExtraPadding)("hasLargeTransactions",r.statement.hasLargeTransactions)("isSelectable",r.isSelectable)("isTotalsShown",r.isTotalsShown)("isLoadingExtra",r.isLoadingExtra)("mode",r.mode)("type",r.statement.groupType)}}function r(t,e){if(1&t&&a.Rb(0,"j-empty-placeholder",4),2&t){var n=a.lc(2);a.rc("label",n.emptyLabel)}}function o(t,e){if(1&t&&(a.Ub(0),a.Oc(1,i,1,8,"j-transaction-group",1),a.Oc(2,r,1,1,"j-empty-placeholder",2),a.Tb()),2&t){var n=a.lc();a.Ab(1),a.rc("ngForOf",n.statement.transactionGroups),a.Ab(1),a.rc("ngIf",0==n.statement.totalTransactionsCount&&!n.isLoadingExtra)}}var c=function(){var t=function(){function t(){_classCallCheck(this,t),this.emptyLabel="HISTORY.EMPTY",this.hasExtraPadding=!1,this.isSelectable=!1,this.isTotalsShown=!0,this.isLoadingExtra=!1,this.selected=new a.n,this.deleted=new a.n,this.exported=new a.n,this.signed=new a.n,this.sentForSign=new a.n,this.revoked=new a.n}return _createClass(t,[{key:"onSelect",value:function(t){this.selected.emit(t)}},{key:"onDelete",value:function(t){this.deleted.emit(t)}},{key:"onSign",value:function(t){this.signed.emit(t)}},{key:"onSentForSign",value:function(t){this.sentForSign.emit(t)}},{key:"onRevoke",value:function(t){this.revoked.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement"]],inputs:{emptyLabel:"emptyLabel",mode:"mode",statement:"statement",hasExtraPadding:"hasExtraPadding",isSelectable:"isSelectable",isTotalsShown:"isTotalsShown",isLoadingExtra:"isLoadingExtra"},outputs:{selected:"selected",deleted:"deleted",exported:"exported",signed:"signed",sentForSign:"sentForSign",revoked:"revoked"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"group","hasExtraPadding","hasLargeTransactions","isSelectable","isTotalsShown","isLoadingExtra","mode","type","selected","signed","sentForSign","deleted","revoked",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[3,"group","hasExtraPadding","hasLargeTransactions","isSelectable","isTotalsShown","isLoadingExtra","mode","type","selected","signed","sentForSign","deleted","revoked"],[3,"label"]],template:function(t,e){1&t&&a.Oc(0,o,3,2,"ng-container",0),2&t&&a.rc("ngIf",e.statement)},styles:[""]}),t}()},"T+Ki":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("fXoL"),i=n("LA0w");function r(t,e){if(1&t&&(a.Wb(0,"h5",7),a.Rb(1,"j-money",8),a.Vb()),2&t){var n=a.lc().$implicit,i=a.lc();a.Hb("balances-amount--large-amount",i.statement.hasLargeBalances),a.rc("ngClass",n.textClass),a.Ab(1),a.rc("money",i.getMoney(n.property))("isDebit",n.isDebit||null)("isCredit",n.isCredit||null)("showSign",n.showSign)}}function o(t,e){if(1&t&&(a.Wb(0,"h5",9),a.Qc(1," - "),a.Vb()),2&t){var n=a.lc(2);a.Hb("balances-amount--large-amount",n.statement.hasLargeBalances)}}function c(t,e){if(1&t&&(a.Ub(0),a.Wb(1,"li",3),a.Wb(2,"div",4),a.Qc(3),a.Vb(),a.Oc(4,r,2,7,"h5",5),a.Oc(5,o,2,2,"h5",6),a.Vb(),a.Tb()),2&t){var n=e.$implicit,i=a.lc();a.Ab(3),a.Sc(" ",n.label," "),a.Ab(1),a.rc("ngIf",i.getMoney(n.property)),a.Ab(1),a.rc("ngIf",!i.getMoney(n.property))}}var s=function(){var t=function(){function t(e){_classCallCheck(this,t),this.currency=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.balanceList=[{label:"\u041f\u0440\u0438\u0445\u043e\u0434",textClass:"text-success",showSign:!0,isCredit:!0,isDebit:!1,property:"creditTotalSum"},{label:"\u0420\u0430\u0441\u0445\u043e\u0434",textClass:"text-danger",showSign:!0,isCredit:!1,isDebit:!0,property:"debitTotalSum"},{label:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u043d\u0430\u0447\u0430\u043b\u0435",textClass:"",showSign:!1,property:"balanceIn"},{label:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0432 \u043a\u043e\u043d\u0446\u0435",textClass:"",showSign:!1,property:"balanceOut"}]}},{key:"formatBalance",value:function(t,e){return this.currency.formatBalance(t,e)}},{key:"getMoney",value:function(t){return this.statement&&this.statement[t]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement-balances"]],inputs:{statement:"statement"},decls:3,vars:1,consts:[[1,"balances-wrap"],[1,"balances"],[4,"ngFor","ngForOf"],[1,"balances-item"],[1,"text-muted","balances-label"],["class","balances-amount",3,"balances-amount--large-amount","ngClass",4,"ngIf"],["class","balances-amount text-muted",3,"balances-amount--large-amount",4,"ngIf"],[1,"balances-amount",3,"ngClass"],[3,"money","isDebit","isCredit","showSign"],[1,"balances-amount","text-muted"]],template:function(t,e){1&t&&(a.Wb(0,"section",0),a.Wb(1,"ul",1),a.Oc(2,c,6,3,"ng-container",2),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.rc("ngForOf",e.balanceList))},styles:[".balances-wrap[_ngcontent-%COMP%]{padding:1rem 0;position:relative;border-bottom:1px solid #eceef1}.balances[_ngcontent-%COMP%]{min-width:100%;display:-webkit-box;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}@media(min-width:960px){.balances[_ngcontent-%COMP%]{flex-wrap:nowrap}}.balances-item[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:120px;margin-bottom:1rem;width:50%}@media(min-width:960px){.balances-item[_ngcontent-%COMP%]{margin-bottom:0;width:auto}}.balances-item[_ngcontent-%COMP%]:nth-child(n+3){margin-bottom:0}.balances-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:20px;margin-bottom:4px}@media(min-width:1280px){.balances-label[_ngcontent-%COMP%]{line-height:18px}}.balances-amount[_ngcontent-%COMP%]{font-size:.875rem;line-height:20px;margin-bottom:0}@media(min-width:670px){.balances-amount[_ngcontent-%COMP%]{font-size:1.25rem}}@media(min-width:1280px){.balances-amount[_ngcontent-%COMP%]{line-height:25px;font-size:1.25rem}}.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:.75rem}@media(min-width:670px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:1.25rem}}@media(min-width:960px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:.875rem}}@media(min-width:1280px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:1rem}}"]}),t}()},THGi:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u}));var a=n("fXoL");function i(t,e){if(1&t){var n=a.Xb();a.Wb(0,"j-filter-download",8),a.ic("downloaded",(function(t){return a.Fc(n),a.lc(2).onDownload(t)})),a.Vb()}}function r(t,e){if(1&t&&(a.Wb(0,"div",4),a.Rb(1,"j-filter-operations",3),a.Wb(2,"div",5),a.Rb(3,"j-filter-period-dropdown",6),a.Oc(4,i,1,0,"j-filter-download",7),a.Vb(),a.Vb()),2&t){var n=a.lc();a.Hb("mb-0",n.mode==n.FILTER_MODE.CARDS),a.Ab(1),a.rc("mode",n.mode),a.Ab(3),a.rc("ngIf",n.mode==n.FILTER_MODE.ACCOUNTS)}}function o(t,e){1&t&&(a.Wb(0,"div",9),a.Rb(1,"j-filter-status"),a.Vb())}function c(t,e){if(1&t){var n=a.Xb();a.Wb(0,"div",13),a.Wb(1,"a",14),a.ic("click",(function(t){return a.Fc(n),a.lc(2).toggleDownloadAside(t)})),a.Rb(2,"span",15),a.Vb(),a.Wb(3,"j-filter-aside",16),a.ic("closed",(function(t){return a.Fc(n),a.lc(2).toggleDownloadAside(t,!1)})),a.mc(4,"translate"),a.Wb(5,"j-filter-download",17),a.ic("downloaded",(function(t){return a.Fc(n),a.lc(2).onDownload(t)})),a.Vb(),a.Vb(),a.Vb()}if(2&t){var i=a.lc(2);a.Ab(1),a.Hb("toggled",i.isDownloadAsideShown),a.Ab(2),a.rc("mode",i.mode)("isShown",i.isDownloadAsideShown)("heading",a.nc(4,5,"FILTER.SHARE"))}}function s(t,e){if(1&t&&(a.Wb(0,"div",10),a.Rb(1,"j-filter-search",11),a.Oc(2,c,6,7,"div",12),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.rc("mode",n.mode)("currency",n.currency),a.Ab(1),a.rc("ngIf",n.mode==n.FILTER_MODE.ACCOUNTS)}}var l=function(t){return t.ACCOUNTS="ACCOUNTS",t.HISTORY="HISTORY",t.CARDS="CARDS",t}({}),u=function(){var t=function(){function t(){_classCallCheck(this,t),this.mode=l.ACCOUNTS,this.FILTER_MODE=l,this.downloaded=new a.n,this.isDownloadAsideShown=!1}return _createClass(t,[{key:"toggleDownloadAside",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!this.isDownloadAsideShown;t&&(t.stopPropagation(),t.preventDefault()),this.isDownloadAsideShown=e}},{key:"onDownload",value:function(t){this.downloaded.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter"]],inputs:{currency:"currency",mode:"mode"},outputs:{downloaded:"downloaded"},decls:4,vars:4,consts:[["class","filter-header d-none d-sm-flex",3,"mb-0",4,"ngIf"],["jTour","HISTORY.STATUSES","jTourPosition","bottom","class","filter-header d-none d-sm-block",4,"ngIf"],["class","filter-body",4,"ngIf"],[3,"mode"],[1,"filter-header","d-none","d-sm-flex"],[1,"filter-groups"],["jTour","STATEMENTS_ACCOUNT.FILTER","jTourPosition","left",1,"filter-group","d-none","d-sm-inline-block"],["jTour","STATEMENT.DOWNLOAD","jTourPosition","bottom","class","filter-group",3,"downloaded",4,"ngIf"],["jTour","STATEMENT.DOWNLOAD","jTourPosition","bottom",1,"filter-group",3,"downloaded"],["jTour","HISTORY.STATUSES","jTourPosition","bottom",1,"filter-header","d-none","d-sm-block"],[1,"filter-body"],["jTour","HISTORY.SEARCH","jTourPosition","bottom",3,"mode","currency"],["class","d-inline-block d-sm-none",4,"ngIf"],[1,"d-inline-block","d-sm-none"],["href","#",1,"filter-dropdown-toggle","filter-link","link-blue",3,"click"],["inlineSVG","./assets/icons/download.svg"],[3,"mode","isShown","heading","closed"],[3,"downloaded"]],template:function(t,e){1&t&&(a.Oc(0,r,5,4,"div",0),a.Oc(1,o,2,0,"div",1),a.Oc(2,s,3,3,"div",2),a.Rb(3,"j-filter-tags",3)),2&t&&(a.rc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS||e.mode==e.FILTER_MODE.CARDS),a.Ab(1),a.rc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(1),a.rc("ngIf",e.mode!=e.FILTER_MODE.CARDS),a.Ab(1),a.rc("mode",e.mode))},styles:[""],encapsulation:2}),t}()},UZjs:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("zwEd"),i=n("fXoL"),r=n("+eKG");function o(t,e){if(1&t&&i.Rb(0,"j-money",9),2&t){var n=i.lc();i.rc("money",null==n.card?null:n.card.balance)}}function c(t,e){if(1&t&&(i.Wb(0,"small",10),i.Qc(1),i.mc(2,"translate"),i.Vb()),2&t){var n=i.lc();i.Ab(1),i.Rc(i.nc(2,1,n.status))}}var s=function(){var t=function(){function t(e){_classCallCheck(this,t),this.cardsService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"cardImage",get:function(){var t="./assets/icons/accounts";switch(this.card.category){case a.a.PRIVATE:return"".concat(t,"/card-private.svg");case a.a.COMMERCIAL:default:return"".concat(t,"/card-commercial.svg")}}},{key:"cardMps",get:function(){var t="./assets/icons/cards/mps";return"4"===this.card.cardNumber[0]?"".concat(t,"/visa.svg"):"".concat(t,"/mastercard.svg")}},{key:"status",get:function(){if(this.card.status!==a.b.ACTIVE)return this.cardsService.mapCardStatus(this.card.status)}},{key:"label",get:function(){return this.cardsService.mapCardLabel(this.card)}},{key:"isBalanceShown",get:function(){return this.card.category===a.a.COMMERCIAL}},{key:"maskedCardNumber",get:function(){var t,e=null===(t=this.card)||void 0===t?void 0:t.cardNumber;return e?"".concat(e.substring(0,4)," \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ").concat(e.substring(e.length-4,e.length)):""}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(r.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-account-card"]],inputs:{card:"card"},decls:13,vars:8,consts:[[1,"account-item"],[1,"account-item__img",3,"inlineSVG"],[1,"account-item__body","p3"],[1,"text-muted"],[1,"text-dark","d-flex"],[1,"mr-2",3,"inlineSVG"],[1,"ml-auto","p3","text-right"],[3,"money",4,"ngIf"],["class","d-block text-muted",4,"ngIf"],[3,"money"],[1,"d-block","text-muted"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Rb(1,"span",1),i.Wb(2,"div",2),i.Wb(3,"div",3),i.Qc(4),i.mc(5,"translate"),i.Vb(),i.Wb(6,"div",4),i.Rb(7,"span",5),i.Wb(8,"span"),i.Qc(9),i.Vb(),i.Vb(),i.Vb(),i.Wb(10,"div",6),i.Oc(11,o,1,1,"j-money",7),i.Oc(12,c,3,3,"small",8),i.Vb(),i.Vb()),2&t&&(i.Ab(1),i.rc("inlineSVG",e.cardImage),i.Ab(3),i.Rc(i.nc(5,6,e.label)),i.Ab(3),i.rc("inlineSVG",e.cardMps),i.Ab(2),i.Rc(e.maskedCardNumber),i.Ab(2),i.rc("ngIf",e.isBalanceShown),i.Ab(1),i.rc("ngIf",e.status))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"]}),t}()},cIcs:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("ofXK"),i=n("fXoL"),r=n("2G+r"),o=n("sYmb");function c(t,e){if(1&t&&(i.Wb(0,"h5",9),i.Qc(1),i.mc(2,"translate"),i.Vb()),2&t){var n=i.lc(2);i.Ab(1),i.Rc(i.nc(2,1,n.title))}}function s(t,e){if(1&t&&(i.Wb(0,"h5",10),i.Qc(1),i.mc(2,"translate"),i.Vb()),2&t){var n=i.lc(2);i.Ab(1),i.Rc(i.nc(2,1,n.title))}}function l(t,e){if(1&t&&(i.Wb(0,"div",11),i.Rb(1,"j-money",12),i.Vb()),2&t){var n=i.lc(2);i.Ab(1),i.rc("money",n.group.debitSum)("isDebit",!0)("isCredit",!1)}}function u(t,e){if(1&t&&(i.Wb(0,"div",13),i.Rb(1,"j-money",14),i.Vb()),2&t){var n=i.lc(2);i.Ab(1),i.rc("money",n.group.creditSum)("isCredit",!0)("isDebit",!1)}}function d(t,e){if(1&t&&(i.Wb(0,"div",4),i.Oc(1,c,3,3,"h5",5),i.Oc(2,s,3,3,"h5",6),i.Oc(3,l,2,3,"div",7),i.Oc(4,u,2,3,"div",8),i.Vb()),2&t){var n=i.lc();i.Ab(1),i.rc("ngIf",n.group.hasTour),i.Ab(1),i.rc("ngIf",!n.group.hasTour),i.Ab(1),i.rc("ngIf",n.isTotalsShown),i.Ab(1),i.rc("ngIf",n.isTotalsShown)}}function b(t,e){if(1&t){var n=i.Xb();i.Wb(0,"j-transaction",17),i.ic("deleted",(function(t){return i.Fc(n),i.lc(2).onDelete(t)}))("revoked",(function(t){return i.Fc(n),i.lc(2).onRevoke(t)}))("signed",(function(t){return i.Fc(n),i.lc(2).onSign(t)}))("sentForSign",(function(t){return i.Fc(n),i.lc(2).onSentForSign(t)}))("selected",(function(t){i.Fc(n);var e=i.lc(),a=e.$implicit,r=e.index;return i.lc().onSelect(t,a,r)})),i.Vb()}if(2&t){var a=i.lc().$implicit,r=i.lc();i.rc("transaction",a)("mode",r.mode)("isSelectable",r.isSelectable)("hasExtraPadding",r.hasExtraPadding)("hasLargeTransactions",r.hasLargeTransactions)}}function m(t,e){if(1&t){var n=i.Xb();i.Wb(0,"j-transaction",18),i.ic("deleted",(function(t){return i.Fc(n),i.lc(2).onDelete(t)}))("revoked",(function(t){return i.Fc(n),i.lc(2).onRevoke(t)}))("signed",(function(t){return i.Fc(n),i.lc(2).onSign(t)}))("sentForSign",(function(t){return i.Fc(n),i.lc(2).onSentForSign(t)}))("selected",(function(t){i.Fc(n);var e=i.lc(),a=e.$implicit,r=e.index;return i.lc().onSelect(t,a,r)})),i.Vb()}if(2&t){var a=i.lc().$implicit,r=i.lc();i.rc("transaction",a)("mode",r.mode)("isSelectable",r.isSelectable)("hasExtraPadding",r.hasExtraPadding)("hasLargeTransactions",r.hasLargeTransactions)}}function p(t,e){if(1&t&&(i.Ub(0),i.Oc(1,b,1,5,"j-transaction",15),i.Oc(2,m,1,5,"j-transaction",16),i.Tb()),2&t){var n=e.index,a=i.lc();i.Ab(1),i.rc("ngIf",0==n&&"PAYMENTS"!=a.mode),i.Ab(1),i.rc("ngIf",n>0||"PAYMENTS"==a.mode)}}var f=function(){return{height:"86px","background-color":"#ECEEF1"}};function h(t,e){1&t&&(i.Wb(0,"div",19),i.Rb(1,"ngx-skeleton-loader",20),i.Vb()),2&t&&(i.Ab(1),i.rc("theme",i.vc(1,f)))}var g=function(){var t=function(){function t(e){_classCallCheck(this,t),this.translateService=e,this.isTotalsShown=!0,this.isSelectable=!1,this.hasExtraPadding=!1,this.isLoadingExtra=!1,this.selected=new i.n,this.deleted=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.revoked=new i.n,this.locale="ru",this.selectedTransactions=[],this.locale=this.translateService.currentLang}return _createClass(t,[{key:"ngAfterViewInit",value:function(){}},{key:"onSelect",value:function(t,e,n){t?this.selectedTransactions.push(e):this.selectedTransactions.splice(n,1),this.selected.emit(this.selectedTransactions)}},{key:"onDelete",value:function(t){this.deleted.emit(t)}},{key:"onRevoke",value:function(t){this.revoked.emit(t)}},{key:"onSign",value:function(t){this.signed.emit(t)}},{key:"onSentForSign",value:function(t){this.sentForSign.emit(t)}},{key:"convertToDayFormat",value:function(t){return Object(a.K)(t,"d MMMM yyyy",this.locale)}},{key:"convertToMonth",value:function(t){return Object(a.K)(t,"LLLL",this.locale)}},{key:"convertToMonthYear",value:function(t){return Object(a.K)(t,"LLLL y",this.locale)}},{key:"capitalized",value:function(t){return"".concat(t[0].toUpperCase()).concat(t.substr(1).toLowerCase())}},{key:"transactions",get:function(){return this.group&&this.group.transactions?this.group.transactions:[]}},{key:"title",get:function(){return this.group&&this.group.title?this.group.title:this.type==r.b.DAY?this.isToday?this.translateService.instant("FILTER.PERIOD.TODAY"):this.isYesterday?this.translateService.instant("FILTER.PERIOD.YESTERDAY"):this.capitalized(this.convertToDayFormat(this.date)):this.type==r.b.MONTH?this.capitalized(this.isCurrentYear?this.convertToMonth(this.date):this.convertToMonthYear(this.date)):null}},{key:"date",get:function(){return new Date(this.group.groupDate)}},{key:"isToday",get:function(){var t=new Date;return this.convertToDayFormat(this.date)==this.convertToDayFormat(t)}},{key:"isYesterday",get:function(){var t=new Date,e=new Date(t.setDate(t.getDate()-1));return this.convertToDayFormat(this.date)==this.convertToDayFormat(e)}},{key:"isCurrentYear",get:function(){var t=new Date;return this.date.getFullYear()==t.getFullYear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.e))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction-group"]],inputs:{mode:"mode",group:"group",type:"type",hasLargeTransactions:"hasLargeTransactions",isTotalsShown:"isTotalsShown",isSelectable:"isSelectable",hasExtraPadding:"hasExtraPadding",isLoadingExtra:"isLoadingExtra"},outputs:{selected:"selected",deleted:"deleted",signed:"signed",sentForSign:"sentForSign",exported:"exported",revoked:"revoked"},decls:4,vars:3,consts:[["class","transaction-group__header",4,"ngIf"],[1,"transaction-group__list"],[4,"ngFor","ngForOf"],["class","py-2",4,"ngIf"],[1,"transaction-group__header"],["jTour","HISTORY.OTHERS_FOR_SIGN","jTourPosition","right","class","transaction-group__title",4,"ngIf"],["class","transaction-group__title",4,"ngIf"],["class","d-none d-md-block p3 transaction-group__sum mr-3",4,"ngIf"],["class","d-none d-md-block p3 transaction-group__sum text-success",4,"ngIf"],["jTour","HISTORY.OTHERS_FOR_SIGN","jTourPosition","right",1,"transaction-group__title"],[1,"transaction-group__title"],[1,"d-none","d-md-block","p3","transaction-group__sum","mr-3"],["showSign","true",3,"money","isDebit","isCredit"],[1,"d-none","d-md-block","p3","transaction-group__sum","text-success"],["showSign","true",3,"money","isCredit","isDebit"],["jTour","STATEMENTS_ACCOUNT.TRANSACTIONS","jTourPosition","top",3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected",4,"ngIf"],[3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected",4,"ngIf"],["jTour","STATEMENTS_ACCOUNT.TRANSACTIONS","jTourPosition","top",3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected"],[3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected"],[1,"py-2"],[3,"theme"]],template:function(t,e){1&t&&(i.Oc(0,d,5,4,"div",0),i.Wb(1,"div",1),i.Oc(2,p,3,2,"ng-container",2),i.Oc(3,h,2,2,"div",3),i.Vb()),2&t&&(i.rc("ngIf",(null==e.group?null:null==e.group.transactions?null:e.group.transactions.length)>0),i.Ab(2),i.rc("ngForOf",e.transactions),i.Ab(1),i.rc("ngIf",e.isLoadingExtra))},styles:[".transaction-group__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:1rem 0;margin-bottom:.5rem}.transaction-group__title[_ngcontent-%COMP%]{margin-right:auto;margin-bottom:0}.transaction-group__loading[_ngcontent-%COMP%]{padding:2rem 0}"]}),t}()},crCf:function(t,e,n){"use strict";n.d(e,"a",(function(){return We}));var a=n("ofXK"),i=n("3Pt+"),r=n("PCNd"),o=n("1kSV"),c=n("sYmb"),s=n("xJkR"),l=n("fXoL"),u=n("QiVB"),d=n("T+Ki"),b=n("/68H"),m=n("pThr"),p=n("cIcs"),f=n("OTTH"),h=n("wqe5"),g=n("9K1F"),v=n("lYAS"),y=n("JvPu"),T=n("wwEr"),S=n("3v+J"),C=n("Y+uv"),A=n("/zfT"),O=n("xWtO"),_=n("BV3K"),k=n("B+58"),E=n("zOyH"),x=n("Cg+c"),I=n("Dwsl"),w=n("+uUT"),P=n("Ya7Z"),R=n("13E/"),V=n("cZYL"),M=n("jMpN"),W=n("ttPG"),D=n("vZvt"),L=n("0eeg"),N=n("Wo9y"),F=n("EBek"),j=n("570E"),Q=n("zdqJ"),U=n("i2Gl"),G=n("Kcpt"),B=n("Frqi"),H=n("M6pS"),K=n("paXB"),Y=n("Q98t"),q=n("EiG8"),X=n("4oqK"),z=n("c66K"),$=n("QfCG"),J=n("oa9T"),Z=n("SfXN"),tt=n("H6TZ"),et=n("jRXw"),nt=n("2aJj"),at=n("VA2L"),it=n("0AMz"),rt=n("W3Es"),ot=n("R4CF"),ct=n("9txL"),st=n("LXWx"),lt=n("5I09"),ut=n("S1F0"),dt=n("oKsb"),bt=n("fvpk"),mt=n("Tile"),pt=n("aF9I"),ft=n("aZ8m"),ht=n("UhoJ"),gt=n("sCra"),vt=n("fGuG"),yt=n("7/bn"),Tt=n("Bl/x"),St=n("zN9f"),Ct=n("Kx/q"),At=n("2FF4"),Ot=n("bSvt"),_t=n("jH+I"),kt=n("4cI0"),Et=n("kUBv"),xt=n("9Udv"),It=n("0jn5"),wt=n("fK/r"),Pt=n("Hjq/"),Rt=n("PGAL"),Vt=n("Kx0l"),Mt=n("gdaf"),Wt=n("LFY/"),Dt=n("I+WJ"),Lt=n("lABO"),Nt=n("hJI6"),Ft=n("JB36"),jt=n("4zJ+"),Qt=n("XpgD"),Ut=n("MfWJ"),Gt=n("B8HE"),Bt=n("NpBu"),Ht=n("TaxS"),Kt=n("tkTF"),Yt=n("yy4r"),qt=n("wGsJ"),Xt=n("ZVDf"),zt=n("l/gM"),$t=n("UoEe"),Jt=n("gN/K"),Zt=n("+hcb"),te=n("h7tf"),ee=n("9odQ"),ne=n("WqMH"),ae=n("3MRA"),ie=n("Zgqj"),re=n("oMXN"),oe=n("rqas"),ce=n("dnqU"),se=n("tp+K"),le=n("saU0"),ue=n("ZF3e"),de=n("JqCM"),be=n("qew9"),me=n("d/d6"),pe=n("e8Ap"),fe=n("Dvla"),he=n("K1R0"),ge=n("dlKe"),ve=n("DPnb"),ye=n("C6g9"),Te=n("3M96"),Se=n("DHcY"),Ce=n("adOO"),Ae=n("Eajh"),Oe=n("Ub7F"),_e=n("OHc7"),ke=n("I0Rk"),Ee=n("tepA"),xe=n("Bs9s"),Ie=n("ScFe"),we=n("SCaJ"),Pe=n("wV3k"),Re=n("wY9W"),Ve=n("7Fmj"),Me=n("3skF"),We=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[a.c,r.a,i.n,o.F,c.c,s.b]]}),t}();l.Ic(u.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(d.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(m.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(p.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(f.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(g.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d]),l.Ic(v.a,[u.a,d.a,b.a,m.a,p.a,f.a,h.a,g.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,y.a,T.a,S.a,C.a,A.a,O.a,_.b,k.a,E.a,x.a,I.a,w.a,P.a,_.a,R.a,V.b,V.a,M.a,W.a,D.a,L.a,N.a,F.a,j.a,Q.a,U.b,G.a,B.a,H.a,K.a,Y.a,q.a,X.a,z.a,$.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,rt.a,ot.a,ct.a,st.a,lt.a,ut.a,dt.a,bt.a,mt.a,pt.a,ft.a,ht.a,gt.a,vt.a,yt.a,Tt.a,St.a,Ct.a,At.a,Ot.a,_t.a,kt.a,Et.a,xt.a,It.a,wt.a,Pt.a,Rt.a,Vt.a,Mt.a,Wt.a,Dt.a,Lt.a,Nt.a,Ft.a,jt.a,Qt.a,Ut.a,Gt.a,Bt.a,Ht.a,Kt.a,Yt.a,qt.a,Xt.a,zt.a,$t.a,Jt.a,Zt.a,te.a,ee.b,ne.a,ae.a,ie.a,re.a,oe.a,ce.a,se.a,le.a,ue.a,de.a,be.a,me.a,pe.a,c.a,o.E,fe.a,fe.b,he.a,s.a,ge.a,ve.a,ve.c,ve.b,ye.a,Te.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Se.a,Ce.a,Ae.a,Oe.a,_e.a,ke.a,Ee.a,xe.a,Ie.a,we.a,Pe.a,Re.a,Ve.a,Me.a,c.d])},"ct+p":function(t,e,n){"use strict";n.r(e);var a,i,r=n("ofXK"),o=n("3Pt+"),c=n("qew9"),s=n("1kSV"),l=n("tmjD"),u=n("dlKe"),d=n("xJkR"),b=n("PCNd"),m=n("M4UK"),p=n("5cNS"),f=n("crCf"),h=n("tyNb"),g=n("Kd2e"),v=n("gzBp"),y=n("itXk"),T=n("pLZG"),S=n("lJxs"),C=n("3E0/"),A=n("fXoL"),O=n("VnnJ"),_=n("kmKP"),k=n("qXBG"),E=((i=function(){function t(e,n,a){_classCallCheck(this,t),this.company=e,this.user=n,this.auth=a}return _createClass(t,[{key:"canActivate",value:function(t,e){return Object(y.a)([this.company.currentCompany$,this.user.getUser()]).pipe(Object(T.a)((function(t){var e=_slicedToArray(t,2),n=e[0],a=e[1];return!!n&&!!a})),Object(S.a)((function(){return!0})),Object(C.a)(0))}}]),t}()).\u0275fac=function(t){return new(t||i)(A.ec(O.a),A.ec(_.b),A.ec(k.a))},i.\u0275prov=A.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),x=((a=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this.featureFlagsService=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this,a=t.data.featureFlag;return new Promise((function(t,e){n.featureFlagsService.isDisabledPromise(a).then((function(e){e?(n.router.navigate(["/"]),t(!1)):t(!0)}))}))}}]),t}()).\u0275fac=function(t){return new(t||a)(A.ec(h.c),A.ec(g.b))},a.\u0275prov=A.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),I=n("mrSG"),w=n("quSY"),P=n("4Nuw"),R=n("zwEd"),V=n("ZF+8"),M=n("0zi4"),W=n("dnqU"),D=n("sYmb"),L=n("LA0w"),N=n("zN9f"),F=n("Kx/q"),j=n("e8Ap");function Q(t,e){if(1&t&&(A.Wb(0,"div",1),A.Rb(1,"span",2),A.Wb(2,"span"),A.Qc(3),A.Vb(),A.Vb()),2&t){var n=A.lc();A.Ab(3),A.Sc(" ",n.account.maskedAlterCode," ")}}var U,G=((U=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||U)},U.\u0275cmp=A.Kb({type:U,selectors:[["j-account-alter-code"]],inputs:{account:"account"},decls:1,vars:1,consts:[["class","alter-code",4,"ngIf"],[1,"alter-code"],["inlineSVG","assets/icons/v2/atf-24.svg",1,"mr-2"]],template:function(t,e){1&t&&A.Oc(0,Q,4,1,"div",0),2&t&&A.rc("ngIf",null==e.account?null:e.account.hasAtfIban)},directives:[r.u,j.a],styles:[".alter-code[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;color:#b7bec5}"]}),U),B=n("xErE");function H(t,e){1&t&&(A.Qc(0),A.mc(1,"translate")),2&t&&A.Sc(" ",A.nc(1,1,"ACCOUNTS.INACTIVE"),"\n")}function K(t,e){if(1&t&&(A.Qc(0),A.mc(1,"translate")),2&t){var n=A.lc();A.Sc(" ",A.oc(1,1,"ACCOUNTS.INACTIVE_WITH_DATE",n.titleParams),"\n")}}function Y(t,e){if(1&t&&(A.Rb(0,"div",7),A.mc(1,"translate")),2&t){var n=A.lc();A.rc("innerHTML",A.oc(1,1,"ACCOUNTS.MIGRATED",n.descriptionParams),A.Gc)}}var q,X=((q=function(){function t(e,n){var a=this;_classCallCheck(this,t),this.accountsService=e,this.locale=n,this.isLarge=!1,this.subscription=new w.a,this.subscription.add(this.accountsService.getMergeDate().subscribe((function(t){a.descriptionParams=a.mapTranslateParams(t,"d.MM.yy"),a.titleParams=a.mapTranslateParams(t,"d MMMM")})))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"mapTranslateParams",value:function(t,e){return{date:Object(r.K)(t,"d.MM.yy",this.locale)}}}]),t}()).\u0275fac=function(t){return new(t||q)(A.Qb(B.a),A.Qb(A.u))},q.\u0275cmp=A.Kb({type:q,selectors:[["j-account-migrated"]],inputs:{isLarge:"isLarge"},decls:10,vars:4,consts:[["tooltipClass","tooltip-light",1,"migrated",3,"ngbTooltip"],["inlineSVG","assets/icons/v2/fail-16.svg",1,"migrated__icon"],[1,"migrated__text","text-danger"],[3,"ngTemplateOutlet"],["titleDefaultTemplate",""],["titleLargeTemplate",""],["migratedTooltipTemplate",""],[1,"text-left",3,"innerHTML"]],template:function(t,e){if(1&t&&(A.Wb(0,"div",0),A.Rb(1,"span",1),A.Wb(2,"strong",2),A.Sb(3,3),A.Vb(),A.Vb(),A.Oc(4,H,2,3,"ng-template",null,4,A.Pc),A.Oc(6,K,2,4,"ng-template",null,5,A.Pc),A.Oc(8,Y,2,4,"ng-template",null,6,A.Pc)),2&t){var n=A.Cc(5),a=A.Cc(7),i=A.Cc(9);A.rc("ngbTooltip",i),A.Ab(2),A.Db(e.isLarge?"ml-1":"p4"),A.Ab(1),A.rc("ngTemplateOutlet",e.isLarge?a:n)}},directives:[s.E,j.a,r.B],pipes:[D.d],styles:[".migrated[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;line-height:12px}.migrated__icon[_ngcontent-%COMP%]{height:16px;margin-right:2px}"]}),q);function z(t,e){1&t&&A.Rb(0,"j-account-migrated",11)}function $(t,e){if(1&t&&(A.Wb(0,"div",7),A.Wb(1,"div",8),A.Wb(2,"span"),A.Qc(3),A.Vb(),A.Oc(4,z,1,0,"j-account-migrated",9),A.Vb(),A.Rb(5,"j-account-alter-code",10),A.Vb()),2&t){var n=A.lc();A.Ab(3),A.Rc(n.account.maskedIban),A.Ab(1),A.rc("ngIf",n.account.isMigrated),A.Ab(1),A.rc("account",n.account)}}function J(t,e){1&t&&A.Rb(0,"img",12)}var Z,tt=((Z=function(){function t(e){_classCallCheck(this,t),this.currency=e,this.isRoutable=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(t){console.log(t)}},{key:"balance",get:function(){return this.account&&this.account.balance}},{key:"amount",get:function(){return this.currency.formatBalance(this.balance)}}]),t}()).\u0275fac=function(t){return new(t||Z)(A.Qb(L.a))},Z.\u0275cmp=A.Kb({type:Z,selectors:[["j-account-box"]],inputs:{account:"account",isRoutable:"isRoutable"},decls:7,vars:4,consts:[[1,"account-header"],["class","p2",4,"ngIf"],["src","./assets/icons/arrow-right.svg","class","account-arrow",4,"ngIf"],[1,"account-footer"],["size","sm",1,"account-img",3,"name"],[1,"account-amount"],[3,"money"],[1,"p2"],[1,"account__iban"],["class","ml-2",4,"ngIf"],[3,"account"],[1,"ml-2"],["src","./assets/icons/arrow-right.svg",1,"account-arrow"]],template:function(t,e){1&t&&(A.Wb(0,"div",0),A.Oc(1,$,6,3,"div",1),A.Oc(2,J,1,0,"img",2),A.Vb(),A.Wb(3,"div",3),A.Rb(4,"j-entity-logo",4),A.Wb(5,"h4",5),A.Rb(6,"j-money",6),A.Vb(),A.Vb()),2&t&&(A.Ab(1),A.rc("ngIf",e.account),A.Ab(1),A.rc("ngIf",e.isRoutable),A.Ab(2),A.rc("name",e.balance.currency),A.Ab(2),A.rc("money",e.balance))},directives:[r.u,N.a,F.a,G,X],styles:["[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}"]}),Z),et=n("fkRG");function nt(t,e){if(1&t&&(A.Ub(0),A.Wb(1,"div",1),A.Wb(2,"div",2),A.Wb(3,"span",3),A.Qc(4),A.Vb(),A.Wb(5,"div",4),A.Wb(6,"div",5),A.Qc(7),A.Vb(),A.Rb(8,"j-card-status",6),A.Vb(),A.Vb(),A.Rb(9,"img",7),A.Vb(),A.Wb(10,"div",8),A.Rb(11,"img",9),A.Wb(12,"h4",10),A.Rb(13,"j-money",11),A.Vb(),A.Vb(),A.Tb()),2&t){var n=A.lc();A.Ab(4),A.Sc(" ",n.card.alias||n.card.formattedName," "),A.Ab(3),A.Rc(n.card.maskedNumber),A.Ab(1),A.rc("isSmall",!0)("status",n.card.status),A.Ab(5),A.rc("money",n.card.balance)}}var at,it=((at=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=A.Kb({type:at,selectors:[["j-card-box"]],inputs:{card:"card"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"account-header","p2"],[1,"account-iban-wrap"],[1,"account-iban","text-truncate"],[1,"d-flex"],[1,"text-muted","no-wrap"],[1,"no-wrap",3,"isSmall","status"],["src","./assets/icons/arrow-right.svg",1,"account-arrow"],[1,"account-footer"],["src","./assets/img/home/card-chip.svg"],[1,"ml-3","account-amount"],[3,"money"]],template:function(t,e){1&t&&A.Oc(0,nt,14,5,"ng-container",0),2&t&&A.rc("ngIf",e.card)},directives:[r.u,et.a,F.a],styles:["[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;width:285px;height:145px;margin-bottom:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account-iban[_ngcontent-%COMP%]{display:block}.account-iban-wrap[_ngcontent-%COMP%]{max-width:calc(100% - 1rem)}"]}),at),rt=n("4cI0"),ot=function(){return{width:"100px",height:"30px","margin-top":"2rem","background-color":"#ECEEF1"}},ct=function(){return{width:"285px",height:"145px","margin-right":"1rem","background-color":"#ECEEF1"}};function st(t,e){1&t&&(A.Ub(0),A.Rb(1,"ngx-skeleton-loader",4),A.Rb(2,"br"),A.Rb(3,"ngx-skeleton-loader",5),A.Tb()),2&t&&(A.Ab(1),A.rc("theme",A.vc(2,ot)),A.Ab(2),A.rc("theme",A.vc(3,ct)))}function lt(t,e){if(1&t){var n=A.Xb();A.Wb(0,"j-account-box",11),A.ic("click",(function(t){A.Fc(n);var a=e.$implicit;return A.lc(3).navigateToAccount(a)})),A.Vb()}2&t&&A.rc("account",e.$implicit)}function ut(t,e){if(1&t&&(A.Wb(0,"div",12),A.Qc(1),A.Vb()),2&t){var n=A.lc(3);A.Ab(1),A.Rc(n.accountsError)}}function dt(t,e){if(1&t&&(A.Ub(0),A.Wb(1,"div",7),A.Qc(2,"ACCOUNTS.REGULARS "),A.Vb(),A.Wb(3,"div",8),A.Oc(4,lt,1,1,"j-account-box",9),A.Oc(5,ut,2,1,"div",10),A.Vb(),A.Tb()),2&t){var n=A.lc(2);A.Ab(4),A.rc("ngForOf",n.accounts),A.Ab(1),A.rc("ngIf",n.accountsError)}}function bt(t,e){if(1&t&&(A.Wb(0,"div",6),A.Oc(1,dt,6,2,"ng-container",1),A.Vb()),2&t){var n=A.lc();A.Ab(1),A.rc("ngIf",(null==n.accounts?null:n.accounts.length)>0)}}function mt(t,e){if(1&t){var n=A.Xb();A.Wb(0,"j-card-box",14),A.ic("click",(function(t){A.Fc(n);var a=e.$implicit;return A.lc(2).navigateToCorporateCard(a)})),A.Vb()}2&t&&A.rc("card",e.$implicit)}function pt(t,e){if(1&t&&(A.Wb(0,"div",12),A.Qc(1),A.Vb()),2&t){var n=A.lc(2);A.Ab(1),A.Rc(n.cardsError)}}function ft(t,e){if(1&t&&(A.Wb(0,"div",6),A.Wb(1,"div",7),A.Qc(2,"ACCOUNTS.CARDS "),A.Vb(),A.Wb(3,"div",8),A.Oc(4,mt,1,1,"j-card-box",13),A.Oc(5,pt,2,1,"div",10),A.Vb(),A.Vb()),2&t){var n=A.lc();A.Ab(4),A.rc("ngForOf",n.cards),A.Ab(1),A.rc("ngIf",n.cardsError)}}function ht(t,e){if(1&t){var n=A.Xb();A.Wb(0,"j-account-box",11),A.ic("click",(function(t){A.Fc(n);var a=e.$implicit;return A.lc(2).navigateToAccount(a)})),A.Vb()}2&t&&A.rc("account",e.$implicit)}function gt(t,e){if(1&t&&(A.Wb(0,"div",6),A.Wb(1,"div",7),A.Qc(2,"ACCOUNTS.DEPOSITS "),A.Vb(),A.Wb(3,"div",8),A.Oc(4,ht,1,1,"j-account-box",9),A.Vb(),A.Vb()),2&t){var n=A.lc();A.Ab(4),A.rc("ngForOf",n.deposits)}}function vt(t,e){if(1&t){var n=A.Xb();A.Wb(0,"j-empty-placeholder",15),A.ic("retried",(function(t){return A.Fc(n),A.lc().loadLists()})),A.Vb()}2&t&&A.rc("hasRetry",!0)}var yt,Tt,St=((yt=function(){function t(e,n,a,i,r,o,c){var s=this;_classCallCheck(this,t),this.companyService=e,this.accountsService=n,this.cardsService=a,this.router=i,this.route=r,this.authService=o,this.tourService=c,this.accountsError="",this.cardsError="",this.subscription=new w.a,this.isAccountsLoading=!1,this.pendingCardRequest=null,this.pendingAccountsRequest=null,this.tourStartId=null;var l=this.route.paramMap.pipe(Object(S.a)((function(){return window.history.state}))).subscribe((function(t){s.tourStartId=t.tourStartId,s.initTour()})),u=this.tourService.onTourStart$.subscribe((function(t){console.log(t),s.tourStartId=t,t&&s.initTour()}));this.subscription.add(l),this.subscription.add(u)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.accountsStore=this.accountsService.store,this.accountsStore.items$.subscribe((function(t){}),(function(t){})),this.subscription.add(this.companyService.refresh$.subscribe((function(e){var n=_slicedToArray(e,3);n[0],n[1],n[2]?t.loadLists():(t.authService.logout(),t.accounts=null,t.cards=null)})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"loadLists",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loadCards(),this.loadAccountsAndDeposits();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"loadAccountsAndDeposits",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.accounts=null,this.deposits=null,this.isAccountsLoading=!0,t.prev=1,t.next=4,this.accountsService.getAccounts(this.companyService.currentId);case 4:e=t.sent,this.applyMigratedAccountsRule(e),this.accounts=e.filter((function(t){return t.accountType===P.a.ACCOUNT})),this.deposits=e.filter((function(t){return t.accountType===P.a.DEPOSIT})),this.accounts.filter((function(t){return t.hasAtfIban})).length>0?this.applyFirstAtfAccountsRule(this.accounts):this.deposits.filter((function(t){return t.hasAtfIban})).length>0&&this.applyFirstAtfAccountsRule(this.deposits),this.tourStartId=this.tourService.onTourStart$.value,this.initTour(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.accountsError=t.t0.desciption||t.t0.code||t.t0;case 11:return t.prev=11,this.isAccountsLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})))}},{key:"initTour",value:function(){switch(this.tourStartId){case"HOME":this.tourService.startTour(V.e.HOME);break;case"REQUISITES":this.tourService.startTour(V.e.REQUISITES_HOME);break;case"STATEMENT":this.tourService.startTour(V.e.STATEMENTS_HOME);break;case"HISTORY":this.tourService.startTour(V.e.HISTORY_HOME);break;case"IMPORT":this.tourService.startTour(V.e.IMPORT);break;case"CREATE_PAYMENT":this.tourService.startTour(V.e.CREATE_PAYMENT)}this.tourStartId=null}},{key:"navigateToAccount",value:function(t){var e;switch(this.tourService.onTourStart$.value){case"REQUISITES":e="REQUISITES_HOME.ACCOUNT";break;case"STATEMENT":e="STATEMENTS_HOME.ACCOUNT"}this.tourService.onTourStart$.next(null),this.router.navigate(["/accounts/".concat(t.iban)],{relativeTo:this.route,state:{tourStep:e}})}},{key:"navigateToCorporateCard",value:function(t){this.router.navigate(["/cards/".concat(t.cardId)])}},{key:"applyFirstAtfAccountsRule",value:function(t){t.find((function(t){return t.hasAtfIban})).isFirstAtfInTheList=!0}},{key:"startAccountsListTour",value:function(){this.tourService.startTour(V.e.HOME)}},{key:"applyMigratedAccountsRule",value:function(t){t.find((function(t){return t.isMigrated}))&&this.accountsService.retrieveMergeDate()}},{key:"loadCards",value:function(){var t=this;this.pendingCardRequest&&this.pendingCardRequest.unsubscribe(),this.cards=null,this.pendingCardRequest=this.cardsService.getCorporateCardsAsObservable().subscribe((function(e){t.cards=e.filter((function(t){return t.category===R.a.COMMERCIAL})),t.pendingCardRequest=null}))}},{key:"deposits$",get:function(){return this.accountsStore.items$.pipe(Object(S.a)((function(t){return t.filter((function(t){return t.accountType===P.a.DEPOSIT}))})))}},{key:"accounts$",get:function(){return this.accountsStore.items$.pipe(Object(S.a)((function(t){return t.filter((function(t){return t.accountType===P.a.ACCOUNT}))})))}}]),t}()).\u0275fac=function(t){return new(t||yt)(A.Qb(O.a),A.Qb(P.c),A.Qb(M.a),A.Qb(h.c),A.Qb(h.a),A.Qb(k.a),A.Qb(V.g))},yt.\u0275cmp=A.Kb({type:yt,selectors:[["j-accounts-list"]],decls:9,vars:5,consts:[[1,"accounts-block"],[4,"ngIf"],["class","accounts-wrap",4,"ngIf"],["label","ACCOUNTS.EMPTY_STATE",3,"hasRetry","retried",4,"ngIf"],[3,"theme"],["count","2",3,"theme"],[1,"accounts-wrap"],["translate","",1,"accounts-heading"],[1,"accounts-list"],[3,"account","click",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"account","click"],[1,"alert","alert-danger"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"],["label","ACCOUNTS.EMPTY_STATE",3,"hasRetry","retried"]],template:function(t,e){1&t&&(A.Wb(0,"div",0),A.Wb(1,"div"),A.Oc(2,st,4,4,"ng-container",1),A.Wb(3,"div"),A.Oc(4,bt,2,1,"div",2),A.Oc(5,ft,6,2,"div",2),A.Oc(6,gt,5,1,"div",2),A.Oc(7,vt,1,1,"j-empty-placeholder",3),A.Vb(),A.Vb(),A.Rb(8,"j-exchange-rates"),A.Vb()),2&t&&(A.Ab(2),A.rc("ngIf",e.isAccountsLoading),A.Ab(2),A.rc("ngIf",!e.isAccountsLoading),A.Ab(1),A.rc("ngIf",(null==e.cards?null:e.cards.length)>0),A.Ab(1),A.rc("ngIf",(null==e.deposits?null:e.deposits.length)>0),A.Ab(1),A.rc("ngIf",0==(null==e.accounts?null:e.accounts.length)&&0==(null==e.cards?null:e.cards.length)&&0==(null==e.deposits?null:e.deposits.length)))},directives:[r.u,W.a,d.a,D.a,r.t,tt,it,rt.a],styles:[".accounts-block[_ngcontent-%COMP%]{display:grid;row-gap:1rem}@media(min-width:670px){.accounts-block[_ngcontent-%COMP%]{grid-template-columns:1fr 295px}}.accounts-wrap[_ngcontent-%COMP%]{margin:2rem 0}.accounts-heading[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]{min-height:145px;position:relative}.deposit-item[_ngcontent-%COMP%]{cursor:default!important}"]}),yt),Ct=n("R0Ic"),At=n("aDQ/"),Ot=n("paXB"),_t=n("7/bn"),kt=n("oMXN"),Et=n("EiG8"),xt=n("aZ8m"),It=((Tt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"prepareRoute",value:function(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}]),t}()).\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=A.Kb({type:Tt,selectors:[["j-home"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-lg-10","offset-lg-1","col-xl-8","offset-xl-2"]],template:function(t,e){1&t&&(A.Wb(0,"j-layout-home"),A.Wb(1,"j-aside"),A.Rb(2,"j-nav-main"),A.Vb(),A.Wb(3,"j-main"),A.Wb(4,"section",0),A.Wb(5,"section",1),A.Rb(6,"j-header"),A.Rb(7,"router-outlet"),A.Vb(),A.Vb(),A.Vb(),A.Vb())},directives:[Ot.a,_t.a,kt.a,Et.a,xt.a,h.h],styles:[""],encapsulation:2,data:{animation:[Object(Ct.n)("routeAnimations",[Object(Ct.m)("* => slideRouteAnimations",Object(Ct.o)(At.a))])]}}),Tt),wt=n("IzEk"),Pt=n("9N4E"),Rt=n("y5b2"),Vt=n("TwVa"),Mt=n("jZlK"),Wt=n("iCQh"),Dt=n("mR7B"),Lt=n("S1F0"),Nt=n("oKsb"),Ft=n("zdqJ"),jt=n("fvpk"),Qt=n("Tile"),Ut=n("THGi"),Gt=n("S09V"),Bt=n("7rOj"),Ht=n("VO+5"),Kt=n("Dvla");function Yt(t,e){if(1&t){var n=A.Xb();A.Wb(0,"div"),A.Wb(1,"div",18),A.Wb(2,"div",3),A.Rb(3,"div",19),A.Wb(4,"button",5),A.ic("loaded",(function(t){return A.Fc(n),A.lc().onAccountLoad(t)}))("failed",(function(t){return A.Fc(n),A.lc().onAccountFail()}))("click",(function(t){return A.Fc(n),A.lc().onQrService(t)})),A.Rb(5,"span",6),A.Rb(6,"span",7),A.Vb(),A.Vb(),A.Rb(7,"img",8),A.Vb(),A.Vb()}2&t&&(A.Ab(5),A.rc("inlineSVG","assets/icons/account/print.svg"))}function qt(t,e){1&t&&(A.Wb(0,"h6",20),A.Qc(1),A.mc(2,"translate"),A.Vb()),2&t&&(A.Ab(1),A.Rc(A.nc(2,1,"ACCOUNTS.REQUISITES.LIST_TITLE")))}function Xt(t,e){if(1&t&&(A.Wb(0,"div",21),A.Wb(1,"div",22),A.Qc(2),A.mc(3,"translate"),A.Vb(),A.Wb(4,"div",23),A.Qc(5),A.Vb(),A.Vb()),2&t){var n=e.$implicit;A.Ab(2),A.Sc(" ",A.nc(3,2,n.label),": "),A.Ab(3),A.Sc(" ",n.value," ")}}function zt(t,e){if(1&t&&(A.Wb(0,"div",21),A.Wb(1,"div",22),A.Qc(2),A.mc(3,"translate"),A.Vb(),A.Wb(4,"div",23),A.Qc(5),A.Vb(),A.Vb()),2&t){var n=e.$implicit;A.Ab(2),A.Sc(" ",A.nc(3,2,n.label),": "),A.Ab(3),A.Sc(" ",n.value," ")}}function $t(t,e){if(1&t&&(A.Wb(0,"div",24),A.Wb(1,"h6",20),A.Qc(2),A.mc(3,"translate"),A.Vb(),A.Oc(4,zt,6,4,"div",11),A.Vb()),2&t){var n=A.lc();A.Ab(2),A.Rc(A.nc(3,2,"ACCOUNTS.REQUISITES.LIST_OLD_TITLE")),A.Ab(2),A.rc("ngForOf",n.oldList)}}var Jt,Zt,te=((Jt=function(){function t(e,n,a,i,r,o,c,s,l){_classCallCheck(this,t),this.companyService=e,this.bankFromAccount=n,this.maskPipe=a,this.formatIban=i,this.translateService=r,this.notifierService=o,this.accountsService=c,this.filesService=s,this.featureFlagsService=l,this.isLoaded=!1,this.knp="",this.isQrVisible=!1,this.subscription=new w.a,this.loadFeatureFlags()}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngOnInit",value:function(){this.generateList(),this.generateOldList(),this.generateTextToCopy(),this.isLoaded=!0,this.checkFeatureFlags()}},{key:"loadFeatureFlags",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.featureFlagsService.featureFlags$.toPromise();case 2:this.featureFlags=t.sent;case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onAccountLoad",value:function(t){this.init(t)}},{key:"onAccountFail",value:function(){this.isLoaded=!0,this.errorText=this.appendTranslationPrefix("FAILED")}},{key:"onCopy",value:function(){this.notifierService.notify("default",this.translateService.instant(this.appendTranslationPrefix("COPIED")))}},{key:"onDownload",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountsService.getPdf(this.companyService.currentId,this.account.iban);case 3:e=t.sent,this.filesService.downloadFile(e,"".concat(this.account.iban,".pdf")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"generateList",value:function(){var t,e,n,a;this.list=[{label:this.appendTranslationPrefix("COMPANY"),value:this.companyService.currentCompany.name},{label:this.appendTranslationPrefix("IIN"),valueToCopy:this.companyService.currentCompany.bin,value:this.maskPipe.transform(this.companyService.currentCompany.bin,Gt.a.iin.mask)},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),valueToCopy:null===(t=this.account)||void 0===t?void 0:t.iban,value:this.formatIban.transform(null===(e=this.account)||void 0===e?void 0:e.iban)},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(null===(n=this.account)||void 0===n?void 0:n.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(null===(a=this.account)||void 0===a?void 0:a.iban,"bic")}]}},{key:"generateOldList",value:function(){var t,e=null===(t=this.account)||void 0===t?void 0:t.alterCode;this.oldList=[{label:this.appendTranslationPrefix("IBAN"),valueToCopy:e,value:this.formatIban.transform(e)},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(e,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(e,"bic")}]}},{key:"generateTextToCopy",value:function(){var t=this;this.textToCopy=this.list.map((function(e){if(e.value||e.valueToCopy)return"".concat(t.translateService.instant(e.label),": ").concat(e.valueToCopy||e.value)})).join("\n")}},{key:"appendTranslationPrefix",value:function(t){return"ACCOUNTS.REQUISITES.".concat(t)}},{key:"init",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.account=t,this.generateRequisites(),this.generateTextToCopy(),this.isLoaded=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loadQr",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.companyService.currentCompany.kod,t.next=3,this.accountsService.getQrPrint(this.account.id,this.account.iban,e,this.knp);case 3:this.qrFile=t.sent;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onQrService",value:function(t){t.preventDefault(),this.knp="859",this.loadQr(),this.filesService.downloadFile(this.qrFile,"".concat(this.companyService.currentCompany.shortName," QR \u0437\u0430 \u0443\u0441\u043b\u0443\u0433\u0438.jpg"))}},{key:"onQrProduct",value:function(t){t.preventDefault(),this.knp="710",this.loadQr(),this.filesService.downloadFile(this.qrFile,"".concat(this.companyService.currentCompany.shortName," QR \u0437\u0430 \u0442\u043e\u0432\u0430\u0440.jpg"))}},{key:"checkFeatureFlags",value:function(){var t,e;return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.featureFlags,n.t0){n.next=4;break}return n.next=4,this.loadFeatureFlags();case 4:this.isQrVisible=!this.featureFlagsService.isDisabled(g.a.ACCOUNT_QR)&&"ACCOUNT"===this.account.accountType&&(null===(t=this.account.balance)||void 0===t?void 0:t.currency)&&"KZT"===(null===(e=this.account.balance)||void 0===e?void 0:e.currency);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"generateRequisites",value:function(){this.requisites=[{label:this.appendTranslationPrefix("OWNER"),value:this.account.iban},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),value:this.formatIban.transform(this.account.iban),valueToCopy:this.account.iban},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(this.account.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(this.account.iban,"bic")}]}},{key:"hasAtfIban",get:function(){var t;return(null===(t=this.account)||void 0===t?void 0:t.hasAtfIban)||!1}}]),t}()).\u0275fac=function(t){return new(t||Jt)(A.Qb(O.a),A.Qb(Bt.b),A.Qb(l.b),A.Qb(Bt.d),A.Qb(D.e),A.Qb(Ht.c),A.Qb(P.c),A.Qb(Wt.a),A.Qb(g.b))},Jt.\u0275cmp=A.Kb({type:Jt,selectors:[["j-requisites"]],inputs:{account:"account"},decls:22,vars:8,consts:[["jTour","REQUISITES.QR","jTourPosition","right",1,"info","mb-3"],[4,"ngIf"],[1,"qr"],[1,"qr__info"],["translate","ACCOUNTS.REQUISITES.QR.PRODUCT"],[1,"btn","btn-link","qr__print","p3",3,"loaded","failed","click"],[1,"mr-2",3,"inlineSVG"],["translate","ACCOUNTS.REQUISITES.QR.PRINT"],["src","./assets/img/cards/qr.png",1,"qr__img"],["jTour","REQUISITES.INFO","jTourPosition","right",1,"info","mb-3"],["class","mb-3",4,"ngIf"],["class","j-desc-row",4,"ngFor","ngForOf"],[1,"requisites__footer"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"click"],[3,"inlineSVG"],["translate","",1,"ml-2"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],["class","info","jTour","REQUISITES.OLD","jTourPosition","right",4,"ngIf"],[1,"qr","mb-4"],["translate","ACCOUNTS.REQUISITES.QR.SERVICE"],[1,"mb-3"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"],["jTour","REQUISITES.OLD","jTourPosition","right",1,"info"]],template:function(t,e){1&t&&(A.Wb(0,"div",0),A.Oc(1,Yt,8,1,"div",1),A.Wb(2,"div",2),A.Wb(3,"div",3),A.Rb(4,"div",4),A.Wb(5,"button",5),A.ic("loaded",(function(t){return e.onAccountLoad(t)}))("failed",(function(t){return e.onAccountFail()}))("click",(function(t){return e.onQrProduct(t)})),A.Rb(6,"span",6),A.Rb(7,"span",7),A.Vb(),A.Vb(),A.Rb(8,"img",8),A.Vb(),A.Vb(),A.Wb(9,"div",9),A.Oc(10,qt,3,3,"h6",10),A.Oc(11,Xt,6,4,"div",11),A.Wb(12,"div",12),A.Wb(13,"button",13),A.ic("click",(function(t){return e.onDownload()})),A.Rb(14,"div",14),A.Wb(15,"strong",15),A.Qc(16,"ACCOUNTS.REQUISITES.DOWNLOAD"),A.Vb(),A.Vb(),A.Wb(17,"button",16),A.ic("click",(function(t){return e.onCopy()})),A.Rb(18,"div",14),A.Wb(19,"strong",15),A.Qc(20,"ACCOUNTS.REQUISITES.COPY"),A.Vb(),A.Vb(),A.Vb(),A.Vb(),A.Oc(21,$t,5,4,"div",17)),2&t&&(A.Ab(1),A.rc("ngIf",e.isQrVisible),A.Ab(5),A.rc("inlineSVG","assets/icons/account/print.svg"),A.Ab(4),A.rc("ngIf",e.hasAtfIban),A.Ab(1),A.rc("ngForOf",e.list),A.Ab(3),A.rc("inlineSVG","assets/icons/account/pdf.svg"),A.Ab(3),A.rc("cbContent",e.textToCopy),A.Ab(1),A.rc("inlineSVG","assets/icons/account/copy.svg"),A.Ab(3),A.rc("ngIf",e.hasAtfIban))},directives:[Ft.a,r.u,D.a,j.a,r.t,Kt.a],pipes:[D.d],styles:[".info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}.qr[_ngcontent-%COMP%], .requisites__button[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.qr[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between}.qr[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center}.qr__print[_ngcontent-%COMP%]{background:none;border:0;outline:0;color:#666c72;display:-webkit-inline-box;display:inline-flex;margin-top:.5rem;padding:0}.qr__print[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]:hover{-webkit-transform:none;transform:none}.qr__print[_ngcontent-%COMP%]:hover{color:#ef5630}.qr__img[_ngcontent-%COMP%]{width:53px}.requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}"]}),Jt),ee=n("p6Hd"),ne=function(t){return t.PDF="PDF",t.XLSX="XLSX",t.ONE_C="ONE_C",t}({}),ae=function(t){return t.DAILY="DAILY",t.MONTHLY="MONTHLY",t}({}),ie=((Zt=function(){function t(e,n){_classCallCheck(this,t),this.companyService=e,this.api=n}return _createClass(t,[{key:"getSubscriptions",value:function(t){var e=this.getApiUrl(t);return this.api.get(e)}},{key:"saveSubscription",value:function(t,e){var n=this.getApiUrl(t.accountId,e);return this.api.put(n,t)}},{key:"createSubscription",value:function(t){var e=this.getApiUrl(t.accountId);return this.api.post(e,t)}},{key:"deleteSubscription",value:function(t,e){var n=this.getApiUrl(t,e);return this.api.delete(n)}},{key:"getApiUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"companies/".concat(this.companyService.currentId,"/accounts/").concat(t,"/statements-subscriptions").concat(e?"/"+e:"")}}]),t}()).\u0275fac=function(t){return new(t||Zt)(A.ec(O.a),A.ec(ee.a))},Zt.\u0275prov=A.Mb({token:Zt,factory:Zt.\u0275fac,providedIn:"root"}),Zt),re=n("YMfE"),oe=n("Bl/x"),ce=n("M6pS"),se=n("9odQ");function le(t,e){if(1&t&&(A.Wb(0,"div",18),A.Rb(1,"input",19),A.Wb(2,"label",20),A.Qc(3),A.Vb(),A.Vb()),2&t){var n=e.$implicit;A.Ab(1),A.rc("id",n.id)("value",n.value),A.Ab(1),A.rc("for",n.id),A.Ab(1),A.Rc(n.label)}}function ue(t,e){if(1&t){var n=A.Xb();A.Wb(0,"a",24),A.ic("click",(function(t){A.Fc(n);var e=A.lc().index;return A.lc(2).deleteEmail(t,e)})),A.Vb()}2&t&&A.rc("inlineSVG","assets/icons/shared/delete.svg")}function de(t,e){if(1&t&&(A.Wb(0,"div",21),A.Rb(1,"j-input",22),A.mc(2,"translate"),A.mc(3,"translate"),A.Oc(4,ue,1,1,"a",23),A.Vb()),2&t){var n=e.$implicit,a=e.index,i=A.lc(2);A.Ab(1),A.rc("label",A.nc(2,6,"ACCOUNTS.EXPORT.EMAIL.TITLE"))("name","exportEmail"+a)("formControl",n)("errorText",A.nc(3,8,i.mapEmailErrorText(n.errors)))("hasError",n.errors&&i.isSubmitted),A.Ab(3),A.rc("ngIf",a>0)}}function be(t,e){if(1&t){var n=A.Xb();A.Wb(0,"a",25),A.ic("click",(function(t){return A.Fc(n),A.lc(2).addEmail(t)})),A.Qc(1," ACCOUNTS.EXPORT.EMAIL.ADD "),A.Vb()}}function me(t,e){if(1&t){var n=A.Xb();A.Wb(0,"form",1),A.Wb(1,"div",2),A.Rb(2,"j-switch",3),A.Wb(3,"span",4),A.Wb(4,"strong",5),A.Qc(5),A.Vb(),A.Rb(6,"br"),A.Wb(7,"small",6),A.Qc(8),A.Vb(),A.Vb(),A.Vb(),A.Wb(9,"div",7),A.Wb(10,"div",8),A.Wb(11,"div",9),A.Wb(12,"strong",10),A.Qc(13,"ACCOUNTS.EXPORT.FILE_FORMAT"),A.Vb(),A.Wb(14,"div",11),A.Oc(15,le,4,4,"div",12),A.Vb(),A.Vb(),A.Wb(16,"div",9),A.Wb(17,"strong",10),A.Qc(18,"ACCOUNTS.EXPORT.EMAIL.TITLE"),A.Vb(),A.Wb(19,"div",13),A.Qc(20," ACCOUNTS.EXPORT.EMAIL.DESCRIPTION "),A.Vb(),A.Oc(21,de,5,10,"div",14),A.Oc(22,be,2,0,"a",15),A.Vb(),A.Wb(23,"div",16),A.Wb(24,"button",17),A.ic("click",(function(t){return A.Fc(n),A.lc().onSubmit()})),A.Qc(25,"SHARED.SAVE"),A.Vb(),A.Vb(),A.Vb(),A.Vb(),A.Vb()}if(2&t){var a=A.lc();A.rc("formGroup",a.subscriptionForm),A.Ab(5),A.Rc(a.title),A.Ab(3),A.Rc(a.description),A.Ab(1),A.rc("@smoothCollapse",a.isCollapsed?"final":"initial"),A.Ab(6),A.rc("ngForOf",a.fileTypes),A.Ab(6),A.rc("ngForOf",a.emailControls),A.Ab(1),A.rc("ngIf",a.emailControls.length<3),A.Ab(2),A.rc("disabled",a.isLoading)("jLoading",a.isLoading)}}var pe,fe=((pe=function(){function t(){_classCallCheck(this,t),this.deleted=new A.n,this.submitted=new A.n,this.isSubmitted=!1,this.fileTypes=[{label:"PDF",value:"PDF",id:Object(re.generateUniqueId)()},{label:"EXL",value:"XLSX",id:Object(re.generateUniqueId)()},{label:"1C",value:"ONE_C",id:Object(re.generateUniqueId)()}],this.FORM_DEFAULTS={enabled:!1,id:null,emails:[""],exportType:ne.PDF}}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e,n,a,i,r,o;t.isLoading&&(t.isLoading.currentValue?null===(e=this.subscriptionForm)||void 0===e||e.disable():null===(n=this.subscriptionForm)||void 0===n||n.enable()),t.savedSubscription&&(null===(a=this.subscriptionForm)||void 0===a||a.patchValue({id:(null===(i=this.savedSubscription)||void 0===i?void 0:i.id)||this.f.id.value||this.FORM_DEFAULTS.id,emails:(null===(r=this.savedSubscription)||void 0===r?void 0:r.emails)||this.f.emails.value||this.FORM_DEFAULTS.emails,exportType:(null===(o=this.savedSubscription)||void 0===o?void 0:o.exportType)||this.f.exportType.value||this.FORM_DEFAULTS.exportType}))}},{key:"ngOnInit",value:function(){var t,e,n,a,i=this,r={enabled:!(null===(t=this.savedSubscription)||void 0===t||!t.id),id:(null===(e=this.savedSubscription)||void 0===e?void 0:e.id)||this.FORM_DEFAULTS.id,emails:(null===(n=this.savedSubscription)||void 0===n?void 0:n.emails)||this.FORM_DEFAULTS.emails,exportType:(null===(a=this.savedSubscription)||void 0===a?void 0:a.exportType)||this.FORM_DEFAULTS.exportType};this.subscriptionForm=new o.k({switch:new o.h(r.enabled),id:new o.h(r.id),emails:new o.e(r.emails.map((function(t){return new o.h(t,[o.H.email,o.H.required])}))),exportType:new o.h(r.exportType)}),this.isLoading&&this.subscriptionForm.disable(),this.subscriptionForm.valueChanges.subscribe((function(t){i.isSubmitted=!1,0==t.switch&&(i.deleted.emit(i.f.id.value),i.clearFormArray(i.f.emails),i.subscriptionForm.reset(i.FORM_DEFAULTS))}))}},{key:"onSubmit",value:function(){this.isSubmitted=!0,this.subscriptionForm.invalid||this.submitted.emit(this.subscriptionForm.getRawValue())}},{key:"addEmail",value:function(t){t.preventDefault(),this.isLoading||3==this.emailControls.length||(this.isSubmitted=!1,this.emailControls.push(new o.h("",[o.H.email,o.H.required])))}},{key:"deleteEmail",value:function(t,e){t.preventDefault(),this.isLoading||this.emailControls.splice(e,1)}},{key:"mapEmailErrorText",value:function(t){var e;return(null===(e=t)||void 0===e?void 0:e.email)?"ERRORS.WRONG_FORMAT":null}},{key:"clearFormArray",value:function(t){for(;1!==t.length;)t.removeAt(0)}},{key:"isCollapsed",get:function(){var t,e,n;return 1==(null===(n=null===(e=null===(t=this.subscriptionForm)||void 0===t?void 0:t.controls)||void 0===e?void 0:e.switch)||void 0===n?void 0:n.value)}},{key:"emailControls",get:function(){return this.f.emails.controls}},{key:"f",get:function(){var t;return null===(t=this.subscriptionForm)||void 0===t?void 0:t.controls}}]),t}()).\u0275fac=function(t){return new(t||pe)},pe.\u0275cmp=A.Kb({type:pe,selectors:[["j-account-subscription"]],inputs:{title:"title",isLoading:"isLoading",description:"description",savedSubscription:"savedSubscription"},outputs:{deleted:"deleted",submitted:"submitted"},features:[A.yb()],decls:1,vars:1,consts:[["class","export",3,"formGroup",4,"ngIf"],[1,"export",3,"formGroup"],[1,"export__header"],["formControlName","switch"],[1,"ml-3"],["translate",""],["translate","",1,"text-gray"],[1,"export__body"],[1,"export__form"],[1,"form-group"],["translate","",1,"export__label","p2"],[1,"export__types"],["class","export__radio",4,"ngFor","ngForOf"],["translate","",1,"p3","text-muted","export__description"],["class","export__email",4,"ngFor","ngForOf"],["href","#","class","export__add-email link-blue","translate","",3,"click",4,"ngIf"],[1,"export__submit"],["type","submit","translate","",1,"btn","btn-primary",3,"disabled","jLoading","click"],[1,"export__radio"],["type","radio","formControlName","exportType","name","exportType",3,"id","value"],[1,"btn","btn-sm",3,"for"],[1,"export__email"],[3,"label","name","formControl","errorText","hasError"],["href","#","class","export__delete-email",3,"inlineSVG","click",4,"ngIf"],["href","#",1,"export__delete-email",3,"inlineSVG","click"],["href","#","translate","",1,"export__add-email","link-blue",3,"click"]],template:function(t,e){1&t&&A.Oc(0,me,26,9,"form",0),2&t&&A.rc("ngIf",e.subscriptionForm)},directives:[r.u,o.J,o.u,o.l,oe.a,o.t,o.j,D.a,r.t,ce.a,o.B,o.c,se.b,o.i,j.a],pipes:[D.d],styles:[".export[_ngcontent-%COMP%]{margin:.5rem 0 1rem;background:#fff;border-radius:.75rem}.export__header[_ngcontent-%COMP%]{padding:1rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.export__body[_ngcontent-%COMP%]{padding:0 1rem;border-top:1px solid #eceef1}.export__types[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff;background-color:#474b52;border-color:#474b52;box-shadow:none}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{color:#fff;background-color:#35383e;border-color:#2f3237}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:focus{color:#fff;background-color:#35383e;border-color:#2f3237;box-shadow:0 0 0 .0625rem rgba(99,102,108,.5)}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.disabled[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:disabled{color:#fff;background-color:#474b52;border-color:#474b52}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#2f3237;border-color:#292c30}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(99,102,108,.5)}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:active, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{-webkit-transform:scale(1);transform:scale(1);color:#fff!important}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#212529;background-color:#fff;border-color:#d6dadf;margin-right:.5rem;margin-bottom:0;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);color:#666c72;height:35px;position:relative}.export__radio[_ngcontent-%COMP%]   label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:#212529;background-color:#ececec;border-color:#b9c0c9}.export__radio[_ngcontent-%COMP%]   label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(187,191,196,.5)}.export__radio[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#fff;border-color:#d6dadf}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   label.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#e6e6e6;border-color:#b2bac3}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   label.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(187,191,196,.5)}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:active, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:#666c72!important;-webkit-transform:scale(1);transform:scale(1)}.export__form[_ngcontent-%COMP%]{padding-top:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.export__label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.export__description[_ngcontent-%COMP%]{margin-bottom:1rem}.export__add-email[_ngcontent-%COMP%]{position:relative;top:-.5rem}.export__delete-email[_ngcontent-%COMP%]{color:#b7bec5;margin:0 1rem 1rem}.export__delete-email[_ngcontent-%COMP%]:hover{color:#ef5630}.export__email[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.export__email[_ngcontent-%COMP%]   j-input[_ngcontent-%COMP%]{width:100%}.export__submit[_ngcontent-%COMP%]{padding:1rem 0;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}"],data:{animation:[Object(Ct.n)("smoothCollapse",[Object(Ct.k)("initial",Object(Ct.l)({height:"0",overflow:"hidden",opacity:"0"})),Object(Ct.k)("final",Object(Ct.l)({overflow:"hidden",opacity:"1"})),Object(Ct.m)("initial=>final",Object(Ct.e)("300ms")),Object(Ct.m)("final=>initial",Object(Ct.e)("300ms"))])]}}),pe);function he(t,e){if(1&t){var n=A.Xb();A.Ub(0),A.Wb(1,"j-account-subscription",1),A.ic("deleted",(function(t){return A.Fc(n),A.lc().onDeleteDaily(t)}))("submitted",(function(t){return A.Fc(n),A.lc().onDailySubmit(t)})),A.Vb(),A.Wb(2,"j-account-subscription",1),A.ic("deleted",(function(t){return A.Fc(n),A.lc().onDeleteMonthly(t)}))("submitted",(function(t){return A.Fc(n),A.lc().onMonthlySubmit(t)})),A.Vb(),A.Tb()}if(2&t){var a=A.lc();A.Ab(1),A.rc("title","ACCOUNTS.EXPORT.DAILY.TITLE")("description","ACCOUNTS.EXPORT.DAILY.DESCRIPTION")("savedSubscription",a.dailySubscription)("isLoading",a.isDailyLoading),A.Ab(1),A.rc("title","ACCOUNTS.EXPORT.MONTHLY.TITLE")("description","ACCOUNTS.EXPORT.MONTHLY.DESCRIPTION")("savedSubscription",a.monthlySubscription)("isLoading",a.isMonthlyLoading)}}var ge,ve=((ge=function(){function t(e,n,a){_classCallCheck(this,t),this.accountSubscriptionService=e,this.notifierService=n,this.translateService=a,this.loaded=!1,this.isDailyLoading=!0,this.isMonthlyLoading=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.accountSubscriptionService.getSubscriptions(this.account.id);case 2:e=t.sent,this.dailySubscription=e.find((function(t){return t.subscriptionType===ae.DAILY}))||null,this.monthlySubscription=e.find((function(t){return t.subscriptionType===ae.MONTHLY}))||null,this.isDailyLoading=!1,this.isMonthlyLoading=!1,this.loaded=!0;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onDailySubmit",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isDailyLoading=!0,e.prev=1,e.next=4,this.submitSubscription(t,ae.DAILY);case 4:this.dailySubscription=e.sent,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.DAILY.SUBSCRIBED")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.notifierService.notify("error",e.t0.description||e.t0.code);case 11:return e.prev=11,this.isDailyLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])})))}},{key:"onMonthlySubmit",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isMonthlyLoading=!0,e.prev=1,e.next=4,this.submitSubscription(t,ae.MONTHLY);case 4:this.monthlySubscription=e.sent,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.MONTHLY.SUBSCRIBED")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.notifierService.notify("error",e.t0.description||e.t0.code);case 11:return e.prev=11,this.isMonthlyLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[1,8,11,14]])})))}},{key:"onDeleteDaily",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDailyLoading){e.next=15;break}return this.isDailyLoading=!0,e.prev=2,e.next=5,this.deleteSubscription(t);case 5:this.dailySubscription=null,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.DAILY.UNSUBSCRIBED")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.notifierService.notify("error",e.t0.description||e.t0.code);case 12:return e.prev=12,this.isDailyLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})))}},{key:"onDeleteMonthly",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMonthlyLoading){e.next=15;break}return this.isMonthlyLoading=!0,e.prev=2,e.next=5,this.deleteSubscription(t);case 5:this.monthlySubscription=null,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.MONTHLY.UNSUBSCRIBED")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.notifierService.notify("error",e.t0.description||e.t0.code);case 12:return e.prev=12,this.isMonthlyLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})))}},{key:"deleteSubscription",value:function(t){if(t)return this.accountSubscriptionService.deleteSubscription(this.account.id,t)}},{key:"submitSubscription",value:function(t,e){var n={accountId:this.account.id,emails:t.emails,exportType:t.exportType,subscriptionType:e};return t.id?this.accountSubscriptionService.saveSubscription(n,t.id):this.accountSubscriptionService.createSubscription(n)}}]),t}()).\u0275fac=function(t){return new(t||ge)(A.Qb(ie),A.Qb(Ht.c),A.Qb(D.e))},ge.\u0275cmp=A.Kb({type:ge,selectors:[["j-account-export"]],inputs:{account:"account"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"title","description","savedSubscription","isLoading","deleted","submitted"]],template:function(t,e){1&t&&A.Oc(0,he,3,8,"ng-container",0),2&t&&A.rc("ngIf",e.loaded)},directives:[r.u,fe],styles:[""]}),ge);function ye(t,e){if(1&t){var n=A.Xb();A.Wb(0,"div",9),A.Rb(1,"div"),A.Rb(2,"div"),A.Wb(3,"div"),A.Wb(4,"span",10),A.Qc(5,"ACCOUNTS.SETTINGS.LIMIT_ALL"),A.Vb(),A.Vb(),A.Wb(6,"j-switch",11),A.ic("change",(function(t){return A.Fc(n),A.lc().onChangeAll(t)})),A.Vb(),A.Vb()}if(2&t){var a=A.lc();A.Ab(6),A.rc("value",a.isAllSelected)}}function Te(t,e){if(1&t){var n=A.Xb();A.Wb(0,"div",12),A.Wb(1,"div",13),A.Qc(2),A.Vb(),A.Wb(3,"div",14),A.Qc(4),A.Vb(),A.Wb(5,"div",13),A.Wb(6,"span"),A.Qc(7),A.Vb(),A.Wb(8,"small",15),A.Wb(9,"span",16),A.Qc(10),A.Vb(),A.Qc(11," \u2022 "),A.Wb(12,"span",16),A.Qc(13),A.Vb(),A.Vb(),A.Vb(),A.Wb(14,"j-switch",11),A.ic("change",(function(t){A.Fc(n);var a=e.$implicit;return A.lc().onChange(t,a)})),A.Vb(),A.Vb()}if(2&t){var a=e.$implicit,i=e.index,r=A.lc();A.Ab(2),A.Rc(i+1),A.Ab(1),A.Db(a.color),A.Ab(1),A.Sc(" ",a.initials," "),A.Ab(3),A.Uc("",a.lastname," ",a.firstname," ",a.middlename,""),A.Ab(3),A.Rc(a.role),A.Ab(3),A.Rc(a.sign),A.Ab(1),A.rc("value",a.accountGrantType===r.grants.UNAVAILABLE)}}function Se(t,e){if(1&t){var n=A.Xb();A.Ub(0),A.Wb(1,"div",17),A.Qc(2,"ACCOUNTS.SETTINGS.GRANTS_LOADING_ERROR"),A.Vb(),A.Wb(3,"button",18),A.ic("click",(function(t){return A.Fc(n),A.lc().getAccountGrants()})),A.Qc(4,"SHARED.REFRESH"),A.Vb(),A.Tb()}}function Ce(t,e){if(1&t){var n=A.Xb();A.Ub(0),A.Wb(1,"div",17),A.Qc(2,"ACCOUNTS.SETTINGS.NO_GRANTABLE_USERS"),A.Vb(),A.Wb(3,"button",18),A.ic("click",(function(t){return A.Fc(n),A.lc().modal.dismiss()})),A.Qc(4,"SHARED.CLOSE"),A.Vb(),A.Tb()}}var Ae,Oe,_e=((Oe=function(){function t(e,n,a,i){_classCallCheck(this,t),this.modal=e,this.accountsService=n,this.notifierService=a,this.translateService=i,this.error=null,this.grants=P.d}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAccountGrants()}},{key:"getAccountGrants",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountsService.getAccountsGrants(this.companyId,this.accountId);case 3:this.users=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.error="error";case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"onChange",value:function(t,e){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.accountGrantType=this.getGrantType(t.target.value),n.next=4,this.accountsService.setAccountGrant(this.companyId,this.accountId,[this.mapParams(e,e.accountGrantType)]);case 4:this.showNotificationForUser(e),this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),this.notifierService.notify("error",n.t0.description||n.t0.code||this.translateService.instant("SHARED.ACTION_ERROR"));case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"onChangeAll",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.getGrantType(t.target.value),a=this.users.map((function(t){return i.mapParams(t,n)})),e.next=4,this.accountsService.setAccountGrant(this.companyId,this.accountId,a);case 4:this.showNotification(n),this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId),this.users.forEach((function(t){return t.accountGrantType=n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.notifierService.notify("error",e.t0.description||e.t0.code||this.translateService.instant("SHARED.ACTION_ERROR"));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"showNotificationForUser",value:function(t){var e=this.translateService.instant(t.accountGrantType===P.d.AVAILABLE?"ACCOUNTS.SETTINGS.USER_GRANTED":"ACCOUNTS.SETTINGS.USER_LIMITED",{user:"".concat(t.lastname," ").concat(t.firstname," ").concat(t.middlename)});this.notifierService.notify("default",e)}},{key:"showNotification",value:function(t){var e=this.translateService.instant(t===P.d.AVAILABLE?"ACCOUNTS.SETTINGS.GRANTED_ALL":"ACCOUNTS.SETTINGS.LIMITED_ALL");this.notifierService.notify("default",e)}},{key:"mapParams",value:function(t,e){return{id:t.userId,userAuthorityId:t.userAuthorityId,accountGrantType:e}}},{key:"getGrantType",value:function(t){return"true"===t?P.d.UNAVAILABLE:P.d.AVAILABLE}},{key:"isAllSelected",get:function(){var t,e=this;return null===(t=this.users)||void 0===t?void 0:t.every((function(t){return t.accountGrantType===e.grants.UNAVAILABLE}))}}]),t}()).\u0275fac=function(t){return new(t||Oe)(A.Qb(s.a),A.Qb(P.c),A.Qb(Ht.c),A.Qb(D.e))},Oe.\u0275cmp=A.Kb({type:Oe,selectors:[["j-account-grants"]],inputs:{companyId:"companyId",accountId:"accountId"},decls:12,vars:7,consts:[[1,"dictionary-modal"],["type","button",1,"close",3,"click"],["src","./assets/icons/close.svg",3,"alt"],[1,"modal-header"],["translate","",1,"users-header"],[1,"modal-body"],["translate","","class","users-list__row",4,"ngIf"],["class","users-list__row",4,"ngFor","ngForOf"],[4,"ngIf"],["translate","",1,"users-list__row"],["translate","",1,"users-list__cell"],[1,"users-list__cell",3,"value","change"],[1,"users-list__row"],[1,"users-list__cell"],[1,"users-list__initials","p2","users-list__cell"],[1,"text-gray"],["translate",""],["translate","",1,"users-list__error"],["translate","",1,"btn","btn-link","btn-block",3,"click"]],template:function(t,e){1&t&&(A.Wb(0,"div",0),A.Wb(1,"button",1),A.ic("click",(function(t){return e.modal.dismiss()})),A.Rb(2,"img",2),A.mc(3,"translate"),A.Vb(),A.Wb(4,"div",3),A.Wb(5,"h5",4),A.Qc(6,"DIRECTORY.EMPLOYEES.TITLE"),A.Vb(),A.Vb(),A.Wb(7,"div",5),A.Oc(8,ye,7,1,"div",6),A.Oc(9,Te,15,10,"div",7),A.Oc(10,Se,5,0,"ng-container",8),A.Oc(11,Ce,5,0,"ng-container",8),A.Vb(),A.Vb()),2&t&&(A.Ab(2),A.sc("alt",A.nc(3,5,"SHARED.CLOSE")),A.Ab(6),A.rc("ngIf",!e.error&&(null==e.users?null:e.users.length)>0),A.Ab(1),A.rc("ngForOf",e.users),A.Ab(1),A.rc("ngIf",e.error),A.Ab(1),A.rc("ngIf",0===e.users.length))},directives:[D.a,r.u,r.t,oe.a],pipes:[D.d],styles:[".users-header[_ngcontent-%COMP%]{padding:.5rem}.users-list__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto 1fr auto;align-content:space-around;-webkit-box-pack:justify;justify-content:space-between;background:#fff;margin:.5rem 0}.users-list__initials[_ngcontent-%COMP%]{flex-shrink:0;width:2.5rem;height:2.5rem;border-radius:1rem;margin-right:1rem;color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:#d6dadf}.users-list__initials.first-sign[_ngcontent-%COMP%]{background:rgba(239,143,0,.7)}.users-list__initials.second-sign[_ngcontent-%COMP%]{background:rgba(21,134,187,.7)}.users-list__cell[_ngcontent-%COMP%]{display:grid;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;margin:auto .5rem;padding:.625rem 0}.users-list__error[_ngcontent-%COMP%]{color:#666c72;padding:2.5rem 4.75rem 1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;max-height:100%}"]}),Oe),ke=((Ae=function(){function t(e,n){_classCallCheck(this,t),this.modalService=e,this.accountsService=n,this.errorText=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.retrieveTotalLimitations()}},{key:"retrieveTotalLimitations",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,this,[[0,5]])})))}},{key:"openAccountGrants",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.modalService.open(_e,{backdropClass:"backdrop_light",windowClass:"modal_light modal_dictionary modal-adaptive",centered:!0,size:"md"})).componentInstance.companyId=this.companyId,e.componentInstance.accountId=this.accountId,t.prev=2,t.next=5,e.result;case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}}),t,this,[[2,7]])})))}}]),t}()).\u0275fac=function(t){return new(t||Ae)(A.Qb(s.q),A.Qb(P.c))},Ae.\u0275cmp=A.Kb({type:Ae,selectors:[["j-account-settings"]],inputs:{companyId:"companyId",accountId:"accountId"},decls:15,vars:6,consts:[[1,"account-settings"],[1,"account-settings__block"],["translate","",1,"account-settings__header"],[1,"account-settings__content"],[1,"account-settings__title","col-md-10"],["translate",""],[1,"text-gray"],[1,"account-settings__control","col-md-2"],["translate","",1,"btn-link-classic",3,"click"]],template:function(t,e){1&t&&(A.Wb(0,"div",0),A.Wb(1,"div",1),A.Wb(2,"div",2),A.Qc(3,"ACCOUNTS.SETTINGS.MAIN"),A.Vb(),A.Wb(4,"div",3),A.Wb(5,"div",4),A.Wb(6,"div",5),A.Qc(7,"ACCOUNTS.SETTINGS.LIMIT_ACCESS"),A.Vb(),A.Wb(8,"small",6),A.Qc(9),A.mc(10,"translate"),A.mc(11,"async"),A.Vb(),A.Vb(),A.Wb(12,"div",7),A.Wb(13,"button",8),A.ic("click",(function(t){return e.openAccountGrants()})),A.Qc(14,"ACCOUNTS.SETTINGS.EDIT"),A.Vb(),A.Vb(),A.Vb(),A.Vb(),A.Vb()),2&t&&(A.Ab(9),A.Tc("",A.nc(10,2,"ACCOUNTS.SETTINGS.LIMITS"),": ",A.nc(11,4,e.accountsService.storeForTotal$),""))},directives:[D.a],pipes:[D.d,r.b],styles:[".account-settings[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.account-settings__block[_ngcontent-%COMP%]{padding:1.5rem 0;background:#fff;border-radius:.75rem}.account-settings__header[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin:0 1rem 2rem}.account-settings__content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.account-settings__title[_ngcontent-%COMP%]{display:grid;grid-auto-rows:minmax(-webkit-min-content,-webkit-max-content);grid-auto-rows:minmax(min-content,max-content);row-gap:4px}.account-settings__control[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),Ae),Ee=n("QiVB"),xe=n("T+Ki"),Ie=n("4zJ+"),we=n("/68H"),Pe=n("tepA");function Re(t,e){1&t&&A.Rb(0,"j-account-migrated",17),2&t&&A.rc("isLarge",!0)}function Ve(t,e){if(1&t){var n=A.Xb();A.Wb(0,"a",13),A.ic("click",(function(t){return A.Fc(n),A.lc(2).onTabClick("settings",t)})),A.Qc(1," ACCOUNTS.SETTINGS.TITLE "),A.Vb()}if(2&t){var a=A.lc(2);A.Hb("active","settings"===a.activeTab)}}function Me(t,e){if(1&t){var n=A.Xb();A.Ub(0),A.Wb(1,"j-filter",18),A.ic("downloaded",(function(t){return A.Fc(n),A.lc(2).onDownload(t)})),A.Vb(),A.Tb()}if(2&t){var a=A.lc(2);A.Ab(1),A.rc("currency",a.balance.currency)}}function We(t,e){if(1&t&&(A.Ub(0),A.Rb(1,"j-requisites",19),A.Tb()),2&t){var n=A.lc(2);A.Ab(1),A.rc("account",n.account)}}function De(t,e){if(1&t&&(A.Ub(0),A.Rb(1,"j-account-export",19),A.Tb()),2&t){var n=A.lc(2);A.Ab(1),A.rc("account",n.account)}}function Le(t,e){if(1&t&&(A.Ub(0),A.Rb(1,"j-account-settings",20),A.Tb()),2&t){var n=A.lc(2);A.Ab(1),A.rc("companyId",n.companyId)("accountId",n.account.id)}}function Ne(t,e){if(1&t&&A.Rb(0,"j-statement-balances",27),2&t){var n=A.lc(3);A.rc("statement",n.statement)}}function Fe(t,e){1&t&&(A.Wb(0,"div",28),A.Qc(1," ACCOUNTS.STATEMENT.ALL_LOADED "),A.Vb())}function je(t,e){if(1&t&&(A.Wb(0,"div",29),A.Wb(1,"strong"),A.Qc(2),A.Vb(),A.Vb()),2&t){var n=A.lc(3);A.Ab(2),A.Rc(n.errorText)}}function Qe(t,e){1&t&&A.Rb(0,"j-animated-loading")}function Ue(t,e){1&t&&(A.Wb(0,"div",30),A.Rb(1,"j-statement-loading"),A.Vb())}function Ge(t,e){if(1&t){var n=A.Xb();A.Ub(0),A.Wb(1,"section",21),A.ic("scrolled",(function(t){return A.Fc(n),A.lc(2).onScroll()})),A.Oc(2,Ne,1,1,"j-statement-balances",22),A.Rb(3,"j-statement",23),A.Oc(4,Fe,2,0,"div",24),A.Oc(5,je,3,1,"div",25),A.Oc(6,Qe,1,0,"j-animated-loading",16),A.Vb(),A.Oc(7,Ue,2,0,"div",26),A.Tb()}if(2&t){var a=A.lc(2);A.Ab(1),A.rc("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500),A.Ab(1),A.rc("ngIf",a.statement&&a.statement.totalTransactionsCount>0),A.Ab(1),A.rc("statement",a.statement)("isLoadingExtra",!a.isLoading&&a.isLoadingExtra)("emptyLabel",a.emptyLabel),A.Ab(1),A.rc("ngIf",!a.hasMorePages&&a.statement.totalTransactionsCount>0),A.Ab(1),A.rc("ngIf",a.errorText),A.Ab(1),A.rc("ngIf",!a.isReady),A.Ab(1),A.rc("ngIf",a.isLoading)}}function Be(t,e){if(1&t){var n=A.Xb();A.Wb(0,"f-page",1),A.ic("closed",(function(t){return A.Fc(n),A.lc().onClose()})),A.Wb(1,"f-page-header"),A.Wb(2,"section",2),A.Wb(3,"div",3),A.Wb(4,"div",4),A.Rb(5,"j-entity-logo",5),A.Wb(6,"span",6),A.Qc(7),A.mc(8,"formatIban"),A.Vb(),A.Vb(),A.Rb(9,"j-account-alter-code",7),A.Oc(10,Re,1,1,"j-account-migrated",8),A.Vb(),A.Wb(11,"h1",9),A.Rb(12,"j-money",10),A.Vb(),A.Vb(),A.Wb(13,"div",11),A.Wb(14,"nav",12),A.Wb(15,"a",13),A.ic("click",(function(t){return A.Fc(n),A.lc().onTabClick("statement",t)})),A.Qc(16," ACCOUNTS.STATEMENT.TITLE "),A.Vb(),A.Wb(17,"a",14),A.ic("click",(function(t){return A.Fc(n),A.lc().onTabClick("requisites",t)})),A.Qc(18," ACCOUNTS.REQUISITES.TITLE "),A.Vb(),A.Wb(19,"a",13),A.ic("click",(function(t){return A.Fc(n),A.lc().onTabClick("auto-export",t)})),A.Qc(20," ACCOUNTS.AUTO_EXPORT "),A.Vb(),A.Oc(21,Ve,2,2,"a",15),A.Vb(),A.Vb(),A.Vb(),A.Wb(22,"f-page-body"),A.Oc(23,Me,2,1,"ng-container",16),A.Oc(24,We,2,1,"ng-container",16),A.Oc(25,De,2,1,"ng-container",16),A.Oc(26,Le,2,2,"ng-container",16),A.Vb(),A.Wb(27,"f-page-extra"),A.Oc(28,Ge,8,12,"ng-container",16),A.Vb(),A.Vb()}if(2&t){var a=A.lc();A.rc("bodyClassList","statement"===a.activeTab?"no-grow":""),A.Ab(5),A.rc("name",a.balance.currency),A.Ab(2),A.Rc(A.nc(8,18,a.account.iban)),A.Ab(2),A.rc("account",a.account),A.Ab(1),A.rc("ngIf",a.account.isMigrated),A.Ab(2),A.rc("money",a.balance),A.Ab(3),A.Hb("active","statement"===a.activeTab),A.Ab(2),A.Hb("active","requisites"===a.activeTab),A.Ab(2),A.Hb("active","auto-export"===a.activeTab),A.Ab(2),A.rc("ngIf",a.isSettingsAllowed),A.Ab(2),A.rc("ngIf","statement"===a.activeTab),A.Ab(1),A.rc("ngIf","requisites"===a.activeTab),A.Ab(1),A.rc("ngIf","auto-export"===a.activeTab),A.Ab(1),A.rc("ngIf","settings"===a.activeTab),A.Ab(2),A.rc("ngIf","statement"===a.activeTab)}}var He,Ke,Ye=((He=function(){function t(e,n,a,i,r,o,c,s,l){var u=this;_classCallCheck(this,t),this.router=e,this.route=n,this.company=a,this.filterService=i,this.accountsService=r,this.datePipe=o,this.filesService=c,this.maskedService=s,this.tourService=l,this.isDetailsShown=!1,this.isLoading=!0,this.isLoadingExtra=!0,this.isReady=!1,this.hasMorePages=!0,this.isStatementsTourShown=!1,this.subscription=new w.a,this.tourStep=null,this.pageNumber=1,this.pageSize=10,this.cashedRouteQuery=JSON.parse(sessionStorage.getItem("accountRouteQuery"));var d=this.route.params.subscribe((function(t){u.iban=t.iban,u.loadData()}));this.subscription.add(d);var b=this.route.data.subscribe((function(t){u.activeTab=t.tab}));this.subscription.add(b);var m=this.route.paramMap.pipe(Object(S.a)((function(){return window.history.state}))).subscribe((function(t){u.tourStep=t.tourStep,u.checkAndStartTour()}));if(this.subscription.add(m),this.cashedRouteQuery)this.filter=this.mapQueryParams(this.cashedRouteQuery),this.filterService.updateExtra(this.filter);else{var p=this.route.queryParams.pipe(Object(wt.a)(1)).subscribe((function(t){u.updateCashedRouteQuery(t),u.filter=u.mapQueryParams(t),u.filterService.updateExtra(u.filter)}));this.subscription.add(p)}var f=this.filterService.getScheme().subscribe((function(t){u.filter=Object.assign({},t),u.pageNumber=1,u.hasMorePages=!0,u.isLoading=!0,u.updateQueryParams(),u.loadStatement()}));this.subscription.add(f)}return _createClass(t,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onTabClick",value:function(t,e){e.preventDefault(),this.router.navigate([t],{relativeTo:this.route.parent})}},{key:"onClose",value:function(){this.navigateToHome()}},{key:"onScroll",value:function(){this.hasMorePages&&!this.isLoading&&(this.pageNumber++,this.loadStatement())}},{key:"onDownload",value:function(t){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountsService.getStatement(this.company.currentId,this.iban,this.filter,this.pageNumber,this.pageSize,t);case 2:n=e.sent,"1c"===(a=t.substring(t.lastIndexOf("/")+1,t.length))&&(a+=".txt"),this.filesService.downloadFile(n,"".concat(this.iban,".").concat(a));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loadData",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.loadAccount();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:return t.prev=8,this.isReady=!0,t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[0,5,8,11]])})))}},{key:"loadAccount",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.accountsService.getAccountByIban(this.company.currentId,this.iban);case 3:this.account=t.sent,this.account.isMigrated&&this.accountsService.retrieveMergeDate(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.navigateToHome();case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"loadStatement",value:function(){return Object(I.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.errorText="",this.isLoadingExtra=!0,t.prev=1,this.filter.periodType&&this.filter.periodType!==Rt.d.CUSTOM&&(e=this.filterService.PERIOD_LIST.find((function(t){return t.type===a.filter.periodType})),this.filter.periodFrom=e.dates.from,this.filter.periodTo=e.dates.to),t.next=5,this.accountsService.getStatement(this.company.currentId,this.iban,this.filter,this.pageNumber,this.pageSize);case 5:n=t.sent,this.hasMorePages=this.pageSize<=n.totalTransactionsCount,this.statement=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.errorText=t.t0;case 12:return t.prev=12,this.isReady=!0,this.isLoading=!1,this.isLoadingExtra=!1,this.isStatementsTourShown||(this.checkAndStartTour(),this.isStatementsTourShown=!0),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[1,9,12,15]])})))}},{key:"checkAndStartTour",value:function(){var t=this;this.tourStep&&setTimeout((function(){var e;switch(t.tourStep){case"REQUISITES_HOME.ACCOUNT":t.tourService.startTour(V.e.REQUISITES_ACCOUNT);break;case"STATEMENTS_HOME.ACCOUNT":var n=[V.e.STATEMENTS_ACCOUNT[0]];!t.isLoading&&(null===(e=t.statement)||void 0===e?void 0:e.totalTransactionsCount)>0&&(n=[].concat(_toConsumableArray(n),[V.e.STATEMENTS_ACCOUNT[1]])),t.tourService.startTour(n)}}),0)}},{key:"navigateToHome",value:function(){this.router.navigate(["../.."],{relativeTo:this.route})}},{key:"mapQueryParams",value:function(t){var e=Object.assign({},this.filterService.getDefaults(Pt.a.ACCOUNTS));for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n];a&&null!=a&&"null"!==a&&(e[n]="periodFrom"===n||"periodTo"===n?new Date(a):a)}return e}},{key:"updateQueryParams",value:function(){var t=Object.assign({},this.filter),e={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n];a&&null!=a&&"null"!==a&&(e[n]="periodFrom"===n||"periodTo"===n?this.datePipe.transform(a,"yyyy-MM-dd"):a,"amountFrom"!==n&&"amountTo"!==n||(e[n]=this.maskedService.getNumberedAmount(a)))}this.updateCashedRouteQuery(t),this.router.navigate([],{queryParams:e,relativeTo:this.route})}},{key:"updateCashedRouteQuery",value:function(t){sessionStorage.setItem("accountRouteQuery",JSON.stringify(t))}},{key:"emptyLabel",get:function(){return this.account.isMigrated?"ACCOUNTS.EMPTY_MIGRATED":"ACCOUNTS.EMPTY_STATEMENT"}},{key:"balance",get:function(){return this.account&&this.account.balance}},{key:"companyId",get:function(){return this.company.currentId}},{key:"isSettingsAllowed",get:function(){return this.company.currentAuthority.authority===Vt.a.PRIMARY_SIGNATURE}}]),t}()).\u0275fac=function(t){return new(t||He)(A.Qb(h.c),A.Qb(h.a),A.Qb(O.a),A.Qb(Mt.a),A.Qb(P.c),A.Qb(r.f),A.Qb(Wt.a),A.Qb(Dt.a),A.Qb(V.g))},He.\u0275cmp=A.Kb({type:He,selectors:[["j-account"]],decls:1,vars:1,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"bodyClassList","closed",4,"ngIf"],["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"bodyClassList","closed"],[1,"account-header"],[1,"iban"],[1,"iban__number"],["size","sm",1,"iban-img",3,"name"],[1,"d-inline-block","text-muted","mr-4"],["jTour","STATEMENT.ALTER_CODE","jTourPosition","bottom",1,"iban__alter-code","mr-4",3,"account"],["class","iban__migrated",3,"isLarge",4,"ngIf"],[1,"f-page-title"],[3,"money"],[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["href","#","translate","",3,"click"],["href","#","jTour","REQUISITES_ACCOUNT.NAV","jTourPosition","bottom","translate","",3,"click"],["href","#","translate","",3,"active","click",4,"ngIf"],[4,"ngIf"],[1,"iban__migrated",3,"isLarge"],[3,"currency","downloaded"],[3,"account"],[3,"companyId","accountId"],["infiniteScroll","",1,"account-wrapper",3,"scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"statement",4,"ngIf"],[1,"search-results",3,"statement","isLoadingExtra","emptyLabel"],["class","text-center text-muted my-5 text-small","translate","",4,"ngIf"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"statement"],["translate","",1,"text-center","text-muted","my-5","text-small"],["role","alert",1,"alert","alert-danger","my-5"],[1,"py-4"]],template:function(t,e){1&t&&A.Oc(0,Be,29,20,"f-page",0),2&t&&A.rc("ngIf",e.account)},directives:[r.u,Lt.a,Nt.a,N.a,G,Ft.a,F.a,D.a,jt.a,Qt.a,X,Ut.b,te,ve,ke,u.a,Ee.a,xe.a,Ie.a,we.a],pipes:[Pe.a],styles:["[_nghost-%COMP%]{display:block}.iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:8px;flex-wrap:wrap}.iban-img[_ngcontent-%COMP%]{margin-right:12px;border-radius:.5rem}.iban__number[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.iban__alter-code[_ngcontent-%COMP%], .iban__migrated[_ngcontent-%COMP%], .iban__number[_ngcontent-%COMP%]{margin-bottom:8px}@media(min-width:960px){.iban__alter-code[_ngcontent-%COMP%], .iban__migrated[_ngcontent-%COMP%], .iban__number[_ngcontent-%COMP%]{margin-bottom:0}}.f-page-title[_ngcontent-%COMP%]{margin-bottom:12px}.account-wrapper[_ngcontent-%COMP%]{position:relative;min-height:200px}"]}),He),qe=n("YjpI"),Xe=[{path:"accounts",component:It,data:{title:"ACCOUNTS.TITLE"},children:[{path:"",component:St}]},{path:"accounts/:iban",children:[{path:"statement",component:Ye,data:{tab:"statement"}},{path:"requisites",component:Ye,data:{tab:"requisites"}},{path:"auto-export",component:Ye,data:{tab:"auto-export"}},{path:"settings",component:Ye,data:{tab:"settings"}},{path:"**",redirectTo:"statement"}]},{path:"cards",loadChildren:function(){return Promise.resolve().then(n.bind(null,"qAFH")).then((function(t){return t.CardsModule}))}},{canActivate:[E],path:v.a.root,data:{animation:"routerFadeFromBottom"},loadChildren:function(){return Promise.all([n.e(2),n.e(3),n.e(0),n.e(10)]).then(n.bind(null,"T9EB")).then((function(t){return t.PaymentsModule}))}},{path:qe.a.transfers,loadChildren:function(){return Promise.all([n.e(2),n.e(0),n.e(18)]).then(n.bind(null,"DVvf")).then((function(t){return t.TransfersModule}))}},{path:qe.a.conversion,loadChildren:function(){return Promise.all([n.e(2),n.e(0),n.e(13)]).then(n.bind(null,"VBqz")).then((function(t){return t.ConversionModule}))}},{path:qe.a.history,loadChildren:function(){return n.e(16).then(n.bind(null,"9u+z")).then((function(t){return t.HistoryModule}))}},{path:qe.a.contracts,loadChildren:function(){return n.e(3).then(n.bind(null,"Rreu")).then((function(t){return t.ContractsModule}))}},{path:qe.a.settings,loadChildren:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"7wo0")).then((function(t){return t.SettingsModule}))}},{path:qe.a.directory,loadChildren:function(){return Promise.all([n.e(2),n.e(0),n.e(14)]).then(n.bind(null,"KlkT")).then((function(t){return t.DirectoryModule}))}},{path:qe.a.letters,canActivate:[x],data:{featureFlag:g.a.LETTER},loadChildren:function(){return n.e(9).then(n.bind(null,"mCIM")).then((function(t){return t.LettersModule}))}},{path:qe.a.extraSettings,loadChildren:function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"vTXZ")).then((function(t){return t.ExtraSettingsModule}))}},{path:"**",redirectTo:"accounts"}],ze=((Ke=function t(){_classCallCheck(this,t)}).\u0275mod=A.Ob({type:Ke}),Ke.\u0275inj=A.Nb({factory:function(t){return new(t||Ke)},imports:[[h.g.forChild(Xe)],h.g]}),Ke),$e=n("qAFH");n.d(e,"HomeModule",(function(){return Ze}));var Je,Ze=((Je=function t(){_classCallCheck(this,t)}).\u0275mod=A.Ob({type:Je}),Je.\u0275inj=A.Nb({factory:function(t){return new(t||Je)},imports:[[r.c,o.n,o.D,ze,m.a,b.a,p.a,f.a,$e.CardsModule,l.c.forChild(),s.s,s.g,c.b,u.b,d.b]]}),Je)},fkRG:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("zwEd"),i=n("w7f+"),r=n("fXoL"),o=n("1kSV"),c=n("+eKG"),s=n("ofXK"),l=n("e8Ap"),u=n("sYmb");function d(t,e){if(1&t){var n=r.Xb();r.Wb(0,"a",1),r.ic("click",(function(t){return r.Fc(n),r.lc().onClick(t)})),r.Rb(1,"span",2),r.Rb(2,"span",3),r.Vb()}if(2&t){var a=r.lc();r.Hb("status--small",a.isSmall),r.Ab(1),r.rc("inlineSVG",a.mapIcon()),r.Ab(1),r.rc("translate",a.mapTitle())}}var b=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.modalService=e,this.cardsService=n,this.CARD_STATUS=a.b}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(t){t.preventDefault(),this.isSmall||this.showModal()}},{key:"mapIcon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="/assets/img/cards/status/",n=t?"-large.svg":this.isSmall?"-small.svg":".svg";switch(this.status){case a.b.EXPIRED:return"".concat(e,"expire").concat(n);case a.b.FRAUD:case a.b.LOST_LOCK:case a.b.THEFT_LOCK:case a.b.TEMPORARILY_LOCK:default:return"".concat(e,"locked").concat(n)}}},{key:"mapTitle",value:function(){return this.cardsService.mapCardStatus(this.status)}},{key:"mapDescription",value:function(){return"CARDS.STATUS.DESCRIPTION.".concat(this.status)}},{key:"showModal",value:function(){var t=this.modalService.open(i.a,{backdropClass:"backdrop_light",windowClass:"modal_light modal_sm",centered:!0});return Object.assign(t.componentInstance,{title:this.mapTitle(),img:this.mapIcon(!0),description:this.mapDescription(),cardId:this.cardId,canUnlock:this.status===a.b.TEMPORARILY_LOCK}),t.result}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Qb(o.q),r.Qb(c.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["j-card-status"]],inputs:{cardId:"cardId",isSmall:"isSmall",status:"status"},decls:1,vars:1,consts:[["href","#","class","status",3,"status--small","click",4,"ngIf"],["href","#",1,"status",3,"click"],[1,"status__icon",3,"inlineSVG"],[1,"status__title","text-danger",3,"translate"]],template:function(t,e){1&t&&r.Oc(0,d,3,4,"a",0),2&t&&r.rc("ngIf",e.status!=e.CARD_STATUS.ACTIVE)},directives:[s.u,l.a,u.a],styles:[".status[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-left:1rem}.status[_ngcontent-%COMP%]:hover{text-decoration:underline}.status--small[_ngcontent-%COMP%]{font-size:.75rem;margin-left:.5rem}.status--small[_ngcontent-%COMP%]:hover{text-decoration:none}.status--small[_ngcontent-%COMP%]   .status__icon[_ngcontent-%COMP%]{width:16px}.status--small[_ngcontent-%COMP%]   .status__icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100%}.status--small[_ngcontent-%COMP%]   .status__title[_ngcontent-%COMP%]{padding-top:2px}.status__icon[_ngcontent-%COMP%]{margin-right:.25rem}"]}),t}()},hsBV:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("fXoL"),i=n("R0Ic"),r=n("L+ju"),o=n("zwEd"),c=n("+eKG"),s=["accountsDropdown"];function l(t,e){if(1&t&&(a.Ub(0),a.Rb(1,"span",11),a.Wb(2,"div",12),a.Rb(3,"span",13),a.Wb(4,"span"),a.Qc(5),a.Vb(),a.Vb(),a.Tb()),2&t){var n=a.lc().$implicit,i=a.lc();a.Ab(1),a.rc("inlineSVG",i.getCardImage(n)),a.Ab(2),a.rc("inlineSVG",i.getCardMps(n)),a.Ab(2),a.Rc(i.getMaskedCardNumber(n))}}function u(t,e){if(1&t&&(a.Ub(0),a.Rb(1,"j-entity-logo",14),a.Wb(2,"div",12),a.Wb(3,"span"),a.Qc(4),a.Vb(),a.Vb(),a.Tb()),2&t){var n=a.lc().$implicit,i=a.lc();a.Ab(1),a.rc("name",null==n?null:null==n.balance?null:n.balance.currency),a.Ab(3),a.Rc(i.getMaskedIban(n))}}function d(t,e){if(1&t&&a.Rb(0,"j-money",15),2&t){var n=a.lc().$implicit;a.rc("money",null==n?null:n.balance)}}function b(t,e){if(1&t&&(a.Ub(0,5),a.Wb(1,"div",6),a.Wb(2,"label",7),a.Qc(3),a.mc(4,"translate"),a.Vb(),a.Oc(5,l,6,3,"ng-container",8),a.Oc(6,u,5,2,"ng-container",9),a.Vb(),a.Tb(),a.Oc(7,d,1,1,"j-money",10)),2&t){var n=e.$implicit,i=a.lc();a.rc("ngSwitch",n.accountType),a.Ab(3),a.Sc(" ",a.nc(4,4,i.label||i.mapSelectedAccountLabel(n))," "),a.Ab(2),a.rc("ngSwitchCase",i.ACCOUNT_TYPE.CARD),a.Ab(2),a.rc("ngIf",i.getIsBalanceShown(n))}}function m(t,e){if(1&t&&a.Rb(0,"j-account-item",18),2&t){var n=a.lc().$implicit;a.rc("account",n)}}function p(t,e){if(1&t&&a.Rb(0,"j-account-card",19),2&t){var n=a.lc().$implicit;a.rc("card",n)}}function f(t,e){if(1&t&&(a.Oc(0,m,1,1,"j-account-item",16),a.Oc(1,p,1,1,"j-account-card",17)),2&t){var n=e.$implicit,i=a.lc();a.rc("ngIf",n.accountType===i.ACCOUNT_TYPE.ACCOUNT||n.accountType===i.ACCOUNT_TYPE.DEPOSIT),a.Ab(1),a.rc("ngIf",n.accountType===i.ACCOUNT_TYPE.CARD)}}function h(t,e){1&t&&a.Rb(0,"div",20),2&t&&a.rc("inlineSVG","./assets/icons/transfers/arrow.svg")}var g=function(){var t=function(){function t(e){_classCallCheck(this,t),this.cardsService=e,this.hasError=!1,this.isLoading=!1,this.isDisabled=!1,this.isSmall=!1,this.isFromArrowShown=!1,this.isDisabledSelectable=!1,this.accounts=[],this.selected=new a.n,this.ACCOUNT_TYPE=r.a,this.blockedFn=this.isAccountBlocked.bind(this)}return _createClass(t,[{key:"clearSelected",value:function(){this.accountsDropdown.clearSelected()}},{key:"selectAccount",value:function(t){t&&(t.accountType===r.a.CARD&&t.hasLockedState&&!this.isDisabledSelectable||t.isMigrated||(this.selectedAccount=t,this.accountsDropdown.selectItem(t)))}},{key:"selectByIban",value:function(t){var e,n=null===(e=this.accounts)||void 0===e?void 0:e.find((function(e){return e.iban===t}));this.onSelect(n)}},{key:"isAccountBlocked",value:function(t){return!!t.isMigrated}},{key:"onSelect",value:function(t){this.selectAccount(t),this.selected.emit(t)}},{key:"mapSelectedAccountLabel",value:function(t){var e;switch(null===(e=t)||void 0===e?void 0:e.accountType){case r.a.CARD:return this.cardsService.mapCardLabel(t);case r.a.ACCOUNT:return"ACCOUNTS.REGULAR";case r.a.DEPOSIT:return"ACCOUNTS.DEPOSIT";default:return null}}},{key:"getMaskedCardNumber",value:function(t){if(t.accountType!=r.a.CARD)return null;var e=t.cardNumber;return e?"".concat(e.substring(0,4)," \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ").concat(e.substring(e.length-4,e.length)):""}},{key:"getMaskedIban",value:function(t){var e=t.iban;return e?"".concat(e.substring(0,4)," \u2022\u2022\u2022\u2022 ").concat(e.substring(e.length-4,e.length)):""}},{key:"getCardImage",value:function(t){if(t.accountType!=r.a.CARD)return null;var e="./assets/icons/accounts";switch(t.category){case o.a.PRIVATE:return"".concat(e,"/card-private.svg");case o.a.COMMERCIAL:default:return"".concat(e,"/card-commercial.svg")}}},{key:"getCardMps",value:function(t){if(t.accountType!=r.a.CARD)return null;var e="./assets/icons/cards/mps";return"4"===t.cardNumber[0]?"".concat(e,"/visa.svg"):"".concat(e,"/mastercard.svg")}},{key:"getIsBalanceShown",value:function(t){return t.accountType!==r.a.CARD||t.category!==o.a.PRIVATE}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-account-dropdown"]],viewQuery:function(t,e){var n;1&t&&a.Vc(s,!0),2&t&&a.Bc(n=a.jc())&&(e.accountsDropdown=n.first)},inputs:{label:"label",inputClass:"inputClass",hasError:"hasError",isLoading:"isLoading",isDisabled:"isDisabled",isSmall:"isSmall",isFromArrowShown:"isFromArrowShown",isDisabledSelectable:"isDisabledSelectable",accounts:"accounts"},outputs:{selected:"selected"},decls:7,vars:6,consts:[["label","ACCOUNTS.EMPTY",3,"isLoading","label","options","hasError","blockedFn","selected"],["accountsDropdown",""],["selectedTemplate",""],["optionTemplate",""],["class","account-dropdown__from-arrow",3,"inlineSVG",4,"ngIf"],[3,"ngSwitch"],[1,"account-item"],[1,"j-input--float-label","selected-account__label"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","selected-account__money",3,"money",4,"ngIf"],[3,"inlineSVG"],[1,"text-truncate","selected-account__value"],[1,"mr-2",3,"inlineSVG"],["size","sm",1,"selected-account__img",3,"name"],[1,"selected-account__money",3,"money"],[3,"account",4,"ngIf"],[3,"card",4,"ngIf"],[3,"account"],[3,"card"],[1,"account-dropdown__from-arrow",3,"inlineSVG"]],template:function(t,e){1&t&&(a.Wb(0,"j-dropdown-input",0,1),a.ic("selected",(function(t){return e.onSelect(t)})),a.Oc(2,b,8,6,"ng-template",null,2,a.Pc),a.Oc(4,f,2,2,"ng-template",null,3,a.Pc),a.Vb(),a.Oc(6,h,1,1,"div",4)),2&t&&(a.rc("isLoading",e.isLoading)("label",e.label)("options",e.accounts)("hasError",e.hasError)("blockedFn",e.blockedFn),a.Ab(6),a.rc("ngIf",e.isFromArrowShown))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"],data:{animation:[Object(i.n)("smoothCollapse",[Object(i.k)("initial",Object(i.l)({height:"0",overflow:"hidden",opacity:"0.5",zIndex:"unset"})),Object(i.k)("final",Object(i.l)({overflow:"hidden",opacity:"1",zIndex:"50"})),Object(i.m)("initial=>final",Object(i.e)("300ms ease-in-out")),Object(i.m)("final=>initial",Object(i.e)("300ms ease-in-out"))])]}}),t}()},jZlK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("2Vo4"),i=n("wd/R"),r=n("y5b2"),o=n("THGi"),c=n("fXoL"),s=function(){var t=function(){function t(){_classCallCheck(this,t),this.DEFAULT_SCHEME={paymentStatus:r.c.ALL,recipientIban:null,recipientBin:null,operationType:r.g.ALL,documentNumber:"",amountFrom:"",amountTo:"",periodType:r.d.TODAY,periodFrom:this.todayPeriod.from,periodTo:this.todayPeriod.to,sortBy:r.e.DEFAULT,comission:r.a.WITH_COMISSION},this.scheme=this.getDefaults(o.a.ACCOUNTS),this.scheme$=new a.a(this.scheme),this.PERIOD_LIST=[{type:r.d.TODAY,label:"FILTER.PERIOD.TODAY",showDates:!1,dates:this.todayPeriod},{type:r.d.YESTERDAY,label:"FILTER.PERIOD.YESTERDAY",showDates:!1,dates:this.yesterdayPeriod},{type:r.d.CURRENT_WEEK,label:"FILTER.PERIOD.CURRENT_WEEK",showDates:!0,dates:this.currentWeekPeriod},{type:r.d.CURRENT_MONTH,label:"FILTER.PERIOD.CURRENT_MONTH",showDates:!0,dates:this.currentMonthPeriod},{type:r.d.CURRENT_QUARTER,label:"FILTER.PERIOD.CURRENT_QUARTER",showDates:!0,dates:this.currentQuarterPeriod},{type:r.d.PREVIOUS_QUARTER,label:"FILTER.PERIOD.PREVIOUS_QUARTER",showDates:!0,dates:this.previousQuarterPeriod},{type:r.d.CUSTOM,label:"FILTER.PERIOD.CUSTOM",showDates:!0,hasCalendarIcon:!0,dates:null}],this.STATUSES=[{label:"HISTORY.LISTS.ALL",value:r.c.ALL,count:0,classList:"badge-primary",isSelected:!0,isDisabled:!1},{label:"HISTORY.LISTS.FOR_SIGN",value:r.c.FOR_SIGN,count:0,classList:"badge-primary",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.SUCCESS",value:r.c.SUCCESS,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.FAILED",value:r.c.FAILED,count:0,classList:"badge-primary",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.IN_PROGRESS",value:r.c.IN_PROGRESS,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.DRAFT",value:r.c.DRAFT,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1}],this.statuses$=new a.a(this.STATUSES)}return _createClass(t,[{key:"getStatuses",value:function(){return this.statuses$.asObservable()}},{key:"getDefaults",value:function(t){var e=Object.assign({},this.DEFAULT_SCHEME);return t===o.a.HISTORY&&(e.periodType=r.d.NONE,e.periodFrom=null,e.periodTo=null),e}},{key:"getScheme",value:function(){return this.scheme$.asObservable()}},{key:"updateStatus",value:function(t){this.scheme.paymentStatus=t,this.STATUSES.forEach((function(e){e.isSelected=e.value===t})),this.statuses$.next(this.STATUSES)}},{key:"updateOperation",value:function(t){this.scheme.operationType=t,this.updateScheme()}},{key:"updatePeriod",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.scheme.periodType=t,e&&(this.scheme.periodFrom=e),n&&(this.scheme.periodTo=n),this.updateScheme()}},{key:"findPeriod",value:function(t){return this.PERIOD_LIST.find((function(e){return e.type==t}))}},{key:"updateRecipient",value:function(t){var e=t.recipient,n=t.account;this.scheme.recipientBin=e.iinOrBin,n&&(this.scheme.recipientIban=n.iban),this.updateScheme()}},{key:"updateExtra",value:function(t){this.scheme=t,this.updateStatus(this.scheme.paymentStatus),this.updateScheme()}},{key:"updateFailedCount",value:function(t){this.STATUSES.find((function(t){return t.value==r.c.FAILED})).count=t,this.statuses$.next(this.STATUSES)}},{key:"updateInProgressCount",value:function(t){this.STATUSES.find((function(t){return t.value==r.c.IN_PROGRESS})).count=t,this.statuses$.next(this.STATUSES)}},{key:"updateForSignCount",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.STATUSES.find((function(t){return t.value==r.c.FOR_SIGN}));n.count=t,n.classList=e?"badge-primary":"badge-light",this.statuses$.next(this.STATUSES)}},{key:"updateScheme",value:function(){this.scheme&&this.scheme$.next(this.scheme)}},{key:"startOfTheYear",value:function(){return this.startOfTheMonth(i().month(0))}},{key:"startOfTheQuarter",value:function(){var t=i().quarter();return this.startOfTheYear().quarter(t)}},{key:"startOfTheMonth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return this.startOfTheDay(t.date(1))}},{key:"startOfTheWeek",value:function(){return this.startOfTheDay(i().isoWeekday(1))}},{key:"startOfTheDay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();return t.hours(0).minutes(0).seconds(0).milliseconds(0)}},{key:"todayPeriod",get:function(){var t=this.now;return{from:this.startOfTheDay().toDate(),to:t}}},{key:"yesterdayPeriod",get:function(){var t=this.startOfTheDay().subtract(1,"millisecond").toDate();return{from:this.startOfTheDay().subtract(1,"day").toDate(),to:t}}},{key:"currentWeekPeriod",get:function(){var t=this.now;return{from:this.startOfTheWeek().toDate(),to:t}}},{key:"currentMonthPeriod",get:function(){var t=this.now;return{from:this.startOfTheMonth().toDate(),to:t}}},{key:"currentQuarterPeriod",get:function(){var t=this.now;return{from:this.startOfTheQuarter().toDate(),to:t}}},{key:"previousQuarterPeriod",get:function(){return{from:this.startOfTheQuarter().subtract(1,"quarter").toDate(),to:this.startOfTheQuarter().subtract(1,"millisecond").toDate()}}},{key:"now",get:function(){return new Date}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},l2AU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("quSY"),i=n("fXoL"),r=n("jZlK"),o=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.filterService=e,this.subscription=new a.a;var i=this.filterService.getStatuses().subscribe((function(t){n.statuses=t}));this.subscription.add(i)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onSelect",value:function(t){this.filterService.updateStatus(t),this.filterService.updateScheme()}},{key:"selected",get:function(){return this.statuses.find((function(t){return!0===t.isSelected}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(r.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-filter-status"]],decls:1,vars:1,consts:[[3,"statuses","selected"]],template:function(t,e){1&t&&(i.Wb(0,"j-statuses",0),i.ic("selected",(function(t){return e.onSelect(t)})),i.Vb()),2&t&&i.rc("statuses",e.statuses)},styles:[""]}),t}()},lYAS:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("fXoL"),i=n("1kSV");function r(t,e){if(1&t&&(a.Wb(0,"p",12),a.Qc(1),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.Sc(" ",n.errorText," ")}}var o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.modal=e}return _createClass(t,[{key:"dismissModal",value:function(){this.modal.dismiss()}},{key:"closeModal",value:function(){this.modal.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-transaction-sign-error"]],inputs:{transaction:"transaction",errorText:"errorText"},decls:17,vars:8,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","./assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","./assets/img/history/modals/error.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],[3,"money"],["translate","",1,"m-0","text-muted"],["class","mt-3 mb-0 text-danger",4,"ngIf"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-primary","btn-block","mb-3",3,"click"],["translate","","type","button",1,"btn","btn-static","btn-link","m-0",3,"click"],[1,"mt-3","mb-0","text-danger"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ic("click",(function(t){return e.dismissModal()})),a.Rb(2,"img",2),a.mc(3,"translate"),a.Vb(),a.Vb(),a.Wb(4,"div",3),a.Rb(5,"img",4),a.mc(6,"translate"),a.Wb(7,"h3",5),a.Rb(8,"j-money",6),a.Vb(),a.Wb(9,"p",7),a.Qc(10," STATEMENT.TRANSACTION.SIGN_FAILED "),a.Vb(),a.Oc(11,r,2,1,"p",8),a.Vb(),a.Wb(12,"div",9),a.Wb(13,"button",10),a.ic("click",(function(t){return e.closeModal()})),a.Qc(14," SHARED.TRY_AGAIN "),a.Vb(),a.Wb(15,"button",11),a.ic("click",(function(t){return e.dismissModal()})),a.Qc(16," HISTORY.BACK_TO_HISTORY "),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.sc("alt",a.nc(3,4,"SHARED.CLOSE")),a.Ab(3),a.sc("alt",a.nc(6,6,"HISTORY.FAILED.TITLE")),a.Ab(3),a.rc("money",e.transaction.balance),a.Ab(3),a.rc("ngIf",e.errorText))},styles:[""]}),t}()},n6qU:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("fXoL"),i=n("sYmb"),r=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-print"]],decls:3,vars:3,consts:[["href","#",1,"print-link"],["src","./assets/icons/print.svg",3,"alt"]],template:function(t,e){1&t&&(a.Wb(0,"a",0),a.Rb(1,"img",1),a.mc(2,"translate"),a.Vb()),2&t&&(a.Ab(1),a.rc("alt",a.nc(2,1,"FILTER.PRINT")))},pipes:[i.d],styles:[".print-link[_ngcontent-%COMP%]{color:#1586bb;height:35px;padding-left:.5rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.print-link[_ngcontent-%COMP%]:hover{opacity:.6;color:#1586bb}"]}),t}()},pThr:function(t,e,n){"use strict";n.d(e,"a",(function(){return tt}));var a=n("mrSG"),i=n("fXoL"),r=n("ofXK"),o=n("quSY"),c=n("pLZG"),s=n("IzEk"),l=n("YMfE"),u=n("TwVa"),d=n("2G+r"),b=n("bHA9"),m=n("rEgK"),p=n("VnnJ"),f=n("iCQh"),h=["signersTooltipTemplate"],g=["title"],v=["description"];function y(t,e){if(1&t&&i.Sb(0,16),2&t){i.lc(2);var n=i.Cc(3);i.rc("ngTemplateOutlet",n)}}function T(t,e){if(1&t&&i.Sb(0,16),2&t){i.lc(2);var n=i.Cc(13);i.rc("ngTemplateOutlet",n)}}function S(t,e){if(1&t){var n=i.Xb();i.Wb(0,"section",12),i.ic("click",(function(t){return i.Fc(n),i.lc().onClick()})),i.Oc(1,y,1,1,"ng-container",13),i.Wb(2,"section",14),i.Wb(3,"section",15),i.Sb(4,16),i.Vb(),i.Wb(5,"div",17),i.Sb(6,16),i.Oc(7,T,1,1,"ng-container",13),i.Vb(),i.Vb(),i.Vb()}if(2&t){var a=i.lc(),r=i.Cc(5),o=i.Cc(11);i.Hb("transaction--statement",!a.transaction.isPayment)("transaction--loading",a.transaction.isLoading)("transaction--selected",a.transaction.isSelected)("transaction--large-amounts",a.hasLargeTransactions),i.Ab(1),i.rc("ngIf",a.isSelectable),i.Ab(3),i.rc("ngTemplateOutlet",r),i.Ab(2),i.rc("ngTemplateOutlet",o),i.Ab(1),i.rc("ngIf",a.transaction.isPayment&&a.actions)}}function C(t,e){if(1&t){var n=i.Xb();i.Wb(0,"section",18),i.Wb(1,"div",19),i.ic("click",(function(t){return i.Fc(n),i.lc().hideDetails()})),i.Vb(),i.Wb(2,"section",20),i.Wb(3,"j-transaction-details",21),i.ic("edited",(function(t){return i.Fc(n),i.lc().editPayment(null,t)}))("repeated",(function(t){return i.Fc(n),i.lc().repeatPayment(null,t)}))("exported",(function(t){return i.Fc(n),i.lc().exportPayment(null,t)}))("downloaded",(function(t){return i.Fc(n),i.lc().downloadIncomingPayment(null,t)}))("deleted",(function(t){return i.Fc(n),i.lc().deletePayment(null,t)}))("revoked",(function(t){return i.Fc(n),i.lc().revokePayment(null,t)}))("signed",(function(t){return i.Fc(n),i.lc().signPayment(null,t)}))("sentForSign",(function(t){return i.Fc(n),i.lc().sendForSign(null,t)}))("closed",(function(t){return i.Fc(n),i.lc().hideDetails()})),i.Vb(),i.Vb(),i.Vb()}if(2&t){var a=i.lc();i.rc("ngClass",a.wrapperClasses),i.Ab(2),i.rc("ngClass",a.detailsClasses),i.Ab(1),i.rc("transaction",a.transaction)("mode",a.mode)("signers",a.signers)("hasExtraPadding",a.hasExtraPadding)}}function A(t,e){if(1&t){var n=i.Xb();i.Wb(0,"div",22),i.ic("click",(function(t){return i.Fc(n),t.stopPropagation()})),i.mc(1,"translate"),i.Wb(2,"input",23),i.ic("ngModelChange",(function(t){return i.Fc(n),i.lc().transaction.isSelected=t}))("change",(function(t){return i.Fc(n),i.lc().onSelect()}))("click",(function(t){return i.Fc(n),t.stopPropagation()})),i.Vb(),i.Rb(3,"label",24),i.Vb()}if(2&t){var a=i.lc();i.rc("ngbTooltip",i.nc(1,4,"STATEMENT.TRANSACTION.SELECT")),i.Ab(2),i.rc("ngModel",a.transaction.isSelected)("id",a.id),i.Ab(1),i.rc("for",a.id)}}function O(t,e){if(1&t&&i.Rb(0,"j-transaction-type",32),2&t){var n=i.lc(2);i.rc("transaction",n.transaction)}}function _(t,e){if(1&t&&i.Sb(0,16),2&t){i.lc(2);var n=i.Cc(7);i.rc("ngTemplateOutlet",n)}}function k(t,e){1&t&&i.Rb(0,"span",33)}function E(t,e){if(1&t&&(i.Wb(0,"span",34),i.Qc(1),i.Vb()),2&t){var n=i.lc(2);i.Ab(1),i.Sc(" \u2116 ",n.transaction.documentNumber," ")}}function x(t,e){if(1&t&&i.Sb(0,16),2&t){i.lc(2);var n=i.Cc(9);i.rc("ngTemplateOutlet",n)}}function I(t,e){if(1&t&&(i.Oc(0,O,1,1,"j-transaction-type",25),i.Oc(1,_,1,1,"ng-container",13),i.Wb(2,"div",26),i.Oc(3,k,1,0,"span",27),i.Oc(4,E,2,1,"span",28),i.Vb(),i.Wb(5,"div",29),i.Qc(6),i.Vb(),i.Oc(7,x,1,1,"ng-container",13),i.Wb(8,"h5",30),i.Rb(9,"j-money",31),i.Vb()),2&t){var n=i.lc();i.rc("ngIf",!n.transaction.isPayment),i.Ab(1),i.rc("ngIf",n.transaction.isPayment&&n.transaction.paymentStatus),i.Ab(2),i.rc("ngIf",n.transaction.category==n.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.rc("ngIf",n.transaction.category!=n.TRANSACTION_CATEGORY.REFUND),i.Ab(2),i.Sc(" ",n.transaction.dateStatusText," "),i.Ab(1),i.rc("ngIf",n.transaction.isPayment&&n.transaction.paymentStatus),i.Ab(2),i.rc("money",n.transaction.balance)("isCredit",n.transaction.isCredit)("isDebit",!n.transaction.isCredit)}}function w(t,e){if(1&t&&(i.Ub(0),i.Rb(1,"div",36),i.Tb()),2&t){var n=i.lc(2),a=i.Cc(21);i.Ab(1),i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.rc("ngbTooltip",a)("inlineSVG","./assets/icons/transaction/status.svg")}}function P(t,e){if(1&t&&(i.Ub(0),i.Rb(1,"div",37),i.Tb()),2&t){var n=i.lc(2);i.Ab(1),i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.rc("inlineSVG","./assets/icons/transaction/status.svg")}}function R(t,e){if(1&t&&(i.Oc(0,w,2,4,"ng-container",35),i.Oc(1,P,2,3,"ng-container",35)),2&t){var n=i.lc();i.rc("ngIf",n.statusHistory),i.Ab(1),i.rc("ngIf",!n.statusHistory)}}function V(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"div",38),i.Qc(2),i.Vb(),i.Tb()),2&t){var n=i.lc(2),a=i.Cc(21);i.Ab(1),i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.rc("ngbTooltip",a),i.Ab(1),i.Sc(" ",null==n.paymentStatus?null:n.paymentStatus.label," ")}}function M(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"div",39),i.Qc(2),i.Vb(),i.Tb()),2&t){var n=i.lc(2);i.Ab(1),i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.Ab(1),i.Sc(" ",null==n.paymentStatus?null:n.paymentStatus.label," ")}}function W(t,e){if(1&t&&(i.Oc(0,V,3,4,"ng-container",35),i.Oc(1,M,3,3,"ng-container",35)),2&t){var n=i.lc();i.rc("ngIf",n.statusHistory),i.Ab(1),i.rc("ngIf",!n.statusHistory)}}function D(t,e){if(1&t&&(i.Rb(0,"div",44),i.mc(1,"translate")),2&t){var n=i.lc(2);i.Db(null==n.paymentStatus?null:n.paymentStatus.classList),i.rc("jClamp",2)("innerText",i.oc(1,4,n.transaction.paymentMessage,n.transaction.paymentMessageTranslateParams))}}function L(t,e){if(1&t&&(i.Wb(0,"article",40),i.Rb(1,"div",41),i.Rb(2,"div",42),i.mc(3,"translate"),i.Oc(4,D,2,7,"div",43),i.Vb()),2&t){var n=i.lc();i.Ab(1),i.rc("jClamp",1)("innerText",n.title),i.Ab(1),i.rc("jClamp",2)("innerText",n.transaction.description||i.nc(3,5,"STATEMENT.TRANSACTION.NO_DESCRIPTION")),i.Ab(2),i.rc("ngIf","BANK_COMPLETED"!=(null==n.transaction.paymentStatus?null:n.transaction.paymentStatus.code))}}function N(t,e){if(1&t&&(i.Wb(0,"div",45),i.Sb(1,16),i.Vb()),2&t){i.lc();var n=i.Cc(15);i.Ab(1),i.rc("ngTemplateOutlet",n)}}var F=function(t){return{$implicit:t}};function j(t,e){if(1&t&&i.Sb(0,49),2&t){var n=e.$implicit;i.lc(2);var a=i.Cc(17);i.rc("ngTemplateOutlet",a)("ngTemplateOutletContext",i.wc(2,F,n))}}function Q(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",50),i.ic("click",(function(t){return i.Fc(n),i.lc(2).signPayment(t)})),i.Vb()}if(2&t){i.lc(2);var a=i.Cc(19);i.rc("ngbTooltip",a)("inlineSVG","./assets/icons/transaction/sign.svg")}}function U(t,e){if(1&t&&(i.Wb(0,"span",51),i.Qc(1),i.Vb()),2&t){var n=i.lc(2),a=i.Cc(19);i.rc("ngbTooltip",a),i.Ab(1),i.Sc(" ",n.transaction.signsCountText," ")}}function G(t,e){if(1&t&&(i.Oc(0,j,1,4,"ng-container",46),i.Oc(1,Q,1,2,"a",47),i.Oc(2,U,2,2,"span",48)),2&t){var n=i.lc();i.rc("ngForOf",n.actions),i.Ab(1),i.rc("ngIf",n.transaction.isSignable),i.Ab(1),i.rc("ngIf",n.transaction.isSignableByOthers)}}var B=function(){return{skipTourEnding:!0}};function H(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",54),i.ic("click",(function(t){return i.Fc(n),i.lc(2).$implicit.clickHandler(t)})),i.mc(1,"translate"),i.Vb()}if(2&t){var a=i.lc(2).$implicit;i.Db(a.extraClasses),i.rc("jTour",a.tour)("jTourOptions",i.vc(8,B))("ngbTooltip",a.tooltipTemplate?a.tooltipTemplate:i.nc(1,6,a.tooltip))("inlineSVG",a.icon)}}function K(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",55),i.ic("click",(function(t){return i.Fc(n),i.lc(2).$implicit.clickHandler(t)})),i.mc(1,"translate"),i.Vb()}if(2&t){var a=i.lc(2).$implicit;i.Db(a.extraClasses),i.rc("ngbTooltip",a.tooltipTemplate?a.tooltipTemplate:i.nc(1,4,a.tooltip))("inlineSVG",a.icon)}}function Y(t,e){if(1&t&&(i.Ub(0),i.Oc(1,H,2,9,"a",52),i.Oc(2,K,2,6,"a",53),i.Tb()),2&t){var n=i.lc().$implicit;i.Ab(1),i.rc("ngIf",n.tour),i.Ab(1),i.rc("ngIf",!n.tour)}}function q(t,e){1&t&&i.Oc(0,Y,3,2,"ng-container",35),2&t&&i.rc("ngIf",e.$implicit.isShown)}function X(t,e){if(1&t&&(i.Wb(0,"div",57),i.Wb(1,"span",58),i.Qc(2),i.Vb(),i.Qc(3," \xa0 "),i.Wb(4,"span",59),i.Qc(5),i.Vb(),i.Vb()),2&t){var n=e.$implicit;i.Ab(2),i.Rc(n.name),i.Ab(2),i.Db(n.classList),i.Ab(1),i.Rc(n.label)}}function z(t,e){if(1&t&&i.Oc(0,X,6,4,"div",56),2&t){var n=i.lc();i.rc("ngForOf",n.signers)}}function $(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span"),i.Qc(2),i.mc(3,"date"),i.Vb(),i.Wb(4,"span",67),i.Qc(5),i.mc(6,"date"),i.Vb(),i.Vb()),2&t){var n=i.lc().$implicit;i.Ab(2),i.Sc(" ",i.oc(3,2,n.time,"dd.MM.yy")," "),i.Ab(3),i.Sc(" ",i.oc(6,5,n.time,"HH:mm")," ")}}function J(t,e){if(1&t&&(i.Wb(0,"li",62),i.Rb(1,"span",63),i.Wb(2,"div",64),i.Qc(3),i.mc(4,"translate"),i.Vb(),i.Oc(5,$,7,8,"div",65),i.Vb()),2&t){var n=e.$implicit;i.Ab(1),i.Db(n.iconClassList),i.rc("inlineSVG","./assets/icons/transaction/status.svg"),i.Ab(1),i.Db(n.labelClassList),i.Ab(1),i.Rc(i.nc(4,7,n.label)),i.Ab(2),i.rc("ngIf",n.time)}}function Z(t,e){if(1&t&&(i.Wb(0,"ul",60),i.Oc(1,J,6,9,"li",61),i.Vb()),2&t){var n=i.lc();i.Ab(1),i.rc("ngForOf",n.statusHistory)}}var tt=function(){var t=function(){function t(e,n,a,r,c){_classCallCheck(this,t),this.dictionariesService=e,this.statementService=n,this.companyService=a,this.filesService=r,this.document=c,this.id=Object(l.generateUniqueId)(),this.TRANSACTION_CATEGORY=d.a,this.hasExtraPadding=!1,this.hasLargeTransactions=!1,this.isSelectable=!1,this.deleted=new i.n,this.selected=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.downloaded=new i.n,this.revoked=new i.n,this.signers=[],this.PAYMENT_STATUS=u.h,this.isDetailsShown=!1,this.isAnimating=!1,this.isEditable=!1,this.isSignable=!1,this.isSignableByOthers=!1,this.wrapperClasses="",this.detailsClasses="",this.subscription=new o.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngOnInit",value:function(){var t=this;this.paymentStatus=this.statementService.generatePaymentStatusLabel(this.transaction);var e=this.dictionariesService.KNPDictionary.items$.pipe(Object(c.a)((function(t){return t.length>0})),Object(s.a)(1)).subscribe((function(e){t.transaction.knp=e.find((function(e){var n,a,i;return(null===(n=e)||void 0===n?void 0:n.code)===(null===(i=null===(a=t.transaction)||void 0===a?void 0:a.knp)||void 0===i?void 0:i.code)}))})),n=this.companyService.getAuthorizedPersons().subscribe((function(e){t.authorizedPersons=e,t.generateSignersList()}));this.subscription.add(n),this.subscription.add(e),this.mapPaymentActions()}},{key:"onClick",value:function(){this.showDetails()}},{key:"onSelect",value:function(){this.selected.emit(this.transaction.isSelected)}},{key:"repeatPayment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;t&&(t.preventDefault(),t.stopPropagation()),this.statementService.repeatPayment(e)}},{key:"editPayment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;t&&(t.preventDefault(),t.stopPropagation()),this.statementService.editPayment(e)}},{key:"exportPayment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(t.preventDefault(),t.stopPropagation()),this.exported.emit(e),n.next=3,this.statementService.exportTransaction(e);case 3:a=n.sent,this.filesService.downloadFile(a,"\u2116".concat(e.documentNumber,".pdf"));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"downloadIncomingPayment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(t.preventDefault(),t.stopPropagation()),this.downloaded.emit(e),n.next=3,this.statementService.exportIncomingPayment(e);case 3:a=n.sent,this.filesService.downloadFile(a,"\u2116".concat(e.documentNumber,".pdf"));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"deletePayment",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(t=n)||void 0===t||t.preventDefault(),null===(e=n)||void 0===e||e.stopPropagation(),this.hideDetails(),this.deleted.emit(a)}},{key:"signPayment",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(t=n)||void 0===t||t.preventDefault(),null===(e=n)||void 0===e||e.stopPropagation(),this.signed.emit(a),this.hideDetails()}},{key:"sendForSign",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(t=n)||void 0===t||t.preventDefault(),null===(e=n)||void 0===e||e.stopPropagation(),this.sentForSign.emit(a),this.hideDetails()}},{key:"revokePayment",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.transaction;null===(t=e)||void 0===t||t.preventDefault(),this.hideDetails(),this.revoked.emit(n)}},{key:"showDetails",value:function(){var t=this;this.isAnimating||(this.isAnimating=!0,this.isDetailsShown=!0,this.wrapperClasses="animate__animated zoomInJ",setTimeout((function(){t.document.body.classList.add("overflow-hidden"),t.detailsClasses="is-shown"}),250),setTimeout((function(){t.wrapperClasses="",t.isAnimating=!1}),300))}},{key:"hideDetails",value:function(){var t=this;this.isAnimating||(this.isAnimating=!0,this.detailsClasses="",setTimeout((function(){t.document.body.classList.remove("overflow-hidden"),t.wrapperClasses="animate__animated zoomOutJ"}),250),setTimeout((function(){t.wrapperClasses="",t.isDetailsShown=!1,t.isAnimating=!1}),300))}},{key:"generateSignersList",value:function(){var t;this.signers=this.companyService.generateSignersList(null===(t=this.transaction.paymentStatus)||void 0===t?void 0:t.code,this.transaction.signatureScheme,this.transaction.signatures)}},{key:"loadStatusHistory",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.transaction.isPayment&&this.transaction.paymentId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.statementService.getStatusHistory(this.transaction);case 4:if((e=t.sent)&&0!==e.length){t.next=7;break}return t.abrupt("return");case 7:if(n=e[e.length-1].status,this.statusHistory=e.map((function(t){var e,a;switch(t.status){case u.h.BANK_COMPLETED:e="text-success",a="text-success";break;case u.h.TRANSFER_ROLLBACK:case u.h.REJECTED:e="text-danger",a="text-danger";break;case u.h.BANK_PROCESSING:e=n===u.h.BANK_PROCESSING?"text-warning":"",a=n===u.h.BANK_PROCESSING?"text-warning":"text-success";break;default:e="",a="text-success"}return{time:t.time,label:"HISTORY.STATUS_HISTORY.".concat(t.status),iconClassList:a,labelClassList:e}})),a=n===u.h.REJECTED||n===u.h.BANK_COMPLETED||n===u.h.TRANSFER_ROLLBACK,n===u.h.CREATED&&this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.".concat(u.h.READY_TO_SEND),iconClassList:"text-muted",labelClassList:"text-muted"}),a){t.next=21;break}t.t0=this.transaction.paymentStatus.code,t.next=t.t0===u.h.READY_TO_SEND?14:t.t0===u.h.REJECTED?16:t.t0===u.h.TRANSFER_ROLLBACK?16:t.t0===u.h.BANK_COMPLETED?18:20;break;case 14:return this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.READY_TO_SEND_FROM_BANK",iconClassList:"text-warning",labelClassList:"text-warning"}),this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.".concat(u.h.BANK_COMPLETED),iconClassList:"text-muted",labelClassList:"text-muted"}),t.abrupt("break",21);case 16:return this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.".concat(this.transaction.paymentStatus.code),iconClassList:"text-danger",labelClassList:"text-danger"}),t.abrupt("break",21);case 18:return this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.".concat(this.transaction.paymentStatus.code),iconClassList:"text-success",labelClassList:"text-success"}),t.abrupt("break",21);case 20:this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.".concat(u.h.BANK_COMPLETED),iconClassList:"text-muted",labelClassList:"text-muted"});case 21:case"end":return t.stop()}}),t,this)})))}},{key:"mapPaymentActions",value:function(){var t="STATEMENT.TRANSACTION",e="./assets/icons/transaction";this.actions=[{isShown:this.transaction.isRemovable,tooltip:"".concat(t,".DELETE"),icon:"".concat(e,"/delete.svg"),clickHandler:this.deletePayment.bind(this)},{isShown:this.transaction.isRevokable,tooltip:"".concat(t,".REVOKE"),icon:"".concat(e,"/revoke.svg"),clickHandler:this.revokePayment.bind(this)},{isShown:this.transaction.isExportable,tooltip:"".concat(t,".DOWNLOAD"),icon:"".concat(e,"/pdf.svg"),clickHandler:this.exportPayment.bind(this)},{isShown:this.transaction.isEditable,tooltip:"".concat(t,".EDIT"),icon:"".concat(e,"/edit.svg"),clickHandler:this.editPayment.bind(this)},{isShown:this.transaction.isRepeatable,tooltip:"".concat(t,".REPEAT"),icon:"".concat(e,"/repeat.svg"),clickHandler:this.repeatPayment.bind(this),tour:this.transaction.hasTour?"HISTORY_LIST.REPEAT":null},{isShown:!this.transaction.isSignable&&this.transaction.isSendableForSign,tooltip:"".concat(t,".SEND_FOR_SIGN"),icon:"".concat(e,"/for-sign.svg"),extraClasses:"transaction__action--sign",clickHandler:this.sendForSign.bind(this)}]}},{key:"title",get:function(){return this.statementService.getTransactionTitle(this.transaction)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(b.a),i.Qb(m.a),i.Qb(p.a),i.Qb(f.a),i.Qb(r.e))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction"]],contentQueries:function(t,e,n){var a;1&t&&i.Ib(n,h,!0,i.L),2&t&&i.Bc(a=i.jc())&&(e.signersTooltipTemplate=a.first)},viewQuery:function(t,e){var n;1&t&&(i.Vc(g,!0),i.Vc(v,!0)),2&t&&(i.Bc(n=i.jc())&&(e.titleRef=n.first),i.Bc(n=i.jc())&&(e.descriptionRef=n.first))},inputs:{mode:"mode",transaction:"transaction",hasExtraPadding:"hasExtraPadding",hasLargeTransactions:"hasLargeTransactions",isSelectable:"isSelectable"},outputs:{deleted:"deleted",selected:"selected",signed:"signed",sentForSign:"sentForSign",exported:"exported",downloaded:"downloaded",revoked:"revoked"},decls:22,vars:2,consts:[["class","transaction",3,"transaction--statement","transaction--loading","transaction--selected","transaction--large-amounts","click",4,"ngIf"],["class","f-page-wrapper is-shown",3,"ngClass",4,"ngIf"],["checkboxTemplate",""],["headerTemplate",""],["paymentStatusIcon",""],["paymentStatusLabel",""],["contentTemplate",""],["actionsTemplate",""],["actionsContentTemplate",""],["actionTemplate",""],["signersTooltipTemplate",""],["statusHistoryTemplate",""],[1,"transaction",3,"click"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"transaction__content"],[1,"transaction__header"],[3,"ngTemplateOutlet"],[1,"transaction__body"],[1,"f-page-wrapper","is-shown",3,"ngClass"],[1,"f-page-backdrop",3,"click"],[1,"f-page-content","f-page-content--gray","f-page-content--quarter","transaction__details",3,"ngClass"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","revoked","signed","sentForSign","closed"],["tooltipClass","tooltip-light",1,"custom-control","custom-checkbox","mr-1","transaction__select",3,"ngbTooltip","click"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange","change","click"],[1,"custom-control-label",3,"for"],["class","transaction__img",3,"transaction",4,"ngIf"],[1,"p3","transaction__number"],["class","text-danger","translate","STATEMENT.TRANSACTION.REFUND",4,"ngIf"],["class","text-disabled",4,"ngIf"],[1,"p3","text-muted","transaction__date"],[1,"p1","transaction__amount"],["showSign","true",3,"money","isCredit","isDebit"],[1,"transaction__img",3,"transaction"],["translate","STATEMENT.TRANSACTION.REFUND",1,"text-danger"],[1,"text-disabled"],[4,"ngIf"],["container","body","tooltipClass","tooltip-light",1,"transaction__status-icon",3,"ngbTooltip","inlineSVG"],[1,"transaction__status-icon",3,"inlineSVG"],["container","body","tooltipClass","tooltip-light","translate","",1,"p3","transaction__status",3,"ngbTooltip"],["translate","",1,"p3","transaction__status"],[1,"transaction__info"],[1,"p1","transaction__title",3,"jClamp","innerText"],[1,"text-muted","text-small","transaction__description",3,"jClamp","innerText"],["class","text-small transaction__error",3,"class","jClamp","innerText",4,"ngIf"],[1,"text-small","transaction__error",3,"jClamp","innerText"],[1,"transaction__actions"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["href","#","class","transaction__action transaction__action--sign","tooltipClass","tooltip-light","container","body",3,"ngbTooltip","inlineSVG","click",4,"ngIf"],["class","transaction__action","tooltipClass","tooltip-light",3,"ngbTooltip",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["href","#","tooltipClass","tooltip-light","container","body",1,"transaction__action","transaction__action--sign",3,"ngbTooltip","inlineSVG","click"],["tooltipClass","tooltip-light",1,"transaction__action",3,"ngbTooltip"],["href","#","jTourPosition","top","class","transaction__action","tooltipClass","tooltip-light",3,"jTour","jTourOptions","class","ngbTooltip","inlineSVG","click",4,"ngIf"],["href","#","class","transaction__action","container","body","tooltipClass","tooltip-light",3,"class","ngbTooltip","inlineSVG","click",4,"ngIf"],["href","#","jTourPosition","top","tooltipClass","tooltip-light",1,"transaction__action",3,"jTour","jTourOptions","ngbTooltip","inlineSVG","click"],["href","#","container","body","tooltipClass","tooltip-light",1,"transaction__action",3,"ngbTooltip","inlineSVG","click"],["class","signer",4,"ngFor","ngForOf"],[1,"signer"],[1,"text-dark"],["translate",""],[1,"status-history"],["class","status-history__item p4",4,"ngFor","ngForOf"],[1,"status-history__item","p4"],[1,"status-history__icon",3,"inlineSVG"],[1,"status-history__status"],["class","status-history__date",4,"ngIf"],[1,"status-history__date"],[1,"text-muted"]],template:function(t,e){1&t&&(i.Oc(0,S,8,12,"section",0),i.Oc(1,C,4,6,"section",1),i.Oc(2,A,4,6,"ng-template",null,2,i.Pc),i.Oc(4,I,10,9,"ng-template",null,3,i.Pc),i.Oc(6,R,2,2,"ng-template",null,4,i.Pc),i.Oc(8,W,2,2,"ng-template",null,5,i.Pc),i.Oc(10,L,5,7,"ng-template",null,6,i.Pc),i.Oc(12,N,2,1,"ng-template",null,7,i.Pc),i.Oc(14,G,3,3,"ng-template",null,8,i.Pc),i.Oc(16,q,1,1,"ng-template",null,9,i.Pc),i.Oc(18,z,1,1,"ng-template",null,10,i.Pc),i.Oc(20,Z,2,1,"ng-template",null,11,i.Pc)),2&t&&(i.rc("ngIf",e.transaction),i.Ab(1),i.rc("ngIf",e.isDetailsShown&&e.transaction))},styles:['.transaction[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:2rem;position:relative;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.transaction[_ngcontent-%COMP%]:hover:before{opacity:1}.transaction[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-.75rem;right:-.75rem;top:-1rem;bottom:-1rem;z-index:0;box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04);border-radius:.75rem;opacity:0;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}@media(min-width:1280px){.transaction[_ngcontent-%COMP%]:before{left:-1rem;right:-1rem}}.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:.875rem}@media(min-width:1280px){.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:1rem}}@media(min-width:1920px){.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:1rem}}.transaction--selected[_ngcontent-%COMP%]:before{opacity:1;background:#f5f9fd;border-radius:0;box-shadow:none;left:-1.5rem;right:-1.5rem}@media(min-width:1280px){.transaction--selected[_ngcontent-%COMP%]:before{left:-1.5rem;right:-1.5rem}}@media(min-width:1280px){.transaction--statement[_ngcontent-%COMP%]   .transaction__header[_ngcontent-%COMP%]{grid-template-columns:40px auto;grid-template-rows:minmax(0,auto) minmax(0,auto) minmax(0,auto);-webkit-column-gap:1.5rem;-moz-column-gap:1.5rem;column-gap:1.5rem}}@media(min-width:1280px){.transaction--statement[_ngcontent-%COMP%]   .transaction__number[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:3;grid-row-start:3;grid-row-end:4}}.transaction__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:.5rem}@media(min-width:1280px){.transaction__header[_ngcontent-%COMP%]{margin-bottom:0;align-self:start;position:relative;display:grid;grid-template-columns:125px auto;grid-template-rows:minmax(0,auto) minmax(0,auto);-webkit-column-gap:.25rem;-moz-column-gap:.25rem;column-gap:.25rem;-webkit-column-gap:.5rem;-moz-column-gap:.5rem;column-gap:.5rem}}.transaction__img[_ngcontent-%COMP%]{margin-right:.25rem}@media(min-width:1280px){.transaction__img[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:3;align-self:center;margin-right:0}}.transaction__img--hidden-sm[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__img--hidden-sm[_ngcontent-%COMP%]{display:block}}.transaction__select[_ngcontent-%COMP%]{z-index:1;position:relative}.transaction__date[_ngcontent-%COMP%]{line-height:1.3}@media(min-width:1280px){.transaction__date[_ngcontent-%COMP%]{align-self:baseline;grid-column-start:2;grid-column-end:3;grid-row-start:2;grid-row-end:3}}.transaction__amount[_ngcontent-%COMP%]{margin-bottom:0;margin-left:auto}@media(min-width:1280px){.transaction__amount[_ngcontent-%COMP%]{margin-left:unset;-webkit-box-align:baseline;align-items:baseline;align-self:baseline;grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:2;line-height:27px;margin-bottom:.15rem}}.transaction__number[_ngcontent-%COMP%]{display:none}@media(min-width:670px){.transaction__number[_ngcontent-%COMP%]{margin-right:.5rem;white-space:nowrap;display:block}}@media(min-width:1280px){.transaction__number[_ngcontent-%COMP%]{margin-right:0}}.transaction__title[_ngcontent-%COMP%]{max-width:100%;margin-bottom:.25rem}.transaction__description[_ngcontent-%COMP%]{max-width:100%;line-height:20px;word-break:break-all}.transaction__error[_ngcontent-%COMP%]{max-width:100%;margin-top:.25rem;line-height:18px}.transaction__details[_ngcontent-%COMP%]{overflow:hidden;--animate-duration:0.25s}@media(min-width:1280px){.transaction__details[_ngcontent-%COMP%]{width:50%;max-width:450px}}.transaction__body[_ngcontent-%COMP%]{display:grid}@media(min-width:1280px){.transaction__body[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr) 128px}}.transaction__content[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;z-index:1;position:relative}@media(min-width:1280px){.transaction__content[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem;grid-template-columns:minmax(0,4fr) minmax(0,8fr)}}.transaction__prefix[_ngcontent-%COMP%]{flex-shrink:0}.transaction__info[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;margin-right:1rem}.transaction__actions[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-left:auto;align-self:baseline}}.transaction__action[_ngcontent-%COMP%]{display:block;margin-left:.5rem;color:#b7bec5}.transaction__action[_ngcontent-%COMP%]:hover{color:#ef5630}.transaction__action--sign[_ngcontent-%COMP%]{color:#1586bb}.transaction__status[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__status[_ngcontent-%COMP%]{display:block;align-self:baseline}}.transaction__status-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media(min-width:1280px){.transaction__status-icon[_ngcontent-%COMP%]{display:none}}.signer[_ngcontent-%COMP%]{text-align:left;white-space:nowrap}.status-history[_ngcontent-%COMP%]{display:-webkit-box;display:flex;list-style:none;padding:0;margin:0;position:relative}.status-history[_ngcontent-%COMP%]:before{content:"";position:absolute;top:9px;left:40px;right:40px;height:1px;background:#b7bec5;display:block}.status-history__item[_ngcontent-%COMP%]{position:relative;z-index:1;width:80px;margin-right:20px}.status-history__item[_ngcontent-%COMP%]:last-child{margin-right:0}']}),t}()},pZP7:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("L+ju"),i=n("fXoL");function r(t,e){1&t&&i.Rb(0,"span",12)}function o(t,e){1&t&&(i.Wb(0,"small",13),i.Qc(1,"ACCOUNTS.INACTIVE"),i.Vb())}function c(t,e){if(1&t&&(i.Wb(0,"small",14),i.Qc(1),i.Vb()),2&t){var n=i.lc();i.Ab(1),i.Rc(n.lockedMessage)}}var s=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"lockedMessage",get:function(){return"ACCOUNTS.STATE.".concat(this.account.blockType)}},{key:"label",get:function(){return this.account.accountType===a.a.ACCOUNT?"ACCOUNTS.DROPDOWN.REGULAR":"ACCOUNTS.DROPDOWN.DEPOSIT"}},{key:"isBlocked",get:function(){return this.account.isMigrated}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["j-account-item"]],inputs:{account:"account"},decls:14,vars:7,consts:[[1,"account-item"],["size","sm",1,"account-item__img",3,"name"],[1,"account-item__body","p3"],["translate","",1,"text-muted"],[1,"d-flex","align-items-center"],["class","mr-2","inlineSVG","assets/icons/v2/atf-24.svg",4,"ngIf"],[1,"text-dark"],[1,"ml-auto","d-flex","align-items-center"],["class","d-block text-muted mr-2","translate","",4,"ngIf"],[1,"p3","text-right"],[3,"money"],["class","d-block text-muted","translate","",4,"ngIf"],["inlineSVG","assets/icons/v2/atf-24.svg",1,"mr-2"],["translate","",1,"d-block","text-muted","mr-2"],["translate","",1,"d-block","text-muted"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Rb(1,"j-entity-logo",1),i.Wb(2,"div",2),i.Wb(3,"div",3),i.Qc(4),i.Vb(),i.Wb(5,"div",4),i.Oc(6,r,1,0,"span",5),i.Wb(7,"div",6),i.Qc(8),i.Vb(),i.Vb(),i.Vb(),i.Wb(9,"div",7),i.Oc(10,o,2,0,"small",8),i.Wb(11,"div",9),i.Rb(12,"j-money",10),i.Oc(13,c,2,1,"small",11),i.Vb(),i.Vb(),i.Vb()),2&t&&(i.Ab(1),i.rc("name",null==e.account?null:null==e.account.balance?null:e.account.balance.currency),i.Ab(3),i.Rc(e.label),i.Ab(2),i.rc("ngIf",null==e.account?null:e.account.alterCode),i.Ab(2),i.Rc(null==e.account?null:e.account.maskedIban),i.Ab(2),i.rc("ngIf",null==e.account?null:e.account.isMigrated),i.Ab(2),i.rc("money",null==e.account?null:e.account.balance),i.Ab(1),i.rc("ngIf",null==e.account?null:e.account.hasLockedState))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"]}),t}()},qAFH:function(t,e,n){"use strict";n.r(e);var a=n("ofXK"),i=n("xJkR"),r=n("5cNS"),o=n("PCNd"),c=n("crCf"),s=n("tyNb"),l=n("mrSG"),u=n("quSY"),d=n("fXoL"),b=n("VnnJ"),m=n("7rOj"),p=n("+eKG"),f=n("VO+5"),h=n("sYmb"),g=n("iCQh"),v=n("jhN1"),y=n("S1F0"),T=n("oKsb"),S=n("fkRG"),C=n("Kx/q"),A=function(){return{width:"300px",height:"20px","background-color":"#ECEEF1"}},O=function(){return{width:"500px",height:"36px","background-color":"#ECEEF1"}};function _(t,e){1&t&&(d.Ub(0),d.Rb(1,"ngx-skeleton-loader",1),d.Rb(2,"br"),d.Rb(3,"ngx-skeleton-loader",1),d.Tb()),2&t&&(d.Ab(1),d.rc("theme",d.vc(2,A)),d.Ab(2),d.rc("theme",d.vc(3,O)))}function k(t,e){if(1&t&&(d.Wb(0,"section",4),d.Wb(1,"div",5),d.Rb(2,"img",6),d.Wb(3,"span",7),d.Qc(4),d.Vb(),d.Rb(5,"j-card-status",8),d.Vb(),d.Wb(6,"h1",9),d.Rb(7,"j-money",10),d.Vb(),d.Vb()),2&t){var n=d.lc(2);d.Ab(4),d.Tc("",n.card.alias," ",n.card.maskedNumber,""),d.Ab(1),d.rc("cardId",n.card.cardId)("status",n.card.status),d.Ab(2),d.rc("money",n.card.balance)}}function E(t,e){if(1&t&&(d.Wb(0,"div",11),d.Qc(1),d.Vb()),2&t){var n=d.lc(2);d.Ab(1),d.Rc(n.errorText)}}function x(t,e){if(1&t&&(d.Ub(0),d.Oc(1,k,8,5,"section",2),d.Oc(2,E,2,1,"div",3),d.Tb()),2&t){var n=d.lc();d.Ab(1),d.rc("ngIf",n.card),d.Ab(1),d.rc("ngIf",n.errorText)}}var I,w,P=((I=function(){function t(e,n){var a=this;_classCallCheck(this,t),this.route=e,this.cardsService=n,this.isLoading=!0,this.loaded=new d.n,this.failed=new d.n,this.subscription=new u.a;var i=this.route.params.subscribe((function(t){a.cardId=t.id,a.init()}));this.subscription.add(i)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"init",value:function(){this.loadCard()}},{key:"loadCard",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,t.next=4,this.cardsService.getCardById(this.cardId);case 4:this.card=t.sent,this.loaded.emit(this.card),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.errorText=t.t0.description,this.failed.emit();case 11:return t.prev=11,this.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})))}}]),t}()).\u0275fac=function(t){return new(t||I)(d.Qb(s.a),d.Qb(p.a))},I.\u0275cmp=d.Kb({type:I,selectors:[["j-card-header"]],outputs:{loaded:"loaded",failed:"failed"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"theme"],["class","account-header",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"account-header"],[1,"iban"],["src","./assets/img/cards/card-black.svg"],[1,"ml-3","text-muted"],[3,"cardId","status"],[1,"f-page-title"],[3,"money"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(d.Oc(0,_,4,4,"ng-container",0),d.Oc(1,x,3,2,"ng-container",0)),2&t&&(d.rc("ngIf",e.isLoading),d.Ab(1),d.rc("ngIf",!e.isLoading))},directives:[a.u,i.a,S.a,C.a],styles:["[_nghost-%COMP%]{display:block;min-height:90px}.iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:4px;min-height:25px}.iban-img[_ngcontent-%COMP%]{margin-right:12px;border-radius:.5rem}.f-page-title[_ngcontent-%COMP%]{margin-bottom:12px}"]}),I),R=function(){return["../statement"]},V=function(){return["../info"]},M=function(){return["../settings"]},W=((w=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||w)},w.\u0275cmp=d.Kb({type:w,selectors:[["j-card-tabs"]],decls:8,vars:6,consts:[[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["routerLinkActive","active","translate","",3,"routerLink"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"nav",1),d.Wb(2,"a",2),d.Qc(3," CARDS.STATEMENT "),d.Vb(),d.Wb(4,"a",2),d.Qc(5," CARDS.INFO.TITLE "),d.Vb(),d.Wb(6,"a",2),d.Qc(7," CARDS.SETTINGS.TITLE "),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.rc("routerLink",d.vc(3,R)),d.Ab(2),d.rc("routerLink",d.vc(4,V)),d.Ab(2),d.rc("routerLink",d.vc(5,M)))},directives:[s.f,s.e,h.a],styles:[""]}),w),D=n("fvpk"),L=n("e8Ap"),N=n("Dvla"),F=function(){return{width:"435px",height:"96px","background-color":"#ECEEF1"}},j=function(){return{width:"435px",height:"56px","background-color":"#ECEEF1"}},Q=function(){return{width:"435px",height:"276px","background-color":"#ECEEF1"}};function U(t,e){1&t&&(d.Ub(0),d.Rb(1,"ngx-skeleton-loader",3),d.Rb(2,"ngx-skeleton-loader",3),d.Rb(3,"ngx-skeleton-loader",3),d.Tb()),2&t&&(d.Ab(1),d.rc("theme",d.vc(3,F)),d.Ab(1),d.rc("theme",d.vc(4,j)),d.Ab(1),d.rc("theme",d.vc(5,Q)))}function G(t,e){if(1&t&&(d.Wb(0,"div",19),d.Wb(1,"div",20),d.Qc(2),d.mc(3,"translate"),d.Vb(),d.Wb(4,"div",21),d.Qc(5),d.mc(6,"translate"),d.Vb(),d.Vb()),2&t){var n=e.$implicit;d.Ab(2),d.Sc(" ",d.nc(3,2,n.label),": "),d.Ab(3),d.Sc(" ",d.nc(6,4,n.value)," ")}}function B(t,e){if(1&t&&(d.Wb(0,"div",19),d.Wb(1,"div",20),d.Qc(2),d.mc(3,"translate"),d.Vb(),d.Wb(4,"div",21),d.Qc(5),d.Vb(),d.Vb()),2&t){var n=e.$implicit;d.Ab(2),d.Sc(" ",d.nc(3,2,n.label),": "),d.Ab(3),d.Sc(" ",n.value," ")}}function H(t,e){if(1&t&&(d.Wb(0,"div",22),d.Wb(1,"strong"),d.Qc(2),d.Vb(),d.Vb()),2&t){var n=d.lc(2);d.Ab(2),d.Rc(n.errorText)}}function K(t,e){if(1&t){var n=d.Xb();d.Ub(0),d.Wb(1,"div",4),d.Wb(2,"div",5),d.Wb(3,"div",6),d.Rb(4,"div",7),d.Wb(5,"button",8),d.ic("click",(function(t){return d.Fc(n),d.lc().onQrPrint(t)})),d.Rb(6,"span",9),d.Rb(7,"span",10),d.Vb(),d.Vb(),d.Rb(8,"img",11),d.Vb(),d.Vb(),d.Wb(9,"div",4),d.Oc(10,G,7,6,"div",12),d.Vb(),d.Wb(11,"div",4),d.Oc(12,B,6,4,"div",12),d.Wb(13,"div",13),d.Wb(14,"button",14),d.ic("click",(function(t){return d.Fc(n),d.lc().onCopy()})),d.Rb(15,"div",15),d.Wb(16,"strong",16),d.Qc(17,"CARDS.INFO.COPY"),d.Vb(),d.Vb(),d.Wb(18,"button",17),d.ic("click",(function(t){return d.Fc(n),d.lc().onDownload()})),d.Rb(19,"div",15),d.Wb(20,"strong",16),d.Qc(21,"ACCOUNTS.REQUISITES.DOWNLOAD"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Oc(22,H,3,1,"div",18),d.Tb()}if(2&t){var a=d.lc();d.Ab(5),d.rc("disabled",!a.qrFile),d.Ab(1),d.rc("inlineSVG","assets/icons/account/print.svg"),d.Ab(4),d.rc("ngForOf",a.status),d.Ab(2),d.rc("ngForOf",a.requisites),d.Ab(2),d.rc("cbContent",a.textToCopy),d.Ab(1),d.rc("inlineSVG","assets/icons/account/copy.svg"),d.Ab(4),d.rc("inlineSVG","assets/icons/account/pdf.svg"),d.Ab(3),d.rc("ngIf",a.errorText)}}var Y,q,X=((Y=function(){function t(e,n,a,i,r,o,c,s,l){_classCallCheck(this,t),this.router=e,this.companyService=n,this.bankFromAccount=a,this.formatIban=i,this.cardsService=r,this.notifierService=o,this.translateService=c,this.filesService=s,this._sanitizer=l,this.isLoaded=!1,this.subscription=new u.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onCardLoad",value:function(t){var e=this;this.init(t);var n=this.cardsService.cardsUpdated$.subscribe((function(t){var n=e.cardsService.findCardById(e.card.cardId);e.init(n)}));this.subscription.add(n)}},{key:"init",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.card=t,this.generateStatus(),this.generateRequisites(),this.generateTextToCopy(),this.loadQr(),this.isLoaded=!0;case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onCardFail",value:function(){this.isLoaded=!0,this.errorText=this.appendTranslationPrefix("FAILED")}},{key:"onClose",value:function(){this.navigateToHome()}},{key:"onCopy",value:function(){this.notifierService.notify("default",this.translateService.instant(this.appendTranslationPrefix("COPIED")))}},{key:"loadQr",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cardsService.getQrPrint(this.card.cardId,this.card.iban);case 2:this.qrFile=t.sent;case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onQrPrint",value:function(t){t.preventDefault(),this.filesService.downloadFile(this.qrFile,"".concat(this.card.formattedFullName," ").concat(this.card.maskedNumber," QR.jpg"))}},{key:"onDownload",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cardsService.getPdf(this.card.cardId);case 3:e=t.sent,this.filesService.downloadFile(e,"".concat(this.card.formattedFullName," ").concat(this.card.maskedNumber,".pdf")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"generateStatus",value:function(){this.status=[{label:this.appendTranslationPrefix("STATUS"),value:this.cardsService.mapCardStatus(this.card.status)}]}},{key:"generateRequisites",value:function(){this.requisites=[{label:this.appendTranslationPrefix("OWNER"),value:this.card.formattedFullName},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),value:this.formatIban.transform(this.card.iban),valueToCopy:this.card.iban},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(this.card.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(this.card.iban,"bic")}]}},{key:"generateTextToCopy",value:function(){var t=this;this.textToCopy=this.requisites.map((function(e){if(e.value||e.valueToCopy)return"".concat(t.translateService.instant(e.label),": ").concat(e.valueToCopy||e.value)})).join("\n")}},{key:"navigateToHome",value:function(){this.router.navigate(["/"])}},{key:"appendTranslationPrefix",value:function(t){return"CARDS.INFO.".concat(t)}}]),t}()).\u0275fac=function(t){return new(t||Y)(d.Qb(s.c),d.Qb(b.a),d.Qb(m.b),d.Qb(m.d),d.Qb(p.a),d.Qb(f.c),d.Qb(h.e),d.Qb(g.a),d.Qb(v.b))},Y.\u0275cmp=d.Kb({type:Y,selectors:[["j-card-info"]],decls:7,vars:2,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"closed"],[3,"loaded","failed"],[4,"ngIf"],[3,"theme"],[1,"info"],[1,"qr"],[1,"qr__info"],["translate","ACCOUNTS.REQUISITES.QR.TITLE"],[1,"btn","btn-link","qr__print","p3",3,"disabled","click"],[1,"mr-2",3,"inlineSVG"],["translate","ACCOUNTS.REQUISITES.QR.PRINT"],["src","./assets/img/cards/qr.png",1,"qr__img"],["class","j-desc-row",4,"ngFor","ngForOf"],[1,"requisites__footer"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],[3,"inlineSVG"],["translate","",1,"ml-2"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"click"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"],["role","alert",1,"alert","alert-danger","my-5"]],template:function(t,e){1&t&&(d.Wb(0,"f-page",0),d.ic("closed",(function(t){return e.onClose()})),d.Wb(1,"f-page-header"),d.Wb(2,"j-card-header",1),d.ic("loaded",(function(t){return e.onCardLoad(t)}))("failed",(function(t){return e.onCardFail()})),d.Vb(),d.Rb(3,"j-card-tabs"),d.Vb(),d.Wb(4,"f-page-body"),d.Oc(5,U,4,6,"ng-container",2),d.Oc(6,K,23,8,"ng-container",2),d.Vb(),d.Vb()),2&t&&(d.Ab(5),d.rc("ngIf",!e.isLoaded),d.Ab(1),d.rc("ngIf",e.isLoaded))},directives:[y.a,T.a,P,W,D.a,a.u,i.a,h.a,L.a,a.t,N.a],pipes:[h.d],styles:[".info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0 1rem;background:#fff;border-radius:.75rem;max-width:435px}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}.qr[_ngcontent-%COMP%], .requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.qr[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center}.qr__print[_ngcontent-%COMP%]{background:none;border:0;outline:0;color:#666c72;display:-webkit-inline-box;display:inline-flex;margin-top:.5rem;padding:0}.qr__print[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]:hover{-webkit-transform:none;transform:none}.qr__print[_ngcontent-%COMP%]:hover{color:#ef5630}.qr__img[_ngcontent-%COMP%]{width:53px}"]}),Y),z=n("3Pt+"),$=n("1kSV"),J=n("9odQ"),Z=n("M6pS"),tt=((q=function(){function t(e,n,a,i){_classCallCheck(this,t),this.modal=e,this.cardsService=n,this.notifierService=a,this.translateService=i,this.aliasMaxLength=24,this.translatePrefix="CARDS.RENAME_MODAL",this.isSubmitted=!1,this.isSubmitting=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.form=new z.k({alias:new z.h(this.card.alias||"",[z.H.required,z.H.maxLength(this.aliasMaxLength)])})}},{key:"dismissModal",value:function(){this.modal.dismiss()}},{key:"closeModal",value:function(t){this.modal.close(t)}},{key:"mapTranslate",value:function(t){return"".concat(this.translatePrefix,".").concat(t)}},{key:"onSubmit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isSubmitted=!0,!this.form.invalid){t.next=2;break}return t.abrupt("return");case 2:return this.isSubmitting=!0,e="",t.prev=4,n=this.form.getRawValue(),a=n.alias,t.next=8,this.cardsService.renameCard(this.card.cardId,a);case 8:e="SUCCESS",this.closeModal(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e="ERROR";case 15:return t.prev=15,this.isSubmitting=!1,this.notifierService.notify("default",this.translateService.instant(this.mapTranslate(e))),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[4,12,15,18]])})))}},{key:"f",get:function(){return this.form.controls}}]),t}()).\u0275fac=function(t){return new(t||q)(d.Qb($.a),d.Qb(p.a),d.Qb(f.c),d.Qb(h.e))},q.\u0275cmp=d.Kb({type:q,selectors:[["j-card-rename-modal"]],inputs:{card:"card"},decls:17,vars:21,consts:[[1,"rename-modal"],[1,"rename-modal__header"],[1,"btn","btn-outline-primary","rename-modal__back","mr-3",3,"click"],[3,"inlineSVG"],[1,"m-0"],[1,"rename-modal__form",3,"formGroup"],[1,"form-group"],[3,"label","formControl","maxLength","isClearable","hasError"],[1,"form-footer"],["type","button",1,"btn","btn-link",3,"disabled","jLoading","jLoadingInverted","click"],["type","submit",1,"btn","btn-primary","ml-3",3,"disabled","jLoading","click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"button",2),d.ic("click",(function(t){return e.dismissModal()})),d.Rb(3,"span",3),d.Vb(),d.Wb(4,"h5",4),d.Qc(5),d.mc(6,"translate"),d.Vb(),d.Vb(),d.Wb(7,"form",5),d.Wb(8,"div",6),d.Rb(9,"j-input",7),d.Vb(),d.Wb(10,"div",8),d.Wb(11,"button",9),d.ic("click",(function(t){return e.dismissModal()})),d.Qc(12),d.mc(13,"translate"),d.Vb(),d.Wb(14,"button",10),d.ic("click",(function(t){return e.onSubmit()})),d.Qc(15),d.mc(16,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(3),d.rc("inlineSVG","assets/icons/arrow-left.svg"),d.Ab(2),d.Sc(" ",d.nc(6,15,e.mapTranslate("TITLE"))," "),d.Ab(2),d.rc("formGroup",e.form),d.Ab(2),d.rc("label",e.mapTranslate("LABEL"))("formControl",e.f.alias)("maxLength",e.aliasMaxLength)("isClearable",!1)("hasError",e.f.alias.invalid&&e.isSubmitted),d.Ab(2),d.rc("disabled",e.isSubmitting)("jLoading",e.isSubmitting)("jLoadingInverted",!0),d.Ab(1),d.Sc(" ",d.nc(13,17,"SHARED.CANCEL")," "),d.Ab(2),d.rc("disabled",e.isSubmitting)("jLoading",e.isSubmitting),d.Ab(1),d.Sc(" ",d.nc(16,19,"SHARED.SAVE")," "))},directives:[L.a,z.J,z.u,z.l,J.b,z.t,z.i,Z.a],pipes:[h.d],styles:[".rename-modal[_ngcontent-%COMP%]{padding:24px}.rename-modal__back[_ngcontent-%COMP%]{padding:0;width:40px;height:40px}.rename-modal__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:64px;-webkit-box-align:center;align-items:center;margin-bottom:12px}"]}),q);n("w7f+");var et=n("zwEd"),nt=n("Bl/x"),at=function(t){return{height:t,"margin-top":"0.5rem","background-color":"#ECEEF1"}};function it(t,e){if(1&t&&(d.Ub(0),d.Rb(1,"ngx-skeleton-loader",3),d.Tb()),2&t){var n=d.lc();d.Ab(1),d.rc("theme",d.wc(1,at,n.isPrimaryAuthority?"142px":"72px"))}}function rt(t,e){if(1&t&&(d.Wb(0,"div",4),d.Rb(1,"j-switch",5),d.Wb(2,"span",6),d.Rb(3,"strong",11),d.Wb(4,"small",8),d.Qc(5),d.mc(6,"translate"),d.Vb(),d.Vb(),d.Vb()),2&t){var n=d.lc(2);d.Hb("disabled",n.hiddenControl.disabled),d.Ab(1),d.rc("formControl",n.hiddenControl),d.Ab(4),d.Sc(" ",d.nc(6,4,"CARDS.SETTINGS.HIDE.DESCRIPTION")," ")}}function ot(t,e){if(1&t){var n=d.Xb();d.Wb(0,"div",4),d.Wb(1,"div"),d.Rb(2,"strong",12),d.Wb(3,"small",8),d.Qc(4),d.Vb(),d.Vb(),d.Wb(5,"button",13),d.ic("click",(function(t){return d.Fc(n),d.lc(2).onCardRename()})),d.Qc(6),d.mc(7,"translate"),d.Vb(),d.Vb()}if(2&t){var a=d.lc(2);d.Ab(4),d.Sc(" ",a.card.alias," "),d.Ab(2),d.Sc(" ",d.nc(7,2,"CARDS.SETTINGS.RENAME.LINK")," ")}}function ct(t,e){if(1&t&&(d.Ub(0),d.Wb(1,"div",4),d.Rb(2,"j-switch",5),d.Wb(3,"span",6),d.Rb(4,"strong",7),d.Wb(5,"small",8),d.Qc(6),d.mc(7,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Oc(8,rt,7,6,"div",9),d.Oc(9,ot,8,4,"div",10),d.Tb()),2&t){var n=d.lc();d.Ab(1),d.Hb("disabled",n.activatedControl.disabled),d.Ab(1),d.rc("formControl",n.activatedControl),d.Ab(4),d.Sc(" ",d.nc(7,6,n.activatedControl.value?"CARDS.SETTINGS.LOCK.ACTIVATE":"CARDS.SETTINGS.LOCK.DEACTIVATE")," "),d.Ab(2),d.rc("ngIf",n.isPrimaryAuthority),d.Ab(1),d.rc("ngIf",n.isPrimaryAuthority)}}var st,lt={backdropClass:"backdrop_light",windowClass:"modal_light modal_dictionary",backdrop:"static",centered:!0},ut=((st=function(){function t(e,n,a,i){_classCallCheck(this,t),this.router=e,this.cardsService=n,this.companyService=a,this.modalService=i,this.isLoaded=!1,this.isPrimaryAuthority=this.companyService.isPrimaryAuthority(),this.subscription=new u.a}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onCardLoad",value:function(t){var e=this;this.init(t);var n=this.cardsService.cardsUpdated$.subscribe((function(t){var n=e.cardsService.findCardById(e.card.cardId);e.init(n)}));this.subscription.add(n)}},{key:"init",value:function(t){this.card=t,this.initActivatedControl(),this.initHiddenControl(),this.isLoaded=!0}},{key:"onCardFail",value:function(){this.activatedControl=new z.h({value:!1,disabled:!1}),this.hiddenControl=new z.h({value:!1,disabled:!1}),this.isLoaded=!0}},{key:"onClose",value:function(){this.navigateToHome()}},{key:"onCardRename",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.modalService.open(tt,lt)).componentInstance.card=this.card,t.prev=2,t.next=5,e.result;case 5:n=t.sent,this.card.alias=n,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:case"end":return t.stop()}}),t,this,[[2,9]])})))}},{key:"navigateToHome",value:function(){this.router.navigate(["/"])}},{key:"initActivatedControl",value:function(){var t,e,n=this;this.activatedControl=new z.h({value:this.card.status===et.b.TEMPORARILY_LOCK,disabled:!((null===(t=this.card)||void 0===t?void 0:t.status)==et.b.ACTIVE||(null===(e=this.card)||void 0===e?void 0:e.status)==et.b.TEMPORARILY_LOCK)}),this.subscription.add(this.activatedControl.valueChanges.subscribe((function(t){n.handleActivatedSwitch(t)})))}},{key:"initHiddenControl",value:function(){var t=this;this.hiddenControl=new z.h(this.card.hidden),this.subscription.add(this.hiddenControl.valueChanges.subscribe((function(e){t.handleHiddenSwitch(e)})))}},{key:"handleActivatedSwitch",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cardsService.changeCardStatus(this.card.cardId,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.activatedControl.setValue(!t,{emitEvent:!1});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))}},{key:"handleHiddenSwitch",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cardsService.changeCardVisibility(this.card.cardId,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.hiddenControl.setValue(!t,{emitEvent:!1});case 8:case"end":return e.stop()}}),e,this,[[0,5]])})))}}]),t}()).\u0275fac=function(t){return new(t||st)(d.Qb(s.c),d.Qb(p.a),d.Qb(b.a),d.Qb($.q))},st.\u0275cmp=d.Kb({type:st,selectors:[["j-card-settings"]],decls:7,vars:2,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"closed"],[3,"loaded","failed"],[4,"ngIf"],[3,"theme"],[1,"settings-item"],[3,"formControl"],[1,"ml-3"],["translate","CARDS.SETTINGS.LOCK.TITLE",1,"d-block"],[1,"text-gray"],["class","settings-item",3,"disabled",4,"ngIf"],["class","settings-item",4,"ngIf"],["translate","CARDS.SETTINGS.HIDE.TITLE",1,"d-block"],["translate","CARDS.SETTINGS.RENAME.TITLE",1,"d-block"],[1,"btn","btn-link","p2","py-0","px-1","link-blue","ml-auto",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"f-page",0),d.ic("closed",(function(t){return e.onClose()})),d.Wb(1,"f-page-header"),d.Wb(2,"j-card-header",1),d.ic("loaded",(function(t){return e.onCardLoad(t)}))("failed",(function(t){return e.onCardFail()})),d.Vb(),d.Rb(3,"j-card-tabs"),d.Vb(),d.Wb(4,"f-page-body"),d.Oc(5,it,2,3,"ng-container",2),d.Oc(6,ct,10,8,"ng-container",2),d.Vb(),d.Vb()),2&t&&(d.Ab(5),d.rc("ngIf",!e.card),d.Ab(1),d.rc("ngIf",e.card))},directives:[y.a,T.a,P,W,D.a,a.u,i.a,nt.a,z.t,z.i,h.a],pipes:[h.d],styles:[".settings-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;max-width:616px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-bottom:1px solid #dbdfe2}.settings-item[_ngcontent-%COMP%]:first-child{margin-top:.5rem;border-radius:.75rem .75rem 0 0}.settings-item[_ngcontent-%COMP%]:last-child{border-bottom:0;border-radius:0 0 .75rem .75rem;margin-bottom:1rem}.settings-item.disabled[_ngcontent-%COMP%]{opacity:.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]}),st),dt=n("IzEk"),bt=n("KWy3"),mt=n("9N4E"),pt=n("THGi"),ft=n("Tile"),ht=n("QiVB"),gt=n("/68H"),vt=n("T+Ki");function yt(t,e){1&t&&(d.Wb(0,"div",8),d.Rb(1,"j-statement-loading"),d.Vb())}function Tt(t,e){if(1&t&&d.Rb(0,"j-statement-balances",9),2&t){var n=d.lc();d.rc("statement",n.statement)}}function St(t,e){1&t&&(d.Wb(0,"div",10),d.Qc(1," ACCOUNTS.STATEMENT.ALL_LOADED "),d.Vb())}function Ct(t,e){if(1&t&&(d.Wb(0,"div",11),d.Wb(1,"strong"),d.Qc(2),d.Vb(),d.Vb()),2&t){var n=d.lc();d.Ab(2),d.Rc(n.errorText)}}var At,Ot,_t,kt=((At=function(){function t(e,n,a,i,r){var o=this;_classCallCheck(this,t),this.router=e,this.route=n,this.cardsService=a,this.filterService=i,this.datePipe=r,this.statementMode=bt.a.CARDS,this.isLoading=!0,this.filterMode=mt.a.CARDS,this.subscription=new u.a;var c=this.route.params.subscribe((function(t){o.cardId=t.id,o.loadStatement()})),s=this.route.queryParams.pipe(Object(dt.a)(1)).subscribe((function(t){o.filter=o.mapQueryParams(t),o.filterService.updateExtra(o.filter)})),l=this.filterService.getScheme().subscribe((function(t){o.filter=Object.assign({},t),o.updateQueryParams(),o.loadStatement()}));this.subscription.add(c),this.subscription.add(s),this.subscription.add(l)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClose",value:function(){this.navigateToHome()}},{key:"loadStatement",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.errorText="",this.isLoading=!0,t.prev=1,this.filter.periodType&&this.filter.periodType!=mt.b.CUSTOM&&(e=this.filterService.PERIOD_LIST.find((function(t){return t.type==n.filter.periodType})),this.filter.periodFrom=e.dates.from,this.filter.periodTo=e.dates.to),t.next=5,this.cardsService.getStatement(this.cardId,this.filter);case 5:this.statement=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.errorText=t.t0.description||t.t0.code||t.t0;case 11:return t.prev=11,this.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[1,8,11,14]])})))}},{key:"navigateToHome",value:function(){this.router.navigate(["/"])}},{key:"mapQueryParams",value:function(t){var e=Object.assign({},this.filterService.getDefaults(mt.a.ACCOUNTS));for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n];a&&null!=a&&"null"!=a&&(e[n]="periodFrom"==n||"periodTo"==n?new Date(a):a)}return e}},{key:"updateQueryParams",value:function(){var t=Object.assign({},this.filter),e={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n];a&&null!=a&&"null"!=a&&(e[n]="periodFrom"==n||"periodTo"==n?this.datePipe.transform(a,"yyyy-MM-dd"):a)}this.router.navigate([],{queryParams:e,relativeTo:this.route})}}]),t}()).\u0275fac=function(t){return new(t||At)(d.Qb(s.c),d.Qb(s.a),d.Qb(p.a),d.Qb(mt.c),d.Qb(a.f))},At.\u0275cmp=d.Kb({type:At,selectors:[["j-card-statement"]],decls:13,vars:8,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8","bodyClassList","no-grow",3,"closed"],[3,"mode","currency"],["class","py-4",4,"ngIf"],[1,"account-wrapper"],[3,"statement",4,"ngIf"],[1,"search-results",3,"mode","statement"],["class","text-center text-muted my-5 text-small","translate","",4,"ngIf"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],[1,"py-4"],[3,"statement"],["translate","",1,"text-center","text-muted","my-5","text-small"],["role","alert",1,"alert","alert-danger","my-5"]],template:function(t,e){1&t&&(d.Wb(0,"f-page",0),d.ic("closed",(function(t){return e.onClose()})),d.Wb(1,"f-page-header"),d.Rb(2,"j-card-header"),d.Rb(3,"j-card-tabs"),d.Vb(),d.Wb(4,"f-page-body"),d.Rb(5,"j-filter",1),d.Vb(),d.Wb(6,"f-page-extra"),d.Oc(7,yt,2,0,"div",2),d.Wb(8,"section",3),d.Oc(9,Tt,1,1,"j-statement-balances",4),d.Rb(10,"j-statement",5),d.Oc(11,St,2,0,"div",6),d.Oc(12,Ct,3,1,"div",7),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(5),d.rc("mode",e.filterMode)("currency",null==e.card?null:e.card.balance.currency),d.Ab(2),d.rc("ngIf",e.isLoading),d.Ab(2),d.rc("ngIf",e.statement&&e.statement.totalTransactionsCount>0),d.Ab(1),d.rc("mode",e.statementMode)("statement",e.statement),d.Ab(1),d.rc("ngIf",(null==e.statement?null:e.statement.totalTransactionsCount)>0),d.Ab(1),d.rc("ngIf",e.errorText))},directives:[y.a,T.a,P,W,D.a,pt.b,ft.a,a.u,ht.a,gt.a,vt.a,h.a],styles:["[_nghost-%COMP%]{display:block}.account-wrapper[_ngcontent-%COMP%]{position:relative;min-height:200px}"]}),At),Et=[{path:"",component:(Ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Ot.\u0275fac=function(t){return new(t||Ot)},Ot.\u0275cmp=d.Kb({type:Ot,selectors:[["j-cards"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),Ot),data:{title:"TRANSFERS.TITLE"}},{path:":id/statement",component:kt},{path:":id/info",component:X},{path:":id/settings",component:ut},{path:":id",redirectTo:":id/statement"}],xt=((_t=function t(){_classCallCheck(this,t)}).\u0275mod=d.Ob({type:_t}),_t.\u0275inj=d.Nb({factory:function(t){return new(t||_t)},imports:[[s.g.forChild(Et)],s.g]}),_t);n.d(e,"CardsModule",(function(){return wt}));var It,wt=((It=function t(){_classCallCheck(this,t)}).\u0275mod=d.Ob({type:It}),It.\u0275inj=d.Nb({factory:function(t){return new(t||It)},imports:[[a.c,z.n,z.D,i.b,o.a,r.a,c.a,xt]]}),It)},sFIr:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("3Pt+"),i=n("y5b2"),r=n("fXoL"),o=n("ofXK");function c(t,e){if(1&t&&(r.Wb(0,"div",1),r.Rb(1,"input",2),r.Wb(2,"label",3),r.Qc(3),r.Vb(),r.Vb()),2&t){var n=e.$implicit,a=e.index,i=r.lc();r.Ab(1),r.sc("id","sort"+a),r.rc("formControl",i.control)("value",n.value),r.Ab(1),r.sc("for","sort"+a),r.Ab(1),r.Sc(" ",n.label," ")}}var s=function(){var t=function(){function t(){_classCallCheck(this,t),this.sortOptionList=i.f,this.control=new a.h(i.e.DEFAULT)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["j-filter-sort"]],inputs:{control:"control"},decls:1,vars:1,consts:[["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","sortBy",1,"custom-control-input",3,"id","formControl","value"],[1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&r.Oc(0,c,4,5,"div",0),2&t&&r.rc("ngForOf",e.sortOptionList)},directives:[o.t,a.B,a.c,a.t,a.i],styles:[""]}),t}()},"u+5l":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var a=n("fXoL"),i=n("3Pt+"),r=n("quSY"),o=n("wd/R"),c=n("y5b2"),s=n("jZlK"),l=["dropdown"];function u(t,e){1&t&&(a.Wb(0,"span"),a.Qc(1),a.mc(2,"translate"),a.Vb()),2&t&&(a.Ab(1),a.Rc(a.nc(2,1,"FILTER.PERIOD.CUSTOM")))}function d(t,e){if(1&t&&(a.Wb(0,"span"),a.Qc(1),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.Rc(n.formatPeriod)}}function b(t,e){if(1&t&&(a.Wb(0,"span"),a.Qc(1),a.mc(2,"translate"),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.Rc(a.nc(2,1,n.formatPeriod))}}function m(t,e){1&t&&a.Rb(0,"j-icon",14)}function p(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",11),a.ic("click",(function(t){a.Fc(n);var i=e.$implicit;return a.lc().onPeriodSelect(i)})),a.Oc(1,m,1,0,"j-icon",12),a.Wb(2,"span",13),a.Qc(3),a.Vb(),a.Vb()}if(2&t){var i=e.$implicit,r=a.lc();a.Hb("selected",r.isSelectedPeriod(i)),a.Ab(1),a.rc("ngIf",i.hasCalendarIcon),a.Ab(2),a.Sc(" ",i.label," ")}}function f(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",15),a.ic("click",(function(t){return a.Fc(n),a.lc().onClearPeriod()})),a.mc(1,"translate"),a.Vb()}2&t&&a.rc("ngbTooltip",a.nc(1,1,"SHARED.CLEAR"))}var h=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.filterService=e,this.placement="bottom bottom-right",this.periodList=this.filterService.PERIOD_LIST,this.defaultPeriod=this.periodList[0],this.selectedPeriod=this.defaultPeriod,this.rangeSelection=!1,this.submitted=new a.n,this.subscription=new r.a;var o=this.filterService.getScheme().subscribe((function(t){t.periodType&&n.updateByType(t.periodType),n.scheme=t}));this.inputForm=new i.k({from:new i.h(""),to:new i.h("")}),this.subscription.add(o)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onDropdownToggle",value:function(){this.rangeSelection=!1}},{key:"onCustomCancel",value:function(){this.rangeSelection=!1,this.dropdown.close()}},{key:"onCustomSelect",value:function(t){this.selectedPeriod=this.periodList.find((function(t){return t.type==c.d.CUSTOM})),this.rangeSelection=!1,this.updateInputs(t),this.selectedPeriod.dates=t,this.onSubmit()}},{key:"onPeriodSelect",value:function(t){t.type==c.d.CUSTOM?this.rangeSelection=!0:(this.selectedPeriod=t,this.onSubmit())}},{key:"updateByType",value:function(t){var e=this.periodList.find((function(e){return e.type==t}));this.selectedPeriod=e}},{key:"onSubmit",value:function(){var t=this.selectedPeriod.dates;this.filterService.updatePeriod(this.selectedPeriod.type,t.from,t.to),this.submitted.emit(t),this.dropdown.close()}},{key:"onClearPeriod",value:function(){this.onPeriodSelect(this.defaultPeriod)}},{key:"isSelectedPeriod",value:function(t){var e;return t.type==(null===(e=this.selectedPeriod)||void 0===e?void 0:e.type)}},{key:"updateInputs",value:function(t){var e=o(t.from).format(c.i);this.inputForm.controls.from.setValue(e);var n=o(t.to).format(c.i);this.inputForm.controls.to.setValue(n)}},{key:"isClearable",get:function(){return this.selectedPeriod!==this.defaultPeriod}},{key:"formatPeriod",get:function(){var t;if(!(null===(t=this.selectedPeriod)||void 0===t?void 0:t.showDates))return this.selectedPeriod.label;var e=null,n=null;return this.selectedPeriod.type!=c.d.CUSTOM?(this.selectedPeriod.dates.from&&(e=o(this.selectedPeriod.dates.from,c.i).format(c.h)),this.selectedPeriod.dates.to&&(n=o(this.selectedPeriod.dates.to,c.i).format(c.h))):(this.scheme.periodFrom&&(e=o(this.scheme.periodFrom,c.i).format(c.h)),this.scheme.periodTo&&(n=o(this.scheme.periodTo,c.i).format(c.h))),e&&n?"".concat(e," - ").concat(n):e?"".concat(e):n?"".concat(n):void 0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(s.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-period-dropdown"]],viewQuery:function(t,e){var n;1&t&&a.Vc(l,!0),2&t&&a.Bc(n=a.jc())&&(e.dropdown=n.first)},inputs:{placement:"placement"},outputs:{submitted:"submitted"},decls:15,vars:13,consts:[[1,"filter-period-dropdown"],["ngbDropdown","","autoClose","outside",3,"placement","openChange"],["dropdown","ngbDropdown"],["type","button","ngbDropdownToggle","",1,"period-dropdown-toggle","filter-dropdown-toggle","no-caret",3,"click"],["src","./assets/icons/calendar-blue.svg",3,"alt"],[4,"ngIf"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],[3,"hidden"],["class","filter-dropdown-item","ngbDropdownItem","",3,"selected","click",4,"ngFor","ngForOf"],[3,"closed","submitted"],["class","filter-period-dropdown__clear","tooltipClass","tooltip-light","inlineSVG","./assets/icons/tags-remove.svg",3,"ngbTooltip","click",4,"ngIf"],["ngbDropdownItem","",1,"filter-dropdown-item",3,"click"],["name","calendar",4,"ngIf"],["translate",""],["name","calendar"],["tooltipClass","tooltip-light","inlineSVG","./assets/icons/tags-remove.svg",1,"filter-period-dropdown__clear",3,"ngbTooltip","click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1,2),a.ic("openChange",(function(t){return e.onDropdownToggle()})),a.Wb(3,"button",3),a.ic("click",(function(t){return t.preventDefault()})),a.Rb(4,"img",4),a.mc(5,"translate"),a.Oc(6,u,3,3,"span",5),a.Oc(7,d,2,1,"span",5),a.Oc(8,b,3,3,"span",5),a.Vb(),a.Wb(9,"div",6),a.Wb(10,"div",7),a.Oc(11,p,4,4,"button",8),a.Vb(),a.Wb(12,"form",7),a.Wb(13,"j-range-input",9),a.ic("closed",(function(t){return e.onCustomCancel()}))("submitted",(function(t){return e.onCustomSelect(t)})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Oc(14,f,2,3,"button",10),a.Vb()),2&t&&(a.Ab(1),a.rc("placement",e.placement),a.Ab(3),a.rc("alt",a.nc(5,11,"FILTER.PERIOD.CALENDAR")),a.Ab(2),a.rc("ngIf",null==e.selectedPeriod),a.Ab(1),a.rc("ngIf",null!=e.selectedPeriod&&(null==e.selectedPeriod?null:e.selectedPeriod.showDates)),a.Ab(1),a.rc("ngIf",null!=e.selectedPeriod&&!(null!=e.selectedPeriod&&e.selectedPeriod.showDates)),a.Ab(1),a.Hb("period-dropdown-menu",e.rangeSelection),a.Ab(1),a.rc("hidden",e.rangeSelection),a.Ab(1),a.rc("ngForOf",e.periodList),a.Ab(1),a.rc("hidden",!e.rangeSelection),a.Ab(2),a.rc("ngIf",e.isClearable))},styles:[".filter-period-dropdown[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.period-dropdown-toggle[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#1a1c1f;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;cursor:pointer;color:#1586bb;display:-webkit-box;display:flex;padding:8px 10px;border-radius:8px}.period-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.5rem}.period-dropdown-toggle[_ngcontent-%COMP%]:hover{background:#e9ecf1}.period-dropdown-menu[_ngcontent-%COMP%]{min-width:582px;padding:0;width:100%}.filter-period-dropdown__clear[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#1a1c1f;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;cursor:pointer;width:24px;height:24px;padding:0;margin-left:8px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),t}()},"w7f+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("mrSG"),i=n("fXoL"),r=n("1kSV"),o=n("+eKG"),c=n("sYmb"),s=n("ofXK");function l(t,e){if(1&t&&(i.Wb(0,"a",11),i.Qc(1," CARDS.STATUS.BRANCHES "),i.Vb()),2&t){var n=i.lc();i.rc("href",n.link,i.Hc)}}function u(t,e){if(1&t){var n=i.Xb();i.Wb(0,"a",12),i.ic("click",(function(t){return i.Fc(n),i.lc().unlockCard(t)})),i.Qc(1," CARDS.STATUS.UNLOCK "),i.Vb()}}var d=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.modal=e,this.cardsService=n,this.link="https://jysanbank.kz/ru/find/offices/almaty"}return _createClass(t,[{key:"dismissModal",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===(t=e)||void 0===t||t.preventDefault(),this.modal.dismiss()}},{key:"unlockCard",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null===(t=e)||void 0===t||t.preventDefault(),n.prev=1,n.next=4,this.cardsService.changeCardStatus(this.cardId,!1);case 4:this.modal.close(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),this.modal.dismiss();case 10:case"end":return n.stop()}}),n,this,[[1,7]])})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Qb(r.a),i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-card-status-modal"]],inputs:{img:"img",title:"title",description:"description",cardId:"cardId",canUnlock:"canUnlock"},decls:14,vars:11,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","./assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],[3,"src","alt"],[1,"light","mb-3","mt-2",3,"translate"],[1,"m-0","text-muted",3,"translate"],[1,"modal-footer","d-block","py-4","px-3"],["translate","","target","_blank","class","btn btn-block btn-link mb-3",3,"href",4,"ngIf"],["translate","","class","btn btn-block btn-link mb-3","href","#",3,"click",4,"ngIf"],["translate","","href","#",1,"btn","btn-block","btn-link","m-0",3,"click"],["translate","","target","_blank",1,"btn","btn-block","btn-link","mb-3",3,"href"],["translate","","href","#",1,"btn","btn-block","btn-link","mb-3",3,"click"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"button",1),i.ic("click",(function(t){return e.dismissModal()})),i.Rb(2,"img",2),i.mc(3,"translate"),i.Vb(),i.Vb(),i.Wb(4,"div",3),i.Rb(5,"img",4),i.mc(6,"translate"),i.Rb(7,"h3",5),i.Rb(8,"p",6),i.Vb(),i.Wb(9,"div",7),i.Oc(10,l,2,1,"a",8),i.Oc(11,u,2,0,"a",9),i.Wb(12,"a",10),i.ic("click",(function(t){return e.dismissModal(t)})),i.Qc(13," SHARED.CLOSE "),i.Vb(),i.Vb()),2&t&&(i.Ab(2),i.sc("alt",i.nc(3,7,"SHARED.CLOSE")),i.Ab(3),i.rc("src",e.img,i.Hc)("alt",i.nc(6,9,e.title)),i.Ab(2),i.rc("translate",e.title),i.Ab(1),i.rc("translate",e.description),i.Ab(2),i.rc("ngIf",!e.canUnlock),i.Ab(1),i.rc("ngIf",e.canUnlock))},directives:[c.a,s.u],pipes:[c.d],styles:[""]}),t}()},wqe5:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("2G+r"),i=n("TwVa"),r=n("fXoL"),o=function(){var t=function(){function t(){_classCallCheck(this,t),this.isStatement=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.generateImgPath()}},{key:"generateImgPath",value:function(){this.transaction.isPayment?this.imgPath=this.getPaymentImg(this.transaction.paymentType):(this.isStatement=!0,this.imgPath=this.getStatementImg(this.transaction.type))}},{key:"getPaymentImg",value:function(t){var e="/assets/img/history/payment";switch(t){case i.i.TAX:return"".concat(e,"/taxes.svg");case i.i.PENSION:return"".concat(e,"/pension.svg");case i.i.SOCIAL:return"".concat(e,"/social.svg");case i.i.MEDICAL:return"".concat(e,"/medical.svg");case i.i.SALARY:return"".concat(e,"/salary.svg");case i.i.FOREIGN:return"".concat(e,"/foreign.svg");case i.i.CONVERSION:return"".concat(e,"/conversion.svg");case i.i.INTERNAL:case i.i.EXTERNAL:default:return"".concat(e,"/regular.svg")}}},{key:"getStatementImg",value:function(t){var e="/assets/img/history/statement";switch(t){case a.c.CREDIT:return"".concat(e,"/credit.svg");case a.c.DEBIT:return"".concat(e,"/debit.svg");case a.c.RETURN:default:return"".concat(e,"/return.svg")}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["j-transaction-type"]],inputs:{transaction:"transaction",isInversed:"isInversed"},decls:2,vars:5,consts:[[1,"transaction__type"],["alt","type",3,"src"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"img",1),r.Vb()),2&t&&(r.Hb("transaction__type--inversed",e.isInversed)("transaction__type--statement",e.isStatement),r.Ab(1),r.rc("src",e.imgPath,r.Hc))},styles:["@media(min-width:960px){.transaction__type[_ngcontent-%COMP%]{margin-right:.5rem}}@media(min-width:1280px){.transaction__type[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#f6f7f8;width:40px;height:40px;border-radius:.75rem}}.transaction__type--inversed[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#f6f7f8;width:40px;height:40px;border-radius:.75rem;background:#fff}@media(min-width:1280px){.transaction__type--statement[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end;position:relative}}@media(min-width:1280px){.transaction__type--statement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:2px;top:2px}}"]}),t}()},x2ms:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("fXoL"),i=n("quSY"),r=n("y5b2"),o=n("THGi"),c=n("jZlK"),s=n("ofXK"),l=n("1kSV"),u=n("sYmb");function d(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",8),a.ic("click",(function(t){a.Fc(n);var i=e.$implicit;return a.lc(2).onSelect(i.code)})),a.Qc(1),a.Vb()}if(2&t){var i=e.$implicit,r=a.lc(2);a.Hb("selected",r.isSelected(i)),a.Ab(1),a.Sc(" ",i.label," ")}}function b(t,e){if(1&t&&(a.Wb(0,"div",4),a.Wb(1,"button",5),a.Qc(2),a.mc(3,"translate"),a.Vb(),a.Wb(4,"div",6),a.Oc(5,d,2,3,"button",7),a.Vb(),a.Vb()),2&t){var n=a.lc();a.Ab(2),a.Sc(" ",a.nc(3,2,n.selected.label)," "),a.Ab(3),a.rc("ngForOf",n.operationTypeList)}}function m(t,e){if(1&t&&(a.Wb(0,"button",9),a.Qc(1),a.Vb()),2&t){var n=a.lc();a.Ab(1),a.Sc(" ",n.selected.label,"\n")}}function p(t,e){if(1&t){var n=a.Xb();a.Wb(0,"button",10),a.ic("click",(function(t){a.Fc(n);var i=e.$implicit;return a.lc().onSelect(i.code)})),a.Qc(1),a.Vb()}if(2&t){var i=e.$implicit,r=a.lc();a.Hb("active",r.isSelected(i)),a.Ab(1),a.Sc(" ",i.label," ")}}var f=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.filterService=e,this.isUpdateEnabled=!0,this.changed=new a.n,this.operationTypeList=[{label:"FILTER.OPERATION.ALL",code:r.g.ALL},{label:"FILTER.OPERATION.INCOME",code:r.g.INCOME},{label:"FILTER.OPERATION.OUTCOME",code:r.g.OUTCOME}],this.selected=this.operationTypeList[0],this.subscription=new i.a;var o=this.filterService.getScheme().subscribe((function(t){t.operationType&&t.operationType!=n.selected.code&&n.setSelected(t.operationType)}));this.subscription.add(o)}return _createClass(t,[{key:"ngOnInit",value:function(){this.mode===o.a.CARDS&&(this.operationTypeList=[{label:"FILTER.OPERATION.ALL",code:r.g.ALL}],this.selected=this.operationTypeList[0])}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"isSelected",value:function(t){return t==this.selected}},{key:"onSelect",value:function(t){this.setSelected(t),this.filterService.updateOperation(t)}},{key:"setSelected",value:function(t){this.selected=this.operationTypeList.find((function(e){return t==e.code}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-operations"]],inputs:{isUpdateEnabled:"isUpdateEnabled",mode:"mode",value:"value"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["ngbDropdown","","class","d-none d-sm-block d-md-none",4,"ngIf"],["type","button","class","btn btn-sm filter-btn active","translate","",4,"ngIf"],[1,"filter-buttons","d-flex","d-sm-none","d-md-flex"],["type","button","class","btn btn-sm filter-btn","translate","",3,"active","click",4,"ngFor","ngForOf"],["ngbDropdown","",1,"d-none","d-sm-block","d-md-none"],["ngbDropdownToggle","","type","button",1,"btn","btn-sm","filter-btn","active"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],["ngbDropdownItem","","class","filter-dropdown-item","type","button","translate","",3,"selected","click",4,"ngFor","ngForOf"],["ngbDropdownItem","","type","button","translate","",1,"filter-dropdown-item",3,"click"],["type","button","translate","",1,"btn","btn-sm","filter-btn","active"],["type","button","translate","",1,"btn","btn-sm","filter-btn",3,"click"]],template:function(t,e){1&t&&(a.Oc(0,b,6,4,"div",0),a.Oc(1,m,2,1,"button",1),a.Wb(2,"div",2),a.Oc(3,p,2,3,"button",3),a.Vb()),2&t&&(a.rc("ngIf",e.operationTypeList.length>0),a.Ab(1),a.rc("ngIf",0===e.operationTypeList.length),a.Ab(2),a.rc("ngForOf",e.operationTypeList))},directives:[s.u,s.t,l.i,l.n,l.l,l.k,u.a],pipes:[u.d],styles:["[_nghost-%COMP%]{margin-right:auto}"]}),t}()},zt08:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n("THGi"),i=n("+/Tu"),r=n("quSY"),o=n("fXoL"),c=n("jZlK");function s(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Wb(1,"span"),o.Qc(2),o.Vb(),o.Wb(3,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"recipientIban")})),o.Rb(4,"img",4),o.mc(5,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(2),o.Rc(a.filter.recipientIban),o.Ab(2),o.rc("alt",o.nc(5,2,"FILTER.REMOVE"))}}function l(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Wb(1,"span"),o.Qc(2),o.Vb(),o.Wb(3,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"recipientBin")})),o.Rb(4,"img",4),o.mc(5,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(2),o.Rc(a.filter.recipientBin),o.Ab(2),o.rc("alt",o.nc(5,2,"FILTER.REMOVE"))}}function u(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Wb(1,"span"),o.Qc(2),o.Vb(),o.Wb(3,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"documentNumber")})),o.Rb(4,"img",4),o.mc(5,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(2),o.Rc(a.filter.documentNumber),o.Ab(2),o.rc("alt",o.nc(5,2,"FILTER.REMOVE"))}}function d(t,e){if(1&t&&(o.Wb(0,"span"),o.Rb(1,"span",5),o.Rb(2,"j-money",6),o.Vb()),2&t){var n=o.lc(3);o.Ab(2),o.rc("money",n.amountFromMoney)}}function b(t,e){1&t&&(o.Wb(0,"span"),o.Qc(1," - "),o.Vb())}function m(t,e){if(1&t&&(o.Wb(0,"span"),o.Rb(1,"span",7),o.Rb(2,"j-money",6),o.Vb()),2&t){var n=o.lc(3);o.Ab(2),o.rc("money",n.amountToMoney)}}function p(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Oc(1,d,3,1,"span",0),o.Oc(2,b,2,0,"span",0),o.Oc(3,m,3,1,"span",0),o.Wb(4,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"amounts")})),o.Rb(5,"img",4),o.mc(6,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(1),o.rc("ngIf",a.filter.amountFrom),o.Ab(1),o.rc("ngIf",a.filter.amountFrom&&a.filter.amountTo),o.Ab(1),o.rc("ngIf",a.filter.amountTo),o.Ab(2),o.rc("alt",o.nc(6,4,"FILTER.REMOVE"))}}function f(t,e){if(1&t&&(o.Wb(0,"span"),o.Qc(1),o.mc(2,"date"),o.Vb()),2&t){var n=o.lc(3);o.Ab(1),o.Sc("",o.oc(2,1,n.filter.periodFrom,"dd.MM.yyyy")," ")}}function h(t,e){1&t&&(o.Wb(0,"span"),o.Qc(1," - "),o.Vb())}function g(t,e){if(1&t&&(o.Wb(0,"span"),o.Qc(1),o.mc(2,"date"),o.Vb()),2&t){var n=o.lc(3);o.Ab(1),o.Sc("",o.oc(2,1,n.filter.periodTo,"dd.MM.yyyy")," ")}}function v(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Oc(1,f,3,4,"span",0),o.Oc(2,h,2,0,"span",0),o.Oc(3,g,3,4,"span",0),o.Wb(4,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"periods")})),o.Rb(5,"img",4),o.mc(6,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(1),o.rc("ngIf",a.filter.periodFrom),o.Ab(1),o.rc("ngIf",a.filter.periodFrom&&a.filter.periodTo),o.Ab(1),o.rc("ngIf",a.filter.periodTo),o.Ab(2),o.rc("alt",o.nc(6,4,"FILTER.REMOVE"))}}function y(t,e){1&t&&o.Rb(0,"span",12)}function T(t,e){1&t&&o.Rb(0,"span",13)}function S(t,e){1&t&&o.Rb(0,"span",14)}function C(t,e){if(1&t){var n=o.Xb();o.Wb(0,"div",2),o.Wb(1,"span",8),o.Oc(2,y,1,0,"span",9),o.Oc(3,T,1,0,"span",10),o.Oc(4,S,1,0,"span",11),o.Vb(),o.Wb(5,"a",3),o.ic("click",(function(t){return o.Fc(n),o.lc(2).onTagRemove(t,"sortBy")})),o.Rb(6,"img",4),o.mc(7,"translate"),o.Vb(),o.Vb()}if(2&t){var a=o.lc(2);o.Ab(1),o.rc("ngSwitch",a.filter.sortBy),o.Ab(1),o.rc("ngSwitchCase","none"),o.Ab(1),o.rc("ngSwitchCase","amount"),o.Ab(1),o.rc("ngSwitchCase","-amount"),o.Ab(2),o.rc("alt",o.nc(7,5,"FILTER.REMOVE"))}}function A(t,e){if(1&t&&(o.Ub(0),o.Oc(1,s,6,4,"div",1),o.Oc(2,l,6,4,"div",1),o.Oc(3,u,6,4,"div",1),o.Oc(4,p,7,6,"div",1),o.Oc(5,v,7,6,"div",1),o.Oc(6,C,8,7,"div",1),o.Tb()),2&t){var n=o.lc();o.Ab(1),o.rc("ngIf",n.filter.recipientIban),o.Ab(1),o.rc("ngIf",n.filter.recipientBin),o.Ab(1),o.rc("ngIf",n.filter.documentNumber),o.Ab(1),o.rc("ngIf",n.filter.amountFrom||n.filter.amountTo),o.Ab(1),o.rc("ngIf",n.isPeriodsShown),o.Ab(1),o.rc("ngIf",n.filter.sortBy!=n.DEFAULTS.sortBy)}}var O=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.filterService=e,this.subscription=new r.a;var a=this.filterService.getScheme().subscribe((function(t){n.filter=Object.assign({},t)}));this.subscription.add(a)}return _createClass(t,[{key:"ngOnInit",value:function(){this.DEFAULTS=this.filterService.getDefaults(this.mode)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onTagRemove",value:function(t,e){t.preventDefault(),"amounts"==e?(this.filter.amountFrom=this.DEFAULTS.amountFrom,this.filter.amountTo=this.DEFAULTS.amountTo):"periods"==e?(this.filter.periodType=this.DEFAULTS.periodType,this.filter.periodFrom=this.DEFAULTS.periodFrom,this.filter.periodTo=this.DEFAULTS.periodTo):this.filter[e]=this.DEFAULTS[e],this.filterService.updateExtra(this.filter)}},{key:"isPeriodsShown",get:function(){return this.mode===a.a.HISTORY&&(""!==this.filter.periodFrom&&this.filter.periodFrom!==this.DEFAULTS.periodFrom||""!==this.filter.periodTo&&this.filter.periodTo!==this.DEFAULTS.periodTo)}},{key:"amountFromMoney",get:function(){return{amount:this.filter.amountFrom,currency:i.a.KZT}}},{key:"amountToMoney",get:function(){return{amount:this.filter.amountTo,currency:i.a.KZT}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(c.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["j-filter-tags"]],inputs:{mode:"mode"},decls:1,vars:1,consts:[[4,"ngIf"],["class","tag p2",4,"ngIf"],[1,"tag","p2"],["href","#",1,"tag__close",3,"click"],["src","./assets/icons/tags-remove.svg",3,"alt"],["translate","FILTER.AMOUNT.FROM"],[3,"money"],["translate","FILTER.AMOUNT.TO"],[3,"ngSwitch"],["translate","FILTER.SORT.DEFAULT",4,"ngSwitchCase"],["translate","FILTER.SORT.AMOUNT_ASC",4,"ngSwitchCase"],["translate","FILTER.SORT.AMOUNT_DESC",4,"ngSwitchCase"],["translate","FILTER.SORT.DEFAULT"],["translate","FILTER.SORT.AMOUNT_ASC"],["translate","FILTER.SORT.AMOUNT_DESC"]],template:function(t,e){1&t&&o.Oc(0,A,7,6,"ng-container",0),2&t&&o.rc("ngIf",e.filter)},styles:["[_nghost-%COMP%]{display:none}@media(min-width:670px){[_nghost-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}}.tag[_ngcontent-%COMP%]{background:#e9ecf1;color:#666c72;border-radius:.5rem;padding:.25rem 1rem;margin-top:.5rem;margin-right:1rem}.tag[_ngcontent-%COMP%]:last-child{margin-right:0}.tag__close[_ngcontent-%COMP%]{margin-left:.5rem}"]}),t}()},zwEd:function(t,e,n){"use strict";var a=n("L+ju"),i=n("LvDl"),r=function(t){return t.COMMERCIAL="COMMERCIAL",t.PRIVATE="PRIVATE",t}({}),o=function(){function t(e){_classCallCheck(this,t),this.accountType=a.a.CARD,Object(i.defaults)(this,e),this.maskedNumber=this.getMaskedNumber(),this.formattedName=this.getFormattedName(),this.formattedFullName=this.getFormattedFullName()}return _createClass(t,[{key:"getMaskedNumber",value:function(){var t;return"\u2022\u2022\u2022\u2022 ".concat(this.cardNumber.substr((null===(t=this.cardNumber)||void 0===t?void 0:t.length)-4))}},{key:"getFormattedName",value:function(){return this.firstName||this.lastName||!this.fullName?this.firstName||this.lastName?"".concat(this.capitalized(this.lastName)," ").concat(this.capitalized(this.firstName)):"":this.fullName}},{key:"getFormattedFullName",value:function(){return this.fullName}},{key:"capitalized",value:function(t){var e;return t?"".concat(null===(e=t[0])||void 0===e?void 0:e.toUpperCase()).concat(t.substr(1).toLowerCase()):""}},{key:"hasLockedState",get:function(){return this.status!==c.ACTIVE}}]),t}(),c=function(t){return t.ACTIVE="ACTIVE",t.CLOSED="CLOSED",t.FRAUD="FRAUD",t.EXPIRED="EXPIRED",t.LOST_LOCK="LOST_LOCK",t.THEFT_LOCK="THEFT_LOCK",t.TEMPORARILY_LOCK="TEMPORARILY_LOCK",t}({});n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c}))}}]);