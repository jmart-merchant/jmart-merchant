"use strict";(self.webpackChunkjysan=self.webpackChunkjysan||[]).push([[178],{30178:(tt,h,i)=>{i.r(h),i.d(h,{LandingModule:()=>K});var c=i(69808),s=i(93075),T=i(91995),p=i(59516),t=i(5e3),A=i(43169);let y=(()=>{class e{constructor(n){this.router=n}onRetry(){this.router.navigate(["/landing"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-went-wrong"]],decls:2,vars:0,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center"],[3,"retried"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"j-error-placeholder",1),t.NdJ("retried",function(){return r.onRetry()}),t.qZA()())},directives:[A.g],styles:[""]}),e})();var d=i(70655),v=i(31307),_=i(26164),C=i(82524);let N=(()=>{class e extends class O{}{constructor(n){super(),this.apiService=n}getCategories(){return this.apiService.get("dictionaries/store-product-categories")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(C.sM))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),u=(()=>{class e{constructor(n,r){this.apiService=n,this.companyService=r,this.isJmart=null}resolveAccess(){return(0,d.mG)(this,void 0,void 0,function*(){const a=this.apiService.get(`companies/${this.companyService.currentId}/is-jmart`);return this.isJmart=yield a,a})}hasAccess(){return this.isJmart}createApplication(n){return this.apiService.post(`companies/${this.companyService.currentId}/store-claim`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(C.sM),t.LFG(_.J))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var f=i(16206),l=i(89854),g=i(69544);let E=(()=>{class e{constructor(n){this.analytics=n}ngOnInit(){}logMoveToJmart(){this.analytics.logEvent("JMart_Open_Click",{version:1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-has-store"]],decls:18,vars:0,consts:[[1,"container-fluid","has-store"],[1,"row","justify-content-between"],[1,"col-4","align-self-center"],["translate","",1,"has-store__title","mb-4"],["translate","",1,"text-gray","mb-4"],[1,"mb-4"],["translate","",1,"has-store__partners"],["href","tel:+77081110447",1,"d-block","text-gray","has-store__phone"],["href","mailto:business@jmart.kz",1,"has-store__email"],["href","https://old.jmart.kz/vendor.php","target","_blank","translate","",1,"btn","btn-primary",3,"click"],["inlineSVG","./assets/jmart/landing/hookup-store.svg"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"JMART.LANDING.STORE_CONNECTED.TITLE"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"JMART.LANDING.CONNECT_STORE.TEXT"),t.qZA(),t.TgZ(7,"div",5)(8,"p",6),t._uU(9,"JMART.LANDING.STORE_CONNECTED.PARTNERS"),t.qZA(),t.TgZ(10,"a",7),t._uU(11,"+7 (708) 111 04 47"),t.qZA(),t.TgZ(12,"a",8),t._uU(13,"business@jmart.kz"),t.qZA()(),t.TgZ(14,"a",9),t.NdJ("click",function(){return r.logMoveToJmart()}),t._uU(15,"JMART.LANDING.GOTOSTORE"),t.qZA()(),t.TgZ(16,"div"),t._UZ(17,"span",10),t.qZA()()())},directives:[l.Pi,g.d$],styles:[".has-store__title[_ngcontent-%COMP%]{line-height:3.75rem;color:#000}.has-store__partners[_ngcontent-%COMP%]{font-weight:500;font-size:1.125rem;line-height:1.5rem;color:#1a1c1f;margin-bottom:.375rem}.has-store__phone[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem;margin-bottom:.375rem;text-decoration:none}.has-store__email[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem;color:#ef5630;margin-bottom:0}"]}),e})();function Z(e,o){1&e&&(t.TgZ(0,"div")(1,"section",2)(2,"div",3)(3,"div",4)(4,"h1",5),t._uU(5,"JMART.LANDING.CONNECT_STORE.CLAIM_SENT"),t.qZA(),t.TgZ(6,"p",6),t._uU(7,"JMART.LANDING.CONNECT_STORE.CLAIM_SENT_TEXT"),t.qZA()(),t.TgZ(8,"div"),t._UZ(9,"span",7),t.qZA()()()())}function b(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1",5),t._uU(4,"JMART.LANDING.CONNECT_STORE.TITLE"),t.qZA(),t.TgZ(5,"p",6),t._uU(6,"JMART.LANDING.CONNECT_STORE.TEXT"),t.qZA(),t.TgZ(7,"button",8),t.NdJ("click",function(){return t.CHM(n),t.oxw().scroll()}),t._uU(8,"JMART.LANDING.CONNECT_STORE.SCROLL_BTN"),t.qZA()(),t.TgZ(9,"div"),t._UZ(10,"span",7),t.qZA()()()}}let M=(()=>{class e{constructor(){}scroll(){window.scrollTo(0,document.body.scrollHeight)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-connect-store"]],inputs:{isStoreClaimSent:"isStoreClaimSent"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["storeClaimNotSent",""],[1,"container-fluid","connect-store"],[1,"row","justify-content-between"],[1,"col-4","align-self-center"],["translate","",1,"connect-store__title","m-0","pb-4"],["translate","",1,"text-gray","connect-store__text","m-0","pb-4"],["inlineSVG","./assets/jmart/landing/hookup-store.svg"],["type","button","translate","",1,"btn","btn-primary","btn-block",3,"click"]],template:function(n,r){if(1&n&&(t.YNc(0,Z,10,0,"div",0),t.YNc(1,b,11,0,"ng-template",null,1,t.W1O)),2&n){const a=t.MAs(2);t.Q6J("ngIf",r.isStoreClaimSent)("ngIfElse",a)}},directives:[c.O5,l.Pi,g.d$],styles:[".connect-store[_ngcontent-%COMP%]{margin-bottom:6.25rem}.connect-store__title[_ngcontent-%COMP%]{line-height:3.75rem;color:#000}.btn[_ngcontent-%COMP%]{width:176px}"]}),e})();function x(e,o){if(1&e&&(t.TgZ(0,"div")(1,"div",7)(2,"p",8),t._uU(3),t.qZA(),t.TgZ(4,"p",9),t._uU(5),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(3),t.Oqu(n.value),t.xp6(2),t.Oqu(n.name)}}let R=(()=>{class e{constructor(){this.facts=[{name:"JMART.LANDING.STORE_FACTS.GOODS",value:"400 000+"},{name:"JMART.LANDING.STORE_FACTS.CATEGORIES",value:"3 000+"},{name:"JMART.LANDING.STORE_FACTS.PARTNERS",value:"1 000+"}]}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-store-facts"]],decls:9,vars:1,consts:[[1,"container-fluid","facts"],[1,"header"],["translate","",1,"text-center","header__title","m-0","pb-2"],["translate","",1,"text-center","text-dark","header__text","m-0"],[1,"container-fluid","px-0"],[1,"store-fact"],[4,"ngFor","ngForOf"],[1,"fact"],[1,"fact__text","text-center","mt-3"],["translate","",1,"text-center","text-black"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h3",2),t._uU(3,"JMART.LANDING.STORE_FACTS.STORE"),t.qZA(),t.TgZ(4,"p",3),t._uU(5,"JMART.LANDING.STORE_FACTS.DESC"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,x,6,2,"div",6),t.qZA()()()),2&n&&(t.xp6(8),t.Q6J("ngForOf",r.facts))},directives:[l.Pi,c.sg],styles:[".facts[_ngcontent-%COMP%]{margin-bottom:6.25rem}.header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.header__title[_ngcontent-%COMP%]{font-size:2rem;line-height:2.5rem}.header__text[_ngcontent-%COMP%]{line-height:1.5rem;opacity:.7}.fact[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;border-radius:12px}.fact__text[_ngcontent-%COMP%]{color:#1a1c1f;font-weight:500;font-size:3rem;line-height:3.75rem}.text-dark[_ngcontent-%COMP%]{color:#1a1c1f}.text-orange[_ngcontent-%COMP%]{font-weight:500;font-size:3rem;line-height:3.75rem;color:#ef5630}.text-black[_ngcontent-%COMP%]{color:#666c72}.store-fact[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(295px,1fr));grid-gap:1.25rem;gap:1.25rem}"]}),e})();function F(e,o){if(1&e&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h6",9),t._uU(4),t.qZA(),t.TgZ(5,"p",10),t._uU(6),t.qZA()(),t.TgZ(7,"div"),t._UZ(8,"span",11),t.qZA()()()),2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.subheader),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.Q6J("inlineSVG",n.img)}}let I=(()=>{class e{constructor(){this.translatePrefix="JMART.LANDING.ADVANTAGES",this.advantages=[{subheader:this.mapTranslate("INCREACE"),description:this.mapTranslate("INCREACE_DESC"),img:"./assets/jmart/landing/advantages-1.svg"},{subheader:this.mapTranslate("BRAND"),description:this.mapTranslate("BRAND_DESC"),img:"./assets/jmart/landing/advantages-2.svg"},{subheader:this.mapTranslate("COOPERATION"),description:this.mapTranslate("COOPERATION_DESC"),img:"./assets/jmart/landing/advantages-3.svg"},{subheader:this.mapTranslate("DELIVERY"),description:this.mapTranslate("DELIVERY_DESC"),img:"./assets/jmart/landing/advantages-4.svg"},{subheader:this.mapTranslate("INSTALLMENT"),description:this.mapTranslate("INSTALLMENT_DESC"),img:"./assets/jmart/landing/advantages-5.svg"},{subheader:this.mapTranslate("SALES"),description:this.mapTranslate("SALES_DESC"),img:"./assets/jmart/landing/advantages-6.svg"}]}ngOnInit(){}mapTranslate(n){return`${this.translatePrefix}.${n}`}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-advantages"]],decls:8,vars:3,consts:[[1,"container-fluid","advantages"],[1,"advantages-header"],["translate","",1,"text-center","advantages-header__title","m-0","pb-2"],["translate","",1,"text-center","advantages-header__text","m-0"],[1,"container-fluid","px-0","advantages-main"],["class","advantage-main__wrap",4,"ngFor","ngForOf"],[1,"advantage-main__wrap"],[1,"advantages-main__item"],[1,"advantages-main__text"],["translate","",1,"advantages-main__subheader"],["translate","",1,"advantages-main__description"],[1,"advantages-main__img",3,"inlineSVG"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,F,9,3,"div",5),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(r.mapTranslate("TITLE")),t.xp6(2),t.Oqu(r.mapTranslate("DESC")),t.xp6(2),t.Q6J("ngForOf",r.advantages))},directives:[l.Pi,c.sg,g.d$],styles:[".advantages[_ngcontent-%COMP%]{margin-bottom:6.25rem}.advantages-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.advantages-header__title[_ngcontent-%COMP%]{font-size:2rem;line-height:2.5rem}.advantages-header__text[_ngcontent-%COMP%]{opacity:.7}.advantages-main[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr 1fr 4fr;grid-template-rows:repeat(3,1fr);grid-gap:1.25rem;gap:1.25rem}.advantages-main__item[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;border-radius:20px;display:flex;justify-content:space-between}.advantages-main__subheader[_ngcontent-%COMP%]{line-height:1.25rem;color:#000}.advantages-main__description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem;color:#666c72}.advantages-main__text[_ngcontent-%COMP%]{padding-top:2rem;padding-left:2rem}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(1){grid-column:1/3;grid-row:1/2}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(2){grid-column:3/5;grid-row:1/2}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(3){grid-column:1/2;grid-row:2/3}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(4){grid-column:2/5;grid-row:2/3}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(5){grid-column:1/4;grid-row:3/4}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(6){grid-column:4/5;grid-row:3/4}"]}),e})(),J=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-jmart-logo"]],decls:1,vars:0,consts:[["inlineSVG","./assets/jmart/logo.svg"]],template:function(n,r){1&n&&t._UZ(0,"span",0)},directives:[g.d$],styles:[""]}),e})();var L=i(81522),P=i(12320),j=i(50235);let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-success-form"]],decls:7,vars:0,consts:[[1,"container","success"],[1,"text-center","success__icon"],["inlineSVG","./assets/jmart/success.svg",1,"mr-2"],["translate","",1,"text-center","success__text"],["translate","",1,"text-center"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"span",2),t.qZA(),t.TgZ(3,"h4",3),t._uU(4,"JMART.LANDING.FORM_RESPONSE.SUCCESS"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"JMART.LANDING.FORM_RESPONSE.SUCCESS_TEXT"),t.qZA()())},directives:[g.d$,l.Pi],styles:[".success[_ngcontent-%COMP%]{margin-top:7rem}.success__icon[_ngcontent-%COMP%], .success__text[_ngcontent-%COMP%]{margin-bottom:1.875rem}"]}),e})(),G=(()=>{class e{constructor(){this.onRepeat=new t.vpe}ngOnInit(){}repeat(){this.onRepeat.emit("default")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-failed-form"]],outputs:{onRepeat:"onRepeat"},decls:9,vars:0,consts:[[1,"container","failed"],[1,"text-center","failed__icon"],["src","./assets/jmart/error.svg","width","48px","height","48px"],["translate","",1,"text-center","failed__text"],["translate","",1,"text-center"],["type","button","translate","",1,"btn","btn-primary","btn-block",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"h4",3),t._uU(4,"JMART.LANDING.FORM_RESPONSE.FAILED"),t.qZA(),t.TgZ(5,"p",4),t._uU(6,"JMART.LANDING.FORM_RESPONSE.FAILED_TEXT"),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return r.repeat()}),t._uU(8,"JMART.LANDING.FORM_RESPONSE.REPEAT"),t.qZA()())},directives:[l.Pi],styles:[".failed[_ngcontent-%COMP%]{margin-top:7rem}.failed__icon[_ngcontent-%COMP%], .failed__text[_ngcontent-%COMP%]{margin-bottom:1.875rem}"]}),e})();const D=function(){return{id:"phoneKz"}};function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw().submit()}),t.TgZ(1,"h4",9),t._uU(2,"JMART.LANDING.FORM.TITLE"),t.qZA(),t.TgZ(3,"p",10),t._uU(4,"JMART.LANDING.FORM.DESC"),t.qZA(),t.TgZ(5,"j-dropdown-input",11),t.NdJ("selected",function(a){return t.CHM(n),t.oxw().selectedCategory(a)}),t.qZA(),t._UZ(6,"j-phone-input",12)(7,"j-input",13),t.TgZ(8,"button",14),t._uU(9," JMART.LANDING.FORM.APPLICATION "),t.qZA()()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("options",n.categoryNames)("hasError",n.categoryError&&n.isSubmitted),t.xp6(1),t.Q6J("isClearable",!1)("formControl",n.form.get("phone"))("hasError",n.phoneError&&n.isSubmitted)("countryCode",t.DdM(11,D))("defaultFocus",!1),t.xp6(1),t.Q6J("isClearable",!1)("formControl",n.form.get("email"))("hasError",n.emailError&&n.isSubmitted)}}function q(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"j-success-form"),t.qZA())}function k(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"j-failed-form",15),t.NdJ("onRepeat",function(a){return t.CHM(n),t.oxw().onRepeat(a)}),t.qZA()()}}let Y=(()=>{class e{constructor(n,r,a,m){this.categoriesService=n,this.landingService=r,this.analytics=a,this.companyService=m,this.isSubmitted=!1,this.formStatus="default",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.form=new s.cw({category:new s.NI(null,s.kI.required),phone:new s.NI("",s.kI.required),email:new s.NI("",[s.kI.required,s.kI.email,s.kI.pattern(this.emailPattern)])}),this.changeAuthoritySubscribtion=this.companyService.currentAuthoritySubject$.pipe((0,v.T)(1)).subscribe(()=>{"default"!==this.formStatus&&this.onRepeat("default")})}ngOnInit(){this.getCategories()}ngOnDestroy(){this.changeAuthoritySubscribtion.unsubscribe()}submit(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.form.invalid)return;const r={category:this.categories.find(a=>{if(a.name===this.form.value.category)return a}).id,phone:"+7"+this.form.value.phone,email:this.form.value.email};try{yield this.landingService.createApplication(r),this.formStatus="success",this.logSubmitResult()}catch(a){this.formStatus="failed",this.logSubmitResult(!0)}finally{this.formReset()}})}logSubmitResult(n=!1){this.analytics.logEvent("JMart_SendRequest_Click",{version:1,error:n})}selectedCategory(n){this.analytics.logEvent("JMart_Category_Click",{version:1}),this.form.get("category").setValue(n)}onRepeat(n){this.formStatus=n}getCategories(){return(0,d.mG)(this,void 0,void 0,function*(){const n=yield this.categoriesService.getCategories();this.categories=n,this.categoryNames=n.map(r=>r.name)})}get categoryError(){return this.form.get("category").errors}get phoneError(){return this.form.get("phone").errors}get emailError(){return this.form.get("email").errors}formReset(){this.form.get("category").reset(),this.form.get("phone").setValue(""),this.form.get("email").reset(),this.isSubmitted=!1}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(N),t.Y36(u),t.Y36(f.q),t.Y36(_.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-application-form"]],decls:10,vars:4,consts:[[1,"container-fluid","application"],[1,"row","m-0","justify-content-between","application-container"],[1,"col-6","application__form"],[3,"ngSwitch"],[3,"formGroup","ngSubmit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"application__img"],["inlineSVG","./assets/jmart/landing/form.svg",1,"mr-2"],[3,"formGroup","ngSubmit"],["translate","",1,"container-fluid","mb-2","p-0","application__title"],["translate","",1,"mb-4"],["label","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",3,"options","hasError","selected"],["label","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",3,"isClearable","formControl","hasError","countryCode","defaultFocus"],["label","\u041f\u043e\u0447\u0442\u0430",3,"isClearable","formControl","hasError"],["type","submit","translate","",1,"btn","btn-primary","btn-block"],[3,"onRepeat"]],template:function(n,r){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"j-jmart-logo"),t.ynx(4,3),t.YNc(5,U,10,12,"form",4),t.YNc(6,q,2,0,"div",5),t.YNc(7,k,2,0,"div",5),t.BQk(),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"span",7),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngSwitch",r.formStatus),t.xp6(1),t.Q6J("ngSwitchCase","default"),t.xp6(1),t.Q6J("ngSwitchCase","success"),t.xp6(1),t.Q6J("ngSwitchCase","failed"))},directives:[J,c.RF,c.n9,s._Y,s.JL,s.sg,l.Pi,L.i,P.T,s.JJ,s.oH,j.N,w,G,g.d$],styles:[".application__form[_ngcontent-%COMP%]{padding:3.75rem}.application__title[_ngcontent-%COMP%]{margin-top:3rem}.application-container[_ngcontent-%COMP%]{background:#fff;border-radius:40px}"]}),e})();function z(e,o){1&e&&t._UZ(0,"j-application-form")}let Q=(()=>{class e{constructor(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-has-not-store"]],inputs:{isStoreClaimSent:"isStoreClaimSent"},decls:4,vars:2,consts:[[3,"isStoreClaimSent"],[4,"ngIf"]],template:function(n,r){1&n&&(t._UZ(0,"j-connect-store",0)(1,"j-store-facts")(2,"j-advantages"),t.YNc(3,z,1,0,"j-application-form",1)),2&n&&(t.Q6J("isStoreClaimSent",r.isStoreClaimSent),t.xp6(3),t.Q6J("ngIf",!r.isStoreClaimSent))},directives:[M,R,I,c.O5,Y],styles:[""]}),e})();function X(e,o){1&e&&t._UZ(0,"j-has-store")}function H(e,o){if(1&e&&t._UZ(0,"j-has-not-store",3),2&e){const n=t.oxw();t.Q6J("isStoreClaimSent",n.isJmart.isStoreClaimSent)}}let $=(()=>{class e{constructor(n,r,a){this.route=n,this.companyService=r,this.landingService=a}ngOnDestroy(){this.changeAuthoritySubscribtion.unsubscribe()}ngOnInit(){this.isJmart=this.route.snapshot.data.isJmart,this.changeAuthoritySubscribtion=this.companyService.currentAuthoritySubject$.pipe((0,v.T)(1)).subscribe(()=>(0,d.mG)(this,void 0,void 0,function*(){this.isJmart=yield this.landingService.resolveAccess()}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.gz),t.Y36(_.J),t.Y36(u))},e.\u0275cmp=t.Xpm({type:e,selectors:[["j-landing"]],decls:4,vars:2,consts:[[1,"main"],[4,"ngIf","ngIfElse"],["hasNot",""],[3,"isStoreClaimSent"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,X,1,0,"j-has-store",1),t.YNc(2,H,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&n){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",r.isJmart.isJmartCompany)("ngIfElse",a)}},directives:[c.O5,E,Q],styles:[".main[_ngcontent-%COMP%]{margin-top:8.75rem;margin-bottom:10rem}"]}),e})(),S=(()=>{class e{constructor(n,r,a){this.router=n,this.landingService=r,this.analytics=a}resolve(){return(0,d.mG)(this,void 0,void 0,function*(){try{const n=yield this.landingService.resolveAccess();return this.logLandingRoute(n),n}catch(n){this.router.navigate(["jmart","landing","went-wrong"])}})}logLandingRoute({isJmartCompany:n,isStoreClaimSent:r}){const[{status:a}]=[{status:"notconnected",check:!n&&!r},{status:"request",check:!n&&r},{status:"connected",check:n}].filter(({check:m})=>m);this.analytics.logEvent("JMart_Start",{version:1,ProductJmartStatus:a})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(p.F0),t.LFG(u),t.LFG(f.q))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const V=[{path:"",component:$,resolve:{isJmart:S}},{path:"went-wrong",component:y}];let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(V)],p.Bz]}),e})();var B=i(8419);let K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[S,u],imports:[[c.ez,T.m,W,s.u5,s.UX,p.Bz,B.I]]}),e})()}}]);