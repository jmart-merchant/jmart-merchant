(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/Fsc":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fXoL"),i=n("1kSV"),a=n("sYmb");let o=(()=>{class e{constructor(e){this.modal=e}closeModal(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Qb(i.a))},e.\u0275cmp=r.Kb({type:e,selectors:[["j-function-message-success"]],decls:11,vars:3,consts:[[1,"modal-header","j-modal-header"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","/assets/img/history/modals/success.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],["translate","",1,"m-0","text-muted"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-static","btn-primary","m-0",3,"click"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Wb(1,"div",1),r.Rb(2,"img",2),r.nc(3,"translate"),r.Wb(4,"h3",3),r.Tc(5," SETTINGS.FEATURE_REQUEST.SUCCESS_MODAL.TITLE "),r.Vb(),r.Wb(6,"p",4),r.Tc(7," SETTINGS.FEATURE_REQUEST.SUCCESS_MODAL.DESCRIPTION "),r.Vb(),r.Vb(),r.Wb(8,"div",5),r.Wb(9,"button",6),r.ic("click",(function(e){return t.closeModal()})),r.Tc(10," SHARED.CLOSE "),r.Vb(),r.Vb()),2&e&&(r.Ab(2),r.vc("alt",r.oc(3,1,"SHARED.DONE")))},directives:[a.a],pipes:[a.d],styles:[""]}),e})()},CVrE:function(e,t,n){"use strict";n("FSxY");var r=n("O/Ur");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var i=n("wtV8");n.d(t,"c",(function(){return i.a})),n("gm23");var a=n("kFTB");n.d(t,"e",(function(){return a.a}));var o=n("+BgI");n.d(t,"f",(function(){return o.a}));var s=n("0mgW");n.d(t,"d",(function(){return s.b})),n.d(t,"g",(function(){return s.c}))},FSKB:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("mrSG"),i=n("+/Tu"),a=n("TwVa"),o=n("fXoL"),s=n("p6Hd"),c=n("VnnJ"),u=n("mR7B"),l=n("+BgI"),d=n("wtV8"),m=n("q25w");let b=(()=>{class e{constructor(e,t,n,r,i,a){this.api=e,this.companyService=t,this.maskedService=n,this.paymentsPipelineService=r,this.paymentsApiService=i,this.paymentsSharedService=a}getPurposeList(){return this.api.get("dictionaries/conversion-purposes")}getRateObservable(e){return this.api.postObservable(`companies/${this.companyService.currentId}/payments/exchange-rate`,e)}getRate(e){return this.paymentsSharedService.getExchangeRate(e)}getConversionById(e){return this.paymentsApiService.getPaymentById(e)}saveEditedConversion(e,t){return this.paymentsApiService.updatePayment(this.mapConversionToPayment(e,t),{paymentId:e.id})}getCommission(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=`companies/${this.companyService.currentId}/payments/commission`,n=this.mapFormToPayment(e),r=yield this.api.post(t,n);return{amount:r.commissionAmount||0,currency:r.currency||i.a.KZT}}))}createConversion(e){return this.paymentsApiService.createPayment(this.mapFormToPayment(e))}updateConversion(e){return this.paymentsApiService.updatePayment(this.mapFormToPayment(e),{paymentId:e.id})}createAndSignConversion(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.createConversion(e);return this.paymentsPipelineService.processPaymentVerify(t)}))}mapFormToPayment(e){var t,n,r,i,o;const s={status:{code:a.h.CREATED},paymentRecipient:{recipientAccount:{iban:null===(t=e.to)||void 0===t?void 0:t.iban}},type:a.i.CONVERSION,category:a.g.CONVERSION,details:{exchangeRate:e.rate,conversionPurpose:e.purpose,description:e.description,payerIban:null===(n=e.from)||void 0===n?void 0:n.iban,paymentAmount:{amount:this.maskedService.getNumberedAmount(e.fromAmount),currency:null===(i=null===(r=e.from)||void 0===r?void 0:r.balance)||void 0===i?void 0:i.currency},documentId:e.documentNumber}};return e.commissionAccount&&(s.details.exchangeRate=Object.assign(Object.assign({},s.details.exchangeRate),{commissionWithdrawalIban:null===(o=e.commissionAccount)||void 0===o?void 0:o.iban})),s}mapConversionToPayment(e,t){return t.paymentRecipient.recipientAccount.iban=e.to.iban,t.details.exchangeRate=e.rate,t.details.conversionPurpose=e.purpose,t.details.description=e.description,t.details.payerIban=e.from.iban,t.details.paymentAmount={amount:this.maskedService.getNumberedAmount(e.fromAmount),currency:e.from.balance.currency},t.details.documentId=e.documentNumber,t}}return e.\u0275fac=function(t){return new(t||e)(o.ec(s.a),o.ec(c.a),o.ec(u.a),o.ec(l.a),o.ec(d.a),o.ec(m.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},FSxY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Stn5"),i=n("fXoL"),a=n("1kSV"),o=n("qXBG"),s=n("tyNb");let c=(()=>{class e{constructor(e,t,n){this.modal=e,this.auth=t,this.router=n}canDeactivate(e,t,n,i){var a,o;const{extras:s}=this.router.getCurrentNavigation();if(null===(o=null===(a=s)||void 0===a?void 0:a.state)||void 0===o?void 0:o.silent)return Promise.resolve(!0);if(e&&e.formDirective&&this.auth.isAuthenticated){const{formDirective:t,form:n}=e;if(!t.submitted&&n.dirty||t.submitted&&n.dirty)return this.modal.open(r.a,{backdropClass:"backdrop_light",windowClass:"modal_light modal_max-height",centered:!0}).result}return Promise.resolve(!0)}}return e.\u0275fac=function(t){return new(t||e)(i.ec(a.q),i.ec(o.a),i.ec(s.c))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},KJdv:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("eIyQ"),i=n("fXoL"),a=n("tyNb"),o=n("ofXK"),s=n("Ts65"),c=n("sYmb");function u(e,t){if(1&e&&(i.Wb(0,"h6",11),i.Tc(1),i.Vb()),2&e){const e=i.mc().$implicit;i.Ab(1),i.Vc(" ",null==e?null:e.title," ")}}function l(e,t){if(1&e&&(i.Wb(0,"p",12),i.Tc(1),i.Vb()),2&e){const e=i.mc().$implicit;i.Hb("mb-text",null==e?null:e.title),i.Ab(1),i.Vc(" ",null==e?null:e.description," ")}}function d(e,t){if(1&e&&(i.Ub(0),i.Wb(1,"div",8),i.Wb(2,"j-settings-package-card"),i.Rc(3,u,2,1,"h6",9),i.Rc(4,l,2,3,"p",10),i.Vb(),i.Vb(),i.Tb()),2&e){const e=t.$implicit;i.Ab(3),i.uc("ngIf",null==e?null:e.title),i.Ab(1),i.uc("ngIf",null==e?null:e.description)}}let m=(()=>{class e{constructor(e){var t;this.route=e,this.faqLists=r.a,this.value=null===(t=e.snapshot.params)||void 0===t?void 0:t.key}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(a.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["j-settings-package-faq"]],decls:10,vars:5,consts:[[1,"f-page-wrapper","is-shown"],["routerLink","/settings/package",1,"f-page-backdrop"],[1,"f-page-content","f-page-content--quarter","is-shown",2,"background-color","#F6F7F8"],[1,"p-select-header",2,"background-color","white","margin-bottom","2rem"],[1,"m-0"],["type","button","routerLink","/settings/package",1,"close"],["src","./assets/icons/close.svg",3,"alt"],[4,"ngFor","ngForOf"],[2,"margin","0 2rem 1rem 2rem"],["style","color: #1A1C1F; font-weight: 500; font-size: 20px; line-height: 20px; margin-bottom: 0 ",4,"ngIf"],["style","color: #1A1C1F; font-size: 1rem; font-weight: 400; margin-bottom: 0",3,"mb-text",4,"ngIf"],[2,"color","#1A1C1F","font-weight","500","font-size","20px","line-height","20px","margin-bottom","0"],[2,"color","#1A1C1F","font-size","1rem","font-weight","400","margin-bottom","0"]],template:function(e,t){1&e&&(i.Wb(0,"section",0),i.Rb(1,"div",1),i.Wb(2,"section",2),i.Wb(3,"div",3),i.Wb(4,"h5",4),i.Tc(5),i.Vb(),i.Wb(6,"button",5),i.Rb(7,"img",6),i.nc(8,"translate"),i.Vb(),i.Vb(),i.Rc(9,d,5,2,"ng-container",7),i.Vb(),i.Vb()),2&e&&(i.Ab(5),i.Uc(null==t.faqLists[t.value]?null:t.faqLists[t.value].title),i.Ab(2),i.vc("alt",i.oc(8,3,"SHARED.CLOSE")),i.Ab(2),i.uc("ngForOf",null==t.faqLists[t.value]?null:t.faqLists[t.value].lists))},directives:[a.d,o.t,s.a,o.u],pipes:[c.d],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.p-select-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;padding:2rem}.p-select-header[_ngcontent-%COMP%], .p-select-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;background:#fff}.p-select-item[_ngcontent-%COMP%]{height:3.5rem;padding:1rem;color:#1a1c1f;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;margin-bottom:12px;border-radius:.5rem;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04)}.p-select-item.is-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.p-select-item[_ngcontent-%COMP%]:hover:not(.is-disabled){box-shadow:0 14px 16px rgba(0,0,0,.05);border-color:transparent}.p-select-icon[_ngcontent-%COMP%]{margin-right:1rem}.p-select-arrow[_ngcontent-%COMP%]{margin-left:auto}.p-select-nav[_ngcontent-%COMP%]{background:#f6f7f8;-webkit-box-flex:1;flex-grow:1;padding:2rem}.mb-text[_ngcontent-%COMP%]{margin-top:20px}"]}),e})()},Stn5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fXoL"),i=n("1kSV"),a=n("sYmb");let o=(()=>{class e{constructor(e){this.modal=e}ngOnInit(){}cancel(){this.modal.close(!1)}continue(){this.modal.close(!0)}}return e.\u0275fac=function(t){return new(t||e)(r.Qb(i.a))},e.\u0275cmp=r.Kb({type:e,selectors:[["j-payment-guard-modal"]],decls:21,vars:15,consts:[[1,"result-modal"],[1,"modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","p-3"],[1,"text-center"],[1,"modal-body","text-center"],[1,"form-group"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-link",3,"click"]],template:function(e,t){1&e&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"button",2),r.ic("click",(function(e){return t.modal.dismiss()})),r.Rb(3,"img",3),r.nc(4,"translate"),r.Vb(),r.Vb(),r.Wb(5,"div",4),r.Wb(6,"div",5),r.Wb(7,"h5"),r.Tc(8),r.nc(9,"translate"),r.Vb(),r.Wb(10,"p"),r.Tc(11),r.nc(12,"translate"),r.Vb(),r.Vb(),r.Vb(),r.Wb(13,"div",6),r.Wb(14,"div",7),r.Wb(15,"button",8),r.ic("click",(function(e){return t.continue()})),r.Tc(16),r.nc(17,"translate"),r.Vb(),r.Wb(18,"button",9),r.ic("click",(function(e){return t.cancel()})),r.Tc(19),r.nc(20,"translate"),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&e&&(r.Ab(3),r.vc("alt",r.oc(4,5,"SHARED.CLOSE")),r.Ab(5),r.Uc(r.oc(9,7,"PAYMENTS.GUARD_MODAL.TITLE")),r.Ab(3),r.Uc(r.oc(12,9,"PAYMENTS.GUARD_MODAL.DESCRIPTION")),r.Ab(5),r.Uc(r.oc(17,11,"PAYMENTS.GUARD_MODAL.EXIT")),r.Ab(3),r.Uc(r.oc(20,13,"SHARED.CANCEL")))},pipes:[a.d],styles:[""]}),e})()},Ts65:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("fXoL"),i=n("ofXK"),a=n("tyNb"),o=n("sYmb");const s=function(e){return[e]},c=function(e){return{faq:e}},u=function(e){return{outlets:e}};function l(e,t){if(1&e&&(r.Wb(0,"div",4),r.Wb(1,"button",6),r.Tc(2),r.nc(3,"translate"),r.Vb(),r.Vb()),2&e){const e=r.mc(2);r.Ab(1),r.uc("routerLink",r.zc(10,s,r.zc(8,u,r.zc(6,c,r.zc(4,s,e.itemCardSettingsPackage.helpText))))),r.Ab(1),r.Vc(" ",r.oc(3,2,"SHARED.MORE")," ")}}function d(e,t){if(1&e&&(r.Wb(0,"div",3),r.Wb(1,"div",4),r.Wb(2,"h6"),r.Tc(3),r.nc(4,"translate"),r.Vb(),r.Vb(),r.Rc(5,l,4,12,"div",5),r.Vb()),2&e){const e=r.mc();r.Ab(3),r.Uc(r.oc(4,2,null==e.itemCardSettingsPackage?null:e.itemCardSettingsPackage.title)),r.Ab(2),r.uc("ngIf",null==e.itemCardSettingsPackage?null:e.itemCardSettingsPackage.helpText)}}function m(e,t){if(1&e&&(r.Wb(0,"div",7),r.Wb(1,"small"),r.Tc(2),r.nc(3,"async"),r.Vb(),r.Vb()),2&e){const e=r.mc();r.Ab(2),r.Uc(r.oc(3,1,null==e.itemCardSettingsPackage?null:e.itemCardSettingsPackage.description))}}const b=["*"];let p=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Kb({type:e,selectors:[["j-settings-package-card"]],inputs:{itemCardSettingsPackage:"itemCardSettingsPackage"},ngContentSelectors:b,decls:5,vars:4,consts:[[1,"mt-1","j-page"],["class","row mx-1 justify-content-between",4,"ngIf"],["class","row mx-1 justify-content-start",4,"ngIf"],[1,"row","mx-1","justify-content-between"],[1,"d-flex"],["class","d-flex",4,"ngIf"],[1,"btn-link-classic","mb-2",3,"routerLink"],[1,"row","mx-1","justify-content-start"]],template:function(e,t){1&e&&(r.tc(),r.Wb(0,"section",0),r.Rc(1,d,6,4,"div",1),r.sc(2),r.Rc(3,m,4,3,"div",2),r.nc(4,"async"),r.Vb()),2&e&&(r.Ab(1),r.uc("ngIf",null==t.itemCardSettingsPackage?null:t.itemCardSettingsPackage.title),r.Ab(2),r.uc("ngIf",r.oc(4,2,null==t.itemCardSettingsPackage?null:t.itemCardSettingsPackage.description)))},directives:[i.u,a.d],pipes:[i.b,o.d],styles:["section[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;background:#fff;border-radius:.75rem;max-width:27.2rem;box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}small[_ngcontent-%COMP%]{color:#828282;font-size:.75rem}.btn-link-classic[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400}"]}),e})()},eIyQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={sales:{title:"\u0421\u043a\u0438\u0434\u043a\u0438 \u043d\u0430 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u0432 \u0432\u0430\u043b\u044e\u0442\u0435",lists:[{title:"\u0412 \u0440\u0443\u0431\u043b\u044f\u0445",description:"0,1 % \u043e\u0442 \u0441\u0443\u043c\u043c\u044b \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0432\u043c\u0435\u0441\u0442\u043e 0,2%\n\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u2014 2 000 \u20b8, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u2014 30 000 \u20b8.\n\u0412\u044b\u0433\u043e\u0434\u043d\u043e \u043e\u0442 3 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u0432 \u0432 \u0440\u0443\u0431\u043b\u044f\u0445 \u0432 \u043c\u0435\u0441\u044f\u0446."},{title:"\u0412 \u0434\u0440\u0443\u0433\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u0435",description:"0,2% \u043e\u0442 \u0441\u0443\u043c\u043c\u044b \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0432\u043c\u0435\u0441\u0442\u043e 0,3%\n\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u2014 10 000 \u20b8,\n\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u2014 100 000 \u20b8.\n\u0412\u044b\u0433\u043e\u0434\u043d\u043e, \u0435\u0441\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0442\u043d\u0451\u0440\u0430\u043c\u0438."},{title:"\u041f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u0438\u0435 \u0423\u041d\u041a \n\u0438 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u2014 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e."}]},deposits:{title:"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0438 \u0441\u043d\u044f\u0442\u0438\u0435 \u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0445",lists:[{description:"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0435\u0441\u044c \u043e\u0431\u044a\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438, \u043a\u0430\u043a \u0441\u043d\u044f\u0442\u0438\u0435 \u0441\u043e \u0441\u0447\u0435\u0442\u0430,\n\u0442\u0430\u043a \u0438 \u0435\u0433\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"}]},payments:{title:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 \u0442\u0435\u043d\u0433\u0435",lists:[{description:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u0434\u043e 16:00 \u0447\u0435\u0440\u0435\u0437 JusanBusiness\n\u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u0431\u0430\u043d\u043a\u0438 \u0420\u041a \u0438 \u0432 \u0431\u044e\u0434\u0436\u0435\u0442"}]}}},gm23:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("gzBp"),i=n("fXoL"),a=n("tyNb"),o=n("wtV8"),s=n("0mgW"),c=n("VO+5");let u=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.api=n,this.payments=r,this.notification=i}canActivate(e,t){var n,i,a,o;const s=null===(i=null===(n=this.router.getCurrentNavigation().extras)||void 0===n?void 0:n.state)||void 0===i?void 0:i.repeatPayment,c=(null===(a=e.params)||void 0===a?void 0:a.paymentId)||(null===(o=s)||void 0===o?void 0:o.id);let u=r.a.tenge.order;return s&&(u=this.payments.getPaymentRouteByType(s.type)),c?this.api.getPaymentById(c).then(e=>{const t=[this.payments.getPaymentRouteByType(e.type)];s||t.push(c),this.router.navigate(t,{state:{resolvedPayment:e}})}).catch(e=>{this.router.navigate([r.a.tenge.order]),this.notification.show({type:"error",message:e})}):this.router.navigate([u]),!1}}return e.\u0275fac=function(t){return new(t||e)(i.ec(a.c),i.ec(a.a),i.ec(o.a),i.ec(s.c),i.ec(c.c))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kFTB:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("YMfE"),i=n("3Pt+"),a=n("SMdK"),o=n("TwVa"),s=n("+/Tu"),c=n("fXoL"),u=n("0mgW"),l=n("7rOj"),d=n("bHA9");let m=(()=>{class e{constructor(e,t,n,r){this.fb=e,this.paymentsService=t,this.bankFromAccount=n,this.dictionaries=r}createPaymentInTengeForm(){const e=this.fb.group({type:void 0,iinOrBin:["",[i.H.required,i.H.minLength(12)]],name:["",[i.H.required,i.H.maxLength(250)]],bankAccount:[void 0,i.H.required],kbeCode:["",[i.H.required,a.a.kbe]],number:["",i.H.required],date:null,knp:[void 0,[i.H.required]],purpose:[""],senderAccount:[""],amount:["",[i.H.required,i.H.min(this.paymentsService.rules.minAmount),i.H.max(this.paymentsService.rules.maxAmount),e=>{var t;return 0==(null===(t=e)||void 0===t?void 0:t.value)?{cantBeZero:!0}:null}]],vat:[!1],urgent:[!1],notify:[!1],emailOnSuccess:[{value:"",disabled:!0},[i.H.required,i.H.email]]}),{bankAccount:t,senderAccount:n}=e.controls;return t.setValidators([i.H.required,e=>{const t=Object(r.ibanPrefix)(e.value,s.a.KZT),i=n.value;return!e.value||t.length<18||!i||t!==i.iban?null:{isEqual:!0}},e=>this.paymentsService.bankExist(Object(r.ibanPrefix)(e.value||"",s.a.KZT)),e=>`KZ${e.value}`!==o.o.TAX_ACCOUNT?null:{taxAccountError:!0}]),n.setValidators([i.H.required,e=>(e.value&&t.updateValueAndValidity(),null)]),e}createTaxForm(){const e=this.fb.group({type:o.i.TAX,ugd:[void 0,i.H.required],kbk:["",[i.H.required]],number:["",i.H.required],date:void 0,knp:[{value:"",disabled:!0},[i.H.required]],senderAccount:["",i.H.required],purpose:[""],amount:["",[i.H.required,i.H.min(this.paymentsService.rules.minAmount),i.H.max(this.paymentsService.rules.maxAmount)]],urgent:[!1],vin:[{value:"",disabled:!0}],intervalEnabled:!1,period:[{value:"",disabled:!0},[i.H.required]],periodStart:[{value:"",disabled:!0}],periodEnd:[{value:"",disabled:!0}],protocolNumber:[{value:"",disabled:!0},[i.H.required]]}),{periodEnd:t,periodStart:n}=e.controls,r=a.a.isSmallerThan(t),s=a.a.isGreaterThan(n);return n.setValidators([i.H.required,r,a.a.revalidateLinkControlIf(()=>!r(n)&&t.hasError("isGreaterThan"),t)]),t.setValidators([i.H.required,s,a.a.revalidateLinkControlIf(()=>!s(t)&&n.hasError("isSmallerThan"),n)]),e}createPensionForm(){return this.fb.group({type:o.i.PENSION,date:void 0,period:[{value:void 0,disabled:!0},[i.H.required]],number:["",i.H.required],knp:["010",[i.H.required]],purpose:"",employees:[void 0,[i.H.required,i.H.minLength(1),this.paymentsService.employeeGroupControlValidator(o.i.PENSION)]],senderAccount:["",i.H.required],amount:[0,[i.H.required,i.H.min(.01)]],urgent:[!1],commonPeriodEnabled:!1})}createSocialForm(){return this.fb.group({type:o.i.SOCIAL,date:void 0,period:[{value:void 0,disabled:!0},[i.H.required]],number:["",i.H.required],knp:["012",[i.H.required]],employees:[void 0,[i.H.required,i.H.minLength(1),this.paymentsService.employeeGroupControlValidator(o.i.SOCIAL)]],senderAccount:["",i.H.required],amount:[0,[i.H.required,i.H.min(.01)]],urgent:[!1],purpose:"",commonPeriodEnabled:!1})}createMedicalForm(){return this.fb.group({type:o.i.MEDICAL,date:void 0,period:[{value:void 0,disabled:!0},[i.H.required]],number:["",i.H.required],knp:["121",[i.H.required]],employees:[void 0,[i.H.required,i.H.minLength(1),this.paymentsService.employeeGroupControlValidator(o.i.MEDICAL)]],senderAccount:["",i.H.required],amount:[0,[i.H.required,i.H.min(.01)]],urgent:[!1],purpose:"",commonPeriodEnabled:!1})}createSalaryForm(){const e=this.fb.group({type:o.i.SALARY,bankReceiver:[""],bankAccount:[{value:"",disabled:!0}],date:void 0,number:["",i.H.required],knp:[void 0,[i.H.required]],employees:[void 0,[i.H.required,i.H.minLength(1),this.paymentsService.employeeGroupControlValidator(o.i.SALARY)]],senderAccount:["",i.H.required],amount:[0,[i.H.required,i.H.min(.01)]],urgent:[!1],purpose:[""],isResidents:!0}),{bankReceiver:t,bankAccount:n}=e.controls;return t.setValidators([i.H.required,e=>(e.value&&n.updateValueAndValidity(),null)]),n.setValidators([i.H.required,e=>{const n=Object(r.ibanPrefix)(e.value,s.a.KZT);if(n.length<7||!t.value)return null;const i=this.dictionaries.bankDictionary.getItemsByIds(t.value),a=this.paymentsService.bankFromAccount.transform(n);return i&&i.bic!==a?{difReceiverAndBankBiq:!0}:null}]),e}createCurrencyForm(){return this.fb.group({type:o.i.FOREIGN,senderAccount:["",i.H.required],commissionAccount:["",i.H.required],comission:[null],comissionCurrency:[null],payComission:[!1],countryCode:[void 0,i.H.required],country:[null],cityName:[void 0],contract:[null],contractId:[null],fxContractRecipient:[null],fxContractRecipientId:[null],withinContract:[!1],name:["",[i.H.required,i.H.maxLength(103)]],bankAccount:[""],kbeCode:["",[i.H.required,a.a.kbe]],number:["",i.H.required],date:[null],knp:[void 0,[i.H.required]],knpObject:[null],purpose:[""],amount:["",[i.H.required,i.H.min(this.paymentsService.rules.minAmount),i.H.max(this.paymentsService.rules.maxAmount),e=>{var t;return 0==(null===(t=e)||void 0===t?void 0:t.value)?{cantBeZero:!0}:null}]],bankLabel:["",i.H.required],bank:[null,i.H.required],hasIntermediaryBank:[!1],intermediaryBankLabel:[""],intermediaryBank:[null],notify:[!1],emailOnSuccess:[{value:"",disabled:!0},[i.H.required,i.H.email]],kpp:[""],kvo:[void 0],codeWord:[void 0],kio:[void 0,i.H.required],isRussianBudget:[null],isRussianTaxPayer:[null],payerInn:[null],payerKpp:[""],kbk:[null],oktmo:[""],payerStatus:["S08"],hasRussianBudgetExtras:[null],paymentBasis:[""],budgetDocNumber:[""],budgetPeriod:[""],uip:[null],isRubNonRussia:[!1],rubNonRussiaCorrespondentBankLabel:[""],rubNonRussiaCorrespondentBank:[null],rubNonRussiaBankLabel:[""],rubNonRussiaBank:[null],rubNonRussiaCorrespondentIban:[""],audIndex:[""],audState:[""],audStreet:[""],audBuildingNumber:[""],audAddress:[""],canAddress:[""]})}}return e.\u0275fac=function(t){return new(t||e)(c.ec(r.FormBuilderTypeSafe),c.ec(u.c),c.ec(l.b),c.ec(d.a))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qcJj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fXoL"),i=n("1kSV"),a=n("sYmb");let o=(()=>{class e{constructor(e){this.modal=e}closeModal(){this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Qb(i.a))},e.\u0275cmp=r.Kb({type:e,selectors:[["j-change-password-success"]],decls:14,vars:6,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","/assets/img/history/modals/success.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],["translate","",1,"m-0","text-muted"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-static","btn-primary","m-0",3,"click"]],template:function(e,t){1&e&&(r.Wb(0,"div",0),r.Wb(1,"button",1),r.ic("click",(function(e){return t.closeModal()})),r.Rb(2,"img",2),r.nc(3,"translate"),r.Vb(),r.Vb(),r.Wb(4,"div",3),r.Rb(5,"img",4),r.nc(6,"translate"),r.Wb(7,"h3",5),r.Tc(8," SHARED.DONE "),r.Vb(),r.Wb(9,"p",6),r.Tc(10," SETTINGS.PASSWORD.SUCCESS "),r.Vb(),r.Vb(),r.Wb(11,"div",7),r.Wb(12,"button",8),r.ic("click",(function(e){return t.closeModal()})),r.Tc(13," SHARED.CLOSE "),r.Vb(),r.Vb()),2&e&&(r.Ab(2),r.vc("alt",r.oc(3,2,"SHARED.CLOSE")),r.Ab(3),r.vc("alt",r.oc(6,4,"SHARED.DONE")))},directives:[a.a],pipes:[a.d],styles:[""]}),e})()},tWFC:function(e,t,n){"use strict";var r=n("qcJj"),i=n("/Fsc");n("KJdv"),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return i.a}))}}]);