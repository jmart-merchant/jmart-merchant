(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Yj9t:function(t,e,i){"use strict";i.r(e);var s=i("ofXK"),n=i("tyNb"),r=i("3Pt+"),o=i("tmjD"),a=i("PCNd"),c=i("mrSG"),h=i("quSY"),u=i("lJxs"),b=i("p6Hd"),d=i("fXoL"),l=i("qXBG"),p=i("7foZ"),m=i("VO+5"),T=i("7/bn"),g=i("ZF+8"),v=i("iQ9M"),E=i("mR7B"),f=i("VnnJ"),R=i("sYmb"),S=i("3MRA"),y=i("ZVDf"),A=i("yy4r"),I=i("M6pS"),O=i("zdqJ");const C=["phoneInput"],k=["passwordInput"],L=["registerButton"];let w=(()=>{class t{constructor(t,e,i,s,n,o){this.maskedService=t,this.maskPipe=e,this.tourService=i,this.route=s,this.companyService=n,this.translateService=o,this.isSubmitted=!1,this.isPhoneSubmitted=!1,this.PHONE=localStorage.getItem("phone")?localStorage.getItem("phone"):"",this.PASSWORD="",this.passwordRegExp=/[^ ]/,this.passwordPasteRegExp=/[ ]/,this.countryCode={code:"+7",country:this.translateService.instant(`COUNTRIES.${v.b.KAZAKHSTAN}`),id:v.b.KAZAKHSTAN},this.submitted=new d.n,this.subscription=new h.a,this.isFromAtf=!1,this.isTourShown=JSON.parse(localStorage.getItem("isLoginStepShown"))||!1;const a=this.route.queryParams.subscribe(t=>{this.queryParams=t,this.isFromAtf=this.companyService.isFromAtf(t),this.startLoginTour()});this.loginForm=new r.k({prefix:new r.h(this.countryCode.code,r.H.required),phone:new r.h(this.PHONE,r.H.required),password:new r.h(this.PASSWORD,r.H.required)});const c=this.loginForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,this.isPhoneSubmitted=!1});this.subscription.add(a),this.subscription.add(c)}triggerErrorAnimation(){this.passwordInput.triggerHelperAnimation()}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.loginForm.controls.phone.value?this.passwordInput.focus():this.phoneInput.focus(),this.startLoginTour()}ngOnChanges(t){var e;(null===(e=t.passwordError)||void 0===e?void 0:e.currentValue)&&(this.passwordError=t.passwordError.currentValue)}onTabPress(t){t.preventDefault(),this.isPhoneSubmitted=!0,this.f.phone.valid&&this.passwordInput.focus()}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.loginForm.invalid)return void(this.loginForm.controls.phone.errors?this.loginError="ERRORS.NOT_ENOUGH_SYMBOLS":this.loginForm.controls.password.errors&&(this.passwordError="ERRORS.ENTER_PASSWORD"));const t=`${this.countryCode.code}${this.maskedService.getUnmaskedPhone(this.f.phone.value)}`;this.submitted.emit({phone:t,password:this.f.password.value,countryCode:this.countryCode})}))}get f(){return this.loginForm.controls}startLoginTour(){this.isTourShown||(this.isTourShown=!0,localStorage.setItem("isLoginStepShown",JSON.stringify(!0)),setTimeout(()=>{this.tourService.startTour(g.e.AUTH,{skipAuthorization:!0})},0))}onCountrySelected(t){this.countryCode=t}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(E.a),d.Qb(o.b),d.Qb(g.g),d.Qb(n.a),d.Qb(f.a),d.Qb(R.e))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-login-phone"]],viewQuery:function(t,e){var i;1&t&&(d.Yc(C,!0),d.Yc(k,!0),d.Yc(L,!0)),2&t&&(d.Ec(i=d.jc())&&(e.phoneInput=i.first),d.Ec(i=d.jc())&&(e.passwordInput=i.first),d.Ec(i=d.jc())&&(e.registerButton=i.first))},inputs:{isLoading:"isLoading",phone:"phone",passwordError:"passwordError",loginError:"loginError",prefix:"prefix"},outputs:{submitted:"submitted"},features:[d.yb()],decls:21,vars:21,consts:[["translate","",1,"light","mb-3","mt-0"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"phone-input"],[3,"formControl","countryCode","countrySelected","keydown.Tab"],["phonePrefixInput",""],[3,"formControl","hasError","errorText","countryCode","keydown.Tab"],["phoneInput",""],[3,"regexStr","pasteRegexStr","hasCapsLockCheck","hasCyrillicCheck","isAuth","formControl","hasError","errorText"],["passwordInput",""],[1,"auth-submit"],[1,"auth-submit__button"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","routerLink","/auth/register","queryParamsHandling","merge","jTour","AUTH.REGISTER","jTourPosition","right",1,"btn","btn-static","btn-link",3,"disabled"]],template:function(t,e){1&t&&(d.Wb(0,"article"),d.Wb(1,"h3",0),d.Tc(2,"AUTH.LOGIN_TITLE"),d.Vb(),d.Wb(3,"p"),d.Tc(4),d.nc(5,"translate"),d.Vb(),d.Vb(),d.Wb(6,"form",1),d.ic("ngSubmit",(function(t){return e.onSubmit()})),d.Wb(7,"div",2),d.Wb(8,"j-phone-prefix-input",3,4),d.ic("countrySelected",(function(t){return e.onCountrySelected(t)}))("keydown.Tab",(function(t){return e.onTabPress(t)})),d.Vb(),d.Wb(10,"j-phone-input",5,6),d.ic("keydown.Tab",(function(t){return e.onTabPress(t)})),d.Vb(),d.Vb(),d.Rb(12,"j-password-input",7,8),d.Wb(14,"div",9),d.Wb(15,"div",10),d.Wb(16,"button",11),d.Tc(17,"AUTH.LOGIN"),d.Vb(),d.Vb(),d.Wb(18,"div",10),d.Wb(19,"button",12),d.Tc(20,"AUTH.REGISTER"),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(4),d.Uc(d.oc(5,19,e.isFromAtf?"AUTH.LOGIN_SUBTITLE_ATF":"AUTH.LOGIN_SUBTITLE")),d.Ab(2),d.uc("formGroup",e.loginForm),d.Ab(2),d.uc("formControl",e.f.prefix)("countryCode",e.countryCode),d.Ab(2),d.uc("formControl",e.f.phone)("hasError",e.loginError||e.f.phone.errors&&(e.isSubmitted||e.isPhoneSubmitted))("errorText",e.loginError)("countryCode",e.countryCode),d.Ab(2),d.uc("regexStr",e.passwordRegExp)("pasteRegexStr",e.passwordPasteRegExp)("hasCapsLockCheck",!0)("hasCyrillicCheck",!0)("isAuth",!e.isLoading)("formControl",e.f.password)("hasError",e.passwordError||e.isSubmitted&&e.f.password.errors)("errorText",e.passwordError),d.Ab(4),d.uc("jLoading",e.isLoading)("disabled",e.isLoading),d.Ab(3),d.uc("disabled",e.isLoading))},directives:[R.a,r.J,r.u,r.l,S.a,r.t,r.i,y.a,A.a,I.a,n.d,O.a],pipes:[R.d],styles:[".phone-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}j-phone-input[_ngcontent-%COMP%]{width:-moz-available;width:-webkit-fill-available;width:stretch}"]}),t})();var V=i("aF9I"),N=i("yZrb"),D=i("TwVa"),P=i("1ua0"),W=i("Kcpt"),j=i("2FF4"),H=i("0jn5"),U=i("4zJ+");function _(t,e){if(1&t){const t=d.Xb();d.Wb(0,"a",4),d.ic("click",(function(e){return d.Ic(t),d.mc().navigateToPhone(e)})),d.Rb(1,"j-icon",5),d.Wb(2,"strong",6),d.Tc(3,"SHARED.BACK"),d.Vb(),d.Vb()}2&t&&(d.Ab(1),d.uc("isStroke",!0))}function M(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-sms",7),d.ic("loaded",(function(e){return d.Ic(t),d.mc().onSmsLoaded()}))("otpAuthRequested",(function(e){return d.Ic(t),d.mc().changeCodeRequestMethod(e)}))("submitted",(function(e){return d.Ic(t),d.mc().onSubmit(e)})),d.Vb()}if(2&t){const t=d.mc();d.uc("phone",t.phone)("countryCode",t.countryCode)("headers",t.headerParams)("isAuthAction",!0)}}function F(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-otp",8),d.ic("loaded",(function(e){return d.Ic(t),d.mc().onSmsLoaded()}))("smsAuthRequested",(function(e){return d.Ic(t),d.mc().changeCodeRequestMethod(e)}))("submitted",(function(e){return d.Ic(t),d.mc().onSubmit(e)})),d.Vb()}if(2&t){const t=d.mc();d.uc("phone",t.phone)("isAuthAction",!0)}}function x(t,e){1&t&&(d.Wb(0,"div",9),d.Rb(1,"j-animated-loading"),d.Vb())}let K=(()=>{class t{constructor(){this.isReady=!1,this.preferredSignatureType=localStorage.getItem("preferredSignatureType"),this.tokenType=D.p,this.submitted=new d.n,this.closed=new d.n,this.headerParams={smsHeader:N.c.AUTHORIZATION},this.preferredSignatureType=localStorage.getItem("preferredSignatureType")||P.a.SMS}onSmsLoaded(){this.isReady=!0}onSubmit(t){this.submitted.emit(t)}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.closed.emit()}changeCodeRequestMethod(t){localStorage.setItem("preferredSignatureType",t===D.p.OTP?P.a.OTP:P.a.SMS),this.preferredSignatureType=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Kb({type:t,selectors:[["j-login-sms"]],inputs:{isLoading:"isLoading",phone:"phone",countryCode:"countryCode"},outputs:{submitted:"submitted",closed:"closed"},decls:4,vars:4,consts:[["href","#","class","j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted",4,"ngIf"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted"],[1,"spinner-wrap"]],template:function(t,e){1&t&&(d.Rc(0,_,4,1,"a",0),d.Rc(1,M,1,4,"j-sms",1),d.Rc(2,F,1,2,"j-otp",2),d.Rc(3,x,2,0,"div",3)),2&t&&(d.uc("ngIf",e.isReady),d.Ab(1),d.uc("ngIf","SMS"===e.preferredSignatureType),d.Ab(1),d.uc("ngIf","OTP"===e.preferredSignatureType),d.Ab(1),d.uc("ngIf",!e.isReady&&e.preferredSignatureType!==e.tokenType.OTP))},directives:[s.u,W.a,R.a,j.a,H.a,U.a],styles:[".spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),t})();const G=["loginPhone"];function Q(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-login-sms",13),d.ic("closed",(function(e){return d.Ic(t),d.mc().onSmsClose()}))("submitted",(function(e){return d.Ic(t),d.mc().onSmsSubmit(e)})),d.Vb()}if(2&t){const t=d.mc();d.uc("phone",t.phone)("countryCode",t.countryCode)("isLoading",t.isLoading)}}function B(t,e){1&t&&(d.Wb(0,"div",14),d.Rb(1,"j-animated-loading"),d.Vb())}var q=function(t){return t.PHONE="phone",t.SMS="sms",t.LOADING="loading",t}({});let X=(()=>{class t{constructor(t,e,i,s,n){this.auth=t,this.tokenService=e,this.route=i,this.router=s,this.notifierService=n,this.isLoading=!1,this.steps=q,this.currentStep=this.steps.PHONE,this.phoneError="",this.subscription=new h.a,this.subscription.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{t.phone&&(this.phone=t.phone),t.error&&(this.phoneError=t.error)}))}ngOnDestroy(){this.subscription.unsubscribe()}onSmsClose(){this.navigateToPhone(),this.phoneError=""}onPhoneSubmit(t){this.loginForm=t,this.phone=this.loginForm.phone,this.countryCode=this.loginForm.countryCode;try{const t=this.tokenService.getDeviceToken(this.loginForm.password);localStorage.setItem("countryCode",JSON.stringify(this.countryCode)),t?this.login():this.navigateToSms()}catch(e){this.navigateToSms()}}onSmsSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.auth.setSmsToken(t);try{const e=yield this.auth.requestDevice(this.phone,t.type);this.tokenService.setDeviceToken(e.signature,this.loginForm.password),this.login()}catch(e){switch(this.navigateToPhone(),e.code){case b.b.DEVICE_TOKEN_INVALID:case b.b.RESOURCE_NOT_FOUND:case b.b.AUTHORIZATION_ERROR:case b.b.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case b.b.USER_BLOCKED:case b.b.RESOURCE_BLOCKED:this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;default:this.phoneError=e.description}}}))}login(){return Object(c.a)(this,void 0,void 0,(function*(){this.isLoading=!0,this.phoneError="";try{yield this.auth.login(this.loginForm.phone,this.loginForm.password),this.router.navigateByUrl("/"),this.notifierService.hideAll()}catch(t){if(this.navigateToPhone(),t.status)switch(t.code){case b.b.RESOURCE_NOT_FOUND:case b.b.AUTHORIZATION_ERROR:case b.b.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case b.b.RESOURCE_BLOCKED:this.tokenService.clearDeviceToken(),this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;case b.b.DEVICE_NOT_AUTHORIZED:case b.b.DEVICE_TOKEN_INVALID:case b.b.TOKEN_EXPIRED:this.navigateToSms();break;default:this.phoneError=t.description}else this.phoneError="ERRORS.API_UNAVAILABLE";this.loginPhone.triggerErrorAnimation(),this.isLoading=!1}}))}navigateToSms(){this.currentStep=q.SMS}navigateToPhone(){this.currentStep=q.PHONE}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(l.a),d.Qb(p.a),d.Qb(n.a),d.Qb(n.c),d.Qb(m.c))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-login"]],viewQuery:function(t,e){var i;1&t&&d.Yc(G,!0),2&t&&d.Ec(i=d.jc())&&(e.loginPhone=i.first)},decls:13,vars:7,consts:[[1,"auth-wrap"],[1,"d-sm-none",3,"isUserShown"],[1,"login-wrap"],[1,"login"],[1,"mb-7","d-none","d-sm-flex","justify-content-between"],["src","/assets/img/logo.svg","alt","Jusan bank"],["src","/assets/img/v2/atf.svg","alt","ATF Business"],[1,"login-steps"],[3,"hidden","phone","isLoading","passwordError","submitted"],["loginPhone",""],[3,"phone","countryCode","isLoading","closed","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],["langClassName","d-block","copyrightClassName",""],[3,"phone","countryCode","isLoading","closed","submitted"],[1,"spinner-wrap"]],template:function(t,e){1&t&&(d.Wb(0,"section",0),d.Rb(1,"j-aside",1),d.Wb(2,"div",2),d.Wb(3,"div",3),d.Wb(4,"div",4),d.Rb(5,"img",5),d.Rb(6,"img",6),d.Vb(),d.Wb(7,"section",7),d.Wb(8,"j-login-phone",8,9),d.ic("submitted",(function(t){return e.onPhoneSubmit(t)})),d.Vb(),d.Rc(10,Q,1,3,"j-login-sms",10),d.Rc(11,B,2,0,"div",11),d.Vb(),d.Vb(),d.Vb(),d.Rb(12,"j-footer",12),d.Vb()),2&t&&(d.Ab(1),d.uc("isUserShown",!1),d.Ab(7),d.uc("hidden",e.currentStep!=e.steps.PHONE)("phone",e.phone)("isLoading",e.isLoading)("passwordError",e.phoneError),d.Ab(2),d.uc("ngIf",e.currentStep==e.steps.SMS),d.Ab(1),d.uc("ngIf",e.currentStep==e.steps.LOADING))},directives:[T.a,w,s.u,V.a,K,U.a],styles:[".login[_ngcontent-%COMP%]{background:#f6f7f8;width:100%;padding:1rem}@media(min-width:670px){.login[_ngcontent-%COMP%]{border-radius:2.5rem;padding:3.5rem}}.login-wrap[_ngcontent-%COMP%]{max-width:546px;margin:auto;width:100%;padding-top:1.5rem;padding-bottom:1.5rem}@media(min-width:1920px){.login-wrap[_ngcontent-%COMP%]{max-width:600px}}.spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),t})();var J=i("paXB"),Y=i("Zgqj"),Z=i("EiG8");let z=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register"]],decls:8,vars:2,consts:[[3,"isUserShown"],[3,"isCentered"],[1,"row"],[1,"col-sm-10","col-md-7","offset-sm-1","col-lg-5","offset-lg-1","col-xl-4","offset-xl-1"],[1,"auth-form"]],template:function(t,e){1&t&&(d.Wb(0,"j-layout-home"),d.Wb(1,"j-aside",0),d.Rb(2,"j-nav-auth"),d.Vb(),d.Wb(3,"j-main",1),d.Wb(4,"div",2),d.Wb(5,"div",3),d.Wb(6,"div",4),d.Rb(7,"router-outlet"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("isUserShown",!1),d.Ab(2),d.uc("isCentered",!0))},directives:[J.a,T.a,Y.a,Z.a,n.h],styles:[""]}),t})();var $=i("1kSV");let tt=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(d.Qb($.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-can-register"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"button",1),d.ic("click",(function(t){return e.dismissModal()})),d.Rb(2,"img",2),d.nc(3,"translate"),d.Vb(),d.Vb(),d.Wb(4,"div",3),d.Wb(5,"h3",4),d.Tc(6,"AUTH.CAN_REGISTER.TITLE"),d.Vb(),d.Wb(7,"p",5),d.Tc(8,"AUTH.CAN_REGISTER.DESCRIPTION"),d.Vb(),d.Vb(),d.Wb(9,"div",6),d.Wb(10,"button",7),d.ic("click",(function(t){return e.closeModal()})),d.Tc(11,"AUTH.REGISTER"),d.Vb(),d.Wb(12,"button",8),d.ic("click",(function(t){return e.dismissModal()})),d.Tc(13,"SHARED.CANCEL"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.vc("alt",d.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),et=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(t){this.modal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Qb($.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-can-restore"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"button",1),d.ic("click",(function(t){return e.dismissModal()})),d.Rb(2,"img",2),d.nc(3,"translate"),d.Vb(),d.Vb(),d.Wb(4,"div",3),d.Wb(5,"h3",4),d.Tc(6,"AUTH.CAN_RESTORE.TITLE"),d.Vb(),d.Wb(7,"p",5),d.Tc(8,"AUTH.CAN_RESTORE.DESCRIPTION"),d.Vb(),d.Vb(),d.Wb(9,"div",6),d.Wb(10,"button",7),d.ic("click",(function(t){return e.closeModal("login")})),d.Tc(11,"AUTH.LOGIN"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.vc("alt",d.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),it=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(t){this.modal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Qb($.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-contact-modal"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"],["translate","","type","button",1,"btn","btn-link","d-none","d-sm-block",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"button",1),d.ic("click",(function(t){return e.dismissModal()})),d.Rb(2,"img",2),d.nc(3,"translate"),d.Vb(),d.Vb(),d.Wb(4,"div",3),d.Wb(5,"h3",4),d.Tc(6,"AUTH.CONTACT.TITLE"),d.Vb(),d.Wb(7,"p",5),d.Tc(8,"AUTH.CONTACT.DESCRIPTION "),d.Vb(),d.Vb(),d.Wb(9,"div",6),d.Wb(10,"a",7),d.Tc(11,"AUTH.CONTACT.LINK"),d.Vb(),d.Wb(12,"button",8),d.ic("click",(function(t){return e.dismissModal()})),d.Tc(13,"SHARED.CANCEL"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.vc("alt",d.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),st=(()=>{class t{constructor(t){this.modal=t}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(d.Qb($.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-expired"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"button",1),d.ic("click",(function(t){return e.closeModal()})),d.Rb(2,"img",2),d.nc(3,"translate"),d.Vb(),d.Vb(),d.Wb(4,"div",3),d.Wb(5,"h3",4),d.Tc(6,"AUTH.EXPIRED.TITLE"),d.Vb(),d.Wb(7,"p",5),d.Tc(8,"AUTH.EXPIRED.DESCRIPTION"),d.Vb(),d.Vb(),d.Wb(9,"div",6),d.Wb(10,"button",7),d.ic("click",(function(t){return e.closeModal()})),d.Tc(11,"SHARED.CLOSE"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.vc("alt",d.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),nt=(()=>{class t{constructor(t){this.modal=t}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(d.Qb($.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-invalid-phone"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"div",0),d.Wb(1,"button",1),d.ic("click",(function(t){return e.closeModal()})),d.Rb(2,"img",2),d.nc(3,"translate"),d.Vb(),d.Vb(),d.Wb(4,"div",3),d.Wb(5,"h3",4),d.Tc(6,"AUTH.INVALID_PHONE.TITLE"),d.Vb(),d.Wb(7,"p",5),d.Tc(8,"AUTH.INVALID_PHONE.DESCRIPTION"),d.Vb(),d.Vb(),d.Wb(9,"div",6),d.Wb(10,"button",7),d.ic("click",(function(t){return e.closeModal()})),d.Tc(11,"SHARED.OK"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.vc("alt",d.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})();var rt=i("bsP8");function ot(t){const e=12==t.value.length;if(e)return null;let i={};return e||(i.length=!0),{iin:i}}var at=i("tkTF");const ct=["iinInput"];let ht=(()=>{class t{constructor(t){this.authService=t,this.IIN="",this.submitted=new d.n,this.subs=new h.a,this.openIinForm=new r.k({iin:new r.h(this.IIN,[r.H.required,ot])});const e=this.openIinForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,this.errorText=""});this.subs.add(e)}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.iinInput.focus()}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){this.isSubmitted=!0,this.openIinForm.valid?(this.isLoading=!0,this.submitted.emit({iin:this.iin})):this.validateIin(this.f.iin.errors)}))}get f(){return this.openIinForm.controls}get iin(){return this.f.iin.value}validateIin(t){t&&t.iin&&(t.iin.length?this.errorText="ERRORS.IIN_LENGTH":t.iin.date&&(this.errorText="ERRORS.IIN_DATE"))}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(l.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-auth-iin"]],viewQuery:function(t,e){var i;1&t&&d.Yc(ct,!0),2&t&&d.Ec(i=d.jc())&&(e.iinInput=i.first)},outputs:{submitted:"submitted"},decls:9,vars:6,consts:[[3,"formGroup"],[1,"form-group"],[3,"formControl","hasError","errorText"],["iinInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"],["translate","","href","#","routerLink","/auth/login",1,"btn","btn-static","btn-link"]],template:function(t,e){1&t&&(d.Wb(0,"form",0),d.Wb(1,"div",1),d.Rb(2,"j-iin-input",2,3),d.Vb(),d.Wb(4,"div",4),d.Wb(5,"button",5),d.ic("click",(function(t){return e.onSubmit()})),d.Tc(6,"SHARED.CONTINUE"),d.Vb(),d.Wb(7,"a",6),d.Tc(8,"AUTH.LOGIN"),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.uc("formGroup",e.openIinForm),d.Ab(2),d.uc("formControl",e.f.iin)("hasError",e.f.iin.errors&&e.isSubmitted)("errorText",e.errorText),d.Ab(3),d.uc("jLoading",e.isLoading)("disabled",e.isLoading))},directives:[r.J,r.u,r.l,at.a,r.t,r.i,R.a,I.a,n.f],styles:[""]}),t})();const ut={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let bt=(()=>{class t{constructor(t,e,i,s,n){this.router=t,this.route=e,this.navService=i,this.modalService=s,this.companyService=n,this.subs=new h.a,this.isFromAtf=!1,this.navService.triggerRegisterError("iin",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const r=this.route.data.subscribe(t=>{this.title=t.title,this.authType=t.action}),o=this.route.queryParams.subscribe(t=>{this.isFromAtf=this.companyService.isFromAtf(t)});this.subs.add(r),this.subs.add(o)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(t){this.navigateToPhone(t.iin)}handleCheckIin(t,e){return Object(c.a)(this,void 0,void 0,(function*(){switch(t){case v.d.BLOCKED:this.navigateToUserBlocked();break;case v.d.DOES_NOT_EXIST:this.navigateToNoAccount();break;case v.d.INCORRECT_DATA:case v.d.INVALID_DATA:this.navigateToNoEmail();break;case v.d.ALREADY_REGISTERED:this.handleAlreadyRegistered(e);break;case v.d.CAN_REGISTER:this.handleCanRegister(e)}}))}handleAlreadyRegistered(t){switch(this.authType){case v.a.RESTORE:this.navigateToPhone(t);break;case v.a.REGISTER:this.showCanRestoreModal(t)}}showCanRegisterModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=this.modalService.open(tt,ut);try{yield e.result,this.navigateToRegisterPhone(t)}catch(i){}}))}showCanRestoreModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=this.modalService.open(et,ut);try{const i=yield e.result;"restore"==i?this.navigateToRestorePhone(t):"login"==i&&this.navigateToLogin()}catch(i){}}))}handleCanRegister(t){switch(this.authType){case v.a.REGISTER:this.navigateToPhone(t);break;case v.a.RESTORE:this.showCanRegisterModal(t)}}navigateToPhone(t,e=""){this.router.navigate([`${e}phone`],{relativeTo:this.route.parent,state:{iin:t}})}navigateToRegisterPhone(t){this.navigateToPhone(t,"../register/")}navigateToRestorePhone(t){this.navigateToPhone(t,"../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.c),d.Qb(n.a),d.Qb(rt.a),d.Qb($.q),d.Qb(f.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-iin"]],decls:7,vars:4,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"submitted"]],template:function(t,e){1&t&&(d.Wb(0,"article"),d.Wb(1,"h3",0),d.Tc(2),d.Vb(),d.Wb(3,"p"),d.Tc(4),d.nc(5,"translate"),d.Vb(),d.Vb(),d.Wb(6,"j-auth-iin",1),d.ic("submitted",(function(t){return e.onSubmit(t)})),d.Vb()),2&t&&(d.Ab(2),d.Uc(e.title),d.Ab(2),d.Uc(d.oc(5,2,e.isFromAtf?"AUTH.REGISTER_SUBTITLE_ATF":"AUTH.REGISTER_SUBTITLE")))},directives:[R.a,ht],pipes:[R.d],styles:[""]}),t})();const dt=["phoneInput"];let lt=(()=>{class t{constructor(t,e,i,s,n,o,a,c){this.router=t,this.route=e,this.maskedService=i,this.maskPipe=s,this.navService=n,this.authService=o,this.modalService=a,this.translateService=c,this.PHONE="",this.hasNoAccount=!1,this.countryCode={code:"+7",country:this.translateService.instant(`COUNTRIES.${v.b.KAZAKHSTAN}`),id:v.b.KAZAKHSTAN},this.subs=new h.a,this.registerPhoneForm=new r.k({phone:new r.h(this.PHONE,r.H.required)}),this.navService.triggerRegisterError("phone",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const b=this.registerPhoneForm.valueChanges.subscribe(t=>{this.isSubmitted=!1}),d=this.route.data.subscribe(t=>{this.title=t.title,this.authType=t.action}),l=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{t.iin?this.iin=t.iin:this.navigateToIin(),t.countryCode&&(this.countryCode=t.countryCode,t.phone&&this.f.phone.setValue(t.phone.replace(this.countryCode.code,"")))});this.subs.add(b),this.subs.add(d),this.subs.add(l)}ngOnDestroy(){this.subs.unsubscribe()}onEnter(){this.phoneInput.blur(),this.onSubmit()}focus(){this.phoneInput.focus()}navigateFromModal(t){this.router.navigate([`/auth/${t}/sms`],{state:{phone:this.phone,iin:this.iin}})}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.registerPhoneForm.valid){this.isLoading=!0;try{this.phone=`${this.countryCode.code}${this.maskedService.getUnmaskedPhone(this.f.phone.value)}`,yield this.authService.checkPhone(this.phone),this.navigateToSms()}catch(t){switch(t.code){case b.b.INVALID_PHONE_FORMAT:yield this.showInvalidPhoneFormatModal();break;default:this.errorText=t.description}}finally{this.isLoading=!1}}else this.errorText="ERRORS.NOT_ENOUGH_SYMBOLS"}))}get f(){return this.registerPhoneForm.controls}showInvalidPhoneFormatModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(nt,{centered:!0});try{yield t.result}catch(e){}finally{this.phoneInput.focus()}}))}navigateToSms(){this.router.navigate(["sms"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin,countryCode:this.countryCode}})}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent})}onCountrySelected(t){this.countryCode=t}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.c),d.Qb(n.a),d.Qb(E.a),d.Qb(o.b),d.Qb(rt.a),d.Qb(l.a),d.Qb($.q),d.Qb(R.e))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-phone"]],viewQuery:function(t,e){var i;1&t&&d.Yc(dt,!0),2&t&&d.Ec(i=d.jc())&&(e.phoneInput=i.first)},hostBindings:function(t,e){1&t&&d.ic("keyup.enter",(function(t){return e.onEnter()}))},decls:18,vars:11,consts:[["routerLink","../iin",1,"auth-backlink","j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"formGroup"],[1,"phone-block"],[3,"countryCode","countrySelected"],["phonePrefixInput",""],[3,"autofocus","formControl","hasError","errorText","countryCode"],["phoneInput",""],[1,"auth-submit"],["translate","","type","button",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.IIN"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6),d.Vb(),d.Wb(7,"p",2),d.Tc(8,"AUTH.PHONE.DESCRIPTION"),d.Vb(),d.Vb(),d.Wb(9,"form",4),d.Wb(10,"div",5),d.Wb(11,"j-phone-prefix-input",6,7),d.ic("countrySelected",(function(t){return e.onCountrySelected(t)})),d.Vb(),d.Rb(13,"j-phone-input",8,9),d.Vb(),d.Wb(15,"div",10),d.Wb(16,"button",11),d.ic("click",(function(t){return e.onSubmit()})),d.Tc(17,"SHARED.CONTINUE"),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("isStroke",!0),d.Ab(5),d.Uc(e.title),d.Ab(3),d.uc("formGroup",e.registerPhoneForm),d.Ab(2),d.uc("countryCode",e.countryCode),d.Ab(2),d.uc("autofocus",!0)("formControl",e.f.phone)("hasError",e.f.phone.errors&&e.isSubmitted)("errorText",e.errorText)("countryCode",e.countryCode),d.Ab(3),d.uc("jLoading",e.isLoading)("disabled",e.isLoading))},directives:[n.f,W.a,R.a,r.J,r.u,r.l,S.a,y.a,r.t,r.i,I.a],styles:[".phone-block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]}),t})();function pt(t,e){if(1&t){const t=d.Xb();d.Wb(0,"a",3),d.ic("click",(function(e){return d.Ic(t),d.mc().navigateToPhone(e)})),d.Rb(1,"j-icon",4),d.Wb(2,"span",5),d.Tc(3,"SHARED.PHONE"),d.Vb(),d.Vb()}2&t&&(d.Ab(1),d.uc("isStroke",!0))}function mt(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-sms",6),d.ic("submitted",(function(e){return d.Ic(t),d.mc().onSmsSubmit(e)}))("failed",(function(e){return d.Ic(t),d.mc().onSmsFail()}))("loaded",(function(e){return d.Ic(t),d.mc().onFormLoaded()})),d.Vb()}if(2&t){const t=d.mc();d.uc("phone",t.phone)("countryCode",t.countryCode)("params",t.params)("headers",t.headerParams)}}function Tt(t,e){1&t&&d.Rb(0,"j-animated-loading")}const gt={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let vt=(()=>{class t{constructor(t,e,i,s){this.authService=t,this.route=e,this.router=i,this.modalService=s,this.isFormLoaded=!1,this.subs=new h.a,this.subs.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.countryCode=t.countryCode,this.iin=t.iin,this.params={actionIds:[this.iin]}}));const n=this.route.data.subscribe(t=>{this.authType=t.action,this.headerParams={smsHeader:N.c[this.authType.toUpperCase()]}});this.subs.add(n)}ngOnDestroy(){this.subs.unsubscribe()}onSmsFail(){this.navigateToPhone()}onFormLoaded(){this.isFormLoaded=!0}onSmsSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.authService.setSmsToken(t),this.checkIinAndPhone()}))}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin}})}checkIinAndPhone(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.authService.checkIinAndPhone(this.iin,this.phone);this.handleIinAndPhoneCheck(t.status)}catch(t){this.navigateToError(t)}}))}handleIinAndPhoneCheck(t){switch(t){case v.c.BLOCKED:this.navigateToUserBlocked();break;case v.c.DOES_NOT_EXIST:this.navigateToNoAccount();break;case v.c.INVALID_DATA:case v.c.INCORRECT_DATA:this.navigateToNoEmail();break;case v.c.DATA_MISMATCH:this.navigateToPhoneNotMatch();break;case v.c.ALREADY_REGISTERED:this.handleAlreadyRegistered();break;case v.c.CAN_REGISTER:this.handleCanRegister()}}navigateToError(t){this.router.navigate(["error"],{relativeTo:this.route.parent,state:{error:t,iin:this.iin}})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}navigateToEmail(t=""){this.router.navigate([`${t}email`],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}handleAlreadyRegistered(){switch(this.authType){case v.a.RESTORE:this.navigateToEmail();break;case v.a.REGISTER:this.showCanRestoreModal()}}showCanRegisterModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(tt,gt);try{yield t.result,this.navigateToRegisterEmail()}catch(e){this.navigateToPhone()}}))}showCanRestoreModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(et,gt);try{const e=yield t.result;"restore"===e?this.navigateToRestoreEmail():"login"===e&&this.navigateToLogin()}catch(e){this.navigateToPhone()}}))}handleCanRegister(){switch(this.authType){case v.a.REGISTER:this.navigateToEmail();break;case v.a.RESTORE:this.showCanRegisterModal()}}navigateToRegisterEmail(){this.navigateToEmail("../register/")}navigateToRestoreEmail(){this.navigateToEmail("../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(l.a),d.Qb(n.a),d.Qb(n.c),d.Qb($.q))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-sms"]],decls:3,vars:3,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","params","headers","submitted","failed","loaded",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","params","headers","submitted","failed","loaded"]],template:function(t,e){1&t&&(d.Rc(0,pt,4,1,"a",0),d.Rc(1,mt,1,4,"j-sms",1),d.Rc(2,Tt,1,0,"j-animated-loading",2)),2&t&&(d.uc("ngIf",e.isFormLoaded),d.Ab(1),d.uc("ngIf",e.params),d.Ab(1),d.uc("ngIf",!e.isFormLoaded))},directives:[s.u,W.a,R.a,j.a,U.a],styles:[""]}),t})();var Et=i("gN/K"),ft=i("bSvt");const Rt=["codeInput"];function St(t,e){if(1&t){const t=d.Xb();d.Wb(0,"a",14),d.ic("click",(function(e){return d.Ic(t),d.mc().navigateToPhone(e)})),d.Rb(1,"j-icon",15),d.Wb(2,"span",16),d.Tc(3,"SHARED.PHONE"),d.Vb(),d.Vb()}2&t&&(d.Ab(1),d.uc("isStroke",!0))}function yt(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-sms-error",17),d.ic("codeRequested",(function(e){return d.Ic(t),d.mc().requestEmail()})),d.Vb()}if(2&t){const t=d.mc();d.uc("errorType",t.errorTypes.FORBIDDEN)("isLoading",t.isLoading)("destinationValue",t.email)("timerValue",t.timerValue)("isTimerRunning",t.isTimerRunning)}}function At(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-sms-error",17),d.ic("codeRequested",(function(e){return d.Ic(t),d.mc().requestEmail()})),d.Vb()}if(2&t){const t=d.mc();d.uc("errorType",t.errorTypes.FORBIDDEN)("isLoading",t.isLoading)("destinationValue",t.email)("timerValue",t.blockedTimerValue)("isTimerRunning",t.isBlockedTimerRunning)}}function It(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-sms-error",18),d.ic("codeRequested",(function(e){return d.Ic(t),d.mc().requestEmail()})),d.Vb()}if(2&t){const t=d.mc();d.uc("errorType",t.errorTypes.UNKNOWN)("isLoading",t.isLoading)("destinationValue",t.email)("isTimerRunning",t.isBlockedTimerRunning)("timerValue",t.blockedTimerValue)}}function Ot(t,e){1&t&&d.Rb(0,"j-animated-loading")}let Ct=(()=>{class t{constructor(t,e,i,s){this.route=t,this.auth=e,this.router=i,this.modalService=s,this.smsCodeLength=D.k,this.timerMaxValue=D.n,this.expireTimerMaxValue=300,this.errorTypes=D.l,this.isReady=!1,this.currentTab=D.m.FORM,this.authTabs=D.m,this.subs=new h.a,this.emailCodeForm=new r.k({emailCode:new r.h("",r.H.required)});const n=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.requestEmail()}),o=this.emailCodeForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,t.emailCode&&t.emailCode.length===this.smsCodeLength&&this.onSubmit()});this.subs.add(n),this.subs.add(o)}ngOnDestroy(){this.subs.unsubscribe()}openContactModal(){this.modalService.open(it,{centered:!0})}setTab(t){this.currentTab=t}get f(){return this.emailCodeForm.controls}requestEmail(){return Object(c.a)(this,void 0,void 0,(function*(){this.f.emailCode.setValue(""),this.errorText="",this.hasError=!1;try{const t=yield this.auth.requestEmail(this.phone,this.iin);this.setTab(this.authTabs.FORM),this.email=t.email.replace(/\*/gm,"\u2022"),this.codeInput.focus()}catch(t){switch(t.code){case b.b.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case b.b.RESOURCE_BLOCKED:t.data&&t.data.millisecondsLeft&&this.startBlockedTimer(t.data.millisecondsLeft),this.setTab(this.authTabs.FORBIDDEN_BLOCKED);break;default:this.setTab(this.authTabs.ERRORED)}}finally{this.isReady=!0}}))}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone}})}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.emailCodeForm.valid){this.isLoading=!0;const e=this.f.emailCode.value;try{yield this.auth.submitEmail(e,this.phone,this.iin),this.router.navigate(["password"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}catch(t){switch(this.hasError=!0,t.code){case b.b.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case b.b.RESOURCE_BLOCKED:case b.b.INVALID_CODE:let e;if(t.data&&t.data.triesLeft)switch(e=t.data.triesLeft,this.errorParams={triesLeft:e},this.errorText="ERRORS.INVALID_CODE.",e%20){case 1:this.errorText+="ONE";break;case 2:case 3:case 4:this.errorText+="FEW";break;default:this.errorText+="OTHER"}else this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case b.b.FORBIDDEN:this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case b.b.PHONE_TOKEN_EXPIRED:case b.b.TOKEN_EXPIRED:const i=this.modalService.open(st,{centered:!0});try{yield i.result}catch(t){}finally{this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin}})}break;default:this.errorText=t.description}this.codeInput.triggerHelperAnimation()}finally{this.isLoading=!1}}}))}startTimer(t=this.timerMaxValue){this.isTimerRunning=!0,this.timerValue=t,this.timer=setInterval(()=>{this.timerValue--,0===this.timerValue&&this.stopTimer()},1e3)}stopTimer(){clearInterval(this.timer),this.isTimerRunning=!1}startBlockedTimer(t){this.blockedTimerValue=Math.ceil(t/1e3),this.isBlockedTimerRunning=!0,this.blockedTimer=setInterval(()=>{this.blockedTimerValue--,0===this.blockedTimerValue&&this.stopBlockedTimer()},1e3)}stopBlockedTimer(){clearInterval(this.blockedTimer),this.isBlockedTimerRunning=!1,this.blockedTimerValue=null}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.a),d.Qb(l.a),d.Qb(n.c),d.Qb($.q))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-email"]],viewQuery:function(t,e){var i;1&t&&d.Yc(Rt,!0),2&t&&d.Ec(i=d.jc())&&(e.codeInput=i.first)},decls:21,vars:16,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"hidden"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"text-nowrap"],[1,"my-4",3,"formGroup","ngSubmit"],[1,"my-4",3,"autofocus","hasError","errorText","errorTranslateParams","formControl"],["codeInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested",4,"ngIf"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested"]],template:function(t,e){1&t&&(d.Rc(0,St,4,1,"a",0),d.Wb(1,"div",1),d.Wb(2,"h3",2),d.Tc(3,"AUTH.EMAIL.TITLE"),d.Vb(),d.Wb(4,"div",1),d.Wb(5,"p",3),d.Tc(6," AUTH.EMAIL.DESCRIPTION "),d.Wb(7,"strong",4),d.Tc(8),d.Vb(),d.Vb(),d.Wb(9,"form",5),d.ic("ngSubmit",(function(t){return e.onSubmit()})),d.Rb(10,"j-sms-input",6,7),d.Wb(12,"div",8),d.Wb(13,"button",9),d.Tc(14,"SHARED.CONTINUE"),d.Vb(),d.Wb(15,"button",10),d.ic("click",(function(t){return e.openContactModal()})),d.Tc(16,"AUTH.EMAIL.NO_CODE_RECEIVED"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Rc(17,yt,1,5,"j-sms-error",11),d.Rc(18,At,1,5,"j-sms-error",11),d.Rc(19,It,1,5,"j-sms-error",12),d.Vb(),d.Rc(20,Ot,1,0,"j-animated-loading",13)),2&t&&(d.uc("ngIf",e.isReady),d.Ab(1),d.uc("hidden",!e.isReady),d.Ab(3),d.uc("hidden",e.currentTab!=e.authTabs.FORM),d.Ab(4),d.Uc(e.email),d.Ab(1),d.uc("formGroup",e.emailCodeForm),d.Ab(1),d.uc("autofocus",!0)("hasError",e.hasError)("errorText",e.errorText)("errorTranslateParams",e.errorParams)("formControl",e.f.emailCode),d.Ab(3),d.uc("jLoading",e.isLoading)("disabled",e.isLoading),d.Ab(4),d.uc("ngIf",e.currentTab==e.authTabs.FORBIDDEN),d.Ab(1),d.uc("ngIf",e.currentTab==e.authTabs.FORBIDDEN_BLOCKED),d.Ab(1),d.uc("ngIf",e.currentTab==e.authTabs.ERRORED),d.Ab(1),d.uc("ngIf",!e.isReady))},directives:[s.u,R.a,r.J,r.u,r.l,Et.a,r.t,r.i,I.a,W.a,ft.a,U.a],styles:[""]}),t})();var kt=i("kUBv");let Lt=(()=>{class t{constructor(t,e,i,s){this.auth=t,this.router=e,this.route=i,this.modalService=s,this.isLoading=!1,this.subs=new h.a;const n=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.iin?this.phone||this.navigateToPhone():this.navigateToIin()}),r=this.route.data.subscribe(t=>{this.authType=t.action});this.subs.add(n),this.subs.add(r)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.isLoading=!0;try{this.authType==v.a.RESTORE?yield this.auth.restore(this.phone,t.newPassword,this.iin):yield this.auth.register(this.phone,t.newPassword,this.iin),this.navigateToResult(t.newPassword)}catch(e){this.mapError(e)}finally{this.isLoading=!1}}))}mapError(t){return Object(c.a)(this,void 0,void 0,(function*(){switch(t.code){case b.b.RESOURCE_NOT_FOUND:case b.b.FORBIDDEN:case b.b.RESOURCE_EXISTS:this.navigateToPhoneNotMatch();break;case b.b.PHONE_TOKEN_EXPIRED:case b.b.TOKEN_EXPIRED:this.showExpiredModal();break;case b.b.INVALID_PHONE_FORMAT:case b.b.ARGUMENT_MISSING:this.navigateToPhone();break;default:this.errorText=t.description}}))}showExpiredModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(st,{centered:!0});try{yield t.result}catch(e){}finally{this.navigateToIin()}}))}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin||""}})}navigateToPhone(){this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin}})}navigateToResult(t){this.router.navigate(["result"],{relativeTo:this.route.parent,state:{phone:this.phone,password:t}})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(l.a),d.Qb(n.c),d.Qb(n.a),d.Qb($.q))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-password"]],decls:7,vars:2,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"my-4"],[3,"isLoading","errorText","submitted"]],template:function(t,e){1&t&&(d.Wb(0,"article"),d.Wb(1,"h3",0),d.Tc(2,"AUTH.PASSWORD.TITLE"),d.Vb(),d.Wb(3,"p",1),d.Tc(4,"AUTH.PASSWORD.DESCRIPTION"),d.Vb(),d.Wb(5,"div",2),d.Wb(6,"j-new-password",3),d.ic("submitted",(function(t){return e.onSubmit(t)})),d.Vb(),d.Vb(),d.Vb()),2&t&&(d.Ab(6),d.uc("isLoading",e.isLoading)("errorText",e.errorText))},directives:[R.a,kt.a],styles:[""]}),t})(),wt=(()=>{class t{constructor(t,e,i,s){this.route=t,this.router=e,this.auth=i,this.tokenService=s,this.isLoading=!1,this.authTypes=v.a,this.subs=new h.a;const n=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.password=t.password}),r=this.route.data.subscribe(t=>{this.authType=t.action});this.subs.add(n),this.subs.add(r)}ngOnDestroy(){this.subs.unsubscribe()}login(t){return Object(c.a)(this,void 0,void 0,(function*(){t.preventDefault(),this.isLoading=!0;try{const t=yield this.auth.requestDevice(this.phone,D.p.SMS);this.tokenService.setDeviceToken(t.signature,this.password),yield this.auth.login(this.phone,this.password),this.router.navigateByUrl("/")}catch(e){this.router.navigate(["/auth/login"],{state:{error:e.description||e}})}finally{this.isLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.a),d.Qb(n.c),d.Qb(l.a),d.Qb(p.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-result"]],decls:14,vars:3,consts:[[1,"auth-heading","light","mb-3","mt-0"],["translate",""],[1,"mb-4"],[1,"auth-submit"],["translate","",1,"btn","btn-static","btn-primary",3,"disabled","jLoading","click"]],template:function(t,e){1&t&&(d.Wb(0,"article"),d.Wb(1,"h3",0),d.Wb(2,"span",1),d.Tc(3,"SHARED.DONE"),d.Vb(),d.Tc(4,"! "),d.Vb(),d.Wb(5,"p",2),d.Wb(6,"span",1),d.Tc(7),d.Vb(),d.Rb(8,"br"),d.Wb(9,"span",1),d.Tc(10,"AUTH.RESULT.DESCRIPTION"),d.Vb(),d.Vb(),d.Vb(),d.Wb(11,"div",3),d.Wb(12,"button",4),d.ic("click",(function(t){return e.login(t)})),d.Tc(13,"AUTH.LOGIN"),d.Vb(),d.Vb()),2&t&&(d.Ab(7),d.Uc(e.authType==e.authTypes.REGISTER?"AUTH.RESULT.REGISTERED":"AUTH.RESULT.RESTORED"),d.Ab(5),d.uc("disabled",e.isLoading)("jLoading",e.isLoading))},directives:[R.a,I.a],styles:[""]}),t})(),Vt=(()=>{class t{constructor(t){this.navService=t,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-account",!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(rt.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-no-account"]],decls:13,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin","translate","",1,"btn","btn-static","btn-primary"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-link"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.BACK"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6,"AUTH.NO_ACCOUNT.TITLE"),d.Vb(),d.Rb(7,"p",4),d.nc(8,"translate"),d.Wb(9,"a",5),d.Tc(10,"AUTH.NO_ACCOUNT.LINK"),d.Vb(),d.Wb(11,"a",6),d.Tc(12,"AUTH.NO_ACCOUNT.CONTACTS"),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("isStroke",!0),d.Ab(6),d.uc("innerHTML",d.pc(8,2,"AUTH.NO_ACCOUNT.DESCRIPTION",e.translateParams),d.Jc))},directives:[n.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Nt=(()=>{class t{constructor(t){this.navService=t,this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-email",!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(rt.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-no-email"]],decls:11,vars:4,consts:[["routerLink","../phone",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.PHONE"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6,"AUTH.NO_EMAIL.TITLE"),d.Vb(),d.Rb(7,"p",4),d.nc(8,"translate"),d.Wb(9,"a",5),d.Tc(10,"AUTH.NO_EMAIL.LINK"),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("isStroke",!0),d.Ab(6),d.uc("innerHTML",d.oc(8,2,"AUTH.NO_EMAIL.DESCRIPTION"),d.Jc))},directives:[n.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Dt=(()=>{class t{constructor(t){this.navService=t,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("user-blocked",!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(rt.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-user-blocked"]],decls:9,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.IIN"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6,"AUTH.USER_BLOCKED.TITLE"),d.Vb(),d.Rb(7,"p",4),d.nc(8,"translate"),d.Vb()),2&t&&(d.Ab(1),d.uc("isStroke",!0),d.Ab(6),d.uc("innerHTML",d.pc(8,2,"AUTH.USER_BLOCKED.DESCRIPTION",e.translateParams),d.Jc))},directives:[n.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Pt=(()=>{class t{constructor(t,e,i){this.router=t,this.route=e,this.navService=i,this.subscription=new h.a,this.navService.triggerRegisterError("phone",!0),this.navService.triggerRegisterError("phone-not-match",!0),this.subscription.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.countryCode=t.countryCode}))}ngOnDestroy(){this.subscription.unsubscribe()}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.c),d.Qb(n.a),d.Qb(rt.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-phone-not-match"]],decls:11,vars:4,consts:[["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["href","#","translate","",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.ic("click",(function(t){return e.navigateToPhone(t)})),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.PHONE"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6,"AUTH.PHONE_NOT_MATCH.TITLE"),d.Vb(),d.Rb(7,"p",4),d.nc(8,"translate"),d.Wb(9,"a",5),d.ic("click",(function(t){return e.navigateToPhone(t)})),d.Tc(10,"AUTH.PHONE_NOT_MATCH.LINK"),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("isStroke",!0),d.Ab(6),d.uc("innerHTML",d.oc(8,2,"AUTH.PHONE_NOT_MATCH.DESCRIPTION"),d.Jc))},directives:[W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Wt=(()=>{class t{constructor(t){this.route=t,this.subscription=new h.a;const e=this.route.data.subscribe(t=>{this.authType=t.action}),i=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.error=t.error,this.iin=t.iin});this.subscription.add(i),this.subscription.add(e)}get description(){return this.authType===v.a.REGISTER?"AUTH.ERROR.DESCRIPTION_REGISTER":"AUTH.ERROR.DESCRIPTION_RESTORE"}get state(){return{iin:this.iin}}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(n.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-register-error"]],decls:12,vars:9,consts:[["routerLink","../iin",1,"j-link",3,"state"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin",1,"btn","btn-primary",3,"state"]],template:function(t,e){1&t&&(d.Wb(0,"a",0),d.Rb(1,"j-icon",1),d.Wb(2,"span",2),d.Tc(3,"SHARED.IIN"),d.Vb(),d.Vb(),d.Wb(4,"article"),d.Wb(5,"h3",3),d.Tc(6,"AUTH.ERROR.TITLE"),d.Vb(),d.Rb(7,"p",4),d.nc(8,"translate"),d.Wb(9,"a",5),d.Tc(10),d.nc(11,"translate"),d.Vb(),d.Vb()),2&t&&(d.uc("state",e.state),d.Ab(1),d.uc("isStroke",!0),d.Ab(6),d.uc("innerHTML",d.oc(8,5,e.description),d.Jc),d.Ab(2),d.uc("state",e.state),d.Ab(1),d.Vc(" ",d.oc(11,7,"SHARED.BACK")," "))},directives:[n.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})();const jt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:X},{path:"register",component:z,children:[{path:"",redirectTo:"iin"},{path:"iin",component:bt,data:{title:"AUTH.REGISTER_TITLE",action:v.a.REGISTER}},{path:"no-account",component:Vt},{path:"no-email",component:Nt},{path:"user-blocked",component:Dt},{path:"phone",component:lt,data:{title:"SHARED.PHONE",action:v.a.REGISTER}},{path:"sms",component:vt,data:{action:v.a.REGISTER}},{path:"phone-not-match",component:Pt},{path:"email",component:Ct},{path:"password",component:Lt,data:{action:v.a.REGISTER}},{path:"error",component:Wt,data:{action:v.a.REGISTER}},{path:"result",component:wt,data:{action:v.a.REGISTER}}]},{path:"restore",component:z,children:[{path:"",redirectTo:"iin"},{path:"iin",component:bt,data:{title:"AUTH.RESTORE",action:v.a.RESTORE}},{path:"no-account",component:Vt},{path:"no-email",component:Nt},{path:"user-blocked",component:Dt},{path:"phone",component:lt,data:{title:"SHARED.PHONE",action:v.a.RESTORE}},{path:"sms",component:vt,data:{action:v.a.RESTORE}},{path:"phone-not-match",component:Pt},{path:"email",component:Ct},{path:"password",component:Lt,data:{action:v.a.RESTORE}},{path:"error",component:Wt,data:{action:v.a.RESTORE}},{path:"result",component:wt,data:{action:v.a.RESTORE}}]}];let Ht=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(jt)],n.g]}),t})();i.d(e,"AuthModule",(function(){return Ut}));let Ut=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(e){return new(e||t)},providers:[{provide:o.b,useClass:o.b}],imports:[[s.c,Ht,r.n,n.g,r.D,a.a,o.c]]}),t})()}}]);